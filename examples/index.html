<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<link href="../build/popily.css" rel="stylesheet" />
<script src="../build/popily.js" ></script>
<script src="./api-responses.js" ></script>
</head>
<body>

<h1>Single chart</h1>

<div id="my-chart-01">asdasdasd</div>
<div id="my-chart-02"></div>
<div id="my-chart-04"></div>

<script >

(function() {
/*
var chartOptions = {
    dataDirectory: '/src/data',
    transformations: [{ 
      column: 'Voting Close Date',
      op: 'countUnique',
    }]
};
popily.chart.render('#my-chart-01', categoryDatetime, chartOptions);

var chart = popily.chart.create(categoryDatetime);
var ds = chart.dataset();

chart.draw('#my-chart-01', {
  title : true
});

setTimeout(function() {
  //ds.groupBy('Voting Close Date', popily.dataset.countUnique);
}, 1000)
*/

popily.api.setToken('04d3355451dc557066bca149de2b83f3746f9102');
popily.api.setURL('http://local.popily.com');

popily.chart.getAndRender('#my-chart-01', {
  //insight: 6596,
  
  source: 'all-data-types1',
  columns: ['category_1', 'number_1'],
  calculation: 'average',
  
  title: true,
  transformations: [
    {
      op: 'replace',
      column: 'category_1',
      replacements: {
        'Single' : 'replaced'
      }
    },
    {
      op: 'eq',
      column: 'category_1',
      values: ['Married', 'Divorced', 'replaced']
    },
    {
      op: 'lt',
      column: 'number_1',
      value: 12
    },
    
    
  ]
});

})();
</script>


</body>
</html>


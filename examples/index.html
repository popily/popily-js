<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<link href="../build/popily.css" rel="stylesheet" />
<script src="../build/popily.js" ></script>
<script src="../build/popily-geo.js" ></script>
<script src="./api-responses.js" ></script>
</head>
<body>

<h1>Single chart</h1>

<div id="my-chart-01" style="">asdasdasd</div>
<div id="my-chart-02"></div>
<div id="my-chart-03"></div>

<script >

(function() {

/*
var chartOptions = {
    transformations: [{ 
      column: 'Voting Close Date',
      op: 'countUnique',
    }],
    width: 400,
    height: 400
};
popily.chart.render('#my-chart-01', categoryDatetime, chartOptions);
popily.chart.render('#my-chart-02', categoryDatetime, chartOptions);
var chart = popily.chart.create(categoryDatetime);
var ds = chart.dataset();

chart.draw('#my-chart-01', {
  title : true
});

setTimeout(function() {
  //ds.groupBy('Voting Close Date', popily.dataset.countUnique);
}, 1000)
//*/

//popily.api.setToken('04d3355451dc557066bca149de2b83f3746f9102');
//popily.api.setURL('http://local.popily.com');
//*
popily.api.setToken('56ea1e35ebcf052737fa4096e5409ea8d9c1491f');
var insightOptions = {
  source: 'superstore-sales-csv-5',
  columns: ['Sales', 'Product Category'],
  calculation: 'sum',
  xPrefix: '%'
};
popily.chart.getAndRender('#my-chart-01', insightOptions);
//*/

//popily.api.getSource(2551, function(err, source) {console.log(source);});

//*/

/*
popily.chart.getAndRender('#my-chart-01', {
  insight: 6543,
  
  title: true,
  /*
  source: 'all-data-types1',
  columns: ['category_1', 'number_1'],
  calculation: 'average',
  
  transformations: [
    {
      op: 'replace',
      column: 'category_1',
      replacements: {
        'Single' : 'replaced'
      }
    },
    {
      op: 'eq',
      column: 'category_1',
      values: ['Married', 'Divorced', 'replaced']
    },
    {
      op: 'lt',
      column: 'number_1',
      value: 12
    },
  ]
  * /
});
//*/

/*
popily.api.setToken('04d3355451dc557066bca149de2b83f3746f9102');
popily.api.setURL('http://localhost:8000');
/*
var insightOptions = {
    source: 'example-csv',
    columns: ['Transation Date', 'First Donation','Employer'],
    title: true,
    calculations: [
      {
        column: 'First Donation',
        calculation: 'sum'
      }
    ]
};
popily.chart.getAndRender('#my-chart-02', insightOptions);
*/
/*
var insightOptions = {
    source: 'example-csv1913',
    columns: ['Second Donation','Transation Date','Employer','Occupation','State'],
    title: true,
    calculations: [
      {
        column: 'Second Donation',
        calculation: 'average'
      }
    ],
    transformations: [
      {
        column: 'Occupation',
        value: 'PHYSICIAN'
      },
      {
        column: 'State',
        value: 'CA'
      }
    ],
    timeInterval: 'week',
    chartBackgroundColor: '#555',
    cardBackgroundColor: '#555',
    chartFontColor: '#fff',
    titleFontColor: '#fff'
};
popily.chart.getAndRender('#my-chart-01', insightOptions);

*/

})();
</script>


</body>
</html>


<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<link href="../build/popily.css" rel="stylesheet" />
<script src="../build/popily.js" ></script>
<script src="../build/popily-geo.js" ></script>
<script src="./api-responses.js" ></script>
</head>
<body>

<h1>Single chart</h1>

<div id="my-chart-01" style="">asdasdasd</div>
<div id="my-chart-02"></div>
<div id="my-chart-03"></div>

<script >

(function() {

/*
var chartOptions = {
    transformations: [{ 
      column: 'Voting Close Date',
      op: 'countUnique',
    }],
    width: 400,
    height: 400
};
popily.chart.render('#my-chart-01', categoryDatetime, chartOptions);
popily.chart.render('#my-chart-02', categoryDatetime, chartOptions);
var chart = popily.chart.create(categoryDatetime);
var ds = chart.dataset();

chart.draw('#my-chart-01', {
  title : true
});

setTimeout(function() {
  //ds.groupBy('Voting Close Date', popily.dataset.countUnique);
}, 1000)
//*/

//popily.api.setToken('04d3355451dc557066bca149de2b83f3746f9102');
//popily.api.setURL('http://local.popily.com');

popily.api.setToken('360bf1df37ee048b8132dd42e22fe5b11eb479c1');
var insightOptions = {
    source: 'game-of-thrones-battles-csv-294',
    //columns: ['Battle', 'Size Of Attacking Army'],
    columns: ['Attacker'],
    calculation: 'count',
    chartType: 'bubble2',
    height: 400
};


popily.chart.getAndRender('#my-chart-01', insightOptions);

var insightOptions = {
    source: 'superstore-sales-csv-5',
    columns: ['Sales', 'Product Category'],
    calculation: 'average',
};
//popily.chart.getAndRender('#my-chart-02', insightOptions);

//popily.api.getSource(2551, function(err, source) {console.log(source);});

//*/

/*
popily.chart.getAndRender('#my-chart-01', {
  insight: 6543,
  
  title: true,
  /*
  source: 'all-data-types1',
  columns: ['category_1', 'number_1'],
  calculation: 'average',
  
  transformations: [
    {
      op: 'replace',
      column: 'category_1',
      replacements: {
        'Single' : 'replaced'
      }
    },
    {
      op: 'eq',
      column: 'category_1',
      values: ['Married', 'Divorced', 'replaced']
    },
    {
      op: 'lt',
      column: 'number_1',
      value: 12
    },
  ]
  * /
});
//*/

/*
popily.api.setToken('54450aa49c331d9245cccdf0a606ea5bf8478968');
popily.api.setURL('http://localhost:8000');

var insightOptions = {
    source: 'example-csv',
    columns: ['Transation Date', 'First Donation','Employer'],
    title: true,
    calculations: [
      {
        column: 'First Donation',
        calculation: 'sum'
      }
    ]
};
popily.chart.getAndRender('#my-chart-02', insightOptions);

*/
})();
</script>


</body>
</html>


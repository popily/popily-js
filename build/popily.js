!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function a(n){return n.length}function o(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function s(n){return(n+="")===xa||n[0]===ba?ba+n:n}function f(n){return(n+="")[0]===ba?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=_a.length;r>e;++e){var u=_a[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,u){var i,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,i=e.indexOf(a)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){oa.event.preventDefault()}function k(){for(var n,t=oa.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=oa.event;u.target=n,oa.event=u,t[u.type].apply(e,r)}finally{oa.event=i}}},t}function E(n){return Sa(n,Aa),n}function A(n){return"function"==typeof n?n:function(){return ka(n,this)}}function C(n){return"function"==typeof n?n:function(){return Na(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=oa.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?o:a:n.local?i:u}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+oa.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",L(u+" "+n))):e.setAttribute("class",L(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Ca&&t.documentElement.namespaceURI===Ca?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=oa.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return Ea(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],a=0,o=i.length;o>a;a++)(u=i[a])&&t(u,a,e);return n}function Z(n){return Sa(n,La),n}function V(n){var t,e;return function(r,u,i){var a,o=n[i].update,l=o.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(a=o[t])&&++t<l;);return a}}function X(n,t,e){function r(){var t=this[a];t&&(this.removeEventListener(n,t,t.$),delete this[a])}function u(){var u=l(t,ca(arguments));r.call(this),this.addEventListener(n,this[a]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+oa.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var a="__on"+n,o=n.indexOf("."),l=$;o>0&&(n=n.slice(0,o));var c=qa.get(n);return c&&(n=c,l=B),o?t?u:r:t?b:i}function $(n,t){return function(e){var r=oa.event;oa.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{oa.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Ra,u="click"+r,i=oa.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ta&&(Ta="onselectstart"in e?!1:x(e.style,"userSelect")),Ta){var a=n(e).style,o=a[Ta];a[Ta]="none"}return function(n){if(i.on(r,null),Ta&&(a[Ta]=o),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Da){var i=t(n);if(i.scrollX||i.scrollY){r=oa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Da=!(a.f||a.e),r.remove()}}return Da?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}function G(){return oa.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:-1>n?ja:Math.acos(n)}function tn(n){return n>1?Oa:-1>n?-Oa:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function an(n){return(n=Math.sin(n/2))*n}function on(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(a-i)*n/60:180>n?a:240>n?i+(a-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,a;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,a=.5>=e?e*(1+t):e+t-e*t,i=2*e-a,new yn(u(n+120),u(n),u(n-120))}function sn(n,t,e){return this instanceof sn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof sn?new sn(n.h,n.c,n.l):n instanceof hn?pn(n.l,n.a,n.b):pn((n=Sn((n=oa.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new sn(n,t,e)}function fn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Ia)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof sn?fn(n.h,n.c,n.l):Sn((n=yn(n)).r,n.g,n.b):new hn(n,t,e)}function gn(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=vn(u)*Qa,r=vn(r)*no,i=vn(i)*to,new yn(mn(3.2404542*u-1.5371385*r-.4985314*i),mn(-.969266*u+1.8760108*r+.041556*i),mn(.0556434*u-.2040259*r+1.0572252*i))}function pn(n,t,e){return n>0?new sn(Math.atan2(e,t)*Ya,Math.sqrt(t*t+e*e),n):new sn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function mn(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function yn(n,t,e){return this instanceof yn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof yn?new yn(n.r,n.g,n.b):_n(""+n,yn,cn):new yn(n,t,e)}function Mn(n){return new yn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,u,i,a=0,o=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(Nn(u[0]),Nn(u[1]),Nn(u[2]))}return(i=uo.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(a=(3840&i)>>4,a=a>>4|a,o=240&i,o=o>>4|o,l=15&i,l=l<<4|l):7===n.length&&(a=(16711680&i)>>16,o=(65280&i)>>8,l=255&i)),t(a,o,l))}function wn(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),a=Math.max(n,t,e),o=a-i,l=(a+i)/2;return o?(u=.5>l?o/(a+i):o/(2-a-i),r=n==a?(t-e)/o+(e>t?6:0):t==a?(e-n)/o+2:(n-t)/o+4,r*=60):(r=NaN,u=l>0&&1>l?0:r),new ln(r,u,l)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Qa),u=dn((.2126729*n+.7151522*t+.072175*e)/no),i=dn((.0193339*n+.119192*t+.9503041*e)/to);return hn(116*u-16,500*(r-u),200*(u-i))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function u(){var n,t=l.status;if(!t&&Ln(l)||t>=200&&300>t||304===t){try{n=e.call(i,l)}catch(r){return void a.error.call(i,r)}a.load.call(i,n)}else a.error.call(i,l)}var i={},a=oa.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=u:l.onreadystatechange=function(){l.readyState>3&&u()},l.onprogress=function(n){var t=oa.event;oa.event=n;try{a.progress.call(i,l)}finally{oa.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?o[n]:(null==t?delete o[n]:o[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(c=n,i):c},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ca(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),l.open(e,n,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var s in o)l.setRequestHeader(s,o[s]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},oa.rebind(i,a,"on"),null==r?i:i.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,n:null};return ao?ao.n=i:io=i,ao=i,oo||(lo=clearTimeout(lo),oo=1,co(Tn)),i}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(lo),lo=setTimeout(Tn,t)),oo=0):(oo=1,co(Tn))}function Rn(){for(var n=Date.now(),t=io;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=io,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:io=t.n;return ao=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Un(n,t){var e=Math.pow(10,3*Ma(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function jn(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],a=0,o=r[0],l=0;u>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),i.push(n.substring(u-=o,u+o)),!((l+=o+1)>t));)o=r[a=(a+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=fo.exec(n),r=e[1]||" ",a=e[2]||">",o=e[3]||"-",l=e[4]||"",c=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===l&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=ho.get(g)||Fn;var M=c&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===o?"":o;if(0>p){var l=oa.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!c&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===a?u+n+k:">"===a?k+u+n:"^"===a?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new po(e-1)),1),e}function i(n,e){return t(n=new po(+n),e),n}function a(n,r,i){var a=u(n),o=[];if(i>1)for(;r>a;)e(a)%i||o.push(new Date(+a)),t(a,1);else for(;r>a;)o.push(new Date(+a)),t(a,1);return o}function o(n,t,e){try{po=Hn;var r=new Hn;return r._=n,a(r,t,e)}finally{po=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=a;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(u),l.offset=In(i),l.range=o,n}function In(n){return function(t,e){try{po=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{po=Date}}}function Yn(n){function t(n){function t(t){for(var e,u,i,a=[],o=-1,l=0;++o<r;)37===n.charCodeAt(o)&&(a.push(n.slice(l,o)),null!=(u=mo[e=n.charAt(++o)])&&(e=n.charAt(++o)),(i=A[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),a.push(e),l=o+1);return a.push(n.slice(l,o)),a.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&po!==Hn,a=new(i?Hn:po);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,a,o=0,l=t.length,c=e.length;l>o;){if(r>=c)return-1;if(u=t.charCodeAt(o++),37===u){if(a=t.charAt(o++),i=C[a in mo?t.charAt(o++):a],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{po=Hn;var t=new po;return t._=n,r(t)}finally{po=Date}}var r=t(n);return e.parse=function(n){try{po=Hn;var t=r.parse(n);return t&&t._}finally{po=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=oa.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),S=Vn(m),k=Xn(m),N=Vn(y),E=Xn(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+go.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(go.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(go.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:ot,"%":function(){return"%"}},C={a:r,A:u,b:i,B:a,c:o,d:tt,e:tt,H:rt,I:rt,j:et,L:at,m:nt,M:ut,p:s,S:it,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Vn(n){return new RegExp("^(?:"+n.map(oa.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ut(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function it(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function at(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ot(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=Ma(t)/60|0,u=Ma(t)%60;return e+Zn(r,"0",2)+Zn(u,"0",2)}function lt(n,t,e){Mo.lastIndex=0;var r=Mo.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function st(){}function ft(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function ht(n,t){n&&wo.hasOwnProperty(n.type)&&wo[n.type](n,t)}function gt(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function pt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)gt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Ia,t=t*Ia/2+ja/4;var e=n-r,a=e>=0?1:-1,o=a*e,l=Math.cos(t),c=Math.sin(t),s=i*c,f=u*l+s*Math.cos(o),h=s*a*Math.sin(o);ko.add(Math.atan2(h,f)),r=n,u=l,i=c}var t,e,r,u,i;No.point=function(a,o){No.point=n,r=(t=a)*Ia,u=Math.cos(o=(e=o)*Ia/2+ja/4),i=Math.sin(o)},No.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function mt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return Ma(n[0]-t[0])<Pa&&Ma(n[1]-t[1])<Pa}function St(n,t){n*=Ia;var e=Math.cos(t*=Ia);kt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function kt(n,t,e){++Eo,Co+=(n-Co)/Eo,zo+=(t-zo)/Eo,Lo+=(e-Lo)/Eo}function Nt(){function n(n,u){n*=Ia;var i=Math.cos(u*=Ia),a=i*Math.cos(n),o=i*Math.sin(n),l=Math.sin(u),c=Math.atan2(Math.sqrt((c=e*l-r*o)*c+(c=r*a-t*l)*c+(c=t*o-e*a)*c),t*a+e*o+r*l);Ao+=c,qo+=c*(t+(t=a)),To+=c*(e+(e=o)),Ro+=c*(r+(r=l)),kt(t,e,r)}var t,e,r;jo.point=function(u,i){u*=Ia;var a=Math.cos(i*=Ia);t=a*Math.cos(u),e=a*Math.sin(u),r=Math.sin(i),jo.point=n,kt(t,e,r)}}function Et(){jo.point=St}function At(){function n(n,t){n*=Ia;var e=Math.cos(t*=Ia),a=e*Math.cos(n),o=e*Math.sin(n),l=Math.sin(t),c=u*l-i*o,s=i*a-r*l,f=r*o-u*a,h=Math.sqrt(c*c+s*s+f*f),g=r*a+u*o+i*l,p=h&&-nn(g)/h,v=Math.atan2(h,g);Do+=p*c,Po+=p*s,Uo+=p*f,Ao+=v,qo+=v*(r+(r=a)),To+=v*(u+(u=o)),Ro+=v*(i+(i=l)),kt(r,u,i)}var t,e,r,u,i;jo.point=function(a,o){t=a,e=o,jo.point=n,a*=Ia;var l=Math.cos(o*=Ia);r=l*Math.cos(a),u=l*Math.sin(a),i=Math.sin(o),kt(r,u,i)},jo.lineEnd=function(){n(t,e),jo.lineEnd=Et,jo.point=St}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,u){var i=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){u.lineStart();for(var o=0;t>o;++o)u.point((e=n[o])[0],e[1]);return void u.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,i.push(l),a.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,i.push(l),a.push(c)}}),a.sort(t),qt(i),qt(a),i.length){for(var o=0,l=e,c=a.length;c>o;++o)a[o].e=l=!l;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var o=0,c=s.length;c>o;++o)u.point((f=s[o])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var o=s.length-1;o>=0;--o)u.point((f=s[o])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(u,i){function a(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function o(n,t){var e=u(n,t);d.point(e[0],e[1])}function l(){y.point=o,d.lineStart()}function c(){y.point=a,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,a=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++a<r;)i.point((u=n[a])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Dt))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:c,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=c,g=oa.merge(g);var n=Ot(m,p);g.length?(b||(i.polygonStart(),b=!0),Lt(g,Ut,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Pt(),x=t(M),b=!1;return y}}function Dt(n){return n.length>1}function Pt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(n,t){return((n=n.x)[0]<0?n[1]-Oa-Pa:Oa-n[1])-((t=t.x)[0]<0?t[1]-Oa-Pa:Oa-t[1])}function jt(n){var t,e=NaN,r=NaN,u=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var o=i>0?ja:-ja,l=Ma(i-e);Ma(l-ja)<Pa?(n.point(e,r=(r+a)/2>0?Oa:-Oa),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(o,r),n.point(i,r),t=0):u!==o&&l>=ja&&(Ma(e-u)<Pa&&(e-=u*Pa),Ma(i-o)<Pa&&(i-=o*Pa),r=Ft(e,r,i,a),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(o,r),t=0),n.point(e=i,r=a),u=o},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ft(n,t,e,r){var u,i,a=Math.sin(n-e);return Ma(a)>Pa?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*a)):(t+r)/2}function Ht(n,t,e,r){var u;if(null==n)u=e*Oa,r.point(-ja,u),r.point(0,u),r.point(ja,u),r.point(ja,0),r.point(ja,-u),r.point(0,-u),r.point(-ja,-u),r.point(-ja,0),r.point(-ja,u);else if(Ma(n[0]-t[0])>Pa){var i=n[0]<t[0]?ja:-ja;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,a=0;ko.reset();for(var o=0,l=t.length;l>o;++o){var c=t[o],s=c.length;if(s)for(var f=c[0],h=f[0],g=f[1]/2+ja/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=c[d];var m=n[0],y=n[1]/2+ja/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>ja,k=p*M;if(ko.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*Fa:b,S^h>=e^m>=e){var N=yt(dt(f),dt(n));bt(N);var E=yt(u,N);bt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(a+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Pa>i||Pa>i&&0>ko)^1&a}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=a?v?0:u(f,h):v?u(f+(0>f?ja:-ja),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(g=r(e,p),(wt(e,g)||wt(p,g))&&(p[0]+=Pa,p[1]+=Pa,v=t(p[0],p[1]))),v!==l)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(o&&e&&a^v){var m;d&i||!(m=r(p,e,!0))||(s=0,a?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&wt(e,p)||n.point(p[0],p[1]),e=p,l=v,i=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return s|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),u=dt(t),a=[1,0,0],o=yt(r,u),l=mt(o,o),c=o[0],s=l-c*c;if(!s)return!e&&n;var f=i*l/s,h=-i*c/s,g=yt(a,o),p=xt(a,f),v=xt(o,h);Mt(p,v);var d=g,m=mt(p,d),y=mt(d,d),M=m*m-y*(mt(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=xt(d,(-m-x)/y);if(Mt(b,p),b=_t(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];w>S&&(_=w,w=S,S=_);var E=S-w,A=Ma(E-ja)<Pa,C=A||Pa>E;if(!A&&k>N&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(Ma(b[0]-w)<Pa?k:N):k<=b[1]&&b[1]<=N:E>ja^(w<=b[0]&&b[0]<=S)){var z=xt(d,(-m+x)/y);return Mt(z,p),[b,_t(z)]}}}function u(t,e){var r=a?n:ja-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),a=i>0,o=Ma(i)>Pa,l=ve(n,6*Ia);return Rt(t,e,l,a?[0,-n]:[-ja,n-ja])}function Yt(n,t,e,r){return function(u){var i,a=u.a,o=u.b,l=a.x,c=a.y,s=o.x,f=o.y,h=0,g=1,p=s-l,v=f-c;if(i=n-l,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-l,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-c,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-c,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:l+h*p,y:c+h*v}),1>g&&(u.b={x:l+g*p,y:c+g*v}),u}}}}}}function Zt(n,t,e,r){function u(r,u){return Ma(r[0]-n)<Pa?u>0?0:3:Ma(r[0]-e)<Pa?u>0?2:1:Ma(r[1]-t)<Pa?u>0?1:0:u>0?3:2}function i(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(o){function l(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,a=1,o=d[u],l=o.length,c=o[0];l>a;++a)i=o[a],c[1]<=r?i[1]>r&&Q(c,i,n)>0&&++t:i[1]<=r&&Q(c,i,n)<0&&--t,c=i;return 0!==t}function c(i,o,l,c){var s=0,f=0;if(null==i||(s=u(i,l))!==(f=u(o,l))||a(i,o)<0^l>0){do c.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+l+4)%4)!==f)}else c.point(o[0],o[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&o.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=NaN}function g(){v&&(p(y,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=f,w&&o.lineEnd()}function p(n,t){n=Math.max(-Ho,Math.min(Ho,n)),t=Math.max(-Ho,Math.min(Ho,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(o.lineStart(),o.point(n,t));else if(e&&w)o.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(o.lineStart(),o.point(r.a.x,r.a.y)),o.point(r.b.x,r.b.y),e||o.lineEnd(),k=!1):e&&(o.lineStart(),o.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,N=o,E=Pt(),A=Yt(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){o=E,v=[],d=[],k=!0},polygonEnd:function(){o=N,v=oa.merge(v);var t=l([n,r]),e=k&&t,u=v.length;(e||u)&&(o.polygonStart(),e&&(o.lineStart(),c(null,null,1,o),o.lineEnd()),u&&Lt(v,i,t,c,o),o.polygonEnd()),v=d=m=null}};return C}}function Vt(n){var t=0,e=ja/3,r=oe(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*ja/180,e=n[1]*ja/180):[t/ja*180,e/ja*180]},u}function Xt(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),a-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),a=Math.sqrt(i)/u;return e.invert=function(n,t){var e=a-t;return[Math.atan2(n,e)/u,tn((i-(n*n+e*e)*u*u)/(2*u))]},e}function $t(){function n(n,t){Io+=u*n-r*t,r=n,u=t}var t,e,r,u;$o.point=function(i,a){$o.point=n,t=r=i,e=u=a},$o.lineEnd=function(){n(t,e)}}function Bt(n,t){Yo>n&&(Yo=n),n>Vo&&(Vo=n),Zo>t&&(Zo=t),t>Xo&&(Xo=t)}function Wt(){function n(n,t){a.push("M",n,",",t,i)}function t(n,t){a.push("M",n,",",t),o.point=e}function e(n,t){a.push("L",n,",",t)}function r(){o.point=n}function u(){a.push("Z")}var i=Jt(4.5),a=[],o={point:n,lineStart:function(){o.point=t},lineEnd:r,polygonStart:function(){o.lineEnd=u},polygonEnd:function(){o.lineEnd=r,o.point=n},pointRadius:function(n){return i=Jt(n),o},result:function(){if(a.length){var n=a.join("");return a=[],n}}};return o}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Co+=n,zo+=t,++Lo}function Kt(){function n(n,r){var u=n-t,i=r-e,a=Math.sqrt(u*u+i*i);qo+=a*(t+n)/2,To+=a*(e+r)/2,Ro+=a,Gt(t=n,e=r)}var t,e;Wo.point=function(r,u){Wo.point=n,Gt(t=r,e=u)}}function Qt(){Wo.point=Gt}function ne(){function n(n,t){var e=n-r,i=t-u,a=Math.sqrt(e*e+i*i);qo+=a*(r+n)/2,To+=a*(u+t)/2,Ro+=a,a=u*n-r*t,Do+=a*(r+n),Po+=a*(u+t),Uo+=3*a,Gt(r=n,u=t)}var t,e,r,u;Wo.point=function(i,a){Wo.point=n,Gt(t=r=i,e=u=a)},Wo.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,Fa)}function e(t,e){n.moveTo(t,e),o.point=r}function r(t,e){n.lineTo(t,e)}function u(){o.point=t}function i(){n.closePath()}var a=4.5,o={point:t,lineStart:function(){o.point=e},lineEnd:u,polygonStart:function(){o.lineEnd=i},polygonEnd:function(){o.lineEnd=u,o.point=t},pointRadius:function(n){return a=n,o},result:b};return o}function ee(n){function t(n){return(o?r:e)(n)}function e(t){return ie(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=i,t.lineStart()}function i(e,r){var i=dt([e,r]),a=n(e,r);u(M,x,y,b,_,w,M=a[0],x=a[1],y=e,b=i[0],_=i[1],w=i[2],o,t),t.point(M,x)}function a(){S.point=e,t.lineEnd()}function l(){
r(),S.point=c,S.lineEnd=s}function c(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,o,t),S.lineEnd=a,a()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,o,l,c,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=o+g,_=l+p,w=c+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=Ma(Ma(w)-1)<Pa||Ma(r-h)<Pa?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-y*L;(q*q/x>i||Ma((y*z+M*L)/x-.5)>.3||a>o*g+l*p+c*v)&&(u(t,e,r,o,l,c,A,C,N,b/=S,_/=S,w,d,m),m.point(A,C),u(A,C,N,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,a=Math.cos(30*Ia),o=16;return t.precision=function(n){return arguments.length?(o=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function re(n){var t=ee(function(t,e){return n([t*Ya,e*Ya])});return function(n){return le(t(n))}}function ue(n){this.stream=n}function ie(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ae(n){return oe(function(){return n})()}function oe(n){function t(n){return n=o(n[0]*Ia,n[1]*Ia),[n[0]*h+l,c-n[1]*h]}function e(n){return n=o.invert((n[0]-l)/h,(c-n[1])/h),n&&[n[0]*Ya,n[1]*Ya]}function r(){o=Ct(a=fe(m,M,x),i);var n=i(v,d);return l=g-n[0]*h,c=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,a,o,l,c,s,f=ee(function(n,t){return n=i(n,t),[n[0]*h+l,c-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Fo,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=le(b(a,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Fo):It((w=+n)*Ia),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Ia,d=n[1]%360*Ia,r()):[v*Ya,d*Ya]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Ia,M=n[1]%360*Ia,x=n.length>2?n[2]%360*Ia:0,r()):[m*Ya,M*Ya,x*Ya]},oa.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function le(n){return ie(n,function(t,e){n.point(t*Ia,e*Ia)})}function ce(n,t){return[n,t]}function se(n,t){return[n>ja?n-Fa:-ja>n?n+Fa:n,t]}function fe(n,t,e){return n?t||e?Ct(ge(n),pe(t,e)):ge(n):t||e?pe(t,e):se}function he(n){return function(t,e){return t+=n,[t>ja?t-Fa:-ja>t?t+Fa:t,e]}}function ge(n){var t=he(n);return t.invert=he(-n),t}function pe(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*r+o*u;return[Math.atan2(l*i-s*a,o*r-c*u),tn(s*i+l*a)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),a=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*i-l*a;return[Math.atan2(l*i+c*a,o*r+s*u),tn(s*r-o*u)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,a,o){var l=a*t;null!=u?(u=de(e,u),i=de(e,i),(a>0?i>u:u>i)&&(u+=a*Fa)):(u=n+a*Fa,i=n-.5*l);for(var c,s=u;a>0?s>i:i>s;s-=l)o.point((c=_t([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Pa)%(2*Math.PI)}function me(n,t,e){var r=oa.range(n,t-Pa,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ye(n,t,e){var r=oa.range(n,t-Pa,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),a=Math.cos(r),o=Math.sin(r),l=u*Math.cos(n),c=u*Math.sin(n),s=a*Math.cos(e),f=a*Math.sin(e),h=2*Math.asin(Math.sqrt(an(r-t)+u*a*an(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*l+t*s,u=e*c+t*f,a=e*i+t*o;return[Math.atan2(u,r)*Ya,Math.atan2(a,Math.sqrt(r*r+u*u))*Ya]}:function(){return[n*Ya,t*Ya]};return p.distance=h,p}function _e(){function n(n,u){var i=Math.sin(u*=Ia),a=Math.cos(u),o=Ma((n*=Ia)-t),l=Math.cos(o);Jo+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=r*i-e*a*l)*o),e*i+r*a*l),t=n,e=i,r=a}var t,e,r;Go.point=function(u,i){t=u*Ia,e=Math.sin(i*=Ia),r=Math.cos(i),Go.point=n},Go.lineEnd=function(){Go.point=Go.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),a=Math.cos(u);return[Math.atan2(n*i,r*a),Math.asin(r&&e*i/r)]},e}function Se(n,t){function e(n,t){a>0?-Oa+Pa>t&&(t=-Oa+Pa):t>Oa-Pa&&(t=Oa-Pa);var e=a/Math.pow(u(t),i);return[e*Math.sin(i*n),a-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(ja/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),a=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=a-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(a/r,1/i))-Oa]},e):Ne}function ke(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return Ma(u)<Pa?ce:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(ja/4+t/2))]}function Ee(n){var t,e=ae(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var a=i.apply(e,arguments);if(a===e){if(t=null==n){var o=ja*r(),l=u();i([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(a=null);return a},e.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(ja/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var u=n[0],i=e[0],a=t[0]-u,o=r[0]-i,l=n[1],c=e[1],s=t[1]-l,f=r[1]-c,h=(o*(l-c)-f*(u-i))/(f*a-o*s);return[u+h*a,l+h*s]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function Ue(n){var t=cl.pop()||new Pe;return t.site=n,t}function je(n){Be(n),al.remove(n),cl.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,a=n.N,o=[n];je(n);for(var l=i;l.circle&&Ma(e-l.circle.x)<Pa&&Ma(r-l.circle.cy)<Pa;)i=l.P,o.unshift(l),je(l),l=i;o.unshift(l),Be(l);for(var c=a;c.circle&&Ma(e-c.circle.x)<Pa&&Ma(r-c.circle.cy)<Pa;)a=c.N,o.push(c),je(c),c=a;o.push(c),Be(c);var s,f=o.length;for(s=1;f>s;++s)c=o[s],l=o[s-1],nr(c.edge,l.site,c.site,u);l=o[0],c=o[f-1],c.edge=Ke(l.site,c.site,null,u),$e(l),$e(c)}function He(n){for(var t,e,r,u,i=n.x,a=n.y,o=al._;o;)if(r=Oe(o,a)-i,r>Pa)o=o.L;else{if(u=i-Ie(o,a),!(u>Pa)){r>-Pa?(t=o.P,e=o):u>-Pa?(t=o,e=o.N):t=e=o;break}if(!o.R){t=o;break}o=o.R}var l=Ue(n);if(al.insert(t,l),t||e){if(t===e)return Be(t),e=Ue(t.site),al.insert(l,e),l.edge=e.edge=Ke(t.site,l.site),$e(t),void $e(e);if(!e)return void(l.edge=Ke(t.site,l.site));Be(t),Be(e);var c=t.site,s=c.x,f=c.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};nr(e.edge,c,p,x),l.edge=Ke(c,n,null,x),e.edge=Ke(n,p,null,x),$e(t),$e(e)}}function Oe(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var a=n.P;if(!a)return-(1/0);e=a.site;var o=e.x,l=e.y,c=l-t;if(!c)return o;var s=o-r,f=1/i-1/c,h=s/c;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*c)-l+c/2+u-i/2)))/f+r:(r+o)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t,e,r,u,i,a,o,l,c,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=il,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(o=i.edges,l=o.length,a=0;l>a;)s=o[a].end(),r=s.x,u=s.y,c=o[++a%l].start(),t=c.x,e=c.y,(Ma(r-t)>Pa||Ma(u-e)>Pa)&&(o.splice(a,0,new tr(Qe(i.site,s,Ma(r-f)<Pa&&p-u>Pa?{x:f,y:Ma(t-f)<Pa?e:p}:Ma(u-p)<Pa&&h-r>Pa?{x:Ma(e-p)<Pa?t:h,y:p}:Ma(r-h)<Pa&&u-g>Pa?{x:h,y:Ma(t-h)<Pa?e:g}:Ma(u-g)<Pa&&r-f>Pa?{x:Ma(e-g)<Pa?t:f,y:g}:null),i.site,null)),++l)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var a=u.x,o=u.y,l=r.x-a,c=r.y-o,s=i.x-a,f=i.y-o,h=2*(l*f-c*s);if(!(h>=-Ua)){var g=l*l+c*c,p=s*s+f*f,v=(f*g-c*p)/h,d=(l*p-s*g)/h,f=d+o,m=sl.pop()||new Xe;m.arc=n,m.site=u,m.x=v+a,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=ll._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}ll.insert(y,m),y||(ol=m)}}}}function Be(n){var t=n.circle;t&&(t.P||(ol=t.N),ll.remove(t),sl.push(t),rr(t),n.circle=null)}function We(n){for(var t,e=ul,r=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Je(t,n)||!r(t)||Ma(t.a.x-t.b.x)<Pa&&Ma(t.a.y-t.b.y)<Pa)&&(t.a=t.b=null,e.splice(u,1))}function Je(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,a=t[0][0],o=t[1][0],l=t[0][1],c=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(a>d||d>=o)return;if(h>p){if(i){if(i.y>=c)return}else i={x:d,y:l};e={x:d,y:c}}else{if(i){if(i.y<l)return}else i={x:d,y:c};e={x:d,y:l}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else{if(i){if(i.y<l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else if(v>g){if(i){if(i.x>=o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}else{if(i){if(i.x<a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}return n.a=i,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var u=new Ge(n,t);return ul.push(u),e&&nr(u,n,t,e),r&&nr(u,t,n,r),il[n.i].edges.push(new tr(u,n,t)),il[t.i].edges.push(new tr(u,t,n)),u}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,ul.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ur(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ir(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ar(n){for(;n.L;)n=n.L;return n}function or(n,t){var e,r,u,i=n.sort(lr).pop();for(ul=[],il=new Array(n.length),al=new er,ll=new er;;)if(u=ol,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(il[i.i]=new Ye(i),He(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Fe(u.arc)}t&&(We(t),Ze(t));var a={cells:il,edges:ul};return al=ll=ul=il=null,a}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function sr(n){return n.x}function fr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var a=.5*(e+u),o=.5*(r+i),l=t.nodes;l[0]&&gr(n,l[0],e,r,a,o),l[1]&&gr(n,l[1],a,r,u,o),l[2]&&gr(n,l[2],e,o,a,i),l[3]&&gr(n,l[3],a,o,u,i)}}function pr(n,t,e,r,u,i,a){var o,l=1/0;return function c(n,s,f,h,g){if(!(s>i||f>a||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(l>m){var y=Math.sqrt(l=m);r=t-y,u=e-y,i=t+y,a=e+y,o=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:c(n,s,f,x,b);break;case 1:c(n,x,f,h,b);break;case 2:c(n,s,b,x,g);break;case 3:c(n,x,b,h,g)}}}(n,r,u,i,a),o}function vr(n,t){n=oa.rgb(n),t=oa.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,a=t.g-r,o=t.b-u;return function(n){return"#"+bn(Math.round(e+i*n))+bn(Math.round(r+a*n))+bn(Math.round(u+o*n))}}function dr(n,t){var e,r={},u={};for(e in n)e in t?r[e]=Mr(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function mr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function yr(n,t){var e,r,u,i=hl.lastIndex=gl.lastIndex=0,a=-1,o=[],l=[];for(n+="",t+="";(e=hl.exec(n))&&(r=gl.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),o[a]?o[a]+=u:o[++a]=u),(e=e[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:mr(e,r)})),i=gl.lastIndex;return i<t.length&&(u=t.slice(i),o[a]?o[a]+=u:o[++a]=u),o.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;t>r;++r)o[(e=l[r]).i]=e.x(n);return o.join("")})}function Mr(n,t){for(var e,r=oa.interpolators.length;--r>=0&&!(e=oa.interpolators[r](n,t)););return e}function xr(n,t){var e,r=[],u=[],i=n.length,a=t.length,o=Math.min(n.length,t.length);for(e=0;o>e;++e)r.push(Mr(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;a>e;++e)u[e]=t[e];return function(n){for(e=0;o>e;++e)u[e]=r[e](n);return u}}function br(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function Sr(n){return n*n}function kr(n){return n*n*n}function Nr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Oa)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/Fa*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Fa/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=oa.hcl(n),t=oa.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,a=t.c-r,o=t.l-u;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return fn(e+i*n,r+a*n,u+o*n)+""}}function Dr(n,t){n=oa.hsl(n),t=oa.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,a=t.s-r,o=t.l-u;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return cn(e+i*n,r+a*n,u+o*n)+""}}function Pr(n,t){n=oa.lab(n),t=oa.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,a=t.a-r,o=t.b-u;return function(n){return gn(e+i*n,r+a*n,u+o*n)+""}}function Ur(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function jr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),u=Fr(t,e),i=Hr(Or(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ya,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ya:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push("translate(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:mr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:mr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=oa.transform(n),t=oa.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t,u=-1,i=r.length;++u<i;)e[(t=r[u]).i]=t.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),u=e.pop(),i=r.pop(),a=null;u===i;)a=u,u=e.pop(),i=r.pop();return a}function Qr(n){n.fixed|=2}function nu(n){n.fixed&=-7}function tu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function eu(n){n.fixed&=-5}function ru(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,a=n.nodes,o=a.length,l=-1;++l<o;)i=a[l],null!=i&&(ru(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,u+=c*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function uu(n,t){return oa.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=su,n}function iu(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function au(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,a=-1;++a<u;)e.push(i[a]);for(;null!=(n=r.pop());)t(n)}function ou(n){return n.children}function lu(n){return n.value}function cu(n,t){return t.value-n.value}function su(n){return oa.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function fu(n){return n.x}function hu(n){return n.y}function gu(n,t,e){n.y0=t,n.y=e}function pu(n){return oa.range(n.length)}function vu(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function du(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function mu(n){return n.reduce(yu,0)}function yu(n,t){return n+t[1]}function Mu(n,t){return xu(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xu(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function bu(n){return[oa.min(n),oa.max(n)]}function _u(n,t){return n.value-t.value}function wu(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Su(n,t){n._pack_next=t,t._pack_prev=n}function ku(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Nu(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(c=e.length)){var e,r,u,i,a,o,l,c,s=1/0,f=-(1/0),h=1/0,g=-(1/0);if(e.forEach(Eu),r=e[0],r.x=-r.r,r.y=0,t(r),c>1&&(u=e[1],u.x=u.r,u.y=0,t(u),c>2))for(i=e[2],zu(r,u,i),t(i),wu(r,i),r._pack_prev=i,wu(i,u),u=r._pack_next,a=3;c>a;a++){zu(r,u,i=e[a]);var p=0,v=1,d=1;for(o=u._pack_next;o!==u;o=o._pack_next,v++)if(ku(o,i)){p=1;break}if(1==p)for(l=r._pack_prev;l!==o._pack_prev&&!ku(l,i);l=l._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?Su(r,u=o):Su(r=l,u),a--):(wu(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(a=0;c>a;a++)i=e[a],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(Au)}}function Eu(n){n._pack_next=n._pack_prev=n}function Au(n){delete n._pack_next,delete n._pack_prev}function Cu(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,a=u.length;++i<a;)Cu(u[i],t,e,r)}function zu(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var a=t.r+e.r,o=u*u+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*o),c=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=n.x+l*u+c*i,e.y=n.y+l*i-c*u}else e.x=n.x+r,e.y=n.y}function Lu(n,t){return n.parent==t.parent?1:2}function qu(n){var t=n.children;return t.length?t[0]:n.t}function Tu(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ru(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Du(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Pu(n,t,e){return n.a.parent===t.parent?n.a:e}function Uu(n){return 1+oa.max(n,function(n){return n.y})}function ju(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fu(n){var t=n.children;return t&&t.length?Fu(t[0]):n}function Hu(n){var t,e=n.children;return e&&(t=e.length)?Hu(e[t-1]):n}function Ou(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Iu(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Yu(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Zu(n){return n.rangeExtent?n.rangeExtent():Yu(n.range())}function Vu(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Xu(n,t){var e,r=0,u=n.length-1,i=n[r],a=n[u];return i>a&&(e=r,r=u,u=e,e=i,i=a,a=e),n[r]=t.floor(i),n[u]=t.ceil(a),n}function $u(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:Sl}function Bu(n,t,e,r){var u=[],i=[],a=0,o=Math.min(n.length,t.length)-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=o;)u.push(e(n[a-1],n[a])),i.push(r(t[a-1],t[a]));return function(t){var e=oa.bisect(n,t,1,o)-1;return i[e](u[e](t))}}function Wu(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Bu:Vu,l=r?Wr:Br;return a=u(n,t,l,e),o=u(t,n,l,Mr),i}function i(n){return a(n)}var a,o;return i.invert=function(n){return o(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Ur)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Qu(n,t)},i.tickFormat=function(t,e){return ni(n,t,e)},i.nice=function(t){return Gu(n,t),u()},i.copy=function(){return Wu(n,t,e,r)},u()}function Ju(n,t){return oa.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gu(n,t){return Xu(n,$u(Ku(n,t)[2])),Xu(n,$u(Ku(n,t)[2])),n}function Ku(n,t){null==t&&(t=10);var e=Yu(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Qu(n,t){return oa.range.apply(oa,Ku(n,t))}function ni(n,t,e){var r=Ku(n,t);if(e){var u=fo.exec(e);if(u.shift(),"s"===u[8]){var i=oa.formatPrefix(Math.max(Ma(r[0]),Ma(r[1])));return u[7]||(u[7]="."+ti(i.scale(r[2]))),u[8]="f",e=oa.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+ei(u[8],r)),e=u.join("")}else e=",."+ti(r[2])+"f";return oa.format(e)}function ti(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ei(n,t){var e=ti(t[2]);return n in kl?Math.abs(e-ti(Math.max(Ma(t[0]),Ma(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ri(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function a(t){return n(u(t))}return a.invert=function(t){return i(n.invert(t))},a.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),a):r},a.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),a):t},a.nice=function(){var t=Xu(r.map(u),e?Math:El);return n.domain(t),r=t.map(i),a},a.ticks=function(){var n=Yu(r),a=[],o=n[0],l=n[1],c=Math.floor(u(o)),s=Math.ceil(u(l)),f=t%1?2:t;if(isFinite(s-c)){if(e){for(;s>c;c++)for(var h=1;f>h;h++)a.push(i(c)*h);a.push(i(c))}else for(a.push(i(c));c++<s;)for(var h=f-1;h>0;h--)a.push(i(c)*h);for(c=0;a[c]<o;c++);for(s=a.length;a[s-1]>l;s--);a=a.slice(c,s)}return a},a.tickFormat=function(n,e){if(!arguments.length)return Nl;arguments.length<2?e=Nl:"function"!=typeof e&&(e=oa.format(e));var r=Math.max(1,t*n/a.ticks().length);return function(n){var a=n/i(Math.round(u(n)));return t-.5>a*t&&(a*=t),r>=a?e(n):""}},a.copy=function(){return ri(n.copy(),t,e,r)},Ju(a,n)}function ui(n,t,e){function r(t){return n(u(t))}var u=ii(t),i=ii(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Qu(e,n)},r.tickFormat=function(n,t){return ni(e,n,t)},r.nice=function(n){return r.domain(Gu(e,n))},r.exponent=function(a){return arguments.length?(u=ii(t=a),i=ii(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return ui(n.copy(),t,e)},Ju(r,n)}function ii(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function ai(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):NaN))-1)%i.length]}function r(t,e){return oa.range(n.length).map(function(n){return t+e*n})}var u,i,a;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new c;for(var i,a=-1,o=r.length;++a<o;)u.has(i=r[a])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,a=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,o){arguments.length<2&&(o=0);var l=u[0],c=u[1],s=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+o);return i=r(l+s*o/2,s),a=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,o){arguments.length<2&&(o=0);var l=u[0],c=u[1],s=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+o)|0;return i=r(l+Math.round(s*o/2+(c-l-(n.length-1+o)*s)/2),s),a=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=(f-s)/(n.length-o+2*l);return i=r(s+h*l,h),c&&i.reverse(),a=h*(1-o),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=Math.floor((f-s)/(n.length-o+2*l));return i=r(s+Math.round((f-s-(n.length-o)*h)/2),h),c&&i.reverse(),a=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Yu(t.a[0])},e.copy=function(){return ai(n,t)},e.domain(n)}function oi(n,t){function i(){var e=0,r=t.length;for(o=[];++e<r;)o[e-1]=oa.quantile(n,e/r);return a}function a(n){return isNaN(n=+n)?void 0:t[oa.bisect(o,n)]}var o;return a.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},a.range=function(n){return arguments.length?(t=n,i()):t},a.quantiles=function(){return o},a.invertExtent=function(e){return e=t.indexOf(e),0>e?[NaN,NaN]:[e>0?o[e-1]:n[0],e<o.length?o[e]:n[n.length-1]]},a.copy=function(){return oi(n,t)},i()}function li(n,t,e){function r(t){return e[Math.max(0,Math.min(a,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),a=e.length-1,r}var i,a;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?NaN:t/i+n,[t,t+1/i]},r.copy=function(){return li(n,t,e)},u()}function ci(n,t){function e(e){return e>=e?t[oa.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return ci(n,t)},e}function si(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qu(n,t)},t.tickFormat=function(t,e){return ni(n,t,e)},t.copy=function(){return si(n)},t}function fi(){return 0}function hi(n){return n.innerRadius}function gi(n){return n.outerRadius}function pi(n){return n.startAngle}function vi(n){return n.endAngle}function di(n){return n&&n.padAngle}function mi(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function yi(n,t,e,r,u){var i=n[0]-t[0],a=n[1]-t[1],o=(u?r:-r)/Math.sqrt(i*i+a*a),l=o*a,c=-o*i,s=n[0]+l,f=n[1]+c,h=t[0]+l,g=t[1]+c,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(Math.max(0,M*M*y-x*x)),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,N=_-p,E=w-v,A=S-p,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function Mi(n){function t(t){function a(){c.push("M",i(n(s),o))}for(var l,c=[],s=[],f=-1,h=t.length,g=En(e),p=En(r);++f<h;)u.call(this,l=t[f],f)?s.push([+g.call(this,l,f),+p.call(this,l,f)]):s.length&&(a(),s=[]);return s.length&&a(),c.length?c.join(""):null}var e=Ce,r=ze,u=zt,i=xi,a=i.key,o=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(a="function"==typeof n?i=n:(i=Tl.get(n)||xi).key,t):a},t.tension=function(n){return arguments.length?(o=n,t):o},t}function xi(n){return n.length>1?n.join("L"):n+"Z"}function bi(n){return n.join("L")+"Z"}function _i(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function wi(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function Si(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function ki(n,t){return n.length<4?xi(n):n[1]+Ai(n.slice(1,-1),Ci(n,t))}function Ni(n,t){return n.length<3?bi(n):n[0]+Ai((n.push(n[0]),n),Ci([n[n.length-2]].concat(n,[n[1]]),t))}function Ei(n,t){return n.length<3?xi(n):n[0]+Ai(n,Ci(n,t))}function Ai(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xi(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],a=t[0],o=a,l=1;if(e&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],u=n[1],l=2),t.length>1){o=t[1],i=n[l],l++,r+="C"+(u[0]+a[0])+","+(u[1]+a[1])+","+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=n[l],o=t[c],r+="S"+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1]}if(e){var s=n[l];r+="Q"+(i[0]+2*o[0]/3)+","+(i[1]+2*o[1]/3)+","+s[0]+","+s[1]}return r}function Ci(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],a=n[1],o=1,l=n.length;++o<l;)e=i,i=a,a=n[o],r.push([u*(a[0]-e[0]),u*(a[1]-e[1])]);return r}function zi(n){if(n.length<3)return xi(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],a=[u,u,u,(r=n[1])[0]],o=[i,i,i,r[1]],l=[u,",",i,"L",Ri(Pl,a),",",Ri(Pl,o)];for(n.push(n[e-1]);++t<=e;)r=n[t],a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),Di(l,a,o);return n.pop(),l.push("L",r),l.join("")}function Li(n){if(n.length<4)return xi(n);for(var t,e=[],r=-1,u=n.length,i=[0],a=[0];++r<3;)t=n[r],i.push(t[0]),a.push(t[1]);for(e.push(Ri(Pl,i)+","+Ri(Pl,a)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),Di(e,i,a);return e.join("")}function qi(n){for(var t,e,r=-1,u=n.length,i=u+4,a=[],o=[];++r<4;)e=n[r%u],a.push(e[0]),o.push(e[1]);for(t=[Ri(Pl,a),",",Ri(Pl,o)],--r;++r<i;)e=n[r%u],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Di(t,a,o);return t.join("")}function Ti(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],a=n[0][1],o=n[e][0]-i,l=n[e][1]-a,c=-1;++c<=e;)r=n[c],u=c/e,r[0]=t*r[0]+(1-t)*(i+u*o),r[1]=t*r[1]+(1-t)*(a+u*l);return zi(n)}function Ri(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Di(n,t,e){n.push("C",Ri(Rl,t),",",Ri(Rl,e),",",Ri(Dl,t),",",Ri(Dl,e),",",Ri(Pl,t),",",Ri(Pl,e))}function Pi(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Ui(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],a=r[0]=Pi(u,i);++t<e;)r[t]=(a+(a=Pi(u=i,i=n[t+1])))/2;return r[t]=a,r}function ji(n){for(var t,e,r,u,i=[],a=Ui(n),o=-1,l=n.length-1;++o<l;)t=Pi(n[o],n[o+1]),Ma(t)<Pa?a[o]=a[o+1]=0:(e=a[o]/t,r=a[o+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),a[o]=u*e,a[o+1]=u*r));for(o=-1;++o<=l;)u=(n[Math.min(l,o+1)][0]-n[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),i.push([u||0,a[o]*u||0]);return i}function Fi(n){return n.length<3?xi(n):n[0]+Ai(n,ji(n))}function Hi(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Oa,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Oi(n){function t(t){function l(){v.push("M",o(n(m),f),s,c(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=En(e),b=En(u),_=e===r?function(){
return g}:En(r),w=u===i?function(){return p}:En(i);++y<M;)a.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(l(),d=[],m=[]);return d.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,u=0,i=ze,a=zt,o=xi,l=o.key,c=o,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(a=n,t):a},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?o=n:(o=Tl.get(n)||xi).key,c=o.reverse||o,s=o.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Ii(n){return n.radius}function Yi(n){return[n.x,n.y]}function Zi(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Oa;return[e*Math.cos(r),e*Math.sin(r)]}}function Vi(){return 64}function Xi(){return"circle"}function $i(n){var t=Math.sqrt(n/ja);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bi(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wi(n,t,e){return Sa(n,Yl),n.namespace=t,n.id=e,n}function Ji(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,a,o){n[i][u].tween.set(t,r(e.call(n,n.__data__,a,o)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Gi(n){return null==n&&(n=""),function(){this.textContent=n}}function Ki(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qi(n,t,e,r,u){function i(n){var t=v.delay;return s.t=t+l,n>=t?a(n-t):void(s.c=a)}function a(e){var u=p.active,i=p[u];i&&(i.timer.c=null,i.timer.t=NaN,--p.count,delete p[u],i.event&&i.event.interrupt.call(n,n.__data__,i.index));for(var a in p)if(r>+a){var c=p[a];c.timer.c=null,c.timer.t=NaN,--p.count,delete p[a]}s.c=o,qn(function(){return s.c&&o(e||1)&&(s.c=null,s.t=NaN),1},0,l),p.active=r,v.event&&v.event.start.call(n,n.__data__,t),g=[],v.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&g.push(r)}),h=v.ease,f=v.duration}function o(u){for(var i=u/f,a=h(i),o=g.length;o>0;)g[--o].call(n,a);return i>=1?(v.event&&v.event.end.call(n,n.__data__,t),--p.count?delete p[r]:delete n[e],1):void 0}var l,s,f,h,g,p=n[e]||(n[e]={active:0,count:0}),v=p[r];v||(l=u.time,s=qn(i,0,l),v=p[r]={tween:new c,time:l,timer:s,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++p.count)}function na(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function ta(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function ea(n){return n.toISOString()}function ra(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=oa.bisect(Kl,u);return i==Kl.length?[t.year,Ku(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Kl[i-1]<Kl[i]/u?i-1:i]:[tc,Ku(n,e)[2]]}return r.invert=function(t){return ua(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(ua)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,ua(+e+1),t).length}var i=r.domain(),a=Yu(i),o=null==n?u(a,10):"number"==typeof n&&u(a,n);return o&&(n=o[0],t=o[1]),r.domain(Xu(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=ua(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=ua(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yu(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],ua(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ra(n.copy(),t,e)},Ju(r,n)}function ua(n){return new Date(n)}function ia(n){return JSON.parse(n.responseText)}function aa(n){var t=sa.createRange();return t.selectNode(sa.body),t.createContextualFragment(n.responseText)}var oa={version:"3.5.16"},la=[].slice,ca=function(n){return la.call(n)},sa=this.document;if(sa)try{ca(sa.documentElement.childNodes)[0].nodeType}catch(fa){ca=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),sa)try{sa.createElement("DIV").style.setProperty("opacity",0,"")}catch(ha){var ga=this.Element.prototype,pa=ga.setAttribute,va=ga.setAttributeNS,da=this.CSSStyleDeclaration.prototype,ma=da.setProperty;ga.setAttribute=function(n,t){pa.call(this,n,t+"")},ga.setAttributeNS=function(n,t,e){va.call(this,n,t,e+"")},da.setProperty=function(n,t,e){ma.call(this,n,t+"",e)}}oa.ascending=e,oa.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN},oa.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},oa.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},oa.extent=function(n,t){var e,r,u,i=-1,a=n.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<a;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<a;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<a;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},oa.sum=function(n,t){var e,r=0,i=n.length,a=-1;if(1===arguments.length)for(;++a<i;)u(e=+n[a])&&(r+=e);else for(;++a<i;)u(e=+t.call(n,n[a],a))&&(r+=e);return r},oa.mean=function(n,t){var e,i=0,a=n.length,o=-1,l=a;if(1===arguments.length)for(;++o<a;)u(e=r(n[o]))?i+=e:--l;else for(;++o<a;)u(e=r(t.call(n,n[o],o)))?i+=e:--l;return l?i/l:void 0},oa.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},oa.median=function(n,t){var i,a=[],o=n.length,l=-1;if(1===arguments.length)for(;++l<o;)u(i=r(n[l]))&&a.push(i);else for(;++l<o;)u(i=r(t.call(n,n[l],l)))&&a.push(i);return a.length?oa.quantile(a.sort(e),.5):void 0},oa.variance=function(n,t){var e,i,a=n.length,o=0,l=0,c=-1,s=0;if(1===arguments.length)for(;++c<a;)u(e=r(n[c]))&&(i=e-o,o+=i/++s,l+=i*(e-o));else for(;++c<a;)u(e=r(t.call(n,n[c],c)))&&(i=e-o,o+=i/++s,l+=i*(e-o));return s>1?l/(s-1):void 0},oa.deviation=function(){var n=oa.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ya=i(e);oa.bisectLeft=ya.left,oa.bisect=oa.bisectRight=ya.right,oa.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},oa.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},oa.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},oa.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},oa.transpose=function(n){if(!(u=n.length))return[];for(var t=-1,e=oa.min(n,a),r=new Array(e);++t<e;)for(var u,i=-1,o=r[t]=new Array(u);++i<u;)o[i]=n[i][t];return r},oa.zip=function(){return oa.transpose(arguments)},oa.keys=function(n){var t=[];for(var e in n)t.push(e);return t},oa.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},oa.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},oa.merge=function(n){for(var t,e,r,u=n.length,i=-1,a=0;++i<u;)a+=n[i].length;for(e=new Array(a);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--a]=r[t];return e};var Ma=Math.abs;oa.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=o(Ma(e)),a=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++a)>t;)u.push(r/i);else for(;(r=n+e*++a)<t;)u.push(r/i);return u},oa.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var a in n)e.set(a,n[a]);return e};var xa="__proto__",ba="\x00";l(c,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),oa.nest=function(){function n(t,a,o){if(o>=i.length)return r?r.call(u,a):e?a.sort(e):a;for(var l,s,f,h,g=-1,p=a.length,v=i[o++],d=new c;++g<p;)(h=d.get(l=v(s=a[g])))?h.push(s):d.set(l,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,o))}):(s={},f=function(e,r){s[e]=n(t,r,o)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],a=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(oa.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return a[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},oa.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},l(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),oa.behavior={},oa.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var _a=["webkit","ms","moz","Moz","o","O"];oa.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},oa.event=null,oa.requote=function(n){return n.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},ka=function(n,t){return t.querySelector(n)},Na=function(n,t){return t.querySelectorAll(n)},Ea=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(Ea=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(ka=function(n,t){return Sizzle(n,t)[0]||null},Na=Sizzle,Ea=Sizzle.matchesSelector),oa.selection=function(){return oa.select(sa.documentElement)};var Aa=oa.selection.prototype=[];Aa.select=function(n){var t,e,r,u,i=[];n=A(n);for(var a=-1,o=this.length;++a<o;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(u=r[l])?(t.push(e=n.call(u,u.__data__,l,a)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return E(i)},Aa.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var a=this[u],o=-1,l=a.length;++o<l;)(e=a[o])&&(r.push(t=ca(n.call(e,e.__data__,o,u))),t.parentNode=e);return E(r)};var Ca="http://www.w3.org/1999/xhtml",za={svg:"http://www.w3.org/2000/svg",xhtml:Ca,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};oa.ns={prefix:za,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),za.hasOwnProperty(e)?{space:za[e],local:n}:n}},Aa.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=oa.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Aa.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!q(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Aa.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Aa.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},Aa.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Aa.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Aa.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Aa.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(F)},Aa.data=function(n,t){function e(n,e){var r,u,i,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new c,y=new Array(a);for(r=-1;++r<a;)(u=n[r])&&(m.has(d=t.call(u,u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d);for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<a;)r in y&&m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;a>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,o.push(p),l.push(g),s.push(v)}var r,u,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i<a;)(u=r[i])&&(n[i]=u.__data__);return n}var o=Z([]),l=E([]),s=E([]);if("function"==typeof n)for(;++i<a;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<a;)e(r=this[i],n);return l.enter=function(){return o},l.exit=function(){return s},l},Aa.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Aa.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,a=this.length;a>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var o=0,l=e.length;l>o;o++)(r=e[o])&&n.call(r,r.__data__,o,i)&&t.push(r)}return E(u)},Aa.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},Aa.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Aa.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Aa.call=function(n){var t=ca(arguments);return n.apply(t[0]=this,t),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},Aa.size=function(){var n=0;return Y(this,function(){++n}),n};var La=[];oa.selection.enter=Z,oa.selection.enter.prototype=La,La.append=Aa.append,La.empty=Aa.empty,La.node=Aa.node,La.call=Aa.call,La.size=Aa.size,La.select=function(n){for(var t,e,r,u,i,a=[],o=-1,l=this.length;++o<l;){r=(u=this[o]).update,a.push(t=[]),t.parentNode=u.parentNode;for(var c=-1,s=u.length;++c<s;)(i=u[c])?(t.push(r[c]=e=n.call(u.parentNode,i.__data__,c,o)),e.__data__=i.__data__):t.push(null)}return E(a)},La.insert=function(n,t){return arguments.length<2&&(t=V(this)),Aa.insert.call(this,n,t)},oa.select=function(t){var e;return"string"==typeof t?(e=[ka(t,sa)],e.parentNode=sa.documentElement):(e=[t],e.parentNode=n(t)),E([e])},oa.selectAll=function(n){var t;return"string"==typeof n?(t=ca(Na(n,sa)),t.parentNode=sa.documentElement):(t=ca(n),t.parentNode=null),E([t])},Aa.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var qa=oa.map({mouseenter:"mouseover",mouseleave:"mouseout"});sa&&qa.forEach(function(n){"on"+n in sa&&qa.remove(n)});var Ta,Ra=0;oa.mouse=function(n){return J(n,k())};var Da=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;oa.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},oa.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(n,t,e,i,a){return function(){function o(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function l(){t(h,v)&&(m.on(i+d,null).on(a+d,null),y(p),g({type:"dragend"}))}var c,s=this,f=oa.event.target.correspondingElement||oa.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=oa.select(e(f)).on(i+d,o).on(a+d,l),y=W(f),M=t(h,v);u?(c=u.apply(s,arguments),c=[c.x-M[0],c.y-M[1]]):c=[0,0],g({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),u=null,i=e(b,oa.mouse,t,"mousemove","mouseup"),a=e(G,oa.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},oa.rebind(n,r,"on")},oa.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ca(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Pa=1e-6,Ua=Pa*Pa,ja=Math.PI,Fa=2*ja,Ha=Fa-Pa,Oa=ja/2,Ia=ja/180,Ya=180/ja,Za=Math.SQRT2,Va=2,Xa=4;oa.interpolateZoom=function(n,t){var e,r,u=n[0],i=n[1],a=n[2],o=t[0],l=t[1],c=t[2],s=o-u,f=l-i,h=s*s+f*f;if(Ua>h)r=Math.log(c/a)/Za,e=function(n){return[u+n*s,i+n*f,a*Math.exp(Za*n*r)]};else{var g=Math.sqrt(h),p=(c*c-a*a+Xa*h)/(2*a*Va*g),v=(c*c-a*a-Xa*h)/(2*c*Va*g),d=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-d)/Za,e=function(n){var t=n*r,e=rn(d),o=a/(Va*g)*(e*un(Za*t+d)-en(d));return[u+o*s,i+o*f,a*e/rn(Za*t+d)]}}return e.duration=1e3*r,e},oa.behavior.zoom=function(){function n(n){n.on(L,f).on(Ba+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(A[0],Math.min(A[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function a(t,e,r,a){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,a)),i(d=e,r),t=oa.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function o(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function l(n){z++||n({type:"zoomstart"})}function c(n){o(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||(n({type:"zoomend"}),d=null)}function f(){function n(){o=1,i(oa.mouse(u),h),c(a)}function r(){f.on(q,null).on(T,null),g(o),s(a)}var u=this,a=D.of(u,arguments),o=0,f=oa.select(t(u)).on(q,n).on(T,r),h=e(oa.mouse(u)),g=W(u);Il.call(u),l(a)}function h(){function n(){var n=oa.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=oa.event.target;oa.select(t).on(x,r).on(b,o),_.push(t);for(var e=oa.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(500>c-M){var s=l[0];a(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=c}else if(l.length>1){var s=l[0],f=l[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,a=oa.touches(p);Il.call(p);for(var o=0,l=a.length;l>o;++o,r=null)if(e=a[o],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),c(v)}function o(){if(oa.event.touches.length){for(var t=oa.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}oa.selectAll(_).on(y,null),w.on(L,f).on(R,h),N(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+oa.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=oa.select(p),N=W(p);t(),l(v),w.on(L,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(Il.call(this),v=e(d=m||oa.mouse(this)),l(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*$a())*k.k),i(d,v),c(n)}function p(){var n=oa.mouse(this),t=Math.log(k.k)/Math.LN2;a(this,n,e(n),oa.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Wa,C=250,z=0,L="mousedown.zoom",q="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return Ba||(Ba="onwheel"in sa?($a=function(){return-oa.event.deltaY*(oa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in sa?($a=function(){return oa.event.wheelDelta},"mousewheel"):($a=function(){return-oa.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Hl?oa.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],u=d?d[0]:e/2,i=d?d[1]:r/2,a=oa.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=a(t),o=e/r[2];this.__chart__=k={x:u-r[0]*o,y:i-r[1]*o,k:o},c(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,l(n),c(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},o(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},u(+t),o(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Wa:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},oa.rebind(n,D,"on")};var $a,Ba,Wa=[0,1/0];oa.color=on,on.prototype.toString=function(){return this.rgb()+""},oa.hsl=ln;var Ja=ln.prototype=new on;Ja.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Ja.rgb=function(){return cn(this.h,this.s,this.l)},oa.hcl=sn;var Ga=sn.prototype=new on;Ga.brighter=function(n){return new sn(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?n:1)))},Ga.darker=function(n){return new sn(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?n:1)))},Ga.rgb=function(){return fn(this.h,this.c,this.l).rgb()},oa.lab=hn;var Ka=18,Qa=.95047,no=1,to=1.08883,eo=hn.prototype=new on;eo.brighter=function(n){return new hn(Math.min(100,this.l+Ka*(arguments.length?n:1)),this.a,this.b)},eo.darker=function(n){return new hn(Math.max(0,this.l-Ka*(arguments.length?n:1)),this.a,this.b)},eo.rgb=function(){return gn(this.l,this.a,this.b)},oa.rgb=yn;var ro=yn.prototype=new on;ro.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new yn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new yn(u,u,u)},ro.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new yn(n*this.r,n*this.g,n*this.b)},ro.hsl=function(){return wn(this.r,this.g,this.b)},ro.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var uo=oa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});uo.forEach(function(n,t){uo.set(n,Mn(t))}),oa.functor=En,oa.xhr=An(y),oa.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var a=Cn(n,t,null==e?r:u(e),i);return a.row=function(n){return arguments.length?a.response(null==(e=n)?r:u(n)):e},a}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(a).join(n)}function a(n){return o.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var o=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=c)return a;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;c>s;){var r=n.charCodeAt(s++),o=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++o);else if(r!==l)continue;return n.slice(t,s-o)}return n.slice(t)}for(var r,u,i={},a={},o=[],c=n.length,s=0,f=0;(r=e())!==a;){for(var h=[];r!==i&&r!==a;)h.push(r),r=e();t&&null==(h=t(h,f++))||o.push(h)}return o},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(a).join(n)].concat(t.map(function(t){return u.map(function(n){return a(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},oa.csv=oa.dsv(",","text/csv"),oa.tsv=oa.dsv("    ","text/tab-separated-values");var io,ao,oo,lo,co=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};oa.timer=function(){qn.apply(this,arguments)},oa.timer.flush=function(){Rn(),Dn()},oa.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var so=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Un);oa.formatPrefix=function(n,t){var e=0;return(n=+n)&&(0>n&&(n*=-1),t&&(n=oa.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),so[8+e/3]};var fo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ho=oa.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=oa.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),go=oa.time={},po=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vo.setUTCDate.apply(this._,arguments)},setDay:function(){vo.setUTCDay.apply(this._,arguments)},setFullYear:function(){vo.setUTCFullYear.apply(this._,arguments)},setHours:function(){vo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vo.setUTCSeconds.apply(this._,arguments)},setTime:function(){vo.setTime.apply(this._,arguments)}};var vo=Date.prototype;go.year=On(function(n){return n=go.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),go.years=go.year.range,go.years.utc=go.year.utc.range,go.day=On(function(n){var t=new po(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),go.days=go.day.range,go.days.utc=go.day.utc.range,go.dayOfYear=function(n){var t=go.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=go[n]=On(function(n){return(n=go.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=go.year(n).getDay();return Math.floor((go.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});go[n+"s"]=e.range,go[n+"s"].utc=e.utc.range,go[n+"OfYear"]=function(n){var e=go.year(n).getDay();return Math.floor((go.dayOfYear(n)+(e+t)%7)/7)}}),go.week=go.sunday,go.weeks=go.sunday.range,go.weeks.utc=go.sunday.utc.range,go.weekOfYear=go.sundayOfYear;var mo={"-":"",_:" ",0:"0"},yo=/^\s*\d+/,Mo=/^%/;oa.locale=function(n){return{numberFormat:jn(n),timeFormat:Yn(n)}};var xo=oa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});oa.format=xo.numberFormat,oa.geo={},st.prototype={s:0,t:0,add:function(n){ft(n,this.t,bo),ft(bo.s,this.s,this),this.s?this.t+=bo.t:this.s=bo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bo=new st;oa.geo.stream=function(n,t){n&&_o.hasOwnProperty(n.type)?_o[n.type](n,t):ht(n,t)};var _o={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)ht(e[r].geometry,t)}},wo={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){gt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)gt(e[r],t,0)},Polygon:function(n,t){pt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)pt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)ht(e[r],t)}};oa.geo.area=function(n){return So=0,oa.geo.stream(n,No),So};var So,ko=new st,No={sphere:function(){So+=4*ja},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ko.reset(),No.lineStart=vt},polygonEnd:function(){var n=2*ko;So+=0>n?4*ja+n:n,No.lineStart=No.lineEnd=No.point=b}};oa.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=dt([t*Ia,e*Ia]);if(m){var u=yt(m,r),i=[u[1],-u[0],0],a=yt(i,u);bt(a),a=_t(a);var l=t-p,c=l>0?1:-1,v=a[0]*Ya*c,d=Ma(l)>180;if(d^(v>c*p&&c*t>v)){var y=a[1]*Ya;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>c*p&&c*t>v)){var y=-a[1]*Ya;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=Ma(r)>180?r+(r>0?360:-360):r}else v=n,d=e;No.point(n,e),t(n,e)}function i(){No.lineStart()}function a(){u(v,d),No.lineEnd(),Ma(y)>Pa&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function o(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=a,y=0,No.polygonStart()},polygonEnd:function(){No.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>ko?(s=-(h=180),f=-(g=90)):y>Pa?g=90:-Pa>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],oa.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],c(e[0],u)||c(e[1],u)?(o(u[0],e[1])>o(u[0],u[1])&&(u[1]=e[1]),o(e[0],u[1])>o(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var a,e,p=-(1/0),t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(a=o(u[1],e[0]))>p&&(p=a,s=e[0],h=u[1])}return M=x=null,s===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[s,f],[h,g]]}}(),oa.geo.centroid=function(n){Eo=Ao=Co=zo=Lo=qo=To=Ro=Do=Po=Uo=0,oa.geo.stream(n,jo);var t=Do,e=Po,r=Uo,u=t*t+e*e+r*r;return Ua>u&&(t=qo,e=To,r=Ro,Pa>Ao&&(t=Co,e=zo,r=Lo),u=t*t+e*e+r*r,Ua>u)?[NaN,NaN]:[Math.atan2(e,t)*Ya,tn(r/Math.sqrt(u))*Ya]};var Eo,Ao,Co,zo,Lo,qo,To,Ro,Do,Po,Uo,jo={sphere:b,point:St,lineStart:Nt,lineEnd:Et,polygonStart:function(){jo.lineStart=At},polygonEnd:function(){jo.lineStart=Nt}},Fo=Rt(zt,jt,Ht,[-ja,-ja/2]),Ho=1e9;oa.geo.clipExtent=function(){var n,t,e,r,u,i,a={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(o){return arguments.length?(i=Zt(n=+o[0][0],t=+o[0][1],e=+o[1][0],r=+o[1][1]),u&&(u.valid=!1,u=null),a):[[n,t],[e,r]]}};return a.extent([[0,0],[960,500]])},(oa.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,oa.geo.albers=function(){return oa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},oa.geo.albersUsa=function(){function n(n){var i=n[0],a=n[1];return t=null,e(i,a),t||(r(i,a),t)||u(i,a),t}var t,e,r,u,i=oa.geo.albers(),a=oa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=oa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?a:u>=.166&&.234>u&&r>=-.214&&-.115>r?o:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=a.stream(n),r=o.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),o.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),o.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var c=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*c,f-.238*c],[s+.455*c,f+.238*c]]).stream(l).point,r=a.translate([s-.307*c,f+.201*c]).clipExtent([[s-.425*c+Pa,f+.12*c+Pa],[s-.214*c-Pa,f+.234*c-Pa]]).stream(l).point,u=o.translate([s-.205*c,f+.212*c]).clipExtent([[s-.214*c+Pa,f+.166*c+Pa],[s-.115*c-Pa,f+.234*c-Pa]]).stream(l).point,n},n.scale(1070)};var Oo,Io,Yo,Zo,Vo,Xo,$o={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Io=0,$o.lineStart=$t},polygonEnd:function(){$o.lineStart=$o.lineEnd=$o.point=b,Oo+=Ma(Io/2)}},Bo={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Wo={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Wo.lineStart=ne},polygonEnd:function(){Wo.point=Gt,Wo.lineStart=Kt,Wo.lineEnd=Qt}};oa.geo.path=function(){function n(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=u(i)),oa.geo.stream(n,a)),i.result()}function t(){return a=null,n}var e,r,u,i,a,o=4.5;return n.area=function(n){return Oo=0,oa.geo.stream(n,u($o)),Oo},n.centroid=function(n){return Co=zo=Lo=qo=To=Ro=Do=Po=Uo=0,oa.geo.stream(n,u(Wo)),Uo?[Do/Uo,Po/Uo]:Ro?[qo/Ro,To/Ro]:Lo?[Co/Lo,zo/Lo]:[NaN,NaN]},n.bounds=function(n){return Vo=Xo=-(Yo=Zo=1/0),oa.geo.stream(n,u(Bo)),[[Yo,Zo],[Vo,Xo]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||re(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new Wt:new te(n),"function"!=typeof o&&i.pointRadius(o),t()):r},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(oa.geo.albersUsa()).context(null)},oa.geo.transform=function(n){return{stream:function(t){var e=new ue(t);for(var r in n)e[r]=n[r];return e}}},ue.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},oa.geo.projection=ae,oa.geo.projectionMutator=oe,(oa.geo.equirectangular=function(){return ae(ce)}).raw=ce.invert=ce,oa.geo.rotation=function(n){function t(t){return t=n(t[0]*Ia,t[1]*Ia),t[0]*=Ya,t[1]*=Ya,t}return n=fe(n[0]%360*Ia,n[1]*Ia,n.length>2?n[2]*Ia:0),t.invert=function(t){return t=n.invert(t[0]*Ia,t[1]*Ia),t[0]*=Ya,t[1]*=Ya,t},t},se.invert=ce,oa.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=fe(-n[0]*Ia,-n[1]*Ia,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Ya,n[1]*=Ya}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ve((t=+r)*Ia,u*Ia),n):t},n.precision=function(r){return arguments.length?(e=ve(t*Ia,(u=+r)*Ia),n):u},n.angle(90)},oa.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Ia,u=n[1]*Ia,i=t[1]*Ia,a=Math.sin(r),o=Math.cos(r),l=Math.sin(u),c=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*a)*e+(e=c*s-l*f*o)*e),l*s+c*f*o)},oa.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return oa.range(Math.ceil(i/d)*d,u,d).map(h).concat(oa.range(Math.ceil(c/m)*m,l,m).map(g)).concat(oa.range(Math.ceil(r/p)*p,e,p).filter(function(n){return Ma(n%d)>Pa}).map(s)).concat(oa.range(Math.ceil(o/v)*v,a,v).filter(function(n){return Ma(n%m)>Pa}).map(f))}var e,r,u,i,a,o,l,c,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(l).slice(1),h(u).reverse().slice(1),g(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],c=+t[0][1],l=+t[1][1],i>u&&(t=i,i=u,u=t),c>l&&(t=c,c=l,l=t),n.precision(y)):[[i,c],[u,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),o>a&&(t=o,o=a,a=t),n.precision(y)):[[r,o],[e,a]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=me(o,a,90),f=ye(r,e,y),h=me(c,l,90),g=ye(i,u,y),n):y},n.majorExtent([[-180,-90+Pa],[180,90-Pa]]).minorExtent([[-180,-80-Pa],[180,80+Pa]])},oa.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=Me,u=xe;return n.distance=function(){return oa.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},oa.geo.interpolate=function(n,t){return be(n[0]*Ia,n[1]*Ia,t[0]*Ia,t[1]*Ia)},oa.geo.length=function(n){return Jo=0,oa.geo.stream(n,Go),Jo};var Jo,Go={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Ko=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(oa.geo.azimuthalEqualArea=function(){return ae(Ko)}).raw=Ko;var Qo=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(oa.geo.azimuthalEquidistant=function(){return ae(Qo)}).raw=Qo,(oa.geo.conicConformal=function(){return Vt(Se)}).raw=Se,(oa.geo.conicEquidistant=function(){return Vt(ke)}).raw=ke;var nl=we(function(n){return 1/n},Math.atan);(oa.geo.gnomonic=function(){return ae(nl)}).raw=nl,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Oa]},(oa.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var tl=we(function(){return 1},Math.asin);(oa.geo.orthographic=function(){return ae(tl)}).raw=tl;var el=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(oa.geo.stereographic=function(){return ae(el)}).raw=el,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Oa]},(oa.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,oa.geom={},oa.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=En(e),i=En(r),a=n.length,o=[],l=[];for(t=0;a>t;t++)o.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(o.sort(qe),t=0;a>t;t++)l.push([o[t][0],-o[t][1]]);var c=Le(o),s=Le(l),f=s[0]===c[0],h=s[s.length-1]===c[c.length-1],g=[];for(t=c.length-1;t>=0;--t)g.push(n[o[c[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[o[s[t]][2]]);return g}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},oa.geom.polygon=function(n){return Sa(n,rl),n};var rl=oa.geom.polygon.prototype=[];rl.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},rl.centroid=function(n){var t,e,r=-1,u=this.length,i=0,a=0,o=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=o,o=this[r],e=t[0]*o[1]-o[0]*t[1],i+=(t[0]+o[0])*e,a+=(t[1]+o[1])*e;return[i*n,a*n]},rl.clip=function(n){for(var t,e,r,u,i,a,o=De(n),l=-1,c=this.length-De(this),s=this[c-1];++l<c;){for(t=n.slice(),n.length=0,u=this[l],i=t[(r=t.length-o)-1],e=-1;++e<r;)a=t[e],Te(a,s,u)?(Te(i,s,u)||n.push(Re(i,a,s,u)),n.push(a)):Te(i,s,u)&&n.push(Re(i,a,s,u)),i=a;o&&n.push(n[0]),s=u}return n};var ul,il,al,ol,ll,cl=[],sl=[];Ye.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ve),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=ar(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,a=n.R;if(e=i?a?ar(a):i:a,u?u.L===n?u.L=e:u.R=e:this._=e,i&&a?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==a?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=a,a.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,ur(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,ur(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ir(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ur(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ir(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},oa.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=o[0][0],u=o[0][1],i=o[1][0],a=o[1][1];return or(e(n),o).cells.forEach(function(e,o){var l=e.edges,c=e.site,s=t[o]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=u&&c.y<=a?[[r,a],[i,a],[i,u],[r,u]]:[];s.point=n[o]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Pa)*Pa,y:Math.round(a(n,t)/Pa)*Pa,i:t}})}var r=Ce,u=ze,i=r,a=u,o=fl;return n?t(n):(t.links=function(n){return or(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return or(e(n)).cells.forEach(function(e,r){for(var u,i,a=e.site,o=e.edges.sort(Ve),l=-1,c=o.length,s=o[c-1].edge,f=s.l===a?s.r:s.l;++l<c;)u=s,i=f,s=o[l].edge,f=s.l===a?s.r:s.l,r<i.i&&r<f.i&&cr(a,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=En(r=n),t):r},t.y=function(n){return arguments.length?(a=En(u=n),t):u},t.clipExtent=function(n){return arguments.length?(o=null==n?fl:n,t):o===fl?null:o},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):o===fl?null:o&&o[1]},t)};var fl=[[-1e6,-1e6],[1e6,1e6]];oa.geom.delaunay=function(n){return oa.geom.voronoi().triangles(n)},oa.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,a,o){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,s=n.y;if(null!=l)if(Ma(l-e)+Ma(s-r)<.01)c(n,t,e,r,u,i,a,o);else{var f=n.point;n.x=n.y=n.point=null,c(n,f,l,s,u,i,a,o),c(n,t,e,r,u,i,a,o)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,u,i,a,o)}function c(n,t,e,r,u,a,o,l){var c=.5*(u+o),s=.5*(a+l),f=e>=c,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=hr()),f?u=c:o=c,h?a=s:l=s,i(n,t,e,r,u,a,o,l)}var s,f,h,g,p,v,d,m,y,M=En(o),x=En(l);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,a)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=hr();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){gr(n,k,v,d,m,y)},k.find=function(n){return pr(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var a,o=Ce,l=ze;return(a=arguments.length)?(o=sr,l=fr,3===a&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(o=n,i):o},i.y=function(n){return arguments.length?(l=n,i):l},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},oa.interpolateRgb=vr,oa.interpolateObject=dr,oa.interpolateNumber=mr,oa.interpolateString=yr;var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gl=new RegExp(hl.source,"g");oa.interpolate=Mr,oa.interpolators=[function(n,t){var e=typeof t;return("string"===e?uo.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:yr:t instanceof on?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:mr)(n,t)}],oa.interpolateArray=xr;var pl=function(){return y},vl=oa.map({linear:pl,poly:Er,quad:function(){return Sr},cubic:function(){return kr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),dl=oa.map({"in":y,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});oa.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=vl.get(e)||pl,r=dl.get(r)||y,br(r(e.apply(null,la.call(arguments,1))))},oa.interpolateHcl=Rr,oa.interpolateHsl=Dr,oa.interpolateLab=Pr,oa.interpolateRound=Ur,oa.transform=function(n){var t=sa.createElementNS(oa.ns.prefix.svg,"g");return(oa.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new jr(e?e.matrix:ml)})(n)},jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ml={a:1,b:0,c:0,d:1,e:0,f:0};oa.interpolateTransform=$r,oa.layout={},oa.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},oa.layout.chord=function(){function n(){var n,c,f,h,g,p={},v=[],d=oa.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(c=0,g=-1;++g<i;)c+=u[h][g];v.push(c),m.push(oa.range(i)),n+=c}for(a&&d.sort(function(n,t){return a(v[n],v[t])}),o&&m.forEach(function(n,t){n.sort(function(n,e){return o(u[t][n],u[t][e])})}),n=(Fa-s*i)/n,c=0,h=-1;++h<i;){for(f=c,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=c,_=c+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:c,value:v[y]},c+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}l&&t()}function t(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,a,o,l,c={},s=0;return c.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,c):u},c.padding=function(n){return arguments.length?(s=n,e=r=null,c):s},c.sortGroups=function(n){return arguments.length?(a=n,e=r=null,c):a},c.sortSubgroups=function(n){return arguments.length?(o=n,e=null,c):o},c.sortChords=function(n){return arguments.length?(l=n,e&&t(),c):l},c.chords=function(){return e||n(),e},c.groups=function(){return r||n(),r},c},oa.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,a=t.cy-n.y,o=u-e,l=i*i+a*a;if(l>o*o/m){if(v>l){var c=t.charge/l;n.px-=i*c,n.py-=a*c}return!0}if(t.point&&l&&v>l){var c=t.pointCharge/l;n.px-=i*c,n.py-=a*c}}return!t.charge}}function t(n){n.px=oa.event.x,n.py=oa.event.y,l.resume()}var e,r,u,i,a,o,l={},c=oa.dispatch("start","tick","end"),s=[1,1],f=.9,h=yl,g=Ml,p=-30,v=xl,d=.1,m=.64,M=[],x=[];return l.tick=function(){if((u*=.99)<.005)return e=null,c.end({type:"end",alpha:u=0}),!0;var t,r,l,h,g,v,m,y,b,_=M.length,w=x.length;for(r=0;w>r;++r)l=x[r],h=l.source,g=l.target,y=g.x-h.x,b=g.y-h.y,(v=y*y+b*b)&&(v=u*a[r]*((v=Math.sqrt(v))-i[r])/v,y*=v,b*=v,g.x-=y*(m=h.weight+g.weight?h.weight/(h.weight+g.weight):.5),g.y-=b*m,h.x+=y*(m=1-m),h.y+=b*m);if((m=u*d)&&(y=s[0]/2,b=s[1]/2,r=-1,m))for(;++r<_;)l=M[r],l.x+=(y-l.x)*m,l.y+=(b-l.y)*m;if(p)for(ru(t=oa.geom.quadtree(M),u,o),r=-1;++r<_;)(l=M[r]).fixed||t.visit(n(l));for(r=-1;++r<_;)l=M[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);c.tick({type:"tick",alpha:u})},l.nodes=function(n){return arguments.length?(M=n,l):M},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(s=n,l):s},l.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(g="function"==typeof n?n:+n,l):g},l.friction=function(n){return arguments.length?(f=+n,l):f},l.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,l):p},l.chargeDistance=function(n){return arguments.length?(v=n*n,l):Math.sqrt(v)},l.gravity=function(n){return arguments.length?(d=+n,l):d},l.theta=function(n){return arguments.length?(m=n*n,l):Math.sqrt(m)},l.alpha=function(n){return arguments.length?(n=+n,u?n>0?u=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:u=0})):n>0&&(c.start({type:"start",alpha:u=n}),e=qn(l.tick)),l):u},l.start=function(){function n(n,r){if(!e){for(e=new Array(u),l=0;u>l;++l)e[l]=[];for(l=0;c>l;++l){var i=x[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,o=e[t],l=-1,s=o.length;++l<s;)if(!isNaN(a=o[l][n]))return a;return Math.random()*r}var t,e,r,u=M.length,c=x.length,f=s[0],v=s[1];for(t=0;u>t;++t)(r=M[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=x[t],"number"==typeof r.source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=M[t],isNaN(r.x)&&(r.x=n("x",f)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(t=0;c>t;++t)i[t]=+h.call(this,x[t],t);else for(t=0;c>t;++t)i[t]=h;if(a=[],"function"==typeof g)for(t=0;c>t;++t)a[t]=+g.call(this,x[t],t);else for(t=0;c>t;++t)a[t]=g;if(o=[],"function"==typeof p)for(t=0;u>t;++t)o[t]=+p.call(this,M[t],t);else for(t=0;u>t;++t)o[t]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=oa.behavior.drag().origin(y).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",nu)),arguments.length?void this.on("mouseover.force",tu).on("mouseout.force",eu).call(r):r},oa.rebind(l,c,"on")};var yl=20,Ml=1,xl=1/0;oa.layout.hierarchy=function(){function n(u){var i,a=[u],o=[];for(u.depth=0;null!=(i=a.pop());)if(o.push(i),(c=e.call(n,i,i.depth))&&(l=c.length)){for(var l,c,s;--l>=0;)a.push(s=c[l]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return au(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),o}var t=cu,e=ou,r=lu;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(iu(t,function(n){n.children&&(n.value=0)}),au(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},oa.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(a=i.length)){var a,o,l,c=-1;for(r=t.value?r/t.value:0;++c<a;)n(o=i[c],e,l=o.value*r,u),e+=l}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var a=r.call(this,e,i);return n(a[0],0,u[0],u[1]/t(a[0])),a}var r=oa.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},uu(e,r)},oa.layout.pie=function(){function n(a){var o,l=a.length,c=a.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=oa.sum(c),v=p?(f-l*g)/p:0,d=oa.range(l),m=[];return null!=e&&d.sort(e===bl?function(n,t){return c[t]-c[n]}:function(n,t){return e(a[n],a[t])}),d.forEach(function(n){m[n]={data:a[n],value:o=c[n],startAngle:s,endAngle:s+=o*v+g,padAngle:h}}),m}var t=Number,e=bl,r=0,u=Fa,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var bl={};oa.layout.stack=function(){function n(o,l){if(!(h=o.length))return o;var c=o.map(function(e,r){return t.call(n,e,r)}),s=c.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),a.call(n,t,e)]})}),f=e.call(n,s,l);c=oa.permute(c,f),s=oa.permute(s,f);var h,g,p,v,d=r.call(n,s,l),m=c[0].length;for(p=0;m>p;++p)for(u.call(n,c[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,c[g][p],v+=s[g-1][p][1],s[g][p][1]);return o}var t=y,e=pu,r=vu,u=gu,i=fu,a=hu;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:_l.get(t)||pu,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:wl.get(t)||vu,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(a=t,n):a},n.out=function(t){return arguments.length?(u=t,n):u},n};var _l=oa.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(du),i=n.map(mu),a=oa.range(r).sort(function(n,t){return u[n]-u[t]}),o=0,l=0,c=[],s=[];for(t=0;r>t;++t)e=a[t],l>o?(o+=i[e],c.push(e)):(l+=i[e],s.push(e));return s.reverse().concat(c)},reverse:function(n){return oa.range(n.length).reverse()},"default":pu}),wl=oa.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,a=[],o=0,l=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>o&&(o=r),a.push(r)}for(e=0;i>e;++e)l[e]=(o-a[e])/2;return l},wiggle:function(n){var t,e,r,u,i,a,o,l,c,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=l=c=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,o=f[e][0]-f[e-1][0];s>t;++t){for(r=0,a=(n[t][e][1]-n[t][e-1][1])/(2*o);t>r;++r)a+=(n[r][e][1]-n[r][e-1][1])/o;i+=a*n[t][e][1]}g[e]=l-=u?i/u*o:0,c>l&&(c=l)}for(e=0;h>e;++e)g[e]-=c;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,a=1/u,o=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=a}for(e=0;i>e;++e)o[e]=0;return o},zero:vu});oa.layout.histogram=function(){function n(n,i){for(var a,o,l=[],c=n.map(e,this),s=r.call(this,c,i),f=u.call(this,s,c,i),i=-1,h=c.length,g=f.length-1,p=t?1:1/h;++i<g;)a=l[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(g>0)for(i=-1;++i<h;)o=c[i],o>=s[0]&&o<=s[1]&&(a=l[oa.bisect(f,o,1,g)-1],a.y+=p,a.push(n[i]));return l}var t=!0,e=Number,r=bu,u=Mu;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return xu(n,t)}:En(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},oa.layout.pack=function(){function n(n,i){var a=e.call(this,n,i),o=a[0],l=u[0],c=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,au(o,function(n){n.r=+s(n.value)}),au(o,Nu),r){var f=r*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;au(o,function(n){n.r+=f}),au(o,Nu),au(o,function(n){n.r-=f})}return Cu(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),a}var t,e=oa.layout.hierarchy().sort(_u),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},uu(n,e)},oa.layout.tree=function(){function n(n,u){var s=a.call(this,n,u),f=s[0],h=t(f);if(au(h,e),h.parent.m=-h.z,iu(h,r),c)iu(f,i);else{var g=f,p=f,v=f;iu(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=o(g,p)/2-g.x,m=l[0]/(p.x+o(p,g)/2+d),y=l[1]/(v.depth||1);iu(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,a=0,o=i.length;o>a;++a)r.push((i[a]=u={_:i[a],parent:t,children:(u=i[a].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Du(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+o(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+o(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,a=t,l=u.parent.children[0],c=u.m,s=i.m,f=a.m,h=l.m;a=Tu(a),u=qu(u),a&&u;)l=qu(l),i=Tu(i),i.a=n,r=a.z+f-u.z-c+o(a._,u._),r>0&&(Ru(Pu(a,n,e),n,r),c+=r,s+=r),f+=a.m,c+=u.m,h+=l.m,s+=i.m;a&&!Tu(i)&&(i.t=a,i.m+=f-s),u&&!qu(l)&&(l.t=u,l.m+=c-h,e=n)}return e}function i(n){n.x*=l[0],n.y=n.depth*l[1]}var a=oa.layout.hierarchy().sort(null).value(null),o=Lu,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(o=t,n):o},n.size=function(t){return arguments.length?(c=null==(l=t)?i:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:i,n):c?l:null},uu(n,a)},oa.layout.cluster=function(){function n(n,i){var a,o=t.call(this,n,i),l=o[0],c=0;au(l,function(n){var t=n.children;t&&t.length?(n.x=ju(t),n.y=Uu(t)):(n.x=a?c+=e(n,a):0,n.y=0,a=n)});var s=Fu(l),f=Hu(l),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return au(l,u?function(n){n.x=(n.x-l.x)*r[0],n.y=(l.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(l.y?n.y/l.y:1))*r[1]}),o}var t=oa.layout.hierarchy().sort(null).value(null),e=Lu,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},uu(n,t)},oa.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var a,o,l,c=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?c.dx:"dice"===g?c.dy:"slice-dice"===g?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(n(h,c.dx*c.dy/e.value),s.area=0;(l=h.length)>0;)s.push(a=h[l-1]),s.area+=a.area,"squarify"!==g||(o=r(s,v))<=p?(h.pop(),p=o):(s.area-=s.pop().area,u(s,v,c,!1),v=Math.min(c.dx,c.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,c,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,a=f(t),o=r.slice(),l=[];for(n(o,a.dx*a.dy/t.value),l.area=0;i=o.pop();)l.push(i),l.area+=i.area,null!=i.z&&(u(l,i.z?a.dx:a.dy,a,!o.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,a=-1,o=n.length;++a<o;)(e=n[a].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,a=n.length,o=e.x,c=e.y,s=t?l(n.area/t):0;
if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<a;)u=n[i],u.x=o,u.y=c,u.dy=s,o+=u.dx=Math.min(e.x+e.dx-o,s?l(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-o,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<a;)u=n[i],u.x=o,u.y=c,u.dx=s,c+=u.dy=Math.min(e.y+e.dy-c,s?l(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-c,e.x+=s,e.dx-=s}}function i(r){var u=a||o(r),i=u[0];return i.x=i.y=0,i.value?(i.dx=c[0],i.dy=c[1]):i.dx=i.dy=0,a&&o.revalue(i),n([i],i.dx*i.dy/i.value),(a?e:t)(i),h&&(a=u),u}var a,o=oa.layout.hierarchy(),l=Math.round,c=[1,1],s=null,f=Ou,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(c=n,i):c},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ou(t):Iu(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Iu(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ou:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(l=n?Math.round:Number,i):l!=Number},i.sticky=function(n){return arguments.length?(h=n,a=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},uu(i,o)},oa.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=oa.random.normal.apply(oa,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=oa.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},oa.scale={};var Sl={floor:y,ceil:y};oa.scale.linear=function(){return Wu([0,1],[0,1],Mr,!1)};var kl={s:1,g:1,p:1,r:1,e:1};oa.scale.log=function(){return ri(oa.scale.linear().domain([0,1]),10,!0,[1,10])};var Nl=oa.format(".0e"),El={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};oa.scale.pow=function(){return ui(oa.scale.linear(),1,[0,1])},oa.scale.sqrt=function(){return oa.scale.pow().exponent(.5)},oa.scale.ordinal=function(){return ai([],{t:"range",a:[[]]})},oa.scale.category10=function(){return oa.scale.ordinal().range(Al)},oa.scale.category20=function(){return oa.scale.ordinal().range(Cl)},oa.scale.category20b=function(){return oa.scale.ordinal().range(zl)},oa.scale.category20c=function(){return oa.scale.ordinal().range(Ll)};var Al=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),zl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),Ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);oa.scale.quantile=function(){return oi([],[])},oa.scale.quantize=function(){return li(0,1,[0,1])},oa.scale.threshold=function(){return ci([.5],[0,1])},oa.scale.identity=function(){return si([0,1])},oa.svg={},oa.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),s=a.apply(this,arguments)-Oa,f=o.apply(this,arguments)-Oa,h=Math.abs(f-s),g=s>f?0:1;if(n>c&&(p=c,c=n,n=p),h>=Ha)return t(c,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,N=0,E=0,A=[];if((m=(+l.apply(this,arguments)||0)/2)&&(d=i===ql?Math.sqrt(n*n+c*c):+i.apply(this,arguments),g||(E*=-1),c&&(E=tn(d/c*Math.sin(m))),n&&(N=tn(d/n*Math.sin(m)))),c){y=c*Math.cos(s+E),M=c*Math.sin(s+E),x=c*Math.cos(f-E),b=c*Math.sin(f-E);var C=Math.abs(f-s-2*E)<=ja?0:1;if(E&&mi(y,M,x,b)===g^C){var z=(s+f)/2;y=c*Math.cos(z),M=c*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-N),w=n*Math.sin(f-N),S=n*Math.cos(s+N),k=n*Math.sin(s+N);var L=Math.abs(s-f+2*N)<=ja?0:1;if(N&&mi(_,w,S,k)===1-g^L){var q=(s+f)/2;_=n*Math.cos(q),w=n*Math.sin(q),S=k=null}}else _=w=0;if(h>Pa&&(p=Math.min(Math.abs(c-n)/2,+u.apply(this,arguments)))>.001){v=c>n^g?0:1;var T=p,R=p;if(ja>h){var D=null==S?[_,w]:null==x?[y,M]:Re([y,M],[S,k],[x,b],[_,w]),P=y-D[0],U=M-D[1],j=x-D[0],F=b-D[1],H=1/Math.sin(Math.acos((P*j+U*F)/(Math.sqrt(P*P+U*U)*Math.sqrt(j*j+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(p,(n-O)/(H-1)),T=Math.min(p,(c-O)/(H+1))}if(null!=x){var I=yi(null==S?[_,w]:[S,k],[y,M],c,T,g),Y=yi([x,b],[_,w],c,T,g);p===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-g^mi(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",g," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",y,",",M);if(null!=S){var Z=yi([y,M],[S,k],n,-R,g),V=yi([_,w],null==x?[y,M]:[x,b],n,-R,g);p===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^mi(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",y,",",M),null!=x&&A.push("A",c,",",c," 0 ",C,",",g," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",L,",",1-g," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hi,r=gi,u=fi,i=ql,a=pi,o=vi,l=di;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=En(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==ql?ql:En(t),n):i},n.startAngle=function(t){return arguments.length?(a=En(t),n):a},n.endAngle=function(t){return arguments.length?(o=En(t),n):o},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Oa;return[Math.cos(t)*n,Math.sin(t)*n]},n};var ql="auto";oa.svg.line=function(){return Mi(y)};var Tl=oa.map({linear:xi,"linear-closed":bi,step:_i,"step-before":wi,"step-after":Si,basis:zi,"basis-open":Li,"basis-closed":qi,bundle:Ti,cardinal:Ei,"cardinal-open":ki,"cardinal-closed":Ni,monotone:Fi});Tl.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Rl=[0,2/3,1/3,0],Dl=[0,1/3,2/3,0],Pl=[0,1/6,2/3,1/6];oa.svg.line.radial=function(){var n=Mi(Hi);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wi.reverse=Si,Si.reverse=wi,oa.svg.area=function(){return Oi(y)},oa.svg.area.radial=function(){var n=Oi(Hi);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},oa.svg.chord=function(){function n(n,o){var l=t(this,i,n,o),c=t(this,a,n,o);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=o.call(n,u,r),a=l.call(n,u,r)-Oa,s=c.call(n,u,r)-Oa;return{r:i,a0:a,a1:s,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>ja)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=Me,a=xe,o=Ii,l=pi,c=vi;return n.radius=function(t){return arguments.length?(o=En(t),n):o},n.source=function(t){return arguments.length?(i=En(t),n):i},n.target=function(t){return arguments.length?(a=En(t),n):a},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},oa.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),a=e.call(this,n,u),o=(i.y+a.y)/2,l=[i,{x:i.x,y:o},{x:a.x,y:o},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yi;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},oa.svg.diagonal.radial=function(){var n=oa.svg.diagonal(),t=Yi,e=n.projection;return n.projection=function(n){return arguments.length?e(Zi(t=n)):t},n},oa.svg.symbol=function(){function n(n,r){return(Ul.get(t.call(this,n,r))||$i)(e.call(this,n,r))}var t=Xi,e=Vi;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Ul=oa.map({circle:$i,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Fl)),e=t*Fl;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});oa.svg.symbolTypes=Ul.keys();var jl=Math.sqrt(3),Fl=Math.tan(30*Ia);Aa.transition=function(n){for(var t,e,r=Hl||++Zl,u=Ki(n),i=[],a=Ol||{time:Date.now(),ease:Nr,delay:0,duration:250},o=-1,l=this.length;++o<l;){i.push(t=[]);for(var c=this[o],s=-1,f=c.length;++s<f;)(e=c[s])&&Qi(e,s,u,r,a),t.push(e)}return Wi(i,u,r)},Aa.interrupt=function(n){return this.each(null==n?Il:Bi(Ki(n)))};var Hl,Ol,Il=Bi(Ki()),Yl=[],Zl=0;Yl.call=Aa.call,Yl.empty=Aa.empty,Yl.node=Aa.node,Yl.size=Aa.size,oa.transition=function(n,t){return n&&n.transition?Hl?n.transition(t):n:oa.selection().transition(n)},oa.transition.prototype=Yl,Yl.select=function(n){var t,e,r,u=this.id,i=this.namespace,a=[];n=A(n);for(var o=-1,l=this.length;++o<l;){a.push(t=[]);for(var c=this[o],s=-1,f=c.length;++s<f;)(r=c[s])&&(e=n.call(r,r.__data__,s,o))?("__data__"in r&&(e.__data__=r.__data__),Qi(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Wi(a,i,u)},Yl.selectAll=function(n){var t,e,r,u,i,a=this.id,o=this.namespace,l=[];n=C(n);for(var c=-1,s=this.length;++c<s;)for(var f=this[c],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[o][a],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&Qi(u,p,o,a,i),t.push(u)}return Wi(l,o,a)},Yl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,a=this.length;a>i;i++){u.push(t=[]);for(var e=this[i],o=0,l=e.length;l>o;o++)(r=e[o])&&n.call(r,r.__data__,o,i)&&t.push(r)}return Wi(u,this.namespace,this.id)},Yl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Yl.attr=function(n,t){function e(){this.removeAttribute(o)}function r(){this.removeAttributeNS(o.space,o.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(o);return e!==n&&(t=a(e,n),function(n){this.setAttribute(o,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(o.space,o.local);return e!==n&&(t=a(e,n),function(n){this.setAttributeNS(o.space,o.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var a="transform"==n?$r:Mr,o=oa.ns.qualify(n);return Ji(this,"attr."+n,t,o.local?i:u)},Yl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=oa.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Yl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=Mr(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof n){2>a&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ji(this,"style."+n,e,i)},Yl.styleTween=function(n,e,r){function u(u,i){var a=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return a&&function(t){this.style.setProperty(n,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Yl.text=function(n){return Ji(this,"text",n,Gi)},Yl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Yl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=oa.ease.apply(oa,arguments)),Y(this,function(r){r[e][t].ease=n}))},Yl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Yl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Yl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Ol,i=Hl;try{Hl=e,Y(this,function(t,u,i){Ol=t[r][e],n.call(t,t.__data__,u,i)})}finally{Ol=u,Hl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=oa.dispatch("start","end","interrupt"))).on(n,t)});return this},Yl.transition=function(){for(var n,t,e,r,u=this.id,i=++Zl,a=this.namespace,o=[],l=0,c=this.length;c>l;l++){o.push(n=[]);for(var t=this[l],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[a][u],Qi(e,s,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Wi(o,a,i)},oa.svg.axis=function(){function n(n){n.each(function(){var n,c=oa.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==l?f.ticks?f.ticks.apply(f,o):f.domain():l,g=null==t?f.tickFormat?f.tickFormat.apply(f,o):y:t,p=c.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Pa),d=oa.transition(p.exit()).style("opacity",Pa).remove(),m=oa.transition(p.order()).style("opacity",1),M=Math.max(u,0)+a,x=Zu(f),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),oa.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=m.select("line"),C=p.select("text").text(g),z=v.select("text"),L=m.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=na,w="x",k="y",S="x2",N="y2",C.attr("dy",0>q?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+q*i+"V0H"+x[1]+"V"+q*i)):(n=ta,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",0>q?"end":"start"),_.attr("d","M"+q*i+","+x[0]+"H0V"+x[1]+"H"+q*i)),E.attr(N,q*u),z.attr(k,q*M),A.attr(S,0).attr(N,q*u),L.attr(w,0).attr(k,q*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=oa.scale.linear(),r=Vl,u=6,i=6,a=3,o=[10],l=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Xl?t+"":Vl,n):r},n.ticks=function(){return arguments.length?(o=ca(arguments),n):o},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(a=+t,n):a},n.tickSubdivide=function(){return arguments.length&&n},n};var Vl="bottom",Xl={top:1,right:1,bottom:1,left:1};oa.svg.brush=function(){function n(t){t.each(function(){var t=oa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=t.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=t.selectAll(".resize").data(v,y);o.exit().remove(),o.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return $l[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",n.empty()?"none":null);var l,f=oa.transition(t),h=oa.transition(a);c&&(l=Zu(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),s&&(l=Zu(s),h.attr("y",l[0]).attr("height",l[1]-l[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==oa.event.keyCode&&(C||(M=null,L[0]-=f[1],L[1]-=h[1],C=2),S())}function v(){32==oa.event.keyCode&&2==C&&(L[0]+=f[1],L[1]+=h[1],C=0,S())}function d(){var n=oa.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(oa.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),L[0]=f[+(n[0]<M[0])],L[1]=h[+(n[1]<M[1])]):M=null),E&&m(n,c,0)&&(r(k),t=!0),A&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Zu(t),l=i[0],c=i[1],s=L[e],v=e?h:f,d=v[1]-v[0];return C&&(l-=s,c-=d+s),r=(e?p:g)?Math.max(l,Math.min(c,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(l,Math.min(c,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?o=null:a=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),oa.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=oa.select(oa.event.target),w=l.of(b,arguments),k=oa.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&c,A=!/^(e|w)$/.test(N)&&s,C=_.classed("extent"),z=W(b),L=oa.mouse(b),q=oa.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(oa.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",y):q.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)L[0]=f[0]-L[0],L[1]=h[0]-L[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[f[1-T]-L[0],h[1-R]-L[1]],L[0]=f[T],L[1]=h[R]}else oa.event.altKey&&(M=L.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),oa.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var a,o,l=N(n,"brushstart","brush","brushend"),c=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Bl[0];return n.event=function(n){n.each(function(){var n=l.of(this,arguments),t={x:f,y:h,i:a,j:o},e=this.__chart__||t;this.__chart__=t,Hl?oa.select(this).transition().each("start.brush",function(){a=e.i,o=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(f,t.x),r=xr(h,t.y);return a=o=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,v=Bl[!c<<1|!s],n):c},n.y=function(t){return arguments.length?(s=t,v=Bl[!c<<1|!s],n):s},n.clamp=function(t){return arguments.length?(c&&s?(g=!!t[0],p=!!t[1]):c?g=!!t:s&&(p=!!t),n):c&&s?[g,p]:c?g:s?p:null},n.extent=function(t){var e,r,u,i,l;return arguments.length?(c&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),a=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(l=e,e=r,r=l),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],c&&(u=u[1],i=i[1]),o=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(l=u,u=i,i=l),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(c&&(a?(e=a[0],r=a[1]):(e=f[0],r=f[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(l=e,e=r,r=l))),s&&(o?(u=o[0],i=o[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(l=u,u=i,i=l))),c&&s?[[e,u],[r,i]]:c?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],a=o=null),n},n.empty=function(){return!!c&&f[0]==f[1]||!!s&&h[0]==h[1]},oa.rebind(n,l,"on")};var $l={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=go.format=xo.timeFormat,Jl=Wl.utc,Gl=Jl("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ea:Gl,ea.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},ea.toString=Gl.toString,go.second=On(function(n){return new po(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),go.seconds=go.second.range,go.seconds.utc=go.second.utc.range,go.minute=On(function(n){return new po(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),go.minutes=go.minute.range,go.minutes.utc=go.minute.utc.range,go.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new po(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),go.hours=go.hour.range,go.hours.utc=go.hour.utc.range,go.month=On(function(n){return n=go.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),go.months=go.month.range,go.months.utc=go.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ql=[[go.second,1],[go.second,5],[go.second,15],[go.second,30],[go.minute,1],[go.minute,5],[go.minute,15],[go.minute,30],[go.hour,1],[go.hour,3],[go.hour,6],[go.hour,12],[go.day,1],[go.day,2],[go.week,1],[go.month,1],[go.month,3],[go.year,1]],nc=Wl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),tc={range:function(n,t,e){return oa.range(Math.ceil(n/e)*e,+t,e).map(ua)},floor:y,ceil:y};Ql.year=go.year,go.scale=function(){return ra(oa.scale.linear(),Ql,nc)};var ec=Ql.map(function(n){return[n[0].utc,n[1]]}),rc=Jl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);ec.year=go.year.utc,go.scale.utc=function(){return ra(oa.scale.linear(),ec,rc)},oa.text=An(function(n){return n.responseText}),oa.json=function(n,t){return Cn(n,"application/json",ia,t)},oa.html=function(n,t){return Cn(n,"text/html",aa,t)},oa.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=oa,define(oa)):"object"==typeof module&&module.exports?module.exports=oa:this.d3=oa}();
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function r(n){return null===n?0/0:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function s(n){return(n+="")===pa||n[0]===va?va+n:n}function f(n){return(n+="")[0]===va?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=da.length;r>e;++e){var u=da[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){ta.event.preventDefault()}function k(){for(var n,t=ta.event;n=t.sourceEvent;)t=n;return t}function E(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ta.event;u.target=n,ta.event=u,t[u.type].apply(e,r)}finally{ta.event=i}}},t}function A(n){return ya(n,_a),n}function N(n){return"function"==typeof n?n:function(){return Ma(n,this)}}function C(n){return"function"==typeof n?n:function(){return xa(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ta.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+ta.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",q(u+" "+n))):e.setAttribute("class",q(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ta.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return ba(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function Z(n){return ya(n,Sa),n}function V(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,ra(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+ta.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=ka.get(n);return l&&(n=l,c=B),a?t?u:r:t?b:i}function $(n,t){return function(e){var r=ta.event;ta.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ta.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Aa,u="click"+r,i=ta.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ea&&(Ea="onselectstart"in e?!1:x(e.style,"userSelect")),Ea){var o=n(e).style,a=o[Ea];o[Ea]="none"}return function(n){if(i.on(r,null),Ea&&(o[Ea]=a),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Na){var i=t(n);if(i.scrollX||i.scrollY){r=ta.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Na=!(o.f||o.e),r.remove()}}return Na?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ta.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nt(n){return n>1?0:-1>n?qa:Math.acos(n)}function tt(n){return n>1?Ra:-1>n?-Ra:Math.asin(n)}function et(n){return((n=Math.exp(n))-1/n)/2}function rt(n){return((n=Math.exp(n))+1/n)/2}function ut(n){return((n=Math.exp(2*n))-1)/(n+1)}function it(n){return(n=Math.sin(n/2))*n}function ot(){}function at(n,t,e){return this instanceof at?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof at?new at(n.h,n.s,n.l):bt(""+n,_t,at):new at(n,t,e)}function ct(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new mt(u(n+120),u(n),u(n-120))}function lt(n,t,e){return this instanceof lt?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof lt?new lt(n.h,n.c,n.l):n instanceof ft?gt(n.l,n.a,n.b):gt((n=wt((n=ta.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new lt(n,t,e)}function st(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new ft(e,Math.cos(n*=Da)*t,Math.sin(n)*t)}function ft(n,t,e){return this instanceof ft?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof ft?new ft(n.l,n.a,n.b):n instanceof lt?st(n.h,n.c,n.l):wt((n=mt(n)).r,n.g,n.b):new ft(n,t,e)}function ht(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=pt(u)*Xa,r=pt(r)*$a,i=pt(i)*Ba,new mt(dt(3.2404542*u-1.5371385*r-.4985314*i),dt(-.969266*u+1.8760108*r+.041556*i),dt(.0556434*u-.2040259*r+1.0572252*i))}function gt(n,t,e){return n>0?new lt(Math.atan2(e,t)*Pa,Math.sqrt(t*t+e*e),n):new lt(0/0,0/0,n)}function pt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function vt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function dt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mt(n,t,e){return this instanceof mt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mt?new mt(n.r,n.g,n.b):bt(""+n,mt,ct):new mt(n,t,e)}function yt(n){return new mt(n>>16,n>>8&255,255&n)}function Mt(n){return yt(n)+""}function xt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function bt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(kt(u[0]),kt(u[1]),kt(u[2]))}return(i=Ga.get(n.toLowerCase()))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function _t(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new at(r,u,c)}function wt(n,t,e){n=St(n),t=St(t),e=St(e);var r=vt((.4124564*n+.3575761*t+.1804375*e)/Xa),u=vt((.2126729*n+.7151522*t+.072175*e)/$a),i=vt((.0193339*n+.119192*t+.9503041*e)/Ba);return ft(116*u-16,500*(r-u),200*(u-i))}function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function Et(n){return"function"==typeof n?n:function(){return n}}function At(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&&zt(c)||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=ta.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=ta.event;ta.event=n;try{o.progress.call(i,c)}finally{ta.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(l=n,i):l},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ra(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var s in a)c.setRequestHeader(s,a[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},ta.rebind(i,o,"on"),null==r?i:i.get(Ct(r))}function Ct(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function zt(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qt(){var n=Lt(),t=Tt()-n;t>24?(isFinite(t)&&(clearTimeout(tc),tc=setTimeout(qt,t)),nc=0):(nc=1,rc(qt))}function Lt(){var n=Date.now();for(ec=Ka;ec;)n>=ec.t&&(ec.f=ec.c(n-ec.t)),ec=ec.n;return n}function Tt(){for(var n,t=Ka,e=1/0;t;)t.f?t=n?n.n=t.n:Ka=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Qa=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*ga(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],c=0;u>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),i.push(n.substring(u-=a,u+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=ic.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=oc.get(g)||Ut;var M=l&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var c=ta.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===o?u+n+k:">"===o?k+u+n:"^"===o?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Ut(n){return n+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new cc(e-1)),1),e}function i(n,e){return t(n=new cc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{cc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{cc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ht(n);return c.floor=c,c.round=Ht(r),c.ceil=Ht(u),c.offset=Ht(i),c.range=a,n}function Ht(n){return function(t,e){try{cc=jt;var r=new jt;return r._=t,n(r,e)._}finally{cc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(u=sc[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=N[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cc!==jt,o=new(i?jt:cc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in sc?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function c(n,t,r){return e(n,N.x.toString(),t,r)}function l(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{cc=jt;var t=new cc;return t._=n,r(t)}finally{cc=Date}}var r=t(n);return e.parse=function(n){try{cc=jt;var t=r.parse(n);return t&&t._}finally{cc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var M=ta.map(),x=Yt(v),b=Zt(v),_=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+ac.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(ac.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(ac.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ie,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:s,S:re,U:Xt,w:Vt,W:$t,x:c,X:l,y:Wt,Y:Bt,Z:Jt,"%":oe};return t}function It(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Yt(n){return new RegExp("^(?:"+n.map(ta.requote).join("|")+")","i")}function Zt(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Xt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function $t(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Wt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Jt(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n>68?1900:2e3)}function Kt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=ga(t)/60|0,u=ga(t)%60;return e+It(r,"0",2)+It(u,"0",2)}function oe(n,t,e){hc.lastIndex=0;var r=hc.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function le(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function se(n,t){n&&dc.hasOwnProperty(n.type)&&dc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=Da,t=t*Da/2+qa/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),s=i*l,f=u*c+s*Math.cos(a),h=s*o*Math.sin(a);yc.add(Math.atan2(h,f)),r=n,u=c,i=l}var t,e,r,u,i;Mc.point=function(o,a){Mc.point=n,r=(t=o)*Da,u=Math.cos(a=(e=a)*Da/2+qa/4),i=Math.sin(a)},Mc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Me(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function xe(n){return[Math.atan2(n[1],n[0]),tt(n[2])]}function be(n,t){return ga(n[0]-t[0])<Ca&&ga(n[1]-t[1])<Ca}function _e(n,t){n*=Da;var e=Math.cos(t*=Da);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++xc,_c+=(n-_c)/xc,wc+=(t-wc)/xc,Sc+=(e-Sc)/xc}function Se(){function n(n,u){n*=Da;var i=Math.cos(u*=Da),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);bc+=l,kc+=l*(t+(t=o)),Ec+=l*(e+(e=a)),Ac+=l*(r+(r=c)),we(t,e,r)}var t,e,r;qc.point=function(u,i){u*=Da;var o=Math.cos(i*=Da);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),qc.point=n,we(t,e,r)}}function ke(){qc.point=_e}function Ee(){function n(n,t){n*=Da;var e=Math.cos(t*=Da),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=u*c-i*a,s=i*o-r*c,f=r*a-u*o,h=Math.sqrt(l*l+s*s+f*f),g=r*o+u*a+i*c,p=h&&-nt(g)/h,v=Math.atan2(h,g);Nc+=p*l,Cc+=p*s,zc+=p*f,bc+=v,kc+=v*(r+(r=o)),Ec+=v*(u+(u=a)),Ac+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;qc.point=function(o,a){t=o,e=a,qc.point=n,o*=Da;var c=Math.cos(a*=Da);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},qc.lineEnd=function(){n(t,e),qc.lineEnd=ke,qc.point=_e}}function Ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ne(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(be(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var c=new qe(e,n,null,!0),l=new qe(e,null,c,!1);c.o=l,i.push(c),o.push(l),c=new qe(r,n,null,!1),l=new qe(r,null,c,!0),c.o=l,i.push(c),o.push(l)}}),o.sort(t),ze(i),ze(o),i.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=s.length;l>a;++a)u.point((f=s[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var a=s.length-1;a>=0;--a)u.point((f=s[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ze(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function qe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Le(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function l(){y.point=o,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Te))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:l,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=l,g=ta.merge(g);var n=Fe(m,p);g.length?(b||(i.polygonStart(),b=!0),Ce(g,De,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Re(),x=t(M),b=!1;return y}}function Te(n){return n.length>1}function Re(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function De(n,t){return((n=n.x)[0]<0?n[1]-Ra-Ca:Ra-n[1])-((t=t.x)[0]<0?t[1]-Ra-Ca:Ra-t[1])}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?qa:-qa,c=ga(i-e);ga(c-qa)<Ca?(n.point(e,r=(r+o)/2>0?Ra:-Ra),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=qa&&(ga(e-u)<Ca&&(e-=u*Ca),ga(i-a)<Ca&&(i-=a*Ca),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return ga(o)>Ca?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*Ra,r.point(-qa,u),r.point(0,u),r.point(qa,u),r.point(qa,0),r.point(qa,-u),r.point(0,-u),r.point(-qa,-u),r.point(-qa,0),r.point(-qa,u);else if(ga(n[0]-t[0])>Ca){var i=n[0]<t[0]?qa:-qa;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Fe(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;yc.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],s=l.length;if(s)for(var f=l[0],h=f[0],g=f[1]/2+qa/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=l[d];var m=n[0],y=n[1]/2+qa/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>qa,k=p*M;if(yc.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*La:b,S^h>=e^m>=e){var E=de(pe(f),pe(n));Me(E);var A=de(u,E);Me(A);var N=(S^b>=0?-1:1)*tt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Ca>i||Ca>i&&0>yc)^1&o}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?qa:-qa),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(be(e,g)||be(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&be(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return s|(l&&c)<<1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),l=a[0],s=c-l*l;if(!s)return!e&&n;var f=i*c/s,h=-i*l/s,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),M=m*m-y*(ve(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=ye(d,(-m-x)/y);if(me(b,p),b=xe(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=ga(A-qa)<Ca,C=N||Ca>A;if(!N&&k>E&&(_=k,k=E,E=_),C?N?k+E>0^b[1]<(ga(b[0]-w)<Ca?k:E):k<=b[1]&&b[1]<=E:A>qa^(w<=b[0]&&b[0]<=S)){var z=ye(d,(-m+x)/y);return me(z,p),[b,xe(z)]}}}function u(t,e){var r=o?n:qa-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ga(i)>Ca,c=gr(n,6*Da);return Le(t,e,c,o?[0,-n]:[-qa,n-qa])}function Oe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,l=o.y,s=a.x,f=a.y,h=0,g=1,p=s-c,v=f-l;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-l,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-l,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:l+h*v}),1>g&&(u.b={x:c+g*p,y:l+g*v}),u}}}}}}function Ie(n,t,e,r){function u(r,u){return ga(r[0]-n)<Ca?u>0?0:3:ga(r[0]-e)<Ca?u>0?2:1:ga(r[1]-t)<Ca?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&Q(l,i,n)>0&&++t:i[1]<=r&&Q(l,i,n)<0&&--t,l=i;return 0!==t}function l(i,a,c,l){var s=0,f=0;if(null==i||(s=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=0/0}function g(){v&&(p(y,M),x&&w&&A.rejoin(),v.push(A.buffer())),C.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-Tc,Math.min(Tc,n)),t=Math.max(-Tc,Math.min(Tc,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,E=a,A=Re(),N=Oe(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=ta.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Ce(v,i,t,l,a),a.polygonEnd()),v=d=m=null}};return C}}function Ye(n){var t=0,e=qa/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*qa/180,e=n[1]*qa/180):[t/qa*180,e/qa*180]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,tt((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){Dc+=u*n-r*t,r=n,u=t}var t,e,r,u;Hc.point=function(i,o){Hc.point=n,t=r=i,e=u=o},Hc.lineEnd=function(){n(t,e)}}function Xe(n,t){Pc>n&&(Pc=n),n>jc&&(jc=n),Uc>t&&(Uc=t),t>Fc&&(Fc=t)}function $e(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Be(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function We(n,t){_c+=n,wc+=t,++Sc}function Je(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);kc+=o*(t+n)/2,Ec+=o*(e+r)/2,Ac+=o,We(t=n,e=r)}var t,e;Ic.point=function(r,u){Ic.point=n,We(t=r,e=u)}}function Ge(){Ic.point=We}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);kc+=o*(r+n)/2,Ec+=o*(u+t)/2,Ac+=o,o=u*n-r*t,Nc+=o*(r+n),Cc+=o*(u+t),zc+=3*o,We(r=n,u=t)}var t,e,r,u;Ic.point=function(i,o){Ic.point=n,We(t=r=i,e=u=o)},Ic.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,La)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=s}function l(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c
},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,l,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=c+p,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),E=ga(ga(w)-1)<Ca||ga(r-h)<Ca?(r+h)/2:Math.atan2(_,b),A=n(E,k),N=A[0],C=A[1],z=N-t,q=C-e,L=M*z-y*q;(L*L/x>i||ga((y*z+M*q)/x-.5)>.3||o>a*g+c*p+l*v)&&(u(t,e,r,a,c,l,N,C,E,b/=S,_/=S,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Da),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Pa,e*Pa])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*Da,n[1]*Da),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Pa,n[1]*Pa]}function r(){a=Ae(o=lr(m,M,x),i);var n=i(v,d);return c=g-n[0]*h,l=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,o,a,c,l,s,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Lc,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=or(b(o,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Lc):He((w=+n)*Da),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Ie(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Da,d=n[1]%360*Da,r()):[v*Pa,d*Pa]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Da,M=n[1]%360*Da,x=n.length>2?n[2]%360*Da:0,r()):[m*Pa,M*Pa,x*Pa]},ta.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function or(n){return rr(n,function(t,e){n.point(t*Da,e*Da)})}function ar(n,t){return[n,t]}function cr(n,t){return[n>qa?n-La:-qa>n?n+La:n,t]}function lr(n,t,e){return n?t||e?Ae(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function sr(n){return function(t,e){return t+=n,[t>qa?t-La:-qa>t?t+La:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+a*u;return[Math.atan2(c*i-s*o,a*r-l*u),tt(s*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*i-c*o;return[Math.atan2(c*i+l*o,a*r+s*u),tt(s*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o>0?i>u:u>i)&&(u+=o*La)):(u=n+o*La,i=n-.5*c);for(var l,s=u;o>0?s>i:i>s;s-=c)a.point((l=xe([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],l[1])}}function pr(n,t){var e=pe(t);e[0]-=n,Me(e);var r=nt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ca)%(2*Math.PI)}function vr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function Mr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),l=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(it(r-t)+u*o*it(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,u=e*l+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Pa,Math.atan2(o,Math.sqrt(r*r+u*u))*Pa]}:function(){return[n*Pa,t*Pa]};return p.distance=h,p}function xr(){function n(n,u){var i=Math.sin(u*=Da),o=Math.cos(u),a=ga((n*=Da)-t),c=Math.cos(a);Yc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Zc.point=function(u,i){t=u*Da,e=Math.sin(i*=Da),r=Math.cos(i),Zc.point=n},Zc.lineEnd=function(){Zc.point=Zc.lineEnd=b}}function br(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function _r(n,t){function e(n,t){o>0?-Ra+Ca>t&&(t=-Ra+Ca):t>Ra-Ca&&(t=Ra-Ca);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(qa/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Ra]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ga(u)<Ca?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(qa/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=qa*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(qa/4+t/2)),-n]}function Ar(n){return n[0]}function Nr(n){return n[1]}function Cr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function zr(n,t){return n[0]-t[0]||n[1]-t[1]}function qr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Lr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(a*(c-l)-f*(u-i))/(f*o-a*s);return[u+h*o,c+h*s]}function Tr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=el.pop()||new Rr;return t.site=n,t}function Pr(n){Xr(n),Qc.remove(n),el.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&&ga(e-c.circle.x)<Ca&&ga(r-c.circle.cy)<Ca;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),Xr(c);for(var l=o;l.circle&&ga(e-l.circle.x)<Ca&&ga(r-l.circle.cy)<Ca;)o=l.N,a.push(l),Pr(l),l=o;a.push(l),Xr(l);var s,f=a.length;for(s=1;f>s;++s)l=a[s],c=a[s-1],Kr(l.edge,c.site,l.site,u);c=a[0],l=a[f-1],l.edge=Jr(c.site,l.site,null,u),Vr(c),Vr(l)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Qc._;a;)if(r=Fr(a,o)-i,r>Ca)a=a.L;else{if(u=i-Hr(a,o),!(u>Ca)){r>-Ca?(t=a.P,e=a):u>-Ca?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(Qc.insert(t,c),t||e){if(t===e)return Xr(t),e=Dr(t.site),Qc.insert(c,e),c.edge=e.edge=Jr(t.site,c.site),Vr(t),void Vr(e);if(!e)return void(c.edge=Jr(t.site,c.site));Xr(t),Xr(e);var l=t.site,s=l.x,f=l.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};Kr(e.edge,l,p,x),c.edge=Jr(l,n,null,x),e.edge=Jr(n,p,null,x),Vr(t),Vr(e)}}function Fr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var s=a-r,f=1/i-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+u-i/2)))/f+r:(r+a)/2}function Hr(n,t){var e=n.N;if(e)return Fr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Ir(n){for(var t,e,r,u,i,o,a,c,l,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Kc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)s=a[o].end(),r=s.x,u=s.y,l=a[++o%c].start(),t=l.x,e=l.y,(ga(r-t)>Ca||ga(u-e)>Ca)&&(a.splice(o,0,new Qr(Gr(i.site,s,ga(r-f)<Ca&&p-u>Ca?{x:f,y:ga(t-f)<Ca?e:p}:ga(u-p)<Ca&&h-r>Ca?{x:ga(e-p)<Ca?t:h,y:p}:ga(r-h)<Ca&&u-g>Ca?{x:h,y:ga(t-h)<Ca?e:g}:ga(u-g)<Ca&&r-f>Ca?{x:ga(e-g)<Ca?t:f,y:g}:null),i.site,null)),++c)}function Yr(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,l=r.y-a,s=i.x-o,f=i.y-a,h=2*(c*f-l*s);if(!(h>=-za)){var g=c*c+l*l,p=s*s+f*f,v=(f*g-l*p)/h,d=(c*p-s*g)/h,f=d+a,m=rl.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=tl._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}tl.insert(y,m),y||(nl=m)}}}}function Xr(n){var t=n.circle;t&&(t.P||(nl=t.N),tl.remove(t),rl.push(t),tu(t),n.circle=null)}function $r(n){for(var t,e=Gc,r=Oe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||ga(t.a.x-t.b.x)<Ca&&ga(t.a.y-t.b.y)<Ca)&&(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Wr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Jr(n,t,e,r){var u=new Wr(n,t);return Gc.push(u),e&&Kr(u,n,t,e),r&&Kr(u,t,n,r),Kc[n.i].edges.push(new Qr(u,n,t)),Kc[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Wr(n,null);return r.a=t,r.b=e,Gc.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(Gc=[],Kc=new Array(n.length),Qc=new nu,tl=new nu;;)if(u=nl,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Kc[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&&($r(t),Ir(t));var o={cells:Kc,edges:Gc};return Qc=tl=Gc=Kc=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function lu(n){return n.y}function su(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&fu(n,c[0],e,r,o,a),c[1]&&fu(n,c[1],o,r,u,a),c[2]&&fu(n,c[2],e,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}function hu(n,t,e,r,u,i,o){var a,c=1/0;return function l(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(c>m){var y=Math.sqrt(c=m);r=t-y,u=e-y,i=t+y,o=e+y,a=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:l(n,s,f,x,b);break;case 1:l(n,x,f,h,b);break;case 2:l(n,s,b,x,g);break;case 3:l(n,x,b,h,g)}}}(n,r,u,i,o),a}function gu(n,t){n=ta.rgb(n),t=ta.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+xt(Math.round(e+i*n))+xt(Math.round(r+o*n))+xt(Math.round(u+a*n))}}function pu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=mu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function vu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function du(n,t){var e,r,u,i=il.lastIndex=ol.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=il.exec(n))&&(r=ol.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:vu(e,r)})),i=ol.lastIndex;return i<t.length&&(u=t.slice(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mu(n,t){for(var e,r=ta.interpolators.length;--r>=0&&!(e=ta.interpolators[r](n,t)););return e}function yu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(mu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function Mu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function bu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function wu(n){return n*n*n}function Su(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function ku(n){return function(t){return Math.pow(t,n)}}function Eu(n){return 1-Math.cos(n*Ra)}function Au(n){return Math.pow(2,10*(n-1))}function Nu(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/La*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*La/t)}}function zu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function qu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Lu(n,t){n=ta.hcl(n),t=ta.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return st(e+i*n,r+o*n,u+a*n)+""}}function Tu(n,t){n=ta.hsl(n),t=ta.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ct(e+i*n,r+o*n,u+a*n)+""}}function Ru(n,t){n=ta.lab(n),t=ta.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ht(e+i*n,r+o*n,u+a*n)+""}}function Du(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Pu(n){var t=[n.a,n.b],e=[n.c,n.d],r=ju(t),u=Uu(t,e),i=ju(Fu(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Pa,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Pa:0}function Uu(n,t){return n[0]*t[0]+n[1]*t[1]}function ju(n){var t=Math.sqrt(Uu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Fu(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=ta.transform(n),o=ta.transform(t),a=i.translate,c=o.translate,l=i.rotate,s=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:vu(a[0],c[0])},{i:3,x:vu(a[1],c[1])})):r.push(c[0]||c[1]?"translate("+c+")":""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vu(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:vu(g[0],p[0])},{i:e-2,x:vu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Ou(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Iu(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Yu(n){for(var t=n.source,e=n.target,r=Vu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Zu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Vu(n,t){if(n===t)return n;for(var e=Zu(n),r=Zu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Xu(n){n.fixed|=2}function $u(n){n.fixed&=-7}function Bu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Wu(n){n.fixed&=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,u+=l*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Gu(n,t){return ta.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}function Ku(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Qu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function ni(n){return n.children}function ti(n){return n.value}function ei(n,t){return t.value-n.value}function ri(n){return ta.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function ii(n){return n.y}function oi(n,t,e){n.y0=t,n.y=e}function ai(n){return ta.range(n.length)}function ci(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function li(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function si(n){return n.reduce(fi,0)}function fi(n,t){return n+t[1]}function hi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function pi(n){return[ta.min(n),ta.max(n)]}function vi(n,t){return n.value-t.value}function di(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function yi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Mi(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,u,i,o,a,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(xi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(u=e[1],u.x=u.r,u.y=0,t(u),l>2))for(i=e[2],wi(r,u,i),t(i),di(r,i),r._pack_prev=i,di(i,u),u=r._pack_next,o=3;l>o;o++){wi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(yi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!yi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?mi(r,u=a):mi(r=c,u),o--):(di(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(o=0;l>o;o++)i=e[o],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(bi)}}function xi(n){n._pack_next=n._pack_prev=n}function bi(n){delete n._pack_next,delete n._pack_prev}function _i(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)_i(u[i],t,e,r)}function wi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+l*i,e.y=n.y+c*i-l*u}else e.x=n.x+r,e.y=n.y}function Si(n,t){return n.parent==t.parent?1:2}function ki(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ni(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Ci(n,t,e){return n.a.parent===t.parent?n.a:e}function zi(n){return 1+ta.max(n,function(n){return n.y})}function qi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function Ti(n){var t,e=n.children;return e&&(t=e.length)?Ti(e[t-1]):n}function Ri(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Di(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Pi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ui(n){return n.rangeExtent?n.rangeExtent():Pi(n.range())}function ji(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Fi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ml}function Oi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ta.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Ii(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Oi:ji,c=r?Iu:Ou;return o=u(n,t,c,e),a=u(t,n,c,mu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Du)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Xi(n,t)},i.tickFormat=function(t,e){return $i(n,t,e)},i.nice=function(t){return Zi(n,t),u()},i.copy=function(){return Ii(n,t,e,r)},u()}function Yi(n,t){return ta.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Zi(n,t){return Fi(n,Hi(Vi(n,t)[2]))}function Vi(n,t){null==t&&(t=10);var e=Pi(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Xi(n,t){return ta.range.apply(ta,Vi(n,t))}function $i(n,t,e){var r=Vi(n,t);if(e){var u=ic.exec(e);if(u.shift(),"s"===u[8]){var i=ta.formatPrefix(Math.max(ga(r[0]),ga(r[1])));return u[7]||(u[7]="."+Bi(i.scale(r[2]))),u[8]="f",e=ta.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Wi(u[8],r)),e=u.join("")}else e=",."+Bi(r[2])+"f";return ta.format(e)}function Bi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Wi(n,t){var e=Bi(t[2]);return n in yl?Math.abs(e-Bi(Math.max(ga(t[0]),ga(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Ji(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Fi(r.map(u),e?Math:xl);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Pi(r),o=[],a=n[0],c=n[1],l=Math.floor(u(a)),s=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(s-l)){if(e){for(;s>l;l++)for(var h=1;f>h;h++)o.push(i(l)*h);o.push(i(l))}else for(o.push(i(l));l++<s;)for(var h=f-1;h>0;h--)o.push(i(l)*h);for(l=0;o[l]<a;l++);for(s=o.length;o[s-1]>c;s--);o=o.slice(l,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return Ml;arguments.length<2?t=Ml:"function"!=typeof t&&(t=ta.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,e,r)},Yi(o,n)}function Gi(n,t,e){function r(t){return n(u(t))}var u=Ki(t),i=Ki(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Xi(e,n)},r.tickFormat=function(n,t){return $i(e,n,t)},r.nice=function(n){return r.domain(Zi(e,n))},r.exponent=function(o){return arguments.length?(u=Ki(t=o),i=Ki(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Gi(n.copy(),t,e)},Yi(r,n)}function Ki(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Qi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ta.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new l;for(var i,o=-1,a=r.length;++o<a;)u.has(i=r[o])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return i=r(c+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return i=r(c+Math.round(s*a/2+(l-c-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=(f-s)/(n.length-a+2*c);return i=r(s+h*c,h),l&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=Math.floor((f-s)/(n.length-a+2*c));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Pi(t.a[0])},e.copy=function(){return Qi(n,t)},e.domain(n)}function no(n,t){function i(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ta.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ta.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},o.range=function(n){return arguments.length?(t=n,i()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return no(n,t)},i()}function to(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return to(n,t,e)},u()}function eo(n,t){function e(e){return e>=e?t[ta.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return eo(n,t)},e}function ro(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Xi(n,t)},t.tickFormat=function(t,e){return $i(n,t,e)},t.copy=function(){return ro(n)},t}function uo(){return 0}function io(n){return n.innerRadius}function oo(n){return n.outerRadius}function ao(n){return n.startAngle}function co(n){return n.endAngle}function lo(n){return n&&n.padAngle}function so(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function fo(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),c=a*o,l=-a*i,s=n[0]+c,f=n[1]+l,h=t[0]+c,g=t[1]+l,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(M*M*y-x*x),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,E=_-p,A=w-v,N=S-p,C=k-v;return E*E+A*A>N*N+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function ho(n){function t(t){function o(){l.push("M",i(n(s),a))}for(var c,l=[],s=[],f=-1,h=t.length,g=Et(e),p=Et(r);++f<h;)u.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(o(),s=[]);return s.length&&o(),l.length?l.join(""):null}var e=Ar,r=Nr,u=Ne,i=go,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=El.get(n)||go).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function go(n){return n.join("L")}function po(n){return go(n)+"Z"}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function mo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function yo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Mo(n,t){return n.length<4?go(n):n[1]+_o(n.slice(1,-1),wo(n,t))}function xo(n,t){return n.length<3?go(n):n[0]+_o((n.push(n[0]),n),wo([n[n.length-2]].concat(n,[n[1]]),t))}function bo(n,t){return n.length<3?go(n):n[0]+_o(n,wo(n,t))}function _o(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return go(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,c++)i=n[c],a=t[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function wo(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function So(n){if(n.length<3)return go(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",No(Cl,o),",",No(Cl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Co(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ko(n){if(n.length<4)return go(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(No(Cl,i)+","+No(Cl,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Co(e,i,o);return e.join("")}function Eo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[No(Cl,o),",",No(Cl,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Co(t,o,a);return t.join("")}function Ao(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],u=l/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return So(n)}function No(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Co(n,t,e){n.push("C",No(Al,t),",",No(Al,e),",",No(Nl,t),",",No(Nl,e),",",No(Cl,t),",",No(Cl,e))}function zo(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=zo(u,i);++t<e;)r[t]=(o+(o=zo(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=qo(n),a=-1,c=n.length-1;++a<c;)t=zo(n[a],n[a+1]),ga(t)<Ca?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length<3?go(n):n[0]+_o(n,Lo(n))}function Ro(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Ra,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Do(n){function t(t){function c(){v.push("M",a(n(m),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=Et(e),b=Et(u),_=e===r?function(){return g}:Et(r),w=u===i?function(){return p}:Et(i);++y<M;)o.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ar,r=Ar,u=0,i=Nr,o=Ne,a=go,c=a.key,l=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r
},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=El.get(n)||go).key,l=a.reverse||a,s=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Po(n){return n.radius}function Uo(n){return[n.x,n.y]}function jo(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ra;return[e*Math.cos(r),e*Math.sin(r)]}}function Fo(){return 64}function Ho(){return"circle"}function Oo(n){var t=Math.sqrt(n/qa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Io(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yo(n,t,e){return ya(n,Pl),n.namespace=t,n.id=e,n}function Zo(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Vo(n){return null==n&&(n=""),function(){this.textContent=n}}function Xo(n){return null==n?"__transition__":"__transition_"+n+"__"}function $o(n,t,e,r,u){var i=n[e]||(n[e]={active:0,count:0}),o=i[r];if(!o){var a=u.time;o=i[r]={tween:new l,time:a,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++i.count,ta.timer(function(u){function c(e){if(i.active>r)return s();var u=i[i.active];u&&(--i.count,delete i[i.active],u.event&&u.event.interrupt.call(n,n.__data__,u.index)),i.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,f=o.duration,ta.timer(function(){return p.c=l(e||1)?Ne:l,1},0,a)}function l(e){if(i.active!==r)return 1;for(var u=e/f,a=h(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,n.__data__,t),s()):void 0}function s(){return--i.count?delete i[r]:delete n[e],1}var f,h,g=o.delay,p=ec,v=[];return p.t=g+a,u>=g?c(u-g):void(p.c=c)},0,a)}}function Bo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Jo(n){return n.toISOString()}function Go(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ta.bisect(Vl,u);return i==Vl.length?[t.year,Vi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Vl[i-1]<Vl[i]/u?i-1:i]:[Bl,Vi(n,e)[2]]}return r.invert=function(t){return Ko(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ko)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ko(+e+1),t).length}var i=r.domain(),o=Pi(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Fi(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ko(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ko(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Pi(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Ko(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Go(n.copy(),t,e)},Yi(r,n)}function Ko(n){return new Date(n)}function Qo(n){return JSON.parse(n.responseText)}function na(n){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(n.responseText)}var ta={version:"3.5.5"},ea=[].slice,ra=function(n){return ea.call(n)},ua=this.document;if(ua)try{ra(ua.documentElement.childNodes)[0].nodeType}catch(ia){ra=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(oa){var aa=this.Element.prototype,ca=aa.setAttribute,la=aa.setAttributeNS,sa=this.CSSStyleDeclaration.prototype,fa=sa.setProperty;aa.setAttribute=function(n,t){ca.call(this,n,t+"")},aa.setAttributeNS=function(n,t,e){la.call(this,n,t,e+"")},sa.setProperty=function(n,t,e){fa.call(this,n,t+"",e)}}ta.ascending=e,ta.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ta.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},ta.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},ta.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},ta.sum=function(n,t){var e,r=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)u(e=+n[o])&&(r+=e);else for(;++o<i;)u(e=+t.call(n,n[o],o))&&(r+=e);return r},ta.mean=function(n,t){var e,i=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)u(e=r(n[a]))?i+=e:--c;else for(;++a<o;)u(e=r(t.call(n,n[a],a)))?i+=e:--c;return c?i/c:void 0},ta.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ta.median=function(n,t){var i,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)u(i=r(n[c]))&&o.push(i);else for(;++c<a;)u(i=r(t.call(n,n[c],c)))&&o.push(i);return o.length?ta.quantile(o.sort(e),.5):void 0},ta.variance=function(n,t){var e,i,o=n.length,a=0,c=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)u(e=r(n[l]))&&(i=e-a,a+=i/++s,c+=i*(e-a));else for(;++l<o;)u(e=r(t.call(n,n[l],l)))&&(i=e-a,a+=i/++s,c+=i*(e-a));return s>1?c/(s-1):void 0},ta.deviation=function(){var n=ta.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ha=i(e);ta.bisectLeft=ha.left,ta.bisect=ta.bisectRight=ha.right,ta.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},ta.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},ta.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ta.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},ta.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ta.min(arguments,o),e=new Array(t);++n<t;)for(var r,u=-1,i=e[n]=new Array(r);++u<r;)i[u]=arguments[u][n];return e},ta.transpose=function(n){return ta.zip.apply(ta,n)},ta.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ta.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ta.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ta.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var ga=Math.abs;ta.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=a(ga(e)),o=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++o)>t;)u.push(r/i);else for(;(r=n+e*++o)<t;)u.push(r/i);return u},ta.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var o in n)e.set(o,n[o]);return e};var pa="__proto__",va="\x00";c(l,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),ta.nest=function(){function n(t,o,a){if(a>=i.length)return r?r.call(u,o):e?o.sort(e):o;for(var c,s,f,h,g=-1,p=o.length,v=i[a++],d=new l;++g<p;)(h=d.get(c=v(s=o[g])))?h.push(s):d.set(c,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,a))}):(s={},f=function(e,r){s[e]=n(t,r,a)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=o[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ta.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return o[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ta.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},c(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),ta.behavior={},ta.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var da=["webkit","ms","moz","Moz","o","O"];ta.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ta.event=null,ta.requote=function(n){return n.replace(ma,"\\$&")};var ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ya={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Ma=function(n,t){return t.querySelector(n)},xa=function(n,t){return t.querySelectorAll(n)},ba=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(ba=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(Ma=function(n,t){return Sizzle(n,t)[0]||null},xa=Sizzle,ba=Sizzle.matchesSelector),ta.selection=function(){return ta.select(ua.documentElement)};var _a=ta.selection.prototype=[];_a.select=function(n){var t,e,r,u,i=[];n=N(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return A(i)},_a.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ra(n.call(e,e.__data__,a,u))),t.parentNode=e);return A(r)};var wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ta.ns={prefix:wa,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),wa.hasOwnProperty(e)?{space:wa[e],local:n}:n}},_a.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ta.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},_a.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!L(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},_a.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},_a.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},_a.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},_a.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},_a.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},_a.insert=function(n,t){return n=j(n),t=N(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},_a.remove=function(){return this.each(F)},_a.data=function(n,t){function e(n,e){var r,u,i,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),v=new Array(o);if(t){var d,m=new l,y=new Array(o);for(r=-1;++r<o;)m.has(d=t.call(u=n[r],u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d;for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;o>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,a.push(p),c.push(g),s.push(v)}var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}var a=Z([]),c=A([]),s=A([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return c.enter=function(){return a},c.exit=function(){return s},c},_a.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},_a.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return A(u)},_a.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},_a.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},_a.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},_a.call=function(n){var t=ra(arguments);return n.apply(t[0]=this,t),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},_a.size=function(){var n=0;return Y(this,function(){++n}),n};var Sa=[];ta.selection.enter=Z,ta.selection.enter.prototype=Sa,Sa.append=_a.append,Sa.empty=_a.empty,Sa.node=_a.node,Sa.call=_a.call,Sa.size=_a.size,Sa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var l=-1,s=u.length;++l<s;)(i=u[l])?(t.push(r[l]=e=n.call(u.parentNode,i.__data__,l,a)),e.__data__=i.__data__):t.push(null)}return A(o)},Sa.insert=function(n,t){return arguments.length<2&&(t=V(this)),_a.insert.call(this,n,t)},ta.select=function(t){var e;return"string"==typeof t?(e=[Ma(t,ua)],e.parentNode=ua.documentElement):(e=[t],e.parentNode=n(t)),A([e])},ta.selectAll=function(n){var t;return"string"==typeof n?(t=ra(xa(n,ua)),t.parentNode=ua.documentElement):(t=n,t.parentNode=null),A([t])},_a.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var ka=ta.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&ka.forEach(function(n){"on"+n in ua&&ka.remove(n)});var Ea,Aa=0;ta.mouse=function(n){return J(n,k())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ta.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},ta.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(n,t,e,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&ta.event.target===f),g({type:"dragend"}))}var l,s=this,f=ta.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=ta.select(e(f)).on(i+d,a).on(o+d,c),y=W(f),M=t(h,v);u?(l=u.apply(s,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],g({type:"dragstart"})}}var r=E(n,"drag","dragstart","dragend"),u=null,i=e(b,ta.mouse,t,"mousemove","mouseup"),o=e(G,ta.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ta.rebind(n,r,"on")},ta.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ra(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ca=1e-6,za=Ca*Ca,qa=Math.PI,La=2*qa,Ta=La-Ca,Ra=qa/2,Da=qa/180,Pa=180/qa,Ua=Math.SQRT2,ja=2,Fa=4;ta.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=rt(v),o=i/(ja*h)*(e*ut(Ua*t+v)-et(v));return[r+o*l,u+o*s,i*e/rt(Ua*t+v)]}return[r+n*l,u+n*s,i*Math.exp(Ua*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],l=o-r,s=a-u,f=l*l+s*s,h=Math.sqrt(f),g=(c*c-i*i+Fa*f)/(2*i*ja*h),p=(c*c-i*i-Fa*f)/(2*c*ja*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Ua;return e.duration=1e3*y,e},ta.behavior.zoom=function(){function n(n){n.on(q,f).on(Oa+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(N[0],Math.min(N[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,o)),i(d=e,r),t=ta.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||n({type:"zoomend"}),d=null}function f(){function n(){f=1,i(ta.mouse(u),g),l(a)}function r(){h.on(L,null).on(T,null),p(f&&ta.event.target===o),s(a)}var u=this,o=ta.event.target,a=D.of(u,arguments),f=0,h=ta.select(t(u)).on(L,n).on(T,r),g=e(ta.mouse(u)),p=W(u);Dl.call(u),c(a)}function h(){function n(){var n=ta.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ta.event.target;ta.select(t).on(x,r).on(b,a),_.push(t);for(var e=ta.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(500>l-M){var s=c[0];o(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var s=c[0],f=c[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,o=ta.touches(p);Dl.call(p);for(var a=0,c=o.length;c>a;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),l(v)}function a(){if(ta.event.touches.length){for(var t=ta.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ta.selectAll(_).on(y,null),w.on(q,f).on(R,h),E(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+ta.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=ta.select(p),E=W(p);t(),c(v),w.on(q,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(v=e(d=m||ta.mouse(this)),Dl.call(this),c(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*Ha())*k.k),i(d,v),l(n)}function p(){var n=ta.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ta.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},A=[960,500],N=Ia,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=E(n,"zoomstart","zoom","zoomend");return Oa||(Oa="onwheel"in ua?(Ha=function(){return-ta.event.deltaY*(ta.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ha=function(){return ta.event.wheelDelta},"mousewheel"):(Ha=function(){return-ta.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Tl?ta.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=A[0],r=A[1],u=d?d[0]:e/2,i=d?d[1]:r/2,o=ta.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:u-r[0]*a,y:i-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,c(n),l(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(N=null==t?Ia:[+t[0],+t[1]],n):N},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],n):A},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ta.rebind(n,D,"on")};var Ha,Oa,Ia=[0,1/0];ta.color=ot,ot.prototype.toString=function(){return this.rgb()+""},ta.hsl=at;var Ya=at.prototype=new ot;Ya.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,this.l/n)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,n*this.l)},Ya.rgb=function(){return ct(this.h,this.s,this.l)},ta.hcl=lt;var Za=lt.prototype=new ot;Za.brighter=function(n){return new lt(this.h,this.c,Math.min(100,this.l+Va*(arguments.length?n:1)))},Za.darker=function(n){return new lt(this.h,this.c,Math.max(0,this.l-Va*(arguments.length?n:1)))},Za.rgb=function(){return st(this.h,this.c,this.l).rgb()},ta.lab=ft;var Va=18,Xa=.95047,$a=1,Ba=1.08883,Wa=ft.prototype=new ot;Wa.brighter=function(n){return new ft(Math.min(100,this.l+Va*(arguments.length?n:1)),this.a,this.b)},Wa.darker=function(n){return new ft(Math.max(0,this.l-Va*(arguments.length?n:1)),this.a,this.b)},Wa.rgb=function(){return ht(this.l,this.a,this.b)},ta.rgb=mt;var Ja=mt.prototype=new ot;Ja.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new mt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mt(u,u,u)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mt(n*this.r,n*this.g,n*this.b)},Ja.hsl=function(){return _t(this.r,this.g,this.b)},Ja.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ga=ta.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(n,t){Ga.set(n,yt(t))}),ta.functor=Et,ta.xhr=At(y),ta.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=l)return o;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;l>s;){var r=n.charCodeAt(s++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++a);else if(r!==c)continue;return n.slice(t,s-a)}return n.slice(t)}for(var r,u,i={},o={},a=[],l=n.length,s=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ta.csv=ta.dsv(",","text/csv"),ta.tsv=ta.dsv("   ","text/tab-separated-values");var Ka,Qa,nc,tc,ec,rc=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ta.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Qa?Qa.n=i:Ka=i,Qa=i,nc||(tc=clearTimeout(tc),nc=1,rc(qt))},ta.timer.flush=function(){Lt(),Tt()},ta.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var uc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);ta.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ta.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),uc[8+e/3]};var ic=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,oc=ta.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ta.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),ac=ta.time={},cc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lc.setUTCDate.apply(this._,arguments)},setDay:function(){lc.setUTCDay.apply(this._,arguments)},setFullYear:function(){lc.setUTCFullYear.apply(this._,arguments)},setHours:function(){lc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lc.setUTCSeconds.apply(this._,arguments)},setTime:function(){lc.setTime.apply(this._,arguments)}};var lc=Date.prototype;ac.year=Ft(function(n){return n=ac.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ac.years=ac.year.range,ac.years.utc=ac.year.utc.range,ac.day=Ft(function(n){var t=new cc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ac.days=ac.day.range,ac.days.utc=ac.day.utc.range,ac.dayOfYear=function(n){var t=ac.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ac[n]=Ft(function(n){return(n=ac.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ac[n+"s"]=e.range,ac[n+"s"].utc=e.utc.range,ac[n+"OfYear"]=function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)}}),ac.week=ac.sunday,ac.weeks=ac.sunday.range,ac.weeks.utc=ac.sunday.utc.range,ac.weekOfYear=ac.sundayOfYear;var sc={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,hc=/^%/;ta.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var gc=ta.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ta.format=gc.numberFormat,ta.geo={},ce.prototype={s:0,t:0,add:function(n){le(n,this.t,pc),le(pc.s,this.s,this),this.s?this.t+=pc.t:this.s=pc.t
},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pc=new ce;ta.geo.stream=function(n,t){n&&vc.hasOwnProperty(n.type)?vc[n.type](n,t):se(n,t)};var vc={Feature:function(n,t){se(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)se(e[r].geometry,t)}},dc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)se(e[r],t)}};ta.geo.area=function(n){return mc=0,ta.geo.stream(n,Mc),mc};var mc,yc=new ce,Mc={sphere:function(){mc+=4*qa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){yc.reset(),Mc.lineStart=ge},polygonEnd:function(){var n=2*yc;mc+=0>n?4*qa+n:n,Mc.lineStart=Mc.lineEnd=Mc.point=b}};ta.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=pe([t*Da,e*Da]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);Me(o),o=xe(o);var c=t-p,l=c>0?1:-1,v=o[0]*Pa*l,d=ga(c)>180;if(d^(v>l*p&&l*t>v)){var y=o[1]*Pa;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>l*p&&l*t>v)){var y=-o[1]*Pa;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ga(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Mc.point(n,e),t(n,e)}function i(){Mc.lineStart()}function o(){u(v,d),Mc.lineEnd(),ga(y)>Ca&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>yc?(s=-(h=180),f=-(g=90)):y>Ca?g=90:-Ca>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ta.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],l(e[0],u)||l(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,s=e[0],h=u[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ta.geo.centroid=function(n){xc=bc=_c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,qc);var t=Nc,e=Cc,r=zc,u=t*t+e*e+r*r;return za>u&&(t=kc,e=Ec,r=Ac,Ca>bc&&(t=_c,e=wc,r=Sc),u=t*t+e*e+r*r,za>u)?[0/0,0/0]:[Math.atan2(e,t)*Pa,tt(r/Math.sqrt(u))*Pa]};var xc,bc,_c,wc,Sc,kc,Ec,Ac,Nc,Cc,zc,qc={sphere:b,point:_e,lineStart:Se,lineEnd:ke,polygonStart:function(){qc.lineStart=Ee},polygonEnd:function(){qc.lineStart=Se}},Lc=Le(Ne,Pe,je,[-qa,-qa/2]),Tc=1e9;ta.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ie(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ta.geo.conicEqualArea=function(){return Ye(Ze)}).raw=Ze,ta.geo.albers=function(){return ta.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ta.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=ta.geo.albers(),o=ta.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ta.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=o.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Ca,f+.12*l+Ca],[s-.214*l-Ca,f+.234*l-Ca]]).stream(c).point,u=a.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Ca,f+.166*l+Ca],[s-.115*l-Ca,f+.234*l-Ca]]).stream(c).point,n},n.scale(1070)};var Rc,Dc,Pc,Uc,jc,Fc,Hc={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Dc=0,Hc.lineStart=Ve},polygonEnd:function(){Hc.lineStart=Hc.lineEnd=Hc.point=b,Rc+=ga(Dc/2)}},Oc={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ic={point:We,lineStart:Je,lineEnd:Ge,polygonStart:function(){Ic.lineStart=Ke},polygonEnd:function(){Ic.point=We,Ic.lineStart=Je,Ic.lineEnd=Ge}};ta.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),ta.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Rc=0,ta.geo.stream(n,u(Hc)),Rc},n.centroid=function(n){return _c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,u(Ic)),zc?[Nc/zc,Cc/zc]:Ac?[kc/Ac,Ec/Ac]:Sc?[_c/Sc,wc/Sc]:[0/0,0/0]},n.bounds=function(n){return jc=Fc=-(Pc=Uc=1/0),ta.geo.stream(n,u(Oc)),[[Pc,Uc],[jc,Fc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new $e:new Qe(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(ta.geo.albersUsa()).context(null)},ta.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ta.geo.projection=ur,ta.geo.projectionMutator=ir,(ta.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,ta.geo.rotation=function(n){function t(t){return t=n(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t}return n=lr(n[0]%360*Da,n[1]*Da,n.length>2?n[2]*Da:0),t.invert=function(t){return t=n.invert(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t},t},cr.invert=ar,ta.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=lr(-n[0]*Da,-n[1]*Da,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Pa,n[1]*=Pa}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*Da,u*Da),n):t},n.precision=function(r){return arguments.length?(e=gr(t*Da,(u=+r)*Da),n):u},n.angle(90)},ta.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Da,u=n[1]*Da,i=t[1]*Da,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),l=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*s-c*f*a)*e),c*s+l*f*a)},ta.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ta.range(Math.ceil(i/d)*d,u,d).map(h).concat(ta.range(Math.ceil(l/m)*m,c,m).map(g)).concat(ta.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ga(n%d)>Ca}).map(s)).concat(ta.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ga(n%m)>Ca}).map(f))}var e,r,u,i,o,a,c,l,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],l=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[i,l],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=vr(a,o,90),f=dr(r,e,y),h=vr(l,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},ta.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return ta.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},ta.geo.interpolate=function(n,t){return Mr(n[0]*Da,n[1]*Da,t[0]*Da,t[1]*Da)},ta.geo.length=function(n){return Yc=0,ta.geo.stream(n,Zc),Yc};var Yc,Zc={sphere:b,point:b,lineStart:xr,lineEnd:b,polygonStart:b,polygonEnd:b},Vc=br(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ta.geo.azimuthalEqualArea=function(){return ur(Vc)}).raw=Vc;var Xc=br(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(ta.geo.azimuthalEquidistant=function(){return ur(Xc)}).raw=Xc,(ta.geo.conicConformal=function(){return Ye(_r)}).raw=_r,(ta.geo.conicEquidistant=function(){return Ye(wr)}).raw=wr;var $c=br(function(n){return 1/n},Math.atan);(ta.geo.gnomonic=function(){return ur($c)}).raw=$c,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ra]},(ta.geo.mercator=function(){return kr(Sr)}).raw=Sr;var Bc=br(function(){return 1},Math.asin);(ta.geo.orthographic=function(){return ur(Bc)}).raw=Bc;var Wc=br(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ta.geo.stereographic=function(){return ur(Wc)}).raw=Wc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ra]},(ta.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Er,ta.geom={},ta.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=Et(e),i=Et(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(zr),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=Cr(a),s=Cr(c),f=s[0]===l[0],h=s[s.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[a[s[t]][2]]);return g}var e=Ar,r=Nr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ta.geom.polygon=function(n){return ya(n,Jc),n};var Jc=ta.geom.polygon.prototype=[];Jc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Jc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Jc.clip=function(n){for(var t,e,r,u,i,o,a=Tr(n),c=-1,l=this.length-Tr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],qr(o,s,u)?(qr(i,s,u)||n.push(Lr(i,o,s,u)),n.push(o)):qr(i,s,u)&&n.push(Lr(i,o,s,u)),i=o;a&&n.push(n[0]),s=u}return n};var Gc,Kc,Qc,nl,tl,el=[],rl=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Yr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},ta.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,s=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=u&&l.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ca)*Ca,y:Math.round(o(n,t)/Ca)*Ca,i:t}})}var r=Ar,u=Nr,i=r,o=u,a=ul;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Yr),c=-1,l=a.length,s=a[l-1].edge,f=s.l===o?s.r:s.l;++c<l;)u=s,i=f,s=a[c].edge,f=s.l===o?s.r:s.l,r<i.i&&r<f.i&&au(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(r=n),t):r},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?ul:n,t):a===ul?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ul?null:a&&a[1]},t)};var ul=[[-1e6,-1e6],[1e6,1e6]];ta.geom.delaunay=function(n){return ta.geom.voronoi().triangles(n)},ta.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(ga(c-e)+ga(s-r)<.01)l(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,u,i,o,a),l(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,u,i,o,a)}function l(n,t,e,r,u,o,a,c){var l=.5*(u+a),s=.5*(o+c),f=e>=l,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=su()),f?u=l:a=l,h?o=s:c=s,i(n,t,e,r,u,o,a,c)}var s,f,h,g,p,v,d,m,y,M=Et(a),x=Et(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=su();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},k.find=function(n){return hu(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var o,a=Ar,c=Nr;return(o=arguments.length)?(a=cu,c=lu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ta.interpolateRgb=gu,ta.interpolateObject=pu,ta.interpolateNumber=vu,ta.interpolateString=du;var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(il.source,"g");ta.interpolate=mu,ta.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ga.has(t)||/^(#|rgb\(|hsl\()/.test(t)?gu:du:t instanceof ot?gu:Array.isArray(t)?yu:"object"===e&&isNaN(t)?pu:vu)(n,t)}],ta.interpolateArray=yu;var al=function(){return y},cl=ta.map({linear:al,poly:ku,quad:function(){return _u},cubic:function(){return wu},sin:function(){return Eu},exp:function(){return Au},circle:function(){return Nu},elastic:Cu,back:zu,bounce:function(){return qu}}),ll=ta.map({"in":y,out:xu,"in-out":bu,"out-in":function(n){return bu(xu(n))}});ta.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=cl.get(e)||al,r=ll.get(r)||y,Mu(r(e.apply(null,ea.call(arguments,1))))},ta.interpolateHcl=Lu,ta.interpolateHsl=Tu,ta.interpolateLab=Ru,ta.interpolateRound=Du,ta.transform=function(n){var t=ua.createElementNS(ta.ns.prefix.svg,"g");return(ta.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Pu(e?e.matrix:sl)})(n)},Pu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var sl={a:1,b:0,c:0,d:1,e:0,f:0};ta.interpolateTransform=Hu,ta.layout={},ta.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Yu(n[e]));return t}},ta.layout.chord=function(){function n(){var n,l,f,h,g,p={},v=[],d=ta.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(l=0,g=-1;++g<i;)l+=u[h][g];v.push(l),m.push(ta.range(i)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(La-s*i)/n,l=0,h=-1;++h<i;){for(f=l,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,l={},s=0;return l.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,l):u},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ta.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=i*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=i*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=ta.event.x,n.py=ta.event.y,a.resume()}var e,r,u,i,o,a={},c=ta.dispatch("start","tick","end"),l=[1,1],s=.9,f=fl,h=hl,g=-30,p=gl,v=.1,d=.64,m=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,y,x,b=m.length,_=M.length;for(e=0;_>e;++e)a=M[e],f=a.source,h=a.target,y=h.x-f.x,x=h.y-f.y,(p=y*y+x*x)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,y*=p,x*=p,h.x-=y*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=y*(d=1-d),f.y+=x*d);if((d=r*v)&&(y=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=m[e],a.x+=(y-a.x)*d,a.y+=(x-a.y)*d;if(g)for(Ju(t=ta.geom.quadtree(m),r,o),e=-1;++e<b;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*s,a.y-=(a.py-(a.py=a.y))*s);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(s=+n,a):s},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ta.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){var u=M[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,s=M.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;s>t;++t)r=M[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;s>t;++t)u[t]=+f.call(this,M[t],t);else for(t=0;s>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;s>t;++t)i[t]=+h.call(this,M[t],t);else for(t=0;s>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=ta.behavior.drag().origin(y).on("dragstart.force",Xu).on("drag.force",t).on("dragend.force",$u)),arguments.length?void this.on("mouseover.force",Bu).on("mouseout.force",Wu).call(e):e},ta.rebind(a,c,"on")};var fl=20,hl=1,gl=1/0;ta.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(l=e.call(n,i,i.depth))&&(c=l.length)){for(var c,l,s;--c>=0;)o.push(s=l[c]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Qu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=ei,e=ni,r=ti;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Ku(t,function(n){n.children&&(n.value=0)}),Qu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ta.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=i[l],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ta.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Gu(e,r)},ta.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=(f-c*g)/ta.sum(l),v=ta.range(c),d=[];return null!=e&&v.sort(e===pl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:s,endAngle:s+=a*p+g,padAngle:h}}),d}var t=Number,e=pl,r=0,u=La,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var pl={};ta.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,c);l=ta.permute(l,f),s=ta.permute(s,f);var h,g,p,v,d=r.call(n,s,c),m=l[0].length;for(p=0;m>p;++p)for(u.call(n,l[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,l[g][p],v+=s[g-1][p][1],s[g][p][1]);return a}var t=y,e=ai,r=ci,u=oi,i=ui,o=ii;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:vl.get(t)||ai,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:dl.get(t)||ci,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var vl=ta.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(li),i=n.map(si),o=ta.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],l.push(e)):(c+=i[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ta.range(n.length).reverse()},"default":ai}),dl=ta.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];s>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ci});ta.layout.histogram=function(){function n(n,i){for(var o,a,c=[],l=n.map(e,this),s=r.call(this,l,i),f=u.call(this,s,l,i),i=-1,h=l.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=l[i],a>=s[0]&&a<=s[1]&&(o=c[ta.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=pi,u=hi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=Et(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return gi(n,t)}:Et(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ta.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],l=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Qu(a,function(n){n.r=+s(n.value)}),Qu(a,Mi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Qu(a,function(n){n.r+=f}),Qu(a,Mi),Qu(a,function(n){n.r-=f})}return _i(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=ta.layout.hierarchy().sort(vi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Gu(n,e)},ta.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(Qu(h,e),h.parent.m=-h.z,Ku(h,r),l)Ku(f,i);else{var g=f,p=f,v=f;Ku(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Ku(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ni(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],l=u.m,s=i.m,f=o.m,h=c.m;o=Ei(o),u=ki(u),o&&u;)c=ki(c),i=Ei(i),i.a=n,r=o.z+f-u.z-l+a(o._,u._),r>0&&(Ai(Ci(o,n,e),n,r),l+=r,s+=r),f+=o.m,l+=u.m,h+=c.m,s+=i.m;o&&!Ei(i)&&(i.t=o,i.m+=f-s),u&&!ki(c)&&(c.t=u,c.m+=l-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=ta.layout.hierarchy().sort(null).value(null),a=Si,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?i:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:i,n):l?c:null},Gu(n,o)},ta.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],l=0;Qu(c,function(n){var t=n.children;t&&t.length?(n.x=qi(t),n.y=zi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var s=Li(c),f=Ti(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Qu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=ta.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Gu(n,t)},ta.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,l=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(o=h[c-1]),s.area+=o.area,"squarify"!==g||(a=r(s,v))<=p?(h.pop(),p=a):(s.area-=s.pop().area,u(s,v,l,!1),v=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,l,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<o;)u=n[i],u.x=a,u.y=l,u.dy=s,a+=u.dx=Math.min(e.x+e.dx-a,s?c(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<o;)u=n[i],u.x=a,u.y=l,u.dx=s,l+=u.dy=Math.min(e.y+e.dy-l,s?c(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=ta.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Ri,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));
return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ri(t):Di(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Di(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ri:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Gu(i,a)},ta.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ta.random.normal.apply(ta,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ta.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ta.scale={};var ml={floor:y,ceil:y};ta.scale.linear=function(){return Ii([0,1],[0,1],mu,!1)};var yl={s:1,g:1,p:1,r:1,e:1};ta.scale.log=function(){return Ji(ta.scale.linear().domain([0,1]),10,!0,[1,10])};var Ml=ta.format(".0e"),xl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ta.scale.pow=function(){return Gi(ta.scale.linear(),1,[0,1])},ta.scale.sqrt=function(){return ta.scale.pow().exponent(.5)},ta.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},ta.scale.category10=function(){return ta.scale.ordinal().range(bl)},ta.scale.category20=function(){return ta.scale.ordinal().range(_l)},ta.scale.category20b=function(){return ta.scale.ordinal().range(wl)},ta.scale.category20c=function(){return ta.scale.ordinal().range(Sl)};var bl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),_l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),wl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);ta.scale.quantile=function(){return no([],[])},ta.scale.quantize=function(){return to(0,1,[0,1])},ta.scale.threshold=function(){return eo([.5],[0,1])},ta.scale.identity=function(){return ro([0,1])},ta.svg={},ta.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-Ra,f=a.apply(this,arguments)-Ra,h=Math.abs(f-s),g=s>f?0:1;if(n>l&&(p=l,l=n,n=p),h>=Ta)return t(l,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,E=0,A=0,N=[];if((m=(+c.apply(this,arguments)||0)/2)&&(d=i===kl?Math.sqrt(n*n+l*l):+i.apply(this,arguments),g||(A*=-1),l&&(A=tt(d/l*Math.sin(m))),n&&(E=tt(d/n*Math.sin(m)))),l){y=l*Math.cos(s+A),M=l*Math.sin(s+A),x=l*Math.cos(f-A),b=l*Math.sin(f-A);var C=Math.abs(f-s-2*A)<=qa?0:1;if(A&&so(y,M,x,b)===g^C){var z=(s+f)/2;y=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-E),w=n*Math.sin(f-E),S=n*Math.cos(s+E),k=n*Math.sin(s+E);var q=Math.abs(s-f+2*E)<=qa?0:1;if(E&&so(_,w,S,k)===1-g^q){var L=(s+f)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((p=Math.min(Math.abs(l-n)/2,+u.apply(this,arguments)))>.001){v=l>n^g?0:1;var T=null==S?[_,w]:null==x?[y,M]:Lr([y,M],[S,k],[x,b],[_,w]),R=y-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(p,(l-F)/(j+1)),O=fo(null==S?[_,w]:[S,k],[y,M],l,H,g),I=fo([x,b],[_,w],l,H,g);p===H?N.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-g^so(O[1][0],O[1][1],I[1][0],I[1][1]),",",g," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):N.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else N.push("M",y,",",M);if(null!=S){var Y=Math.min(p,(n-F)/(j-1)),Z=fo([y,M],[S,k],n,-Y,g),V=fo([_,w],null==x?[y,M]:[x,b],n,-Y,g);p===Y?N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^so(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else N.push("L",_,",",w)}else N.push("M",y,",",M),null!=x&&N.push("A",l,",",l," 0 ",C,",",g," ",x,",",b),N.push("L",_,",",w),null!=S&&N.push("A",n,",",n," 0 ",q,",",1-g," ",S,",",k);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=io,r=oo,u=uo,i=kl,o=ao,a=co,c=lo;return n.innerRadius=function(t){return arguments.length?(e=Et(t),n):e},n.outerRadius=function(t){return arguments.length?(r=Et(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=Et(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==kl?kl:Et(t),n):i},n.startAngle=function(t){return arguments.length?(o=Et(t),n):o},n.endAngle=function(t){return arguments.length?(a=Et(t),n):a},n.padAngle=function(t){return arguments.length?(c=Et(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ra;return[Math.cos(t)*n,Math.sin(t)*n]},n};var kl="auto";ta.svg.line=function(){return ho(y)};var El=ta.map({linear:go,"linear-closed":po,step:vo,"step-before":mo,"step-after":yo,basis:So,"basis-open":ko,"basis-closed":Eo,bundle:Ao,cardinal:bo,"cardinal-open":Mo,"cardinal-closed":xo,monotone:To});El.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Al=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];ta.svg.line.radial=function(){var n=ho(Ro);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},mo.reverse=yo,yo.reverse=mo,ta.svg.area=function(){return Do(y)},ta.svg.area.radial=function(){var n=Do(Ro);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ta.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)-Ra,s=l.call(n,u,r)-Ra;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>qa)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=mr,o=yr,a=Po,c=ao,l=co;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(l=Et(t),n):l},n},ta.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=mr,e=yr,r=Uo;return n.source=function(e){return arguments.length?(t=Et(e),n):t},n.target=function(t){return arguments.length?(e=Et(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ta.svg.diagonal.radial=function(){var n=ta.svg.diagonal(),t=Uo,e=n.projection;return n.projection=function(n){return arguments.length?e(jo(t=n)):t},n},ta.svg.symbol=function(){function n(n,r){return(zl.get(t.call(this,n,r))||Oo)(e.call(this,n,r))}var t=Ho,e=Fo;return n.type=function(e){return arguments.length?(t=Et(e),n):t},n.size=function(t){return arguments.length?(e=Et(t),n):e},n};var zl=ta.map({circle:Oo,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ll)),e=t*Ll;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ta.svg.symbolTypes=zl.keys();var ql=Math.sqrt(3),Ll=Math.tan(30*Da);_a.transition=function(n){for(var t,e,r=Tl||++Ul,u=Xo(n),i=[],o=Rl||{time:Date.now(),ease:Su,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(e=l[s])&&$o(e,s,u,r,o),t.push(e)}return Yo(i,u,r)},_a.interrupt=function(n){return this.each(null==n?Dl:Io(Xo(n)))};var Tl,Rl,Dl=Io(Xo()),Pl=[],Ul=0;Pl.call=_a.call,Pl.empty=_a.empty,Pl.node=_a.node,Pl.size=_a.size,ta.transition=function(n,t){return n&&n.transition?Tl?n.transition(t):n:ta.selection().transition(n)},ta.transition.prototype=Pl,Pl.select=function(n){var t,e,r,u=this.id,i=this.namespace,o=[];n=N(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(r=l[s])&&(e=n.call(r,r.__data__,s,a))?("__data__"in r&&(e.__data__=r.__data__),$o(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Yo(o,i,u)},Pl.selectAll=function(n){var t,e,r,u,i,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,s=this.length;++l<s;)for(var f=this[l],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&$o(u,p,a,o,i),t.push(u)}return Yo(c,a,o)},Pl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return Yo(u,this.namespace,this.id)},Pl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Pl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Hu:mu,a=ta.ns.qualify(n);return Zo(this,"attr."+n,t,a.local?i:u)},Pl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ta.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Pl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=mu(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zo(this,"style."+n,e,i)},Pl.styleTween=function(n,e,r){function u(u,i){var o=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Pl.text=function(n){return Zo(this,"text",n,Vo)},Pl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ta.ease.apply(ta,arguments)),Y(this,function(r){r[e][t].ease=n}))},Pl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Pl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Pl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Rl,i=Tl;try{Tl=e,Y(this,function(t,u,i){Rl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Rl=u,Tl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=ta.dispatch("start","end","interrupt"))).on(n,t)});return this},Pl.transition=function(){for(var n,t,e,r,u=this.id,i=++Ul,o=this.namespace,a=[],c=0,l=this.length;l>c;c++){a.push(n=[]);for(var t=this[c],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[o][u],$o(e,s,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yo(a,o,i)},ta.svg.axis=function(){function n(n){n.each(function(){var n,l=ta.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):y:t,p=l.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ca),d=ta.transition(p.exit()).style("opacity",Ca).remove(),m=ta.transition(p.order()).style("opacity",1),M=Math.max(u,0)+o,x=Ui(f),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ta.transition(b));v.append("line"),v.append("text");var w,S,k,E,A=v.select("line"),N=m.select("line"),C=p.select("text").text(g),z=v.select("text"),q=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bo,w="x",k="y",S="x2",E="y2",C.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*i+"V0H"+x[1]+"V"+L*i)):(n=Wo,w="y",k="x",S="y2",E="x2",C.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),_.attr("d","M"+L*i+","+x[0]+"H0V"+x[1]+"H"+L*i)),A.attr(E,L*u),z.attr(k,L*M),N.attr(S,0).attr(E,L*u),q.attr(w,0).attr(k,L*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=ta.scale.linear(),r=jl,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Fl?t+"":jl,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var jl="bottom",Fl={top:1,right:1,bottom:1,left:1};ta.svg.brush=function(){function n(t){t.each(function(){var t=ta.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,y);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Hl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,f=ta.transition(t),h=ta.transition(o);l&&(c=Ui(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(f)),s&&(c=Ui(s),h.attr("y",c[0]).attr("height",c[1]-c[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==ta.event.keyCode&&(C||(M=null,q[0]-=f[1],q[1]-=h[1],C=2),S())}function v(){32==ta.event.keyCode&&2==C&&(q[0]+=f[1],q[1]+=h[1],C=0,S())}function d(){var n=ta.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ta.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),q[0]=f[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),A&&m(n,l,0)&&(r(k),t=!0),N&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Ui(t),c=i[0],l=i[1],s=q[e],v=e?h:f,d=v[1]-v[0];return C&&(c-=s,l-=d+s),r=(e?p:g)?Math.max(c,Math.min(l,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(c,Math.min(l,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?a=null:o=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ta.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ta.select(ta.event.target),w=c.of(b,arguments),k=ta.select(b),E=_.datum(),A=!/^(n|s)$/.test(E)&&l,N=!/^(e|w)$/.test(E)&&s,C=_.classed("extent"),z=W(b),q=ta.mouse(b),L=ta.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(ta.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",y):L.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)q[0]=f[0]-q[0],q[1]=h[0]-q[1];else if(E){var T=+/w$/.test(E),R=+/^n/.test(E);x=[f[1-T]-q[0],h[1-R]-q[1]],q[0]=f[T],q[1]=h[R]}else ta.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ta.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=E(n,"brushstart","brush","brushend"),l=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Ol[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:f,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Tl?ta.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=yu(f,t.x),r=yu(h,t.y);return o=a=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Ol[!l<<1|!s],n):l},n.y=function(t){return arguments.length?(s=t,v=Ol[!l<<1|!s],n):s},n.clamp=function(t){return arguments.length?(l&&s?(g=!!t[0],p=!!t[1]):l?g=!!t:s&&(p=!!t),n):l&&s?[g,p]:l?g:s?p:null},n.extent=function(t){var e,r,u,i,c;return arguments.length?(l&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),e>r&&(c=e,e=r,r=c),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],l&&(u=u[1],i=i[1]),a=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(c=u,u=i,i=c),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(l&&(o?(e=o[0],r=o[1]):(e=f[0],r=f[1],l.invert&&(e=l.invert(e),r=l.invert(r)),e>r&&(c=e,e=r,r=c))),s&&(a?(u=a[0],i=a[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(c=u,u=i,i=c))),l&&s?[[e,u],[r,i]]:l?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&f[0]==f[1]||!!s&&h[0]==h[1]},ta.rebind(n,c,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ol=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Il=ac.format=gc.timeFormat,Yl=Il.utc,Zl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Il.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Zl,Jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Jo.toString=Zl.toString,ac.second=Ft(function(n){return new cc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ac.seconds=ac.second.range,ac.seconds.utc=ac.second.utc.range,ac.minute=Ft(function(n){return new cc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ac.minutes=ac.minute.range,ac.minutes.utc=ac.minute.utc.range,ac.hour=Ft(function(n){var t=n.getTimezoneOffset()/60;return new cc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ac.hours=ac.hour.range,ac.hours.utc=ac.hour.utc.range,ac.month=Ft(function(n){return n=ac.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ac.months=ac.month.range,ac.months.utc=ac.month.utc.range;var Vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[ac.second,1],[ac.second,5],[ac.second,15],[ac.second,30],[ac.minute,1],[ac.minute,5],[ac.minute,15],[ac.minute,30],[ac.hour,1],[ac.hour,3],[ac.hour,6],[ac.hour,12],[ac.day,1],[ac.day,2],[ac.week,1],[ac.month,1],[ac.month,3],[ac.year,1]],$l=Il.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ne]]),Bl={range:function(n,t,e){return ta.range(Math.ceil(n/e)*e,+t,e).map(Ko)},floor:y,ceil:y};Xl.year=ac.year,ac.scale=function(){return Go(ta.scale.linear(),Xl,$l)};var Wl=Xl.map(function(n){return[n[0].utc,n[1]]}),Jl=Yl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ne]]);Wl.year=ac.year.utc,ac.scale.utc=function(){return Go(ta.scale.linear(),Wl,Jl)},ta.text=At(function(n){return n.responseText}),ta.json=function(n,t){return Nt(n,"application/json",Qo,t)},ta.html=function(n,t){return Nt(n,"text/html",na,t)},ta.xml=At(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(ta):"object"==typeof module&&module.exports&&(module.exports=ta),this.d3=ta}();
!function(){function t(t,a){return{type:"Feature",id:t.id,properties:t.properties,geometry:n(t.geometry,a)}}function n(t,a){if(!t)return null;if("GeometryCollection"===t.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return n(t,a)})};if(!la.hasOwnProperty(t.type))return null;var r=la[t.type];return d3.geo.stream(t,a(r)),r.result()}function a(){}function r(t){if((n=t.length)<4)return!1;for(var n,a=0,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++a<n;)r+=t[a-1][1]*t[a][0]-t[a-1][0]*t[a][1];return 0>=r}function e(t,n){for(var a=n[0],r=n[1],e=!1,o=0,i=t.length,h=i-1;i>o;h=o++){var u=t[o],M=u[0],s=u[1],c=t[h],f=c[0],v=c[1];s>r^v>r&&(f-M)*(r-s)/(v-s)+M>a&&(e=!e)}return e}function o(t){return t?t/Math.sin(t):1}function i(t){return t>0?1:0>t?-1:0}function h(t){return t>1?pa:-1>t?-pa:Math.asin(t)}function u(t){return t>1?0:-1>t?ba:Math.acos(t)}function M(t){return t>0?Math.sqrt(t):0}function s(t){function n(t,n){var a=Math.cos(t),e=Math.cos(n),o=Math.sin(n),i=e*a,h=-((1-i?Math.log(.5*(1+i))/(1-i):-.5)+r/(1+i));return[h*e*Math.sin(t),h*o]}var a=Math.tan(.5*t),r=2*Math.log(Math.cos(.5*t))/(a*a);return n.invert=function(n,a){var e,o=Math.sqrt(n*n+a*a),i=t*-.5,u=50;if(!o)return[0,0];do{var M=.5*i,s=Math.cos(M),c=Math.sin(M),f=Math.tan(M),v=Math.log(1/s);i-=e=(2/f*v-r*f-o)/(-v/(c*c)+1-r/(2*s*s))}while(Math.abs(e)>ga&&--u>0);var l=Math.sin(i);return[Math.atan2(n*l,o*Math.cos(i)),h(a*l/o)]},n}function c(){var t=pa,n=Sa(s),a=n(t);return a.radius=function(a){return arguments.length?n(t=a*ba/180):180*(t/ba)},a}function f(t,n){var a=Math.cos(n),r=o(u(a*Math.cos(t/=2)));return[2*a*Math.sin(t)*r,Math.sin(n)*r]}function v(t){function n(t,n){var h=Math.cos(n),u=Math.cos(t/=2);return[(1+h)*Math.sin(t),(e*n>-Math.atan2(u,o)-.001?0:10*-e)+i+Math.sin(n)*r-(1+h)*a*u]}var a=Math.sin(t),r=Math.cos(t),e=t>0?1:-1,o=Math.tan(e*t),i=(1+a-r)/2;return n.invert=function(t,n){var h=0,u=0,M=50;do{var s=Math.cos(h),c=Math.sin(h),f=Math.cos(u),v=Math.sin(u),l=1+f,g=l*c-t,d=i+v*r-l*a*s-n,b=.5*l*s,p=-c*v,w=.5*a*l*c,q=r*f+a*s*v,m=p*w-q*b,y=.5*(d*p-g*q)/m,S=(g*w-d*b)/m;h-=y,u-=S}while((Math.abs(y)>ga||Math.abs(S)>ga)&&--M>0);return e*u>-Math.atan2(Math.cos(h),o)-.001?[2*h,u]:null},n}function l(){var t=ba/9,n=t>0?1:-1,a=Math.tan(n*t),r=Sa(v),e=r(t),o=e.stream;return e.parallel=function(e){return arguments.length?(a=Math.tan((n=(t=e*ba/180)>0?1:-1)*t),r(t)):180*(t/ba)},e.stream=function(r){var i=e.rotate(),h=o(r),u=(e.rotate([0,0]),o(r));return e.rotate(i),h.sphere=function(){u.polygonStart(),u.lineStart();for(var r=-180*n;180>n*r;r+=90*n)u.point(r,90*n);for(;n*(r-=t)>=-180;)u.point(r,n*-Math.atan2(Math.cos(r*qa/2),a)*ma);u.lineEnd(),u.polygonEnd()},h},e}function g(t){return t=Math.exp(2*t),(t-1)/(t+1)}function d(t){return.5*(Math.exp(t)-Math.exp(-t))}function b(t){return.5*(Math.exp(t)+Math.exp(-t))}function p(t){return Math.log(t+M(t*t+1))}function w(t){return Math.log(t+M(t*t-1))}function q(t,n){var a=Math.tan(n/2),r=M(1-a*a),e=1+r*Math.cos(t/=2),o=Math.sin(t)*r/e,i=a/e,h=o*o,u=i*i;return[4/3*o*(3+h-3*u),4/3*i*(3+3*h-u)]}function m(t,n){var a=Math.abs(n);return ba/4>a?[t,Math.log(Math.tan(ba/4+n/2))]:[t*Math.cos(a)*(2*Math.SQRT2-1/Math.sin(a)),i(n)*(2*Math.SQRT2*(a-ba/4)-Math.log(Math.tan(a/2)))]}function y(t){function n(t,n){var r=Ra(t,n);if(Math.abs(t)>pa){var e=Math.atan2(r[1],r[0]),o=Math.sqrt(r[0]*r[0]+r[1]*r[1]),i=a*Math.round((e-pa)/a)+pa,u=Math.atan2(Math.sin(e-=i),2-Math.cos(e));e=i+h(ba/o*Math.sin(u))-u,r[0]=o*Math.cos(e),r[1]=o*Math.sin(e)}return r}var a=2*ba/t;return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n);if(r>pa){var e=Math.atan2(n,t),o=a*Math.round((e-pa)/a)+pa,i=e>o?-1:1,h=r*Math.cos(o-e),u=1/Math.tan(i*Math.acos((h-ba)/Math.sqrt(ba*(ba-2*h)+r*r)));e=o+2*Math.atan((u+i*Math.sqrt(u*u-3))/3),t=r*Math.cos(e),n=r*Math.sin(e)}return Ra.invert(t,n)},n}function S(){var t=5,n=Sa(y),a=n(t),r=a.stream,e=.01,o=-Math.cos(e*qa),i=Math.sin(e*qa);return a.lobes=function(a){return arguments.length?n(t=+a):t},a.stream=function(n){var u=a.rotate(),M=r(n),s=(a.rotate([0,0]),r(n));return a.rotate(u),M.sphere=function(){s.polygonStart(),s.lineStart();for(var n=0,a=360/t,r=2*ba/t,u=90-180/t,M=pa;t>n;++n,u-=a,M-=r)s.point(Math.atan2(i*Math.cos(M),o)*ma,h(i*Math.sin(M))*ma),-90>u?(s.point(-90,-180-u-e),s.point(-90,-180-u+e)):(s.point(90,u+e),s.point(90,u-e));s.lineEnd(),s.polygonEnd()},M},a}function Q(t){return function(n){var a,r=t*Math.sin(n),e=30;do n-=a=(n+Math.sin(n)-r)/(1+Math.cos(n));while(Math.abs(a)>ga&&--e>0);return n/2}}function R(t,n,a){function r(a,r){return[t*a*Math.cos(r=e(r)),n*Math.sin(r)]}var e=Q(a);return r.invert=function(r,e){var o=h(e/n);return[r/(t*Math.cos(o)),h((2*o+Math.sin(2*o))/a)]},r}function T(t,n){var a=2.00276,r=Ta(n);return[a*t/(1/Math.cos(n)+1.11072/Math.cos(r)),(n+Math.SQRT2*Math.sin(r))/a]}function x(t){var n=0,a=Sa(t),r=a(n);return r.parallel=function(t){return arguments.length?a(n=t*ba/180):180*(n/ba)},r}function E(t,n){return[t*Math.cos(n),n]}function k(t){function n(n,r){var e=a+t-r,o=e?n*Math.cos(r)/e:e;return[e*Math.sin(o),a-e*Math.cos(o)]}if(!t)return E;var a=1/Math.tan(t);return n.invert=function(n,r){var e=Math.sqrt(n*n+(r=a-r)*r),o=a+t-e;return[e/Math.cos(o)*Math.atan2(n,r),o]},n}function P(t){function n(n,a){for(var r=Math.sin(a),e=Math.cos(a),o=new Array(3),M=0;3>M;++M){var s=t[M];if(o[M]=z(a-s[1],s[3],s[2],e,r,n-s[0]),!o[M][0])return s.point;o[M][1]=F(o[M][1]-s.v[1])}for(var c=u.slice(),M=0;3>M;++M){var f=2==M?0:M+1,v=B(t[M].v[0],o[M][0],o[f][0]);o[M][1]<0&&(v=-v),M?1==M?(v=i-v,c[0]-=o[M][0]*Math.cos(v),c[1]-=o[M][0]*Math.sin(v)):(v=h-v,c[0]+=o[M][0]*Math.cos(v),c[1]+=o[M][0]*Math.sin(v)):(c[0]+=o[M][0]*Math.cos(v),c[1]-=o[M][0]*Math.sin(v))}return c[0]/=3,c[1]/=3,c}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var a,r=t[2],e=0;3>e;++e,r=a)a=t[e],r.v=z(a[1]-r[1],r[3],r[2],a[3],a[2],a[0]-r[0]),r.point=[0,0];var o=B(t[0].v[0],t[2].v[0],t[1].v[0]),i=B(t[0].v[0],t[1].v[0],t[2].v[0]),h=ba-o;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(o),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(o))];return n}function _(){var t=[[0,0],[0,0],[0,0]],n=Sa(P),a=n(t),r=a.rotate;return delete a.rotate,a.points=function(e){if(!arguments.length)return t;t=e;var o=d3.geo.centroid({type:"MultiPoint",coordinates:t}),i=[-o[0],-o[1]];return r.call(a,i),n(t.map(d3.geo.rotation(i)).map(A))},a.points([[-150,55],[-35,55],[-92.5,10]])}function z(t,n,a,r,e,o){var i,M=Math.cos(o);if(Math.abs(t)>1||Math.abs(o)>1)i=u(a*e+n*r*M);else{var s=Math.sin(.5*t),c=Math.sin(.5*o);i=2*h(Math.sqrt(s*s+n*r*c*c))}return Math.abs(i)>ga?[i,Math.atan2(r*Math.sin(o),n*e-a*r*M)]:[0,0]}function B(t,n,a){return u(.5*(t*t+n*n-a*a)/(t*n))}function F(t){return t-2*ba*Math.floor((t+ba)/(2*ba))}function A(t){return[t[0]*qa,t[1]*qa]}function G(t,n){var a=M(1-Math.sin(n));return[2/wa*t*a,wa*(1-a)]}function j(t){function n(t,n){return[t,(t?t/Math.sin(t):1)*(Math.sin(n)*Math.cos(t)-a*Math.cos(n))]}var a=Math.tan(t);return n.invert=a?function(t,n){t&&(n*=Math.sin(t)/t);var r=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(r*r+a*a-n*n)-r,a-n)]}:function(t,n){return[t,h(t?n*Math.tan(t)/t:n)]},n}function C(t,n){var a=Math.sqrt(3);return[a*t*(2*Math.cos(2*n/3)-1)/wa,a*wa*Math.sin(n/3)]}function D(t){function n(t,n){return[t*a,Math.sin(n)/a]}var a=Math.cos(t);return n.invert=function(t,n){return[t/a,h(n*a)]},n}function L(t){function n(t,n){return[t*a,(1+a)*Math.tan(.5*n)]}var a=Math.cos(t);return n.invert=function(t,n){return[t/a,2*Math.atan(n/(1+a))]},n}function O(t,n){var a=Math.sqrt(8/(3*ba));return[a*t*(1-Math.abs(n)/ba),a*n]}function H(t,n){var a=Math.sqrt(4-3*Math.sin(Math.abs(n)));return[2/Math.sqrt(6*ba)*t*a,i(n)*Math.sqrt(2*ba/3)*(2-a)]}function I(t,n){var a=Math.sqrt(ba*(4+ba));return[2/a*t*(1+Math.sqrt(1-4*n*n/(ba*ba))),4/a*n]}function J(t,n){var a=(2+pa)*Math.sin(n);n/=2;for(var r=0,e=1/0;10>r&&Math.abs(e)>ga;r++){var o=Math.cos(n);n-=e=(n+Math.sin(n)*(o+2)-a)/(2*o*(1+o))}return[2/Math.sqrt(ba*(4+ba))*t*(1+Math.cos(n)),2*Math.sqrt(ba/(4+ba))*Math.sin(n)]}function K(t,n){return[t*(1+Math.cos(n))/Math.sqrt(2+ba),2*n/Math.sqrt(2+ba)]}function N(t,n){for(var a=(1+pa)*Math.sin(n),r=0,e=1/0;10>r&&Math.abs(e)>ga;r++)n-=e=(n+Math.sin(n)-a)/(1+Math.cos(n));return a=Math.sqrt(2+ba),[t*(1+Math.cos(n))/a,2*n/a]}function U(t,n){var a=Math.sin(t/=2),r=Math.cos(t),e=Math.sqrt(Math.cos(n)),o=Math.cos(n/=2),i=Math.sin(n)/(o+Math.SQRT2*r*e),h=Math.sqrt(2/(1+i*i)),u=Math.sqrt((Math.SQRT2*o+(r+a)*e)/(Math.SQRT2*o+(r-a)*e));return[ka*(h*(u-1/u)-2*Math.log(u)),ka*(h*i*(u+1/u)-2*Math.atan(i))]}function V(t,n){var a=Math.tan(n/2);return[t*Pa*M(1-a*a),(1+Pa)*a]}function W(t,n){var a=n/2,r=Math.cos(a);return[2*t/wa*Math.cos(n)*r*r,wa*Math.tan(a)]}function X(t,n){function a(n,a){var o=_a(n,a),i=o[0],h=o[1],u=i*i+h*h;if(u>e){var M=Math.sqrt(u),s=Math.atan2(h,i),c=r*Math.round(s/r),f=s-c,v=t*Math.cos(f),l=(t*Math.sin(f)-f*Math.sin(v))/(pa-v),g=Y(f,l),d=(ba-t)/$(g,v,ba);i=M;var b,p=50;do i-=b=(t+$(g,v,i)*d-M)/(g(i)*d);while(Math.abs(b)>ga&&--p>0);h=f*Math.sin(i),pa>i&&(h-=l*(i-pa));var w=Math.sin(c),q=Math.cos(c);o[0]=i*q-h*w,o[1]=i*w+h*q}return o}var r=2*ba/n,e=t*t;return a.invert=function(n,a){var o=n*n+a*a;if(o>e){var i=Math.sqrt(o),h=Math.atan2(a,n),u=r*Math.round(h/r),M=h-u,n=i*Math.cos(M);a=i*Math.sin(M);for(var s=n-pa,c=Math.sin(n),f=a/c,v=pa>n?1/0:0,l=10;;){var g=t*Math.sin(f),d=t*Math.cos(f),b=Math.sin(d),p=pa-d,w=(g-f*b)/p,q=Y(f,w);if(Math.abs(v)<da||!--l)break;f-=v=(f*c-w*s-a)/(c-2*s*(p*(d+f*g*Math.cos(d)-b)-g*(g-f*b))/(p*p))}i=t+$(q,d,n)*(ba-t)/$(q,d,ba),h=u+f,n=i*Math.cos(h),a=i*Math.sin(h)}return _a.invert(n,a)},a}function Y(t,n){return function(a){var r=t*Math.cos(a);return pa>a&&(r-=n),Math.sqrt(1+r*r)}}function Z(){var t=6,n=30*qa,a=Math.cos(n),r=Math.sin(n),e=Sa(X),o=e(n,t),i=o.stream,h=.01,u=-Math.cos(h*qa),M=Math.sin(h*qa);return o.radius=function(o){return arguments.length?(a=Math.cos(n=o*qa),r=Math.sin(n),e(n,t)):n*ma},o.lobes=function(a){return arguments.length?e(n,t=+a):t},o.stream=function(n){var e=o.rotate(),h=i(n),s=(o.rotate([0,0]),i(n));return o.rotate(e),h.sphere=function(){s.polygonStart(),s.lineStart();for(var n=0,e=2*ba/t,o=0;t>n;++n,o-=e)s.point(Math.atan2(M*Math.cos(o),u)*ma,Math.asin(M*Math.sin(o))*ma),s.point(Math.atan2(r*Math.cos(o-e/2),a)*ma,Math.asin(r*Math.sin(o-e/2))*ma);s.lineEnd(),s.polygonEnd()},h},o}function $(t,n,a){for(var r=50,e=(a-n)/r,o=t(n)+t(a),i=1,h=n;r>i;++i)o+=2*t(h+=e);return.5*o*e}function tn(t,n,a,r,e,o,i,h){function u(u,M){if(!M)return[t*u/ba,0];var s=M*M,c=t+s*(n+s*(a+s*r)),f=M*(e-1+s*(o-h+s*i)),v=(c*c+f*f)/(2*f),l=u*Math.asin(c/v)/ba;return[v*Math.sin(l),M*(1+s*h)+v*(1-Math.cos(l))]}return arguments.length<8&&(h=0),u.invert=function(u,s){var c,f,v=ba*u/t,l=s,g=50;do{var d=l*l,b=t+d*(n+d*(a+d*r)),p=l*(e-1+d*(o-h+d*i)),w=b*b+p*p,q=2*p,m=w/q,y=m*m,S=Math.asin(b/m)/ba,Q=v*S;if(xB2=b*b,dxBd=(2*n+d*(4*a+6*d*r))*l,dyBd=e+d*(3*o+5*d*i),dpd=2*(b*dxBd+p*(dyBd-1)),dqd=2*(dyBd-1),dmd=(dpd*q-w*dqd)/(q*q),cos=Math.cos(Q),sin=Math.sin(Q),mcos=m*cos,msin=m*sin,dd=v/ba*(1/M(1-xB2/y))*(dxBd*m-b*dmd)/y,fx=msin-u,fy=l*(1+d*h)+m-mcos-s,x=dmd*sin+mcos*dd,x=mcos*S,y=1+dmd-(dmd*cos-msin*dd),y=msin*S,denominator=x*y-y*x,!denominator)break;v-=c=(fy*x-fx*y)/denominator,l-=f=(fx*y-fy*x)/denominator}while((Math.abs(c)>ga||Math.abs(f)>ga)&&--g>0);return[v,l]},u}function nn(t,n){var a=t*t,r=n*n;return[t*(1-.162388*r)*(.87-952426e-9*a*a),n*(1+r/12)]}function an(t){function n(){var t=!1,n=Sa(a),r=n(t);return r.quincuncial=function(a){return arguments.length?n(t=!!a):t},r}function a(n){var a=n?function(n,a){var e=Math.abs(n)<pa,o=t(e?n:n>0?n-ba:n+ba,a),h=(o[0]-o[1])*Math.SQRT1_2,u=(o[0]+o[1])*Math.SQRT1_2;if(e)return[h,u];var M=r*Math.SQRT1_2,s=h>0^u>0?-1:1;return[s*h-i(u)*M,s*u-i(h)*M]}:function(n,a){var e=n>0?-.5:.5,o=t(n+e*ba,a);return o[0]-=e*r,o};return t.invert&&(a.invert=n?function(n,a){var e=(n+a)*Math.SQRT1_2,o=(a-n)*Math.SQRT1_2,i=Math.abs(e)<.5*r&&Math.abs(o)<.5*r;if(!i){var h=r*Math.SQRT1_2,u=e>0^o>0?-1:1,M=-u*(n+(o>0?1:-1)*h),s=-u*(a+(e>0?1:-1)*h);e=(-M-s)*Math.SQRT1_2,o=(M-s)*Math.SQRT1_2}var c=t.invert(e,o);return i||(c[0]+=e>0?ba:-ba),c}:function(n,a){var e=n>0?-.5:.5,o=t.invert(n+e*r,a),i=o[0]-e*ba;return-ba>i?i+=2*ba:i>ba&&(i-=2*ba),o[0]=i,o}),a}var r=t(pa,0)[0]-t(-pa,0)[0];return n.raw=a,n}function rn(t,n){var a=i(t),r=i(n),e=Math.cos(n),o=Math.cos(t)*e,u=Math.sin(t)*e,M=Math.sin(r*n);t=Math.abs(Math.atan2(u,M)),n=h(o),Math.abs(t-pa)>ga&&(t%=pa);var s=en(t>ba/4?pa-t:t,n);return t>ba/4&&(M=s[0],s[0]=-s[1],s[1]=-M),s[0]*=a,s[1]*=-r,s}function en(t,n){if(n===pa)return[0,0];var a=Math.sin(n),r=a*a,e=r*r,o=1+e,i=1+3*e,u=1-e,s=h(1/Math.sqrt(o)),c=u+r*o*s,f=(1-a)/c,v=Math.sqrt(f),l=f*o,g=Math.sqrt(l),d=v*u;if(0===t)return[0,-(d+r*g)];var b=Math.cos(n),p=1/b,w=2*a*b,q=(-3*r+s*i)*w,m=(-c*b-(1-a)*q)/(c*c),y=.5*m/v,S=u*y-2*r*v*w,Q=r*o*m+f*i*w,R=-p*w,T=-p*Q,x=-2*p*S,E=4*t/ba;if(t>.222*ba||ba/4>n&&t>.175*ba){var k=(d+r*M(l*(1+e)-d*d))/(1+e);if(t>ba/4)return[k,k];var P=k,_=.5*k,z=50;k=.5*(_+P);do{var B=Math.sqrt(l-k*k),F=k*(x+R*B)+T*h(k/g)-E;if(!F)break;0>F?_=k:P=k,k=.5*(_+P)}while(Math.abs(P-_)>ga&&--z>0)}else{var A,k=ga,z=25;do{var G=k*k,B=M(l-G),j=x+R*B,F=k*j+T*h(k/g)-E,C=j+(T-R*G)/B;k-=A=B?F/C:0}while(Math.abs(A)>ga&&--z>0)}return[k,-d-r*M(l-k*k)]}function on(t,n){for(var a=0,r=1,e=.5,o=50;;){var i=e*e,h=Math.sqrt(e),u=Math.asin(1/Math.sqrt(1+i)),M=1-i+e*(1+i)*u,s=(1-h)/M,c=Math.sqrt(s),f=s*(1+i),v=c*(1-i),l=f-t*t,g=Math.sqrt(l),d=n+v+e*g;if(Math.abs(r-a)<da||0===--o||0===d)break;d>0?a=e:r=e,e=.5*(a+r)}if(!o)return null;var b=Math.asin(h),p=Math.cos(b),w=1/p,q=2*h*p,m=(-3*e+u*(1+3*i))*q,y=(-M*p-(1-h)*m)/(M*M),S=.5*y/c,Q=(1-i)*S-2*e*c*q,R=-2*w*Q,T=-w*q,x=-w*(e*(1+i)*y+s*(1+3*i)*q);return[ba/4*(t*(R+T*g)+x*Math.asin(t/Math.sqrt(f))),b]}function hn(t,n,a){if(!t){var r=un(n,1-a);return[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}var e=un(t,a);if(!n)return[[e[0],0],[e[1],0],[e[2],0]];var r=un(n,1-a),o=r[1]*r[1]+a*e[0]*e[0]*r[0]*r[0];return[[e[0]*r[2]/o,e[1]*e[2]*r[0]*r[1]/o],[e[1]*r[1]/o,-e[0]*e[2]*r[0]*r[2]/o],[e[2]*r[1]*r[2]/o,-a*e[0]*e[1]*r[0]/o]]}function un(t,n){var a,r,e,o,i;if(ga>n)return o=Math.sin(t),r=Math.cos(t),a=.25*n*(t-o*r),[o-a*r,r+a*o,1-.5*n*o*o,t-a];if(n>=1-ga)return a=.25*(1-n),r=b(t),o=g(t),e=1/r,i=r*d(t),[o+a*(i-t)/(r*r),e-a*o*e*(i-t),e+a*o*e*(i+t),2*Math.atan(Math.exp(t))-pa+a*(i-t)/r];var u=[1,0,0,0,0,0,0,0,0],s=[Math.sqrt(n),0,0,0,0,0,0,0,0],c=0;for(r=Math.sqrt(1-n),i=1;Math.abs(s[c]/u[c])>ga&&8>c;)a=u[c++],s[c]=.5*(a-r),u[c]=.5*(a+r),r=M(a*r),i*=2;e=i*u[c]*t;do o=s[c]*Math.sin(r=e)/u[c],e=.5*(h(o)+e);while(--c);return[Math.sin(e),o=Math.cos(e),o/Math.cos(e-r),e]}function Mn(t,n,a){var r=Math.abs(t),e=Math.abs(n),o=d(e);if(r){var h=1/Math.sin(r),u=1/(Math.tan(r)*Math.tan(r)),s=-(u+a*o*o*h*h-1+a),c=(a-1)*u,f=.5*(-s+Math.sqrt(s*s-4*c));return[sn(Math.atan(1/Math.sqrt(f)),a)*i(t),sn(Math.atan(M((f/u-1)/a)),1-a)*i(n)]}return[0,sn(Math.atan(o),1-a)*i(n)]}function sn(t,n){if(!n)return t;if(1===n)return Math.log(Math.tan(t/2+ba/4));for(var a=1,r=Math.sqrt(1-n),e=Math.sqrt(n),o=0;Math.abs(e)>ga;o++){if(t%ba){var i=Math.atan(r*Math.tan(t)/a);0>i&&(i+=ba),t+=i+~~(t/ba)*ba}else t+=t;e=(a+r)/2,r=Math.sqrt(a*r),e=((a=e)-r)/2}return t/(Math.pow(2,o)*a)}function cn(t,n){var a=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-a*a),e=sn(pa,r*r),o=-1,i=Math.log(Math.tan(ba/4+Math.abs(n)/2)),h=Math.exp(o*i)/Math.sqrt(a),u=fn(h*Math.cos(o*t),h*Math.sin(o*t)),M=Mn(u[0],u[1],r*r);return[-M[1],(n>=0?1:-1)*(.5*e-M[0])]}function fn(t,n){var a=t*t,r=n+1,e=1-a-n*n;return[.5*((t>=0?pa:-pa)-Math.atan2(e,2*t)),-.25*Math.log(e*e+4*a)+.5*Math.log(r*r+a)]}function vn(t,n){var a=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/a,(t[1]*n[0]-t[0]*n[1])/a]}function ln(t){function n(t,n){var o=e(t,n);t=o[0],n=o[1];var i=Math.sin(n),h=Math.cos(n),M=Math.cos(t),s=u(a*i+r*h*M),c=Math.sin(s),f=Math.abs(c)>ga?s/c:1;return[f*r*Math.sin(t),(Math.abs(t)>pa?f:-f)*(a*h-r*i*M)]}var a=Math.sin(t),r=Math.cos(t),e=gn(t);return e.invert=gn(-t),n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=-Math.sin(r),i=Math.cos(r),h=r*i,u=-n*o,s=r*a,c=M(h*h+u*u-s*s),f=Math.atan2(h*s+u*c,u*s-h*c),v=(r>pa?-1:1)*Math.atan2(t*o,r*Math.cos(f)*i+n*Math.sin(f)*o);return e.invert(v,f)},n}function gn(t){var n=Math.sin(t),a=Math.cos(t);return function(t,r){var e=Math.cos(r),o=Math.cos(t)*e,i=Math.sin(t)*e,u=Math.sin(r);return[Math.atan2(i,o*a-u*n),h(u*a+o*n)]}}function dn(){var t=0,n=Sa(ln),a=n(t),r=a.rotate,e=a.stream,o=d3.geo.circle();return a.parallel=function(r){if(!arguments.length)return 180*(t/ba);var e=a.rotate();return n(t=r*ba/180).rotate(e)},a.rotate=function(n){return arguments.length?(r.call(a,[n[0],n[1]-180*(t/ba)]),o.origin([-n[0],-n[1]]),a):(n=r.call(a),n[1]+=180*(t/ba),n)},a.stream=function(t){return t=e(t),t.sphere=function(){t.polygonStart();var n,a=.01,r=o.angle(90-a)().coordinates[0],e=r.length-1,i=-1;for(t.lineStart();++i<e;)t.point((n=r[i])[0],n[1]);for(t.lineEnd(),r=o.angle(90+a)().coordinates[0],e=r.length-1,t.lineStart();--i>=0;)t.point((n=r[i])[0],n[1]);t.lineEnd(),t.polygonEnd()},t},a}function bn(t,n){function a(a,r){var e=Ga(a/n,r);return e[0]*=t,e}return arguments.length<2&&(n=t),1===n?Ga:1/0===n?wn:(a.invert=function(a,r){var e=Ga.invert(a/t,r);return e[0]*=n,e},a)}function pn(){var t=2,n=Sa(bn),a=n(t);return a.coefficient=function(a){return arguments.length?n(t=+a):t},a}function wn(t,n){return[t*Math.cos(n)/Math.cos(n/=2),2*Math.sin(n)]}function qn(t,n){for(var a,r=Math.sin(n)*(0>n?2.43763:2.67595),e=0;20>e&&(n-=a=(n+Math.sin(n)-r)/(1+Math.cos(n)),!(Math.abs(a)<ga));e++);return[.85*t*Math.cos(n*=.5),Math.sin(n)*(0>n?1.93052:1.75859)]}function mn(t){function n(n,s){var c,f=Math.abs(s);if(f>r){var v=Math.min(t-1,Math.max(0,Math.floor((n+ba)/M)));n+=ba*(t-1)/t-v*M,c=d3.geo.collignon.raw(n,f),c[0]=c[0]*e/o-e*(t-1)/(2*t)+v*e/t,c[1]=i+4*(c[1]-h)*u/e,0>s&&(c[1]=-c[1])}else c=a(n,s);return c[0]/=2,c}var a=d3.geo.cylindricalEqualArea.raw(0),r=ja*ba/180,e=2*ba,o=d3.geo.collignon.raw(ba,r)[0]-d3.geo.collignon.raw(-ba,r)[0],i=a(0,r)[1],h=d3.geo.collignon.raw(0,r)[1],u=d3.geo.collignon.raw(0,pa)[1]-h,M=2*ba/t;return n.invert=function(n,r){n*=2;var s=Math.abs(r);if(s>i){var c=Math.min(t-1,Math.max(0,Math.floor((n+ba)/M)));n=(n+ba*(t-1)/t-c*M)*o/e;var f=d3.geo.collignon.raw.invert(n,.25*(s-i)*e/u+h);return f[0]-=ba*(t-1)/t-c*M,0>r&&(f[1]=-f[1]),f}return a.invert(n,r)},n}function yn(){function t(){var t=180/n;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,n){return[t,1&n?90-1e-6:ja]}).concat(d3.range(180,-180-t/2,-t).map(function(t,n){return[t,1&n?-90+1e-6:-ja]}))]}}var n=2,a=Sa(mn),r=a(n),e=r.stream;return r.lobes=function(t){return arguments.length?a(n=+t):n},r.stream=function(n){var a=r.rotate(),o=e(n),i=(r.rotate([0,0]),e(n));return r.rotate(a),o.sphere=function(){d3.geo.stream(t(),i)},o},r}function Sn(t){function n(n,e){var h,u,f=1-Math.sin(e);if(f&&2>f){var v,l=pa-e,g=25;do{var d=Math.sin(l),b=Math.cos(l),p=o+Math.atan2(d,r-b),w=1+c-2*r*b;l-=v=(l-s*o-r*d+w*p-.5*f*a)/(2*r*d*p)}while(Math.abs(v)>da&&--g>0);h=i*Math.sqrt(w),u=n*p/ba}else h=i*(t+f),u=n*o/ba;return[h*Math.sin(u),M-h*Math.cos(u)]}var a,r=1+t,e=Math.sin(1/r),o=h(e),i=2*Math.sqrt(ba/(a=ba+4*o*r)),M=.5*i*(r+Math.sqrt(t*(2+t))),s=t*t,c=r*r;return n.invert=function(t,n){var e=t*t+(n-=M)*n,f=(1+c-e/(i*i))/(2*r),v=u(f),l=Math.sin(v),g=o+Math.atan2(l,r-f);return[h(t/Math.sqrt(e))*ba/g,h(1-2*(v-s*o-r*l+(1+c-2*r*f)*g)/a)]},n}function Qn(){var t=1,n=Sa(Sn),a=n(t);return a.ratio=function(a){return arguments.length?n(t=+a):t},a}function Rn(t,n){return n>-Ca?(t=xa(t,n),t[1]+=Da,t):E(t,n)}function Tn(t,n){return Math.abs(n)>Ca?(t=xa(t,n),t[1]-=n>0?Da:-Da,t):E(t,n)}function xn(t,n){return[3*t/(2*ba)*Math.sqrt(ba*ba/3-n*n),n]}function En(t){function n(n,a){if(Math.abs(Math.abs(a)-pa)<ga)return[0,0>a?-2:2];var r=Math.sin(a),e=Math.pow((1+r)/(1-r),t/2),o=.5*(e+1/e)+Math.cos(n*=t);return[2*Math.sin(n)/o,(e-1/e)/o]}return n.invert=function(n,a){var r=Math.abs(a);if(Math.abs(r-2)<ga)return n?null:[0,i(a)*pa];if(r>2)return null;n/=2,a/=2;var e=n*n,o=a*a,u=2*a/(1+e+o);return u=Math.pow((1+u)/(1-u),1/t),[Math.atan2(2*n,1-e-o)/t,h((u-1)/(u+1))]},n}function kn(){var t=.5,n=Sa(En),a=n(t);return a.spacing=function(a){return arguments.length?n(t=+a):t},a}function Pn(t,n){return[t*(1+Math.sqrt(Math.cos(n)))/2,n/(Math.cos(n/2)*Math.cos(t/6))]}function _n(t,n){var a=t*t,r=n*n;return[t*(.975534+r*(-.119161+a*-.0143059+r*-.0547009)),n*(1.00384+a*(.0802894+r*-.02855+199025e-9*a)+r*(.0998909+r*-.0491032))]}function zn(t,n){return[Math.sin(t)/Math.cos(n),Math.tan(n)*Math.cos(t)]}function Bn(t){function n(n,e){var o=e-t,i=Math.abs(o)<ga?n*a:Math.abs(i=ba/4+e/2)<ga||Math.abs(Math.abs(i)-pa)<ga?0:n*o/Math.log(Math.tan(i)/r);return[i,o]}var a=Math.cos(t),r=Math.tan(ba/4+t/2);return n.invert=function(n,e){var o,i=e+t;return[Math.abs(e)<ga?n/a:Math.abs(o=ba/4+i/2)<ga||Math.abs(Math.abs(o)-pa)<ga?0:n*Math.log(Math.tan(o)/r)/e,i]},n}function Fn(t,n){return[t,1.25*Math.log(Math.tan(ba/4+.4*n))]}function An(t){function n(n,r){for(var e,o=Math.cos(r),i=2/(1+o*Math.cos(n)),h=i*o*Math.sin(n),u=i*Math.sin(r),M=a,s=t[M],c=s[0],f=s[1];--M>=0;)s=t[M],c=s[0]+h*(e=c)-u*f,f=s[1]+h*f+u*e;return c=h*(e=c)-u*f,f=h*f+u*e,[c,f]}var a=t.length-1;return n.invert=function(n,r){var e=20,o=n,i=r;do{for(var u,M=a,s=t[M],c=s[0],f=s[1],v=0,l=0;--M>=0;)s=t[M],v=c+o*(u=v)-i*l,l=f+o*l+i*u,c=s[0]+o*(u=c)-i*f,f=s[1]+o*f+i*u;v=c+o*(u=v)-i*l,l=f+o*l+i*u,c=o*(u=c)-i*f-n,f=o*f+i*u-r;var g,d,b=v*v+l*l;o-=g=(c*v+f*l)/b,i-=d=(f*v-c*l)/b}while(Math.abs(g)+Math.abs(d)>ga*ga&&--e>0);if(e){var p=Math.sqrt(o*o+i*i),w=2*Math.atan(.5*p),q=Math.sin(w);return[Math.atan2(o*q,p*Math.cos(w)),p?h(i*q/p):0]}},n}function Gn(){var t=La.miller,n=Sa(An),a=n(t);return a.coefficients=function(a){return arguments.length?n(t="string"==typeof a?La[a]:a):t},a}function jn(t,n){var a=Math.sqrt(6),r=Math.sqrt(7),e=Math.asin(7*Math.sin(n)/(3*a));return[a*t*(2*Math.cos(2*e/3)-1)/r,9*Math.sin(e/3)/r]}function Cn(t,n){for(var a,r=(1+Math.SQRT1_2)*Math.sin(n),e=n,o=0;25>o&&(e-=a=(Math.sin(e/2)+Math.sin(e)-r)/(.5*Math.cos(e/2)+Math.cos(e)),!(Math.abs(a)<ga));o++);return[t*(1+2*Math.cos(e)/Math.cos(e/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(e/2)/Math.sqrt(2+Math.SQRT2)]}function Dn(t,n){for(var a,r=Math.sqrt(6/(4+ba)),e=(1+ba/4)*Math.sin(n),o=n/2,i=0;25>i&&(o-=a=(o/2+Math.sin(o)-e)/(.5+Math.cos(o)),!(Math.abs(a)<ga));i++);return[r*(.5+Math.cos(o))*t/1.5,r*o]}function Ln(t,n){var a=n*n,r=a*a;return[t*(.8707-.131979*a+r*(-.013791+r*(.003971*a-.001529*r))),n*(1.007226+a*(.015085+r*(-.044475+.028874*a-.005916*r)))]}function On(t,n){return[t*(1+Math.cos(n))/2,2*(n-Math.tan(n/2))]}function Hn(t,n){var a=n*n;return[t,n*(Oa+a*a*(Ha+a*(Ia+Ja*a)))]}function In(t,n){if(Math.abs(n)<ga)return[t,0];var a=Math.tan(n),r=t*Math.sin(n);return[Math.sin(r)/a,n+(1-Math.cos(r))/a]}function Jn(t){function n(n,r){var e=a?Math.tan(n*a/2)/a:n/2;if(!r)return[2*e,-t];var o=2*Math.atan(e*Math.sin(r)),i=1/Math.tan(r);return[Math.sin(o)*i,r+(1-Math.cos(o))*i-t]}var a=Math.sin(t);return n.invert=function(n,r){if(Math.abs(r+=t)<ga)return[a?2*Math.atan(a*n/2)/a:n,0];var e,o=n*n+r*r,i=0,M=10;do{var s=Math.tan(i),c=1/Math.cos(i),f=o-2*r*i+i*i;i-=e=(s*f+2*(i-r))/(2+f*c*c+2*(i-r)*s)}while(Math.abs(e)>ga&&--M>0);var v=n*(s=Math.tan(i)),l=Math.tan(Math.abs(r)<Math.abs(i+1/s)?.5*h(v):.5*u(v)+ba/4)/Math.sin(i);return[a?2*Math.atan(a*l)/a:2*l,i]},n}function Kn(t,n){var a,r=Math.min(18,36*Math.abs(n)/ba),e=Math.floor(r),o=r-e,i=(a=Ya[e])[0],h=a[1],u=(a=Ya[++e])[0],M=a[1],s=(a=Ya[Math.min(19,++e)])[0],c=a[1];return[t*(u+o*(s-i)/2+o*o*(s-2*u+i)/2),(n>0?pa:-pa)*(M+o*(c-h)/2+o*o*(c-2*M+h)/2)]}function Nn(t){function n(n,a){var r=Math.cos(a),e=(t-1)/(t-r*Math.cos(n));return[e*r*Math.sin(n),e*Math.sin(a)]}return n.invert=function(n,a){var r=n*n+a*a,e=Math.sqrt(r),o=(t-Math.sqrt(1-r*(t+1)/(t-1)))/((t-1)/e+e/(t-1));return[Math.atan2(n*o,e*Math.sqrt(1-o*o)),e?h(a*o/e):0]},n}function Un(t,n){function a(n,a){var i=r(n,a),h=i[1],u=h*o/(t-1)+e;return[i[0]*e/u,h/u]}var r=Nn(t);if(!n)return r;var e=Math.cos(n),o=Math.sin(n);return a.invert=function(n,a){var i=(t-1)/(t-1-a*o);return r.invert(i*n,i*a*e)},a}function Vn(){var t=1.4,n=0,a=Sa(Un),r=a(t,n);return r.distance=function(r){return arguments.length?a(t=+r,n):t},r.tilt=function(r){return arguments.length?a(t,n=r*ba/180):180*n/ba},r}function Wn(t,n){var a=Math.tan(n/2),r=Math.sin(ba/4*a);return[t*(.74482-.34588*r*r),1.70711*a]}function Xn(t){function n(n,o){var i=u(Math.cos(o)*Math.cos(n-a)),h=u(Math.cos(o)*Math.cos(n-r)),s=0>o?-1:1;return i*=i,h*=h,[(i-h)/(2*t),s*M(4*e*h-(e-i+h)*(e-i+h))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var a=-t/2,r=-a,e=t*t,o=Math.tan(r),i=.5/Math.sin(r);return n.invert=function(t,n){var e,h,M=n*n,s=Math.cos(Math.sqrt(M+(e=t+a)*e)),c=Math.cos(Math.sqrt(M+(e=t+r)*e));return[Math.atan2(h=s-c,e=(s+c)*o),(0>n?-1:1)*u(Math.sqrt(e*e+h*h)*i)]},n}function Yn(){var t=[[0,0],[0,0]],n=Sa(Xn),a=n(0),r=a.rotate;return delete a.rotate,a.points=function(a){if(!arguments.length)return t;t=a;var e=d3.geo.interpolate(a[0],a[1]),o=e(.5),i=d3.geo.rotation([-o[0],-o[1]])(a[0]),u=.5*e.distance,M=-h(Math.sin(i[1]*qa)/Math.sin(u));return i[0]>0&&(M=ba-M),r.call(i,[-o[0],-o[1],-M*ma]),n(2*u)},a}function Zn(t){function n(t,n){var r=d3.geo.gnomonic.raw(t,n);return r[0]*=a,r}var a=Math.cos(t);return n.invert=function(t,n){return d3.geo.gnomonic.raw.invert(t/a,n)},n}function $n(){var t=[[0,0],[0,0]],n=Sa(Zn),a=n(0),r=a.rotate;return delete a.rotate,a.points=function(a){if(!arguments.length)return t;t=a;var e=d3.geo.interpolate(a[0],a[1]),o=e(.5),i=d3.geo.rotation([-o[0],-o[1]])(a[0]),u=.5*e.distance,M=-h(Math.sin(i[1]*qa)/Math.sin(u));return i[0]>0&&(M=ba-M),r.call(i,[-o[0],-o[1],-M*ma]),n(u)},a}function ta(t,n){if(Math.abs(n)<ga)return[t,0];var a=Math.abs(n/pa),r=h(a);if(Math.abs(t)<ga||Math.abs(Math.abs(n)-pa)<ga)return[0,i(n)*ba*Math.tan(r/2)];var e=Math.cos(r),o=Math.abs(ba/t-t/ba)/2,u=o*o,M=e/(a+e-1),s=M*(2/a-1),c=s*s,f=c+u,v=M-c,l=u+M;return[i(t)*ba*(o*v+Math.sqrt(u*v*v-f*(M*M-c)))/f,i(n)*ba*(s*l-o*Math.sqrt((u+1)*f-l*l))/f]}function na(t,n){if(Math.abs(n)<ga)return[t,0];var a=Math.abs(n/pa),r=h(a);if(Math.abs(t)<ga||Math.abs(Math.abs(n)-pa)<ga)return[0,i(n)*ba*Math.tan(r/2)];var e=Math.cos(r),o=Math.abs(ba/t-t/ba)/2,u=o*o,s=e*(Math.sqrt(1+u)-o*e)/(1+u*a*a);return[i(t)*ba*s,i(n)*ba*M(1-s*(2*o+s))]}function aa(t,n){if(Math.abs(n)<ga)return[t,0];var a=n/pa,r=h(a);if(Math.abs(t)<ga||Math.abs(Math.abs(n)-pa)<ga)return[0,ba*Math.tan(r/2)];var e=(ba/t-t/ba)/2,o=a/(1+Math.cos(r));return[ba*(i(t)*M(e*e+1-o*o)-e),ba*o]}function ra(t,n){if(!n)return[t,0];var a=Math.abs(n);if(!t||a===pa)return[0,n];var r=a/pa,e=r*r,o=(8*r-e*(e+2)-5)/(2*e*(r-1)),h=o*o,u=r*o,s=e+h+2*u,c=r+3*o,f=t/pa,v=f+1/f,l=i(Math.abs(t)-pa)*Math.sqrt(v*v-4),g=l*l,d=s*(e+h*g-1)+(1-e)*(e*(c*c+4*h)+12*u*h+4*h*h),b=(l*(s+h-1)+2*M(d))/(4*s+g);return[i(t)*pa*b,i(n)*pa*M(1+l*Math.abs(b)-b*b)]}function ea(t,n){return[t*Math.sqrt(1-3*n*n/(ba*ba)),n]}function oa(t,n){var a=.90631*Math.sin(n),r=Math.sqrt(1-a*a),e=Math.sqrt(2/(1+r*Math.cos(t/=3)));return[2.66723*r*e*Math.sin(t),1.24104*a*e]}function ia(t,n){var a=Math.cos(n),r=Math.cos(t)*a,e=1-r,o=Math.cos(t=Math.atan2(Math.sin(t)*a,-Math.sin(n))),i=Math.sin(t);return a=M(1-r*r),[i*a-o*e,-o*a-i*e]}function ha(t,n){var a=f(t,n);return[(a[0]+t/pa)/2,(a[1]+n)/2]}d3.geo.project=function(t,a){var r=a.stream;if(!r)throw new Error("not yet supported");return(t&&ua.hasOwnProperty(t.type)?ua[t.type]:n)(t,r)};var ua={Feature:t,FeatureCollection:function(n,a){return{type:"FeatureCollection",features:n.features.map(function(n){return t(n,a)})}}},Ma=[],sa=[],ca={point:function(t,n){Ma.push([t,n])},result:function(){var t=Ma.length?Ma.length<2?{type:"Point",coordinates:Ma[0]}:{type:"MultiPoint",coordinates:Ma}:null;return Ma=[],t}},fa={lineStart:a,point:function(t,n){Ma.push([t,n])},lineEnd:function(){Ma.length&&(sa.push(Ma),Ma=[])},result:function(){var t=sa.length?sa.length<2?{type:"LineString",coordinates:sa[0]}:{type:"MultiLineString",coordinates:sa}:null;return sa=[],t}},va={polygonStart:a,lineStart:a,point:function(t,n){Ma.push([t,n])},lineEnd:function(){var t=Ma.length;if(t){do Ma.push(Ma[0].slice());while(++t<4);sa.push(Ma),Ma=[]}},polygonEnd:a,result:function(){if(!sa.length)return null;var t=[],n=[];return sa.forEach(function(a){r(a)?t.push([a]):n.push(a)}),n.forEach(function(n){var a=n[0];t.some(function(t){return e(t[0],a)?(t.push(n),!0):void 0})||t.push([n])}),sa=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},la={Point:ca,MultiPoint:ca,LineString:fa,MultiLineString:fa,Polygon:va,MultiPolygon:va,Sphere:va},ga=1e-6,da=ga*ga,ba=Math.PI,pa=ba/2,wa=Math.sqrt(ba),qa=ba/180,ma=180/ba,ya=d3.geo.projection,Sa=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function n(n,a){for(var r=0>a?-1:1,e=h[+(0>a)],o=0,i=e.length-1;i>o&&n>e[o][2][0];++o);var u=t(n-e[o][1][0],a);return u[0]+=t(e[o][1][0],r*a>r*e[o][0][1]?e[o][0][1]:a)[0],u}function a(){i=h.map(function(n){return n.map(function(n){var a,r=t(n[0][0],n[0][1])[0],e=t(n[2][0],n[2][1])[0],o=t(n[1][0],n[0][1])[1],i=t(n[1][0],n[1][1])[1];return o>i&&(a=o,o=i,i=a),[[r,o],[e,i]]})})}function r(){for(var t=1e-6,n=[],a=0,r=h[0].length;r>a;++a){var o=h[0][a],i=180*o[0][0]/ba,u=180*o[0][1]/ba,M=180*o[1][1]/ba,s=180*o[2][0]/ba,c=180*o[2][1]/ba;n.push(e([[i+t,u+t],[i+t,M-t],[s-t,M-t],[s-t,c+t]],30))}for(var a=h[1].length-1;a>=0;--a){var o=h[1][a],i=180*o[0][0]/ba,u=180*o[0][1]/ba,M=180*o[1][1]/ba,s=180*o[2][0]/ba,c=180*o[2][1]/ba;n.push(e([[s-t,c-t],[s-t,M+t],[i+t,M+t],[i+t,u-t]],30))}return{type:"Polygon",coordinates:[d3.merge(n)]}}function e(t,n){for(var a,r,e,o=-1,i=t.length,h=t[0],u=[];++o<i;){a=t[o],r=(a[0]-h[0])/n,e=(a[1]-h[1])/n;for(var M=0;n>M;++M)u.push([h[0]+M*r,h[1]+M*e]);h=a}return u.push(a),u}function o(t,n){return Math.abs(t[0]-n[0])<ga&&Math.abs(t[1]-n[1])<ga}var i,h=[[[[-ba,0],[0,pa],[ba,0]]],[[[-ba,0],[0,-pa],[ba,0]]]];t.invert&&(n.invert=function(a,r){for(var e=i[+(0>r)],u=h[+(0>r)],M=0,s=e.length;s>M;++M){var c=e[M];if(c[0][0]<=a&&a<c[1][0]&&c[0][1]<=r&&r<c[1][1]){var f=t.invert(a-t(u[M][1][0],0)[0],r);return f[0]+=u[M][1][0],o(n(f[0],f[1]),[a,r])?f:null}}});var u=d3.geo.projection(n),M=u.stream;return u.stream=function(t){var n=u.rotate(),a=M(t),e=(u.rotate([0,0]),M(t));return u.rotate(n),a.sphere=function(){d3.geo.stream(r(),e)},a},u.lobes=function(t){return arguments.length?(h=t.map(function(t){return t.map(function(t){return[[t[0][0]*ba/180,t[0][1]*ba/180],[t[1][0]*ba/180,t[1][1]*ba/180],[t[2][0]*ba/180,t[2][1]*ba/180]]})}),a(),u):h.map(function(t){return t.map(function(t){return[[180*t[0][0]/ba,180*t[0][1]/ba],[180*t[1][0]/ba,180*t[1][1]/ba],[180*t[2][0]/ba,180*t[2][1]/ba]]})})},u},(d3.geo.airy=c).raw=s,f.invert=function(t,n){if(!(t*t+4*n*n>ba*ba+ga)){var a=t,r=n,e=25;do{var o,i=Math.sin(a),h=Math.sin(a/2),M=Math.cos(a/2),s=Math.sin(r),c=Math.cos(r),f=Math.sin(2*r),v=s*s,l=c*c,g=h*h,d=1-l*M*M,b=d?u(c*M)*Math.sqrt(o=1/d):o=0,p=2*b*c*h-t,w=b*s-n,q=o*(l*g+b*c*M*v),m=o*(.5*i*f-2*b*s*h),y=.25*o*(f*h-b*s*l*i),S=o*(v*M+b*g*c),Q=m*y-S*q;if(!Q)break;var R=(w*m-p*S)/Q,T=(p*y-w*q)/Q;a-=R,r-=T}while((Math.abs(R)>ga||Math.abs(T)>ga)&&--e>0);return[a,r]}},(d3.geo.aitoff=function(){return ya(f)}).raw=f,(d3.geo.armadillo=l).raw=v,q.invert=function(t,n){if(t*=3/8,n*=3/8,!t&&Math.abs(n)>1)return null;var a=t*t,r=n*n,e=1+a+r,o=Math.sqrt(.5*(e-Math.sqrt(e*e-4*n*n))),u=h(o)/3,M=o?w(Math.abs(n/o))/3:p(Math.abs(t))/3,s=Math.cos(u),c=b(M),f=c*c-s*s;return[2*i(t)*Math.atan2(d(M)*s,.25-f),2*i(n)*Math.atan2(c*Math.sin(u),.25+f)]},(d3.geo.august=function(){return ya(q)}).raw=q;var Qa=Math.log(1+Math.SQRT2);m.invert=function(t,n){if((r=Math.abs(n))<Qa)return[t,2*Math.atan(Math.exp(n))-pa];var a,r,e=Math.sqrt(8),o=ba/4,h=25;do{var u=Math.cos(o/2),M=Math.tan(o/2);o-=a=(e*(o-ba/4)-Math.log(M)-r)/(e-.5*u*u/M)}while(Math.abs(a)>da&&--h>0);return[t/(Math.cos(o)*(e-1/Math.sin(o))),i(n)*o]},(d3.geo.baker=function(){return ya(m)
}).raw=m;var Ra=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=S).raw=y;var Ta=Q(ba),xa=R(Math.SQRT2/pa,Math.SQRT2,ba);(d3.geo.mollweide=function(){return ya(xa)}).raw=xa,T.invert=function(t,n){var a,r,e=2.00276,o=e*n,i=0>n?-ba/4:ba/4,h=25;do r=o-Math.SQRT2*Math.sin(i),i-=a=(Math.sin(2*i)+2*i-ba*Math.sin(r))/(2*Math.cos(2*i)+2+ba*Math.cos(r)*Math.SQRT2*Math.cos(i));while(Math.abs(a)>ga&&--h>0);return r=o-Math.SQRT2*Math.sin(i),[t*(1/Math.cos(r)+1.11072/Math.cos(i))/e,r]},(d3.geo.boggs=function(){return ya(T)}).raw=T,E.invert=function(t,n){return[t/Math.cos(n),n]},(d3.geo.sinusoidal=function(){return ya(E)}).raw=E,(d3.geo.bonne=function(){return x(k).parallel(45)}).raw=k;var Ea=R(1,4/ba,ba);(d3.geo.bromley=function(){return ya(Ea)}).raw=Ea,(d3.geo.chamberlin=_).raw=P,G.invert=function(t,n){var a=(a=n/wa-1)*a;return[a>0?t*Math.sqrt(ba/a)/2:0,h(1-a)]},(d3.geo.collignon=function(){return ya(G)}).raw=G,(d3.geo.craig=function(){return x(j)}).raw=j,C.invert=function(t,n){var a=Math.sqrt(3),r=3*h(n/(a*wa));return[wa*t/(a*(2*Math.cos(2*r/3)-1)),r]},(d3.geo.craster=function(){return ya(C)}).raw=C,(d3.geo.cylindricalEqualArea=function(){return x(D)}).raw=D,(d3.geo.cylindricalStereographic=function(){return x(L)}).raw=L,O.invert=function(t,n){var a=Math.sqrt(8/(3*ba)),r=n/a;return[t/(a*(1-Math.abs(r)/ba)),r]},(d3.geo.eckert1=function(){return ya(O)}).raw=O,H.invert=function(t,n){var a=2-Math.abs(n)/Math.sqrt(2*ba/3);return[t*Math.sqrt(6*ba)/(2*a),i(n)*h((4-a*a)/3)]},(d3.geo.eckert2=function(){return ya(H)}).raw=H,I.invert=function(t,n){var a=Math.sqrt(ba*(4+ba))/2;return[t*a/(1+M(1-n*n*(4+ba)/(4*ba))),n*a/2]},(d3.geo.eckert3=function(){return ya(I)}).raw=I,J.invert=function(t,n){var a=.5*n*Math.sqrt((4+ba)/ba),r=h(a),e=Math.cos(r);return[t/(2/Math.sqrt(ba*(4+ba))*(1+e)),h((r+a*(e+2))/(2+pa))]},(d3.geo.eckert4=function(){return ya(J)}).raw=J,K.invert=function(t,n){var a=Math.sqrt(2+ba),r=n*a/2;return[a*t/(1+Math.cos(r)),r]},(d3.geo.eckert5=function(){return ya(K)}).raw=K,N.invert=function(t,n){var a=1+pa,r=Math.sqrt(a/2);return[2*t*r/(1+Math.cos(n*=r)),h((n+Math.sin(n))/a)]},(d3.geo.eckert6=function(){return ya(N)}).raw=N,U.invert=function(t,n){var a=d3.geo.august.raw.invert(t/1.2,1.065*n);if(!a)return null;var r=a[0],e=a[1],o=20;t/=ka,n/=ka;do{var i=r/2,h=e/2,u=Math.sin(i),M=Math.cos(i),s=Math.sin(h),c=Math.cos(h),f=Math.cos(e),v=Math.sqrt(f),l=s/(c+Math.SQRT2*M*v),g=l*l,d=Math.sqrt(2/(1+g)),b=Math.SQRT2*c+(M+u)*v,p=Math.SQRT2*c+(M-u)*v,w=b/p,q=Math.sqrt(w),m=q-1/q,y=q+1/q,S=d*m-2*Math.log(q)-t,Q=d*l*y-2*Math.atan(l)-n,R=s&&Math.SQRT1_2*v*u*g/s,T=(Math.SQRT2*M*c+v)/(2*(c+Math.SQRT2*M*v)*(c+Math.SQRT2*M*v)*v),x=-.5*l*d*d*d,E=x*R,k=x*T,P=(P=2*c+Math.SQRT2*v*(M-u))*P*q,_=(Math.SQRT2*M*c*v+f)/P,z=-(Math.SQRT2*u*s)/(v*P),B=m*E-2*_/q+d*(_+_/w),F=m*k-2*z/q+d*(z+z/w),A=l*y*E-2*R/(1+g)+d*y*R+d*l*(_-_/w),G=l*y*k-2*T/(1+g)+d*y*T+d*l*(z-z/w),j=F*A-G*B;if(!j)break;var C=(Q*F-S*G)/j,D=(S*A-Q*B)/j;r-=C,e=Math.max(-pa,Math.min(pa,e-D))}while((Math.abs(C)>ga||Math.abs(D)>ga)&&--o>0);return Math.abs(Math.abs(e)-pa)<ga?[0,e]:o&&[r,e]};var ka=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return ya(U)}).raw=U,V.invert=function(t,n){var a=n/(1+Pa);return[t?t/(Pa*M(1-a*a)):0,2*Math.atan(a)]};var Pa=Math.cos(35*qa);(d3.geo.fahey=function(){return ya(V)}).raw=V,W.invert=function(t,n){var a=Math.atan(n/wa),r=Math.cos(a),e=2*a;return[.5*t*wa/(Math.cos(e)*r*r),e]},(d3.geo.foucaut=function(){return ya(W)}).raw=W,d3.geo.gilbert=function(t){function n(n){return t([.5*n[0],h(Math.tan(.5*n[1]*qa))*ma])}var a=d3.geo.equirectangular().scale(ma).translate([0,0]);return t.invert&&(n.invert=function(n){return n=t.invert(n),n[0]*=2,n[1]=2*Math.atan(Math.sin(n[1]*qa))*ma,n}),n.stream=function(n){n=t.stream(n);var r=a.stream({point:function(t,a){n.point(.5*t,h(Math.tan(.5*-a*qa))*ma)},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}});return r.sphere=function(){n.sphere()},r.valid=!1,r},n};var _a=d3.geo.azimuthalEquidistant.raw;(d3.geo.gingery=Z).raw=X;var za=tn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geo.ginzburg4=function(){return ya(za)}).raw=za;var Ba=tn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geo.ginzburg5=function(){return ya(Ba)}).raw=Ba;var Fa=tn(5/6*ba,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geo.ginzburg6=function(){return ya(Fa)}).raw=Fa,nn.invert=function(t,n){var a,r=t,e=n,o=50;do{var i=e*e;e-=a=(e*(1+i/12)-n)/(1+i/4)}while(Math.abs(a)>ga&&--o>0);o=50,t/=1-.162388*i;do{var h=(h=r*r)*h;r-=a=(r*(.87-952426e-9*h)-t)/(.87-.00476213*h)}while(Math.abs(a)>ga&&--o>0);return[r,e]},(d3.geo.ginzburg8=function(){return ya(nn)}).raw=nn;var Aa=tn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geo.ginzburg9=function(){return ya(Aa)}).raw=Aa,rn.invert=function(t,n){var a=i(t),r=i(n),e=-a*t,o=-r*n,u=1>o/e,M=on(u?o:e,u?e:o),s=M[0],c=M[1];u&&(s=-pa-s);var f=Math.cos(c),t=Math.cos(s)*f,n=Math.sin(s)*f,v=Math.sin(c);return[a*(Math.atan2(n,-v)+ba),r*h(t)]},d3.geo.gringorten=an(rn),cn.invert=function(t,n){var a=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-a*a),e=sn(pa,r*r),o=-1,i=hn(.5*e-n,-t,r*r),h=vn(i[0],i[1]),u=Math.atan2(h[1],h[0])/o;return[u,2*Math.atan(Math.exp(.5/o*Math.log(a*h[0]*h[0]+a*h[1]*h[1])))-pa]},d3.geo.guyou=an(cn),(d3.geo.hammerRetroazimuthal=dn).raw=ln;var Ga=d3.geo.azimuthalEqualArea.raw;wn.invert=function(t,n){var a=2*h(n/2);return[t*Math.cos(a/2)/Math.cos(a),a]},(d3.geo.hammer=pn).raw=bn,qn.invert=function(t,n){var a=Math.abs(a=n*(0>n?.5179951515653813:.5686373742600607))>1-ga?a>0?pa:-pa:h(a);return[1.1764705882352942*t/Math.cos(a),Math.abs(a=((a+=a)+Math.sin(a))*(0>n?.4102345310814193:.3736990601468637))>1-ga?a>0?pa:-pa:h(a)]},(d3.geo.hatano=function(){return ya(qn)}).raw=qn;var ja=41+48/36+37/3600;(d3.geo.healpix=yn).raw=mn,(d3.geo.hill=Qn).raw=Sn;var Ca=.7109889596207567,Da=.0528035274542;Rn.invert=function(t,n){return n>-Ca?xa.invert(t,n-Da):E.invert(t,n)},(d3.geo.sinuMollweide=function(){return ya(Rn).rotate([-20,-55])}).raw=Rn,Tn.invert=function(t,n){return Math.abs(n)>Ca?xa.invert(t,n+(n>0?Da:-Da)):E.invert(t,n)},(d3.geo.homolosine=function(){return ya(Tn)}).raw=Tn,xn.invert=function(t,n){return[2/3*ba*t/Math.sqrt(ba*ba/3-n*n),n]},(d3.geo.kavrayskiy7=function(){return ya(xn)}).raw=xn,(d3.geo.lagrange=kn).raw=En,Pn.invert=function(t,n){var a=Math.abs(t),r=Math.abs(n),e=ba/Math.SQRT2,o=ga,i=pa;e>r?i*=r/e:o+=6*u(e/r);for(var h=0;25>h;h++){var s=Math.sin(i),c=M(Math.cos(i)),f=Math.sin(i/2),v=Math.cos(i/2),l=Math.sin(o/6),g=Math.cos(o/6),d=.5*o*(1+c)-a,b=i/(v*g)-r,p=c?-.25*o*s/c:0,w=.5*(1+c),q=(1+.5*i*f/v)/(v*g),m=i/v*(l/6)/(g*g),y=p*m-q*w,S=(d*m-b*w)/y,Q=(b*p-d*q)/y;if(i-=S,o-=Q,Math.abs(S)<ga&&Math.abs(Q)<ga)break}return[0>t?-o:o,0>n?-i:i]},(d3.geo.larrivee=function(){return ya(Pn)}).raw=Pn,_n.invert=function(t,n){var a=i(t)*ba,r=n/2,e=50;do{var o=a*a,h=r*r,u=a*r,M=a*(.975534+h*(-.119161+o*-.0143059+h*-.0547009))-t,s=r*(1.00384+o*(.0802894+h*-.02855+199025e-9*o)+h*(.0998909+h*-.0491032))-n,c=.975534-h*(.119161+.0143059*3*o+.0547009*h),f=-u*(.238322+.2188036*h+.0286118*o),v=u*(.1605788+7961e-7*o+-0.0571*h),l=1.00384+o*(.0802894+199025e-9*o)+h*(3*(.0998909-.02855*o)-.245516*h),g=f*v-l*c,d=(s*f-M*l)/g,b=(M*v-s*c)/g;a-=d,r-=b}while((Math.abs(d)>ga||Math.abs(b)>ga)&&--e>0);return e&&[a,r]},(d3.geo.laskowski=function(){return ya(_n)}).raw=_n,zn.invert=function(t,n){var a=t*t,r=n*n,e=r+1,o=t?Math.SQRT1_2*Math.sqrt((e-Math.sqrt(a*a+2*a*(r-1)+e*e))/a+1):1/Math.sqrt(e);return[h(t*o),i(n)*u(o)]},(d3.geo.littrow=function(){return ya(zn)}).raw=zn,(d3.geo.loximuthal=function(){return x(Bn).parallel(40)}).raw=Bn,Fn.invert=function(t,n){return[t,2.5*Math.atan(Math.exp(.8*n))-.625*ba]},(d3.geo.miller=function(){return ya(Fn)}).raw=Fn;var La={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=Gn).raw=An,jn.invert=function(t,n){var a=Math.sqrt(6),r=Math.sqrt(7),e=3*h(n*r/9);return[t*r/(a*(2*Math.cos(2*e/3)-1)),h(3*Math.sin(e)*a/7)]},(d3.geo.mtFlatPolarParabolic=function(){return ya(jn)}).raw=jn,Cn.invert=function(t,n){var a=n*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),r=2*h(a);return[3*Math.SQRT2*t/(1+2*Math.cos(r)/Math.cos(r/2)),h((a+Math.sin(r))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return ya(Cn)}).raw=Cn,Dn.invert=function(t,n){var a=Math.sqrt(6/(4+ba)),r=n/a;return Math.abs(Math.abs(r)-pa)<ga&&(r=0>r?-pa:pa),[1.5*t/(a*(.5+Math.cos(r))),h((r/2+Math.sin(r))/(1+ba/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return ya(Dn)}).raw=Dn,Ln.invert=function(t,n){var a,r=n,e=25;do{var o=r*r,i=o*o;r-=a=(r*(1.007226+o*(.015085+i*(-.044475+.028874*o-.005916*i)))-n)/(1.007226+o*(.045255+i*(-0.311325+.259866*o-.005916*11*i)))}while(Math.abs(a)>ga&&--e>0);return[t/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]},(d3.geo.naturalEarth=function(){return ya(Ln)}).raw=Ln,On.invert=function(t,n){for(var a=n/2,r=0,e=1/0;10>r&&Math.abs(e)>ga;r++){var o=Math.cos(n/2);n-=e=(n-Math.tan(n/2)-a)/(1-.5/(o*o))}return[2*t/(1+Math.cos(n)),n]},(d3.geo.nellHammer=function(){return ya(On)}).raw=On;var Oa=1.0148,Ha=.23185,Ia=-.14499,Ja=.02406,Ka=Oa,Na=5*Ha,Ua=7*Ia,Va=9*Ja,Wa=1.790857183;Hn.invert=function(t,n){n>Wa?n=Wa:-Wa>n&&(n=-Wa);var a,r=n;do{var e=r*r;r-=a=(r*(Oa+e*e*(Ha+e*(Ia+Ja*e)))-n)/(Ka+e*e*(Na+e*(Ua+Va*e)))}while(Math.abs(a)>ga);return[t,r]},(d3.geo.patterson=function(){return ya(Hn)}).raw=Hn;var Xa=an(cn);(d3.geo.peirceQuincuncial=function(){return Xa().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=Xa.raw,In.invert=function(t,n){if(Math.abs(n)<ga)return[t,0];var a,r=t*t+n*n,e=.5*n,o=10;do{var M=Math.tan(e),s=1/Math.cos(e),c=r-2*n*e+e*e;e-=a=(M*c+2*(e-n))/(2+c*s*s+2*(e-n)*M)}while(Math.abs(a)>ga&&--o>0);return M=Math.tan(e),[(Math.abs(n)<Math.abs(e+1/M)?h(t*M):i(t)*(u(Math.abs(t*M))+pa))/Math.sin(e),e]},(d3.geo.polyconic=function(){return ya(In)}).raw=In,(d3.geo.rectangularPolyconic=function(){return x(Jn)}).raw=Jn;var Ya=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ya.forEach(function(t){t[1]*=1.0144}),Kn.invert=function(t,n){var a=n/pa,r=90*a,e=Math.min(18,Math.abs(r/5)),o=Math.max(0,Math.floor(e));do{var i=Ya[o][1],h=Ya[o+1][1],u=Ya[Math.min(19,o+2)][1],M=u-i,s=u-2*h+i,c=2*(Math.abs(a)-h)/M,f=s/M,v=c*(1-f*c*(1-2*f*c));if(v>=0||1===o){r=(n>=0?5:-5)*(v+e);var l,g=50;do e=Math.min(18,Math.abs(r)/5),o=Math.floor(e),v=e-o,i=Ya[o][1],h=Ya[o+1][1],u=Ya[Math.min(19,o+2)][1],r-=(l=(n>=0?pa:-pa)*(h+v*(u-i)/2+v*v*(u-2*h+i)/2)-n)*ma;while(Math.abs(l)>da&&--g>0);break}}while(--o>=0);var d=Ya[o][0],b=Ya[o+1][0],p=Ya[Math.min(19,o+2)][0];return[t/(b+v*(p-d)/2+v*v*(p-2*b+d)/2),r*qa]},(d3.geo.robinson=function(){return ya(Kn)}).raw=Kn,(d3.geo.satellite=Vn).raw=Un,Wn.invert=function(t,n){var a=n/1.70711,r=Math.sin(ba/4*a);return[t/(.74482-.34588*r*r),2*Math.atan(a)]},(d3.geo.times=function(){return ya(Wn)}).raw=Wn,(d3.geo.twoPointEquidistant=Yn).raw=Xn,(d3.geo.twoPointAzimuthal=$n).raw=Zn,ta.invert=function(t,n){if(Math.abs(n)<ga)return[t,0];if(Math.abs(t)<ga)return[0,pa*Math.sin(2*Math.atan(n/ba))];var a=(t/=ba)*t,r=(n/=ba)*n,e=a+r,o=e*e,h=-Math.abs(n)*(1+e),M=h-2*r+a,s=-2*h+1+2*r+o,c=r/s+(2*M*M*M/(s*s*s)-9*h*M/(s*s))/27,f=(h-M*M/(3*s))/s,v=2*Math.sqrt(-f/3),l=u(3*c/(f*v))/3;return[ba*(e-1+Math.sqrt(1+2*(a-r)+o))/(2*t),i(n)*ba*(-v*Math.cos(l+ba/3)-M/(3*s))]},(d3.geo.vanDerGrinten=function(){return ya(ta)}).raw=ta,na.invert=function(t,n){if(!t)return[0,pa*Math.sin(2*Math.atan(n/ba))];var a=Math.abs(t/ba),r=(1-a*a-(n/=ba)*n)/(2*a),e=r*r,o=Math.sqrt(e+1);return[i(t)*ba*(o-r),i(n)*pa*Math.sin(2*Math.atan2(Math.sqrt((1-2*r*a)*(r+o)-a),Math.sqrt(o+r+a)))]},(d3.geo.vanDerGrinten2=function(){return ya(na)}).raw=na,aa.invert=function(t,n){if(!n)return[t,0];var a=n/ba,r=(ba*ba*(1-a*a)-t*t)/(2*ba*t);return[t?ba*(i(t)*Math.sqrt(r*r+1)-r):0,pa*Math.sin(2*Math.atan(a))]},(d3.geo.vanDerGrinten3=function(){return ya(aa)}).raw=aa,ra.invert=function(t,n){if(!t||!n)return[t,n];n/=ba;var a=i(t)*t/pa,r=(a*a-1+4*n*n)/Math.abs(a),e=r*r,o=2*n,h=50;do{var u=o*o,M=(8*o-u*(u+2)-5)/(2*u*(o-1)),s=(3*o-u*o-10)/(2*u*o),c=M*M,f=o*M,v=o+M,l=v*v,g=o+3*M,d=l*(u+c*e-1)+(1-u)*(u*(g*g+4*c)+c*(12*f+4*c)),b=-2*v*(4*f*c+(1-4*u+3*u*u)*(1+s)+c*(-6+14*u-e+(-8+8*u-2*e)*s)+f*(-8+12*u+(-10+10*u-e)*s)),p=Math.sqrt(d),w=r*(l+c-1)+2*p-a*(4*l+e),q=r*(2*M*s+2*v*(1+s))+b/p-8*v*(r*(-1+c+l)+2*p)*(1+s)/(e+4*l);o-==w/q}while(>ga&&--h>0);return[i(t)*(Math.sqrt(r*r+4)+r)*ba/4,pa*o]},(d3.geo.vanDerGrinten4=function(){return ya(ra)}).raw=ra;var Za=function(){var t=4*ba+3*Math.sqrt(3),n=2*Math.sqrt(2*ba*Math.sqrt(3)/t);return R(n*Math.sqrt(3)/ba,n,t/6)}();(d3.geo.wagner4=function(){return ya(Za)}).raw=Za,ea.invert=function(t,n){return[t/Math.sqrt(1-3*n*n/(ba*ba)),n]},(d3.geo.wagner6=function(){return ya(ea)}).raw=ea,oa.invert=function(t,n){var a=t/2.66723,r=n/1.24104,e=Math.sqrt(a*a+r*r),o=2*h(e/2);return[3*Math.atan2(t*Math.tan(o),2.66723*e),e&&h(n*Math.sin(o)/(1.24104*.90631*e))]},(d3.geo.wagner7=function(){return ya(oa)}).raw=oa,ia.invert=function(t,n){var a=-.5*(t*t+n*n),r=Math.sqrt(-a*(2+a)),e=n*a+t*r,o=t*a-n*r,i=Math.sqrt(o*o+e*e);return[Math.atan2(r*e,i*(1+a)),i?-h(r*o/i):0]},(d3.geo.wiechel=function(){return ya(ia)}).raw=ia,ha.invert=function(t,n){var a=t,r=n,e=25;do{var o,i=Math.cos(r),h=Math.sin(r),M=Math.sin(2*r),s=h*h,c=i*i,f=Math.sin(a),v=Math.cos(a/2),l=Math.sin(a/2),g=l*l,d=1-c*v*v,b=d?u(i*v)*Math.sqrt(o=1/d):o=0,p=.5*(2*b*i*l+a/pa)-t,w=.5*(b*h+r)-n,q=.5*o*(c*g+b*i*v*s)+.5/pa,m=o*(f*M/4-b*h*l),y=.125*o*(M*l-b*h*c*f),S=.5*o*(s*v+b*g*i)+.5,Q=m*y-S*q,R=(w*m-p*S)/Q,T=(p*y-w*q)/Q;a-=R,r-=T}while((Math.abs(R)>ga||Math.abs(T)>ga)&&--e>0);return[a,r]},(d3.geo.winkel3=function(){return ya(ha)}).raw=ha}();
!function(){function t(n,t){function r(t){var r,e=n.arcs[0>t?~t:t],o=e[0];return n.transform?(r=[0,0],e.forEach(function(n){r[0]+=n[0],r[1]+=n[1]})):r=e[e.length-1],0>t?[r,o]:[o,r]}function e(n,t){for(var r in n){var e=n[r];delete t[e.start],delete e.start,delete e.end,e.forEach(function(n){o[0>n?~n:n]=1}),f.push(e)}}var o={},i={},u={},f=[],c=-1;return t.forEach(function(r,e){var o,i=n.arcs[0>r?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++c],t[c]=r,t[e]=o)}),t.forEach(function(n){var t,e,o=r(n),f=o[0],c=o[1];if(t=u[f])if(delete u[t.end],t.push(n),t.end=c,e=i[c]){delete i[e.start];var a=e===t?t:t.concat(e);i[a.start=t.start]=u[a.end=e.end]=a}else i[t.start]=u[t.end]=t;else if(t=i[c])if(delete i[t.start],t.unshift(n),t.start=f,e=u[f]){delete u[e.end];var s=e===t?t:e.concat(t);i[s.start=e.start]=u[s.end=t.end]=s}else i[t.start]=u[t.end]=t;else t=[n],i[t.start=f]=u[t.end=c]=t}),e(u,i),e(i,u),t.forEach(function(n){o[0>n?~n:n]||f.push([n])}),f}function r(n,r,e){function o(n){var t=0>n?~n:n;(s[t]||(s[t]=[])).push({i:n,g:a})}function i(n){n.forEach(o)}function u(n){n.forEach(i)}function f(n){"GeometryCollection"===n.type?n.geometries.forEach(f):n.type in l&&(a=n,l[n.type](n.arcs))}var c=[];if(arguments.length>1){var a,s=[],l={LineString:i,MultiLineString:u,Polygon:u,MultiPolygon:function(n){n.forEach(u)}};f(r),s.forEach(arguments.length<3?function(n){c.push(n[0].i)}:function(n){e(n[0].g,n[n.length-1].g)&&c.push(n[0].i)})}else for(var h=0,p=n.arcs.length;p>h;++h)c.push(h);return{type:"MultiLineString",arcs:t(n,c)}}function e(r,e){function o(n){n.forEach(function(t){t.forEach(function(t){(f[t=0>t?~t:t]||(f[t]=[])).push(n)})}),c.push(n)}function i(n){return l(u(r,{type:"Polygon",arcs:[n]}).coordinates[0])>0}var f={},c=[],a=[];return e.forEach(function(n){"Polygon"===n.type?o(n.arcs):"MultiPolygon"===n.type&&n.arcs.forEach(o)}),c.forEach(function(n){if(!n._){var t=[],r=[n];for(n._=1,a.push(t);n=r.pop();)t.push(n),n.forEach(function(n){n.forEach(function(n){f[0>n?~n:n].forEach(function(n){n._||(n._=1,r.push(n))})})})}}),c.forEach(function(n){delete n._}),{type:"MultiPolygon",arcs:a.map(function(e){var o=[];if(e.forEach(function(n){n.forEach(function(n){n.forEach(function(n){f[0>n?~n:n].length<2&&o.push(n)})})}),o=t(r,o),(n=o.length)>1)for(var u,c=i(e[0][0]),a=0;n>a;++a)if(c===i(o[a])){u=o[0],o[0]=o[a],o[a]=u;break}return o})}}function o(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return i(n,t)})}:i(n,t)}function i(n,t){var r={type:"Feature",id:t.id,properties:t.properties||{},geometry:u(n,t)};return null==t.id&&delete r.id,r}function u(n,t){function r(n,t){t.length&&t.pop();for(var r,e=s[0>n?~n:n],o=0,i=e.length;i>o;++o)t.push(r=e[o].slice()),a(r,o);0>n&&f(t,i)}function e(n){return n=n.slice(),a(n,0),n}function o(n){for(var t=[],e=0,o=n.length;o>e;++e)r(n[e],t);return t.length<2&&t.push(t[0].slice()),t}function i(n){for(var t=o(n);t.length<4;)t.push(t[0].slice());return t}function u(n){return n.map(i)}function c(n){var t=n.type;return"GeometryCollection"===t?{type:t,geometries:n.geometries.map(c)}:t in l?{type:t,coordinates:l[t](n)}:null}var a=v(n.transform),s=n.arcs,l={Point:function(n){return e(n.coordinates)},MultiPoint:function(n){return n.coordinates.map(e)},LineString:function(n){return o(n.arcs)},MultiLineString:function(n){return n.arcs.map(o)},Polygon:function(n){return u(n.arcs)},MultiPolygon:function(n){return n.arcs.map(u)}};return c(t)}function f(n,t){for(var r,e=n.length,o=e-t;o<--e;)r=n[o],n[o++]=n[e],n[e]=r}function c(n,t){for(var r=0,e=n.length;e>r;){var o=r+e>>>1;n[o]<t?r=o+1:e=o}return r}function a(n){function t(n,t){n.forEach(function(n){0>n&&(n=~n);var r=o[n];r?r.push(t):o[n]=[t]})}function r(n,r){n.forEach(function(n){t(n,r)})}function e(n,t){"GeometryCollection"===n.type?n.geometries.forEach(function(n){e(n,t)}):n.type in u&&u[n.type](n.arcs,t)}var o={},i=n.map(function(){return[]}),u={LineString:t,MultiLineString:r,Polygon:r,MultiPolygon:function(n,t){n.forEach(function(n){r(n,t)})}};n.forEach(e);for(var f in o)for(var a=o[f],s=a.length,l=0;s>l;++l)for(var h=l+1;s>h;++h){var p,g=a[l],v=a[h];(p=i[g])[f=c(p,v)]!==v&&p.splice(f,0,v),(p=i[v])[f=c(p,g)]!==g&&p.splice(f,0,g)}return i}function s(n,t){function r(n){i.remove(n),n[1][2]=t(n),i.push(n)}var e=v(n.transform),o=m(n.transform),i=g();return t||(t=h),n.arcs.forEach(function(n){for(var u,f,c=[],a=0,s=0,l=n.length;l>s;++s)f=n[s],e(n[s]=[f[0],f[1],1/0],s);for(var s=1,l=n.length-1;l>s;++s)u=n.slice(s-1,s+2),u[1][2]=t(u),c.push(u),i.push(u);for(var s=0,l=c.length;l>s;++s)u=c[s],u.previous=c[s-1],u.next=c[s+1];for(;u=i.pop();){var h=u.previous,p=u.next;u[1][2]<a?u[1][2]=a:a=u[1][2],h&&(h.next=p,h[2]=u[2],r(h)),p&&(p.previous=h,p[0]=u[0],r(p))}n.forEach(o)}),n}function l(n){for(var t,r=-1,e=n.length,o=n[e-1],i=0;++r<e;)t=o,o=n[r],i+=t[0]*o[1]-t[1]*o[0];return.5*i}function h(n){var t=n[0],r=n[1],e=n[2];return Math.abs((t[0]-e[0])*(r[1]-t[1])-(t[0]-r[0])*(e[1]-t[1]))}function p(n,t){return n[1][2]-t[1][2]}function g(){function n(n,t){for(;t>0;){var r=(t+1>>1)-1,o=e[r];if(p(n,o)>=0)break;e[o._=t]=o,e[n._=t=r]=n}}function t(n,t){for(;;){var r=t+1<<1,i=r-1,u=t,f=e[u];if(o>i&&p(e[i],f)<0&&(f=e[u=i]),o>r&&p(e[r],f)<0&&(f=e[u=r]),u===t)break;e[f._=t]=f,e[n._=t=u]=n}}var r={},e=[],o=0;return r.push=function(t){return n(e[t._=o]=t,o++),o},r.pop=function(){if(!(0>=o)){var n,r=e[0];return--o>0&&(n=e[o],t(e[n._=0]=n,0)),r}},r.remove=function(r){var i,u=r._;if(e[u]===r)return u!==--o&&(i=e[o],(p(i,r)<0?n:t)(e[i._=u]=i,u)),u},r}function v(n){if(!n)return y;var t,r,e=n.scale[0],o=n.scale[1],i=n.translate[0],u=n.translate[1];return function(n,f){f||(t=r=0),n[0]=(t+=n[0])*e+i,n[1]=(r+=n[1])*o+u}}function m(n){if(!n)return y;var t,r,e=n.scale[0],o=n.scale[1],i=n.translate[0],u=n.translate[1];return function(n,f){f||(t=r=0);var c=(n[0]-i)/e|0,a=(n[1]-u)/o|0;n[0]=c-t,n[1]=a-r,t=c,r=a}}function y(){}var d={version:"1.6.19",mesh:function(n){return u(n,r.apply(this,arguments))},meshArcs:r,merge:function(n){return u(n,e.apply(this,arguments))},mergeArcs:e,feature:o,neighbors:a,presimplify:s};"function"==typeof define&&define.amd?define(d):"object"==typeof module&&module.exports?module.exports=d:this.topojson=d}();
"use strict";function addAccessor(f,e,d){f[e]=function(c){return"undefined"==typeof c?f.properties[e]||d:(f.properties[e]=c,f)}}function _classCallCheck(f,e){if(!(f instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(f,e){if(!(f instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(f,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.__proto__=e)}var colorbrewer={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},_createClass=function(){function f(f,e){for(var d=0;d<e.length;d++){var c=e[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(e,d,c){return d&&f(e.prototype,d),c&&f(e,c),e}}(),Geomap=function(){function f(){_classCallCheck(this,f),this.properties={geofile:null,height:null,postUpdate:null,projection:d3.geo.naturalEarth,rotate:[0,0,0],scale:null,translate:null,unitId:"iso3",unitPrefix:"unit-",units:"units",unitTitle:function(f){return f.properties.name},width:null,zoomFactor:4};for(var e in this.properties)addAccessor(this,e,this.properties[e]);this._={}}return _createClass(f,[{key:"clicked",value:function(f){var e=this,d=1,c=this.properties.width/2,a=this.properties.height/2,b=c,t=a;if(f&&f.hasOwnProperty("geometry")&&this._.centered!==f){var r=this.path.centroid(f);b=r[0],t=r[1],d=this.properties.zoomFactor,this._.centered=f}else this._.centered=null;this.svg.selectAll("path.unit").classed("active",this._.centered&&function(f){return f===e._.centered}),this.svg.selectAll("g.zoom").transition().duration(750).attr("transform","translate("+c+", "+a+")scale("+d+")translate(-"+b+", -"+t+")")}},{key:"draw",value:function(f,e){e.properties.width||(e.properties.width=f.node().getBoundingClientRect().width),e.properties.height||(e.properties.height=e.properties.width/1.92),e.properties.scale||(e.properties.scale=e.properties.width/5.8),e.properties.translate||(e.properties.translate=[e.properties.width/2,e.properties.height/2]),e.svg=f.append("svg").attr("width",e.properties.width).attr("height",e.properties.height),e.svg.append("rect").attr("class","background").attr("width",e.properties.width).attr("height",e.properties.height).on("click",e.clicked.bind(e));var d=e.properties.projection().scale(e.properties.scale).translate(e.properties.translate).precision(.1);d.hasOwnProperty("rotate")&&e.properties.rotate&&d.rotate(e.properties.rotate),e.path=d3.geo.path().projection(d),d3.json(e.properties.geofile,function(f,d){e.geo=d,e.svg.append("g").attr("class","units zoom").selectAll("path").data(topojson.feature(d,d.objects[e.properties.units]).features).enter().append("path").attr("class",function(f){return"unit "+e.properties.unitPrefix+f.id}).attr("d",e.path).on("click",e.clicked.bind(e)).append("title").text(e.properties.unitTitle),e.update()})}},{key:"update",value:function(){this.properties.postUpdate&&this.properties.postUpdate()}}]),f}();d3.geomap=function(){return new Geomap};var _createClass=function(){function f(f,e){for(var d=0;d<e.length;d++){var c=e[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(e,d,c){return d&&f(e.prototype,d),c&&f(e,c),e}}(),_get=function(f,e,d){for(var c=!0;c;){var a=f,b=e,t=d;r=i=n=void 0,c=!1;var r=Object.getOwnPropertyDescriptor(a,b);if(void 0!==r){if("value"in r)return r.value;var n=r.get;return void 0===n?void 0:n.call(t)}var i=Object.getPrototypeOf(a);if(null===i)return void 0;f=i,e=b,d=t,c=!0}},Choropleth=function(f){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var f={colors:colorbrewer.OrRd[9],column:null,domain:null,duration:null,format:d3.format(",.02f"),legend:!1,valueScale:d3.scale.quantize};for(var d in f)this.properties[d]=f[d],addAccessor(this,d,f[d])}return _inherits(e,f),_createClass(e,[{key:"columnVal",value:function(f){return+f[this.properties.column]}},{key:"draw",value:function(f,d){d.data=f.datum(),_get(Object.getPrototypeOf(e.prototype),"draw",this).call(this,f,d)}},{key:"update",value:function(){var f=this;f.extent=d3.extent(f.data,f.columnVal.bind(f)),f.colorScale=f.properties.valueScale().domain(f.properties.domain||f.extent).range(f.properties.colors),f.svg.selectAll("path.unit").style("fill",null),f.data.forEach(function(e){var d=e[f.properties.unitId],c=e[f.properties.column],a=f.colorScale(c),b=f.svg.selectAll("."+f.properties.unitPrefix+d);if(!b.empty()){f.properties.duration?b.transition().duration(f.properties.duration).style("fill",a):b.style("fill",a);var t=f.properties.unitTitle(b.datum());c=f.properties.format(c),b.select("title").text(""+t+"\n\n"+f.properties.column+": "+c)}}),f.properties.legend&&f.drawLegend(f.properties.legend),_get(Object.getPrototypeOf(e.prototype),"update",this).call(this)}},{key:"drawLegend",value:function(){var f=void 0===arguments[0]?null:arguments[0],e=this,d=e.properties.colors.length,c=void 0,a=void 0,b=10,t=3;f===!0?(c=e.properties.width/b,a=e.properties.height/t):(c=f.width,a=f.height);var r=c/(.75*b),n=a-a/(1.8*t),i=r/2,o=e.properties.height-a,s="translate("+i+","+3*i+")";e.svg.select("g.legend").remove();var p=e.properties.colors.slice().reverse(),l=n/d,u=t/l,h=e.svg.append("g").attr("class","legend").attr("width",c).attr("height",a).attr("transform","translate(0,"+o+")");h.append("rect").style("fill","#fff").attr("class","legend-bg").attr("width",c).attr("height",a),h.append("rect").attr("class","legend-bar").attr("width",r).attr("height",n).attr("transform",s);var g=h.append("g").attr("transform",s);g.selectAll("rect").data(p).enter().append("rect").attr("y",function(f,e){return e*l}).attr("fill",function(f,e){return p[e]}).attr("width",r).attr("height",l);var v=e.extent[0],m=e.extent[1],y=!1,w=!1;e.properties.domain&&(e.properties.domain[1]<m&&(w=!0),m=e.properties.domain[1],e.properties.domain[0]>v&&(y=!0),v=e.properties.domain[0]),g.selectAll("text").data(p).enter().append("text").text(function(f,c){if(c===d-1){var a=e.properties.format(v);return y&&(a="< "+a),a}return e.properties.format(e.colorScale.invertExtent(f)[0])}).attr("class",function(f,e){return"text-"+e}).attr("x",r+i).attr("y",function(f,e){return e*l+(l+l*u)}),g.append("text").text(function(){var f=e.properties.format(m);return w&&(f="> "+f),f}).attr("x",r+i).attr("y",i*u*2)}}]),e}(Geomap);d3.geomap.choropleth=function(){return new Choropleth};
// d3.tip
// Copyright (c) 2013 Justin Palmer
//
// Tooltips for d3.js SVG visualizations

(function (root, factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module with d3 as a dependency.
    define(['d3'], factory)
  } else if (typeof module === 'object' && module.exports) {
    // CommonJS
    module.exports = function(d3) {
      d3.tip = factory(d3)
      return d3.tip
    }
  } else {
    // Browser global.
    root.d3.tip = factory(root.d3)
  }
}(this, function (d3) {

  // Public - contructs a new tooltip
  //
  // Returns a tip
  return function() {
    var direction = d3_tip_direction,
        offset    = d3_tip_offset,
        html      = d3_tip_html,
        node      = initNode(),
        svg       = null,
        point     = null,
        target    = null

    function tip(vis) {
      svg = getSVGNode(vis)
      point = svg.createSVGPoint()
      document.body.appendChild(node)
    }

    // Public - show the tooltip on the screen
    //
    // Returns a tip
    tip.show = function() {
      var args = Array.prototype.slice.call(arguments)
      if(args[args.length - 1] instanceof SVGElement) target = args.pop()

      var content = html.apply(this, args),
          poffset = offset.apply(this, args),
          dir     = direction.apply(this, args),
          nodel   = getNodeEl(),
          i       = directions.length,
          coords,
          scrollTop  = document.documentElement.scrollTop || document.body.scrollTop,
          scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft

      nodel.html(content)
        .style({ opacity: 1, 'pointer-events': 'all' })

      while(i--) nodel.classed(directions[i], false)
      coords = direction_callbacks.get(dir).apply(this)
      nodel.classed(dir, true).style({
        top: (coords.top +  poffset[0]) + scrollTop + 'px',
        left: (coords.left + poffset[1]) + scrollLeft + 'px'
      })

      return tip
    }

    // Public - hide the tooltip
    //
    // Returns a tip
    tip.hide = function() {
      var nodel = getNodeEl()
      nodel.style({ opacity: 0, 'pointer-events': 'none' })
      return tip
    }

    // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.
    //
    // n - name of the attribute
    // v - value of the attribute
    //
    // Returns tip or attribute value
    tip.attr = function(n, v) {
      if (arguments.length < 2 && typeof n === 'string') {
        return getNodeEl().attr(n)
      } else {
        var args =  Array.prototype.slice.call(arguments)
        d3.selection.prototype.attr.apply(getNodeEl(), args)
      }

      return tip
    }

    // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.
    //
    // n - name of the property
    // v - value of the property
    //
    // Returns tip or style property value
    tip.style = function(n, v) {
      if (arguments.length < 2 && typeof n === 'string') {
        return getNodeEl().style(n)
      } else {
        var args =  Array.prototype.slice.call(arguments)
        d3.selection.prototype.style.apply(getNodeEl(), args)
      }

      return tip
    }

    // Public: Set or get the direction of the tooltip
    //
    // v - One of n(north), s(south), e(east), or w(west), nw(northwest),
    //     sw(southwest), ne(northeast) or se(southeast)
    //
    // Returns tip or direction
    tip.direction = function(v) {
      if (!arguments.length) return direction
      direction = v == null ? v : d3.functor(v)

      return tip
    }

    // Public: Sets or gets the offset of the tip
    //
    // v - Array of [x, y] offset
    //
    // Returns offset or
    tip.offset = function(v) {
      if (!arguments.length) return offset
      offset = v == null ? v : d3.functor(v)

      return tip
    }

    // Public: sets or gets the html value of the tooltip
    //
    // v - String value of the tip
    //
    // Returns html value or tip
    tip.html = function(v) {
      if (!arguments.length) return html
      html = v == null ? v : d3.functor(v)

      return tip
    }

    // Public: destroys the tooltip and removes it from the DOM
    //
    // Returns a tip
    tip.destroy = function() {
      if(node) {
        getNodeEl().remove();
        node = null;
      }
      return tip;
    }

    function d3_tip_direction() { return 'n' }
    function d3_tip_offset() { return [0, 0] }
    function d3_tip_html() { return ' ' }

    var direction_callbacks = d3.map({
      n:  direction_n,
      s:  direction_s,
      e:  direction_e,
      w:  direction_w,
      nw: direction_nw,
      ne: direction_ne,
      sw: direction_sw,
      se: direction_se
    }),

    directions = direction_callbacks.keys()

    function direction_n() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.n.y - node.offsetHeight,
        left: bbox.n.x - node.offsetWidth / 2
      }
    }

    function direction_s() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.s.y,
        left: bbox.s.x - node.offsetWidth / 2
      }
    }

    function direction_e() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.e.y - node.offsetHeight / 2,
        left: bbox.e.x
      }
    }

    function direction_w() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.w.y - node.offsetHeight / 2,
        left: bbox.w.x - node.offsetWidth
      }
    }

    function direction_nw() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.nw.y - node.offsetHeight,
        left: bbox.nw.x - node.offsetWidth
      }
    }

    function direction_ne() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.ne.y - node.offsetHeight,
        left: bbox.ne.x
      }
    }

    function direction_sw() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.sw.y,
        left: bbox.sw.x - node.offsetWidth
      }
    }

    function direction_se() {
      var bbox = getScreenBBox()
      return {
        top:  bbox.se.y,
        left: bbox.e.x
      }
    }

    function initNode() {
      var node = d3.select(document.createElement('div'))
      node.style({
        position: 'absolute',
        top: 0,
        opacity: 0,
        'pointer-events': 'none',
        'box-sizing': 'border-box'
      })

      return node.node()
    }

    function getSVGNode(el) {
      el = el.node()
      if(el.tagName.toLowerCase() === 'svg')
        return el

      return el.ownerSVGElement
    }

    function getNodeEl() {
      if(node === null) {
        node = initNode();
        // re-add node to DOM
        document.body.appendChild(node);
      };
      return d3.select(node);
    }

    // Private - gets the screen coordinates of a shape
    //
    // Given a shape on the screen, will return an SVGPoint for the directions
    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),
    // sw(southwest).
    //
    //    +-+-+
    //    |   |
    //    +   +
    //    |   |
    //    +-+-+
    //
    // Returns an Object {n, s, e, w, nw, sw, ne, se}
    function getScreenBBox() {
      var targetel   = target || d3.event.target;

      while ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {
          targetel = targetel.parentNode;
      }

      var bbox       = {},
          matrix     = targetel.getScreenCTM(),
          tbbox      = targetel.getBBox(),
          width      = tbbox.width,
          height     = tbbox.height,
          x          = tbbox.x,
          y          = tbbox.y

      point.x = x
      point.y = y
      bbox.nw = point.matrixTransform(matrix)
      point.x += width
      bbox.ne = point.matrixTransform(matrix)
      point.y += height
      bbox.se = point.matrixTransform(matrix)
      point.x -= width
      bbox.sw = point.matrixTransform(matrix)
      point.y -= height / 2
      bbox.w  = point.matrixTransform(matrix)
      point.x += width
      bbox.e = point.matrixTransform(matrix)
      point.x -= width / 2
      point.y -= height / 2
      bbox.n = point.matrixTransform(matrix)
      point.y += height
      bbox.s = point.matrixTransform(matrix)

      return bbox
    }

    return tip
  };

}));
// SVGPathSeg API polyfill
// https://github.com/progers/pathseg
//
// This is a drop-in replacement for the SVGPathSeg and SVGPathSegList APIs that were removed from
// SVG2 (https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html), including the latest spec
// changes which were implemented in Firefox 43 and Chrome 46.

(function() { "use strict";
    if (!("SVGPathSeg" in window)) {
        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg
        window.SVGPathSeg = function(type, typeAsLetter, owningPathSegList) {
            this.pathSegType = type;
            this.pathSegTypeAsLetter = typeAsLetter;
            this._owningPathSegList = owningPathSegList;
        }

        SVGPathSeg.prototype.classname = "SVGPathSeg";

        SVGPathSeg.PATHSEG_UNKNOWN = 0;
        SVGPathSeg.PATHSEG_CLOSEPATH = 1;
        SVGPathSeg.PATHSEG_MOVETO_ABS = 2;
        SVGPathSeg.PATHSEG_MOVETO_REL = 3;
        SVGPathSeg.PATHSEG_LINETO_ABS = 4;
        SVGPathSeg.PATHSEG_LINETO_REL = 5;
        SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;
        SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;
        SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;
        SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;
        SVGPathSeg.PATHSEG_ARC_ABS = 10;
        SVGPathSeg.PATHSEG_ARC_REL = 11;
        SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;
        SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;
        SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;
        SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;
        SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;
        SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;
        SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;
        SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;

        // Notify owning PathSegList on any changes so they can be synchronized back to the path element.
        SVGPathSeg.prototype._segmentChanged = function() {
            if (this._owningPathSegList)
                this._owningPathSegList.segmentChanged(this);
        }

        window.SVGPathSegClosePath = function(owningPathSegList) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CLOSEPATH, "z", owningPathSegList);
        }
        SVGPathSegClosePath.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegClosePath.prototype.toString = function() { return "[object SVGPathSegClosePath]"; }
        SVGPathSegClosePath.prototype._asPathString = function() { return this.pathSegTypeAsLetter; }
        SVGPathSegClosePath.prototype.clone = function() { return new SVGPathSegClosePath(undefined); }

        window.SVGPathSegMovetoAbs = function(owningPathSegList, x, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_ABS, "M", owningPathSegList);
            this._x = x;
            this._y = y;
        }
        SVGPathSegMovetoAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegMovetoAbs.prototype.toString = function() { return "[object SVGPathSegMovetoAbs]"; }
        SVGPathSegMovetoAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x + " " + this._y; }
        SVGPathSegMovetoAbs.prototype.clone = function() { return new SVGPathSegMovetoAbs(undefined, this._x, this._y); }
        Object.defineProperty(SVGPathSegMovetoAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegMovetoAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegMovetoRel = function(owningPathSegList, x, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_REL, "m", owningPathSegList);
            this._x = x;
            this._y = y;
        }
        SVGPathSegMovetoRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegMovetoRel.prototype.toString = function() { return "[object SVGPathSegMovetoRel]"; }
        SVGPathSegMovetoRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x + " " + this._y; }
        SVGPathSegMovetoRel.prototype.clone = function() { return new SVGPathSegMovetoRel(undefined, this._x, this._y); }
        Object.defineProperty(SVGPathSegMovetoRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegMovetoRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegLinetoAbs = function(owningPathSegList, x, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_ABS, "L", owningPathSegList);
            this._x = x;
            this._y = y;
        }
        SVGPathSegLinetoAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegLinetoAbs.prototype.toString = function() { return "[object SVGPathSegLinetoAbs]"; }
        SVGPathSegLinetoAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x + " " + this._y; }
        SVGPathSegLinetoAbs.prototype.clone = function() { return new SVGPathSegLinetoAbs(undefined, this._x, this._y); }
        Object.defineProperty(SVGPathSegLinetoAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegLinetoAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegLinetoRel = function(owningPathSegList, x, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_REL, "l", owningPathSegList);
            this._x = x;
            this._y = y;
        }
        SVGPathSegLinetoRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegLinetoRel.prototype.toString = function() { return "[object SVGPathSegLinetoRel]"; }
        SVGPathSegLinetoRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x + " " + this._y; }
        SVGPathSegLinetoRel.prototype.clone = function() { return new SVGPathSegLinetoRel(undefined, this._x, this._y); }
        Object.defineProperty(SVGPathSegLinetoRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegLinetoRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoCubicAbs = function(owningPathSegList, x, y, x1, y1, x2, y2) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, "C", owningPathSegList);
            this._x = x;
            this._y = y;
            this._x1 = x1;
            this._y1 = y1;
            this._x2 = x2;
            this._y2 = y2;
        }
        SVGPathSegCurvetoCubicAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoCubicAbs.prototype.toString = function() { return "[object SVGPathSegCurvetoCubicAbs]"; }
        SVGPathSegCurvetoCubicAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoCubicAbs.prototype.clone = function() { return new SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }
        Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x1", { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y1", { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x2", { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y2", { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoCubicRel = function(owningPathSegList, x, y, x1, y1, x2, y2) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, "c", owningPathSegList);
            this._x = x;
            this._y = y;
            this._x1 = x1;
            this._y1 = y1;
            this._x2 = x2;
            this._y2 = y2;
        }
        SVGPathSegCurvetoCubicRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoCubicRel.prototype.toString = function() { return "[object SVGPathSegCurvetoCubicRel]"; }
        SVGPathSegCurvetoCubicRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoCubicRel.prototype.clone = function() { return new SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }
        Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x1", { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y1", { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x2", { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y2", { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoQuadraticAbs = function(owningPathSegList, x, y, x1, y1) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, "Q", owningPathSegList);
            this._x = x;
            this._y = y;
            this._x1 = x1;
            this._y1 = y1;
        }
        SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoQuadraticAbs.prototype.toString = function() { return "[object SVGPathSegCurvetoQuadraticAbs]"; }
        SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoQuadraticAbs.prototype.clone = function() { return new SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1); }
        Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x1", { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y1", { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoQuadraticRel = function(owningPathSegList, x, y, x1, y1) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, "q", owningPathSegList);
            this._x = x;
            this._y = y;
            this._x1 = x1;
            this._y1 = y1;
        }
        SVGPathSegCurvetoQuadraticRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoQuadraticRel.prototype.toString = function() { return "[object SVGPathSegCurvetoQuadraticRel]"; }
        SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoQuadraticRel.prototype.clone = function() { return new SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1); }
        Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x1", { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y1", { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegArcAbs = function(owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_ABS, "A", owningPathSegList);
            this._x = x;
            this._y = y;
            this._r1 = r1;
            this._r2 = r2;
            this._angle = angle;
            this._largeArcFlag = largeArcFlag;
            this._sweepFlag = sweepFlag;
        }
        SVGPathSegArcAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegArcAbs.prototype.toString = function() { return "[object SVGPathSegArcAbs]"; }
        SVGPathSegArcAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y; }
        SVGPathSegArcAbs.prototype.clone = function() { return new SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }
        Object.defineProperty(SVGPathSegArcAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcAbs.prototype, "r1", { get: function() { return this._r1; }, set: function(r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcAbs.prototype, "r2", { get: function() { return this._r2; }, set: function(r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcAbs.prototype, "angle", { get: function() { return this._angle; }, set: function(angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcAbs.prototype, "largeArcFlag", { get: function() { return this._largeArcFlag; }, set: function(largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcAbs.prototype, "sweepFlag", { get: function() { return this._sweepFlag; }, set: function(sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegArcRel = function(owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_REL, "a", owningPathSegList);
            this._x = x;
            this._y = y;
            this._r1 = r1;
            this._r2 = r2;
            this._angle = angle;
            this._largeArcFlag = largeArcFlag;
            this._sweepFlag = sweepFlag;
        }
        SVGPathSegArcRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegArcRel.prototype.toString = function() { return "[object SVGPathSegArcRel]"; }
        SVGPathSegArcRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y; }
        SVGPathSegArcRel.prototype.clone = function() { return new SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }
        Object.defineProperty(SVGPathSegArcRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcRel.prototype, "r1", { get: function() { return this._r1; }, set: function(r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcRel.prototype, "r2", { get: function() { return this._r2; }, set: function(r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcRel.prototype, "angle", { get: function() { return this._angle; }, set: function(angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcRel.prototype, "largeArcFlag", { get: function() { return this._largeArcFlag; }, set: function(largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegArcRel.prototype, "sweepFlag", { get: function() { return this._sweepFlag; }, set: function(sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegLinetoHorizontalAbs = function(owningPathSegList, x) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, "H", owningPathSegList);
            this._x = x;
        }
        SVGPathSegLinetoHorizontalAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegLinetoHorizontalAbs.prototype.toString = function() { return "[object SVGPathSegLinetoHorizontalAbs]"; }
        SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x; }
        SVGPathSegLinetoHorizontalAbs.prototype.clone = function() { return new SVGPathSegLinetoHorizontalAbs(undefined, this._x); }
        Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegLinetoHorizontalRel = function(owningPathSegList, x) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, "h", owningPathSegList);
            this._x = x;
        }
        SVGPathSegLinetoHorizontalRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegLinetoHorizontalRel.prototype.toString = function() { return "[object SVGPathSegLinetoHorizontalRel]"; }
        SVGPathSegLinetoHorizontalRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x; }
        SVGPathSegLinetoHorizontalRel.prototype.clone = function() { return new SVGPathSegLinetoHorizontalRel(undefined, this._x); }
        Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegLinetoVerticalAbs = function(owningPathSegList, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, "V", owningPathSegList);
            this._y = y;
        }
        SVGPathSegLinetoVerticalAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegLinetoVerticalAbs.prototype.toString = function() { return "[object SVGPathSegLinetoVerticalAbs]"; }
        SVGPathSegLinetoVerticalAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._y; }
        SVGPathSegLinetoVerticalAbs.prototype.clone = function() { return new SVGPathSegLinetoVerticalAbs(undefined, this._y); }
        Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegLinetoVerticalRel = function(owningPathSegList, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, "v", owningPathSegList);
            this._y = y;
        }
        SVGPathSegLinetoVerticalRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegLinetoVerticalRel.prototype.toString = function() { return "[object SVGPathSegLinetoVerticalRel]"; }
        SVGPathSegLinetoVerticalRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._y; }
        SVGPathSegLinetoVerticalRel.prototype.clone = function() { return new SVGPathSegLinetoVerticalRel(undefined, this._y); }
        Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoCubicSmoothAbs = function(owningPathSegList, x, y, x2, y2) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, "S", owningPathSegList);
            this._x = x;
            this._y = y;
            this._x2 = x2;
            this._y2 = y2;
        }
        SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function() { return "[object SVGPathSegCurvetoCubicSmoothAbs]"; }
        SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function() { return new SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2); }
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x2", { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y2", { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoCubicSmoothRel = function(owningPathSegList, x, y, x2, y2) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, "s", owningPathSegList);
            this._x = x;
            this._y = y;
            this._x2 = x2;
            this._y2 = y2;
        }
        SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function() { return "[object SVGPathSegCurvetoCubicSmoothRel]"; }
        SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function() { return new SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2); }
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x2", { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y2", { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoQuadraticSmoothAbs = function(owningPathSegList, x, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, "T", owningPathSegList);
            this._x = x;
            this._y = y;
        }
        SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function() { return "[object SVGPathSegCurvetoQuadraticSmoothAbs]"; }
        SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function() { return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y); }
        Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        window.SVGPathSegCurvetoQuadraticSmoothRel = function(owningPathSegList, x, y) {
            SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, "t", owningPathSegList);
            this._x = x;
            this._y = y;
        }
        SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(SVGPathSeg.prototype);
        SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function() { return "[object SVGPathSegCurvetoQuadraticSmoothRel]"; }
        SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + " " + this._x + " " + this._y; }
        SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function() { return new SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y); }
        Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "x", { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
        Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "y", { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

        // Add createSVGPathSeg* functions to SVGPathElement.
        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathElement.
        SVGPathElement.prototype.createSVGPathSegClosePath = function() { return new SVGPathSegClosePath(undefined); }
        SVGPathElement.prototype.createSVGPathSegMovetoAbs = function(x, y) { return new SVGPathSegMovetoAbs(undefined, x, y); }
        SVGPathElement.prototype.createSVGPathSegMovetoRel = function(x, y) { return new SVGPathSegMovetoRel(undefined, x, y); }
        SVGPathElement.prototype.createSVGPathSegLinetoAbs = function(x, y) { return new SVGPathSegLinetoAbs(undefined, x, y); }
        SVGPathElement.prototype.createSVGPathSegLinetoRel = function(x, y) { return new SVGPathSegLinetoRel(undefined, x, y); }
        SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function(x, y, x1, y1, x2, y2) { return new SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2); }
        SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function(x, y, x1, y1, x2, y2) { return new SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2); }
        SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function(x, y, x1, y1) { return new SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1); }
        SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function(x, y, x1, y1) { return new SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1); }
        SVGPathElement.prototype.createSVGPathSegArcAbs = function(x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); }
        SVGPathElement.prototype.createSVGPathSegArcRel = function(x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); }
        SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function(x) { return new SVGPathSegLinetoHorizontalAbs(undefined, x); }
        SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function(x) { return new SVGPathSegLinetoHorizontalRel(undefined, x); }
        SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function(y) { return new SVGPathSegLinetoVerticalAbs(undefined, y); }
        SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function(y) { return new SVGPathSegLinetoVerticalRel(undefined, y); }
        SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function(x, y, x2, y2) { return new SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2); }
        SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function(x, y, x2, y2) { return new SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2); }
        SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function(x, y) { return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y); }
        SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function(x, y) { return new SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y); }
    }

    if (!("SVGPathSegList" in window)) {
        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList
        window.SVGPathSegList = function(pathElement) {
            this._pathElement = pathElement;
            this._list = this._parsePath(this._pathElement.getAttribute("d"));

            // Use a MutationObserver to catch changes to the path's "d" attribute.
            this._mutationObserverConfig = { "attributes": true, "attributeFilter": ["d"] };
            this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));
            this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
        }

        SVGPathSegList.prototype.classname = "SVGPathSegList";

        Object.defineProperty(SVGPathSegList.prototype, "numberOfItems", {
            get: function() {
                this._checkPathSynchronizedToList();
                return this._list.length;
            },
            enumerable: true
        });

        // Add the pathSegList accessors to SVGPathElement.
        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData
        Object.defineProperty(SVGPathElement.prototype, "pathSegList", {
            get: function() {
                if (!this._pathSegList)
                    this._pathSegList = new SVGPathSegList(this);
                return this._pathSegList;
            },
            enumerable: true
        });
        // FIXME: The following are not implemented and simply return SVGPathElement.pathSegList.
        Object.defineProperty(SVGPathElement.prototype, "normalizedPathSegList", { get: function() { return this.pathSegList; }, enumerable: true });
        Object.defineProperty(SVGPathElement.prototype, "animatedPathSegList", { get: function() { return this.pathSegList; }, enumerable: true });
        Object.defineProperty(SVGPathElement.prototype, "animatedNormalizedPathSegList", { get: function() { return this.pathSegList; }, enumerable: true });

        // Process any pending mutations to the path element and update the list as needed.
        // This should be the first call of all public functions and is needed because
        // MutationObservers are not synchronous so we can have pending asynchronous mutations.
        SVGPathSegList.prototype._checkPathSynchronizedToList = function() {
            this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());
        }

        SVGPathSegList.prototype._updateListFromPathMutations = function(mutationRecords) {
            if (!this._pathElement)
                return;
            var hasPathMutations = false;
            mutationRecords.forEach(function(record) {
                if (record.attributeName == "d")
                    hasPathMutations = true;
            });
            if (hasPathMutations)
                this._list = this._parsePath(this._pathElement.getAttribute("d"));
        }

        // Serialize the list and update the path's 'd' attribute.
        SVGPathSegList.prototype._writeListToPath = function() {
            this._pathElementMutationObserver.disconnect();
            this._pathElement.setAttribute("d", SVGPathSegList._pathSegArrayAsString(this._list));
            this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
        }

        // When a path segment changes the list needs to be synchronized back to the path element.
        SVGPathSegList.prototype.segmentChanged = function(pathSeg) {
            this._writeListToPath();
        }

        SVGPathSegList.prototype.clear = function() {
            this._checkPathSynchronizedToList();

            this._list.forEach(function(pathSeg) {
                pathSeg._owningPathSegList = null;
            });
            this._list = [];
            this._writeListToPath();
        }

        SVGPathSegList.prototype.initialize = function(newItem) {
            this._checkPathSynchronizedToList();

            this._list = [newItem];
            newItem._owningPathSegList = this;
            this._writeListToPath();
            return newItem;
        }

        SVGPathSegList.prototype._checkValidIndex = function(index) {
            if (isNaN(index) || index < 0 || index >= this.numberOfItems)
                throw "INDEX_SIZE_ERR";
        }

        SVGPathSegList.prototype.getItem = function(index) {
            this._checkPathSynchronizedToList();

            this._checkValidIndex(index);
            return this._list[index];
        }

        SVGPathSegList.prototype.insertItemBefore = function(newItem, index) {
            this._checkPathSynchronizedToList();

            // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.
            if (index > this.numberOfItems)
                index = this.numberOfItems;
            if (newItem._owningPathSegList) {
                // SVG2 spec says to make a copy.
                newItem = newItem.clone();
            }
            this._list.splice(index, 0, newItem);
            newItem._owningPathSegList = this;
            this._writeListToPath();
            return newItem;
        }

        SVGPathSegList.prototype.replaceItem = function(newItem, index) {
            this._checkPathSynchronizedToList();

            if (newItem._owningPathSegList) {
                // SVG2 spec says to make a copy.
                newItem = newItem.clone();
            }
            this._checkValidIndex(index);
            this._list[index] = newItem;
            newItem._owningPathSegList = this;
            this._writeListToPath();
            return newItem;
        }

        SVGPathSegList.prototype.removeItem = function(index) {
            this._checkPathSynchronizedToList();

            this._checkValidIndex(index);
            var item = this._list[index];
            this._list.splice(index, 1);
            this._writeListToPath();
            return item;
        }

        SVGPathSegList.prototype.appendItem = function(newItem) {
            this._checkPathSynchronizedToList();

            if (newItem._owningPathSegList) {
                // SVG2 spec says to make a copy.
                newItem = newItem.clone();
            }
            this._list.push(newItem);
            newItem._owningPathSegList = this;
            // TODO: Optimize this to just append to the existing attribute.
            this._writeListToPath();
            return newItem;
        }

        SVGPathSegList._pathSegArrayAsString = function(pathSegArray) {
            var string = "";
            var first = true;
            pathSegArray.forEach(function(pathSeg) {
                if (first) {
                    first = false;
                    string += pathSeg._asPathString();
                } else {
                    string += " " + pathSeg._asPathString();
                }
            });
            return string;
        }

        // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.
        SVGPathSegList.prototype._parsePath = function(string) {
            if (!string || string.length == 0)
                return [];

            var owningPathSegList = this;

            var Builder = function() {
                this.pathSegList = [];
            }

            Builder.prototype.appendSegment = function(pathSeg) {
                this.pathSegList.push(pathSeg);
            }

            var Source = function(string) {
                this._string = string;
                this._currentIndex = 0;
                this._endIndex = this._string.length;
                this._previousCommand = SVGPathSeg.PATHSEG_UNKNOWN;

                this._skipOptionalSpaces();
            }

            Source.prototype._isCurrentSpace = function() {
                var character = this._string[this._currentIndex];
                return character <= " " && (character == " " || character == "\n" || character == "\t" || character == "\r" || character == "\f");
            }

            Source.prototype._skipOptionalSpaces = function() {
                while (this._currentIndex < this._endIndex && this._isCurrentSpace())
                    this._currentIndex++;
                return this._currentIndex < this._endIndex;
            }

            Source.prototype._skipOptionalSpacesOrDelimiter = function() {
                if (this._currentIndex < this._endIndex && !this._isCurrentSpace() && this._string.charAt(this._currentIndex) != ",")
                    return false;
                if (this._skipOptionalSpaces()) {
                    if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == ",") {
                        this._currentIndex++;
                        this._skipOptionalSpaces();
                    }
                }
                return this._currentIndex < this._endIndex;
            }

            Source.prototype.hasMoreData = function() {
                return this._currentIndex < this._endIndex;
            }

            Source.prototype.peekSegmentType = function() {
                var lookahead = this._string[this._currentIndex];
                return this._pathSegTypeFromChar(lookahead);
            }

            Source.prototype._pathSegTypeFromChar = function(lookahead) {
                switch (lookahead) {
                case "Z":
                case "z":
                    return SVGPathSeg.PATHSEG_CLOSEPATH;
                case "M":
                    return SVGPathSeg.PATHSEG_MOVETO_ABS;
                case "m":
                    return SVGPathSeg.PATHSEG_MOVETO_REL;
                case "L":
                    return SVGPathSeg.PATHSEG_LINETO_ABS;
                case "l":
                    return SVGPathSeg.PATHSEG_LINETO_REL;
                case "C":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;
                case "c":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;
                case "Q":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;
                case "q":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;
                case "A":
                    return SVGPathSeg.PATHSEG_ARC_ABS;
                case "a":
                    return SVGPathSeg.PATHSEG_ARC_REL;
                case "H":
                    return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;
                case "h":
                    return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;
                case "V":
                    return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;
                case "v":
                    return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;
                case "S":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;
                case "s":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;
                case "T":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;
                case "t":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;
                default:
                    return SVGPathSeg.PATHSEG_UNKNOWN;
                }
            }

            Source.prototype._nextCommandHelper = function(lookahead, previousCommand) {
                // Check for remaining coordinates in the current command.
                if ((lookahead == "+" || lookahead == "-" || lookahead == "." || (lookahead >= "0" && lookahead <= "9")) && previousCommand != SVGPathSeg.PATHSEG_CLOSEPATH) {
                    if (previousCommand == SVGPathSeg.PATHSEG_MOVETO_ABS)
                        return SVGPathSeg.PATHSEG_LINETO_ABS;
                    if (previousCommand == SVGPathSeg.PATHSEG_MOVETO_REL)
                        return SVGPathSeg.PATHSEG_LINETO_REL;
                    return previousCommand;
                }
                return SVGPathSeg.PATHSEG_UNKNOWN;
            }

            Source.prototype.initialCommandIsMoveTo = function() {
                // If the path is empty it is still valid, so return true.
                if (!this.hasMoreData())
                    return true;
                var command = this.peekSegmentType();
                // Path must start with moveTo.
                return command == SVGPathSeg.PATHSEG_MOVETO_ABS || command == SVGPathSeg.PATHSEG_MOVETO_REL;
            }

            // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.
            // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF
            Source.prototype._parseNumber = function() {
                var exponent = 0;
                var integer = 0;
                var frac = 1;
                var decimal = 0;
                var sign = 1;
                var expsign = 1;

                var startIndex = this._currentIndex;

                this._skipOptionalSpaces();

                // Read the sign.
                if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == "+")
                    this._currentIndex++;
                else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == "-") {
                    this._currentIndex++;
                    sign = -1;
                }

                if (this._currentIndex == this._endIndex || ((this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") && this._string.charAt(this._currentIndex) != "."))
                    // The first character of a number must be one of [0-9+-.].
                    return undefined;

                // Read the integer part, build right-to-left.
                var startIntPartIndex = this._currentIndex;
                while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9")
                    this._currentIndex++; // Advance to first non-digit.

                if (this._currentIndex != startIntPartIndex) {
                    var scanIntPartIndex = this._currentIndex - 1;
                    var multiplier = 1;
                    while (scanIntPartIndex >= startIntPartIndex) {
                        integer += multiplier * (this._string.charAt(scanIntPartIndex--) - "0");
                        multiplier *= 10;
                    }
                }

                // Read the decimals.
                if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == ".") {
                    this._currentIndex++;

                    // There must be a least one digit following the .
                    if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9")
                        return undefined;
                    while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9")
                        decimal += (this._string.charAt(this._currentIndex++) - "0") * (frac *= 0.1);
                }

                // Read the exponent part.
                if (this._currentIndex != startIndex && this._currentIndex + 1 < this._endIndex && (this._string.charAt(this._currentIndex) == "e" || this._string.charAt(this._currentIndex) == "E") && (this._string.charAt(this._currentIndex + 1) != "x" && this._string.charAt(this._currentIndex + 1) != "m")) {
                    this._currentIndex++;

                    // Read the sign of the exponent.
                    if (this._string.charAt(this._currentIndex) == "+") {
                        this._currentIndex++;
                    } else if (this._string.charAt(this._currentIndex) == "-") {
                        this._currentIndex++;
                        expsign = -1;
                    }

                    // There must be an exponent.
                    if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9")
                        return undefined;

                    while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9") {
                        exponent *= 10;
                        exponent += (this._string.charAt(this._currentIndex) - "0");
                        this._currentIndex++;
                    }
                }

                var number = integer + decimal;
                number *= sign;

                if (exponent)
                    number *= Math.pow(10, expsign * exponent);

                if (startIndex == this._currentIndex)
                    return undefined;

                this._skipOptionalSpacesOrDelimiter();

                return number;
            }

            Source.prototype._parseArcFlag = function() {
                if (this._currentIndex >= this._endIndex)
                    return undefined;
                var flag = false;
                var flagChar = this._string.charAt(this._currentIndex++);
                if (flagChar == "0")
                    flag = false;
                else if (flagChar == "1")
                    flag = true;
                else
                    return undefined;

                this._skipOptionalSpacesOrDelimiter();
                return flag;
            }

            Source.prototype.parseSegment = function() {
                var lookahead = this._string[this._currentIndex];
                var command = this._pathSegTypeFromChar(lookahead);
                if (command == SVGPathSeg.PATHSEG_UNKNOWN) {
                    // Possibly an implicit command. Not allowed if this is the first command.
                    if (this._previousCommand == SVGPathSeg.PATHSEG_UNKNOWN)
                        return null;
                    command = this._nextCommandHelper(lookahead, this._previousCommand);
                    if (command == SVGPathSeg.PATHSEG_UNKNOWN)
                        return null;
                } else {
                    this._currentIndex++;
                }

                this._previousCommand = command;

                switch (command) {
                case SVGPathSeg.PATHSEG_MOVETO_REL:
                    return new SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_MOVETO_ABS:
                    return new SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_REL:
                    return new SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_ABS:
                    return new SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
                    return new SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
                    return new SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:
                    return new SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
                    return new SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());
                case SVGPathSeg.PATHSEG_CLOSEPATH:
                    this._skipOptionalSpaces();
                    return new SVGPathSegClosePath(owningPathSegList);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:
                    var points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
                    var points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
                    var points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
                    var points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
                    var points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
                    var points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:
                    return new SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:
                    return new SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_ARC_REL:
                    var points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);
                case SVGPathSeg.PATHSEG_ARC_ABS:
                    var points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};
                    return new SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);
                default:
                    throw "Unknown path seg type."
                }
            }

            var builder = new Builder();
            var source = new Source(string);

            if (!source.initialCommandIsMoveTo())
                return [];
            while (source.hasMoreData()) {
                var pathSeg = source.parseSegment();
                if (!pathSeg)
                    return [];
                builder.appendSegment(pathSeg);
            }

            return builder.pathSegList;
        }
    }
}());
!function(a){"use strict";function b(a){this.owner=a}function c(a,b){if(Object.create)b.prototype=Object.create(a.prototype);else{var c=function(){};c.prototype=a.prototype,b.prototype=new c}return b.prototype.constructor=b,b}function d(a){var b=this.internal=new e(this);b.loadConfig(a),b.init(),function c(a,b,d){Object.keys(a).forEach(function(e){b[e]=a[e].bind(d),Object.keys(a[e]).length>0&&c(a[e],b[e],d)})}(h,this,this)}function e(b){var c=this;c.d3=a.d3?a.d3:"undefined"!=typeof require?require("d3"):void 0,c.api=b,c.config=c.getDefaultConfig(),c.data={},c.cache={},c.axes={}}function f(a){b.call(this,a)}function g(a,b){function c(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+u)+", 0)"})}function d(a,b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function e(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function f(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,n);for(c=a.domain(),b=Math.ceil(c[0]);b<c[1];b++)d.push(b);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d}function g(){var a,c=p.copy();return b.isCategory&&(a=p.domain(),c.domain([a[0],a[1]-1])),c}function h(a){var b=m?m(a):a;return"undefined"!=typeof b?b:""}function i(a){if(z)return z;var b={h:11.5,w:5.5};return a.select("text").text(h).each(function(a){var c=this.getBoundingClientRect(),d=h(a),e=c.height,f=d?c.width/d.length:void 0;e&&f&&(b.h=e,b.w=f)}).text(""),z=b,b}function j(c){return b.withoutTransition?c:a.transition(c)}function k(m){m.each(function(){function m(a,c){function d(a,b){f=void 0;for(var h=1;h<b.length;h++)if(" "===b.charAt(h)&&(f=h),e=b.substr(0,h+1),g=U.w*e.length,g>c)return d(a.concat(b.substr(0,f?f:h)),b.slice(f?f+1:h));return a.concat(b)}var e,f,g,i=h(a),j=[];return"[object Array]"===Object.prototype.toString.call(i)?i:((!c||0>=c)&&(c=X?95:b.isCategory?Math.ceil(F(G[1])-F(G[0]))-12:110),d(j,i+""))}function n(a,b){var c=U.h;return 0===b&&(c="left"===q||"right"===q?-((V[a.index]-1)*(U.h/2)-3):".71em"),c}function v(a){var b=p(a)+(o?0:u);return L[0]<b&&b<L[1]?r:0}function w(a){return a?a>0?"start":"end":"middle"}function x(a){return a?"rotate("+a+")":""}function y(a){return a?8*Math.sin(Math.PI*(a/180)):0}function z(a){return a?11.5-2.5*(a/15)*(a>0?1:-1):W}var A,B,C,D=k.g=a.select(this),E=this.__chart__||p,F=this.__chart__=g(),G=t?t:f(F),H=D.selectAll(".tick").data(G,F),I=H.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),J=H.exit().remove(),K=j(H).style("opacity",1),L=p.rangeExtent?p.rangeExtent():e(p.range()),M=D.selectAll(".domain").data([0]),N=(M.enter().append("path").attr("class","domain"),j(M));I.append("line"),I.append("text");var O=I.select("line"),P=K.select("line"),Q=I.select("text"),R=K.select("text");b.isCategory?(u=Math.ceil((F(1)-F(0))/2),B=o?0:u,C=o?u:0):u=B=0;var S,T,U=i(D.select(".tick")),V=[],W=Math.max(r,0)+s,X="left"===q||"right"===q;S=H.select("text"),T=S.selectAll("tspan").data(function(a,c){var d=b.tickMultiline?m(a,b.tickWidth):[].concat(h(a));return V[c]=d.length,d.map(function(a){return{index:c,splitted:a}})}),T.enter().append("tspan"),T.exit().remove(),T.text(function(a){return a.splitted});var Y=b.tickTextRotate;switch(q){case"bottom":A=c,O.attr("y2",r),Q.attr("y",W),P.attr("x1",B).attr("x2",B).attr("y2",v),R.attr("x",0).attr("y",z(Y)).style("text-anchor",w(Y)).attr("transform",x(Y)),T.attr("x",0).attr("dy",n).attr("dx",y(Y)),N.attr("d","M"+L[0]+","+l+"V0H"+L[1]+"V"+l);break;case"top":A=c,O.attr("y2",-r),Q.attr("y",-W),P.attr("x2",0).attr("y2",-r),R.attr("x",0).attr("y",-W),S.style("text-anchor","middle"),T.attr("x",0).attr("dy","0em"),N.attr("d","M"+L[0]+","+-l+"V0H"+L[1]+"V"+-l);break;case"left":A=d,O.attr("x2",-r),Q.attr("x",-W),P.attr("x2",-r).attr("y1",C).attr("y2",C),R.attr("x",-W).attr("y",u),S.style("text-anchor","end"),T.attr("x",-W).attr("dy",n),N.attr("d","M"+-l+","+L[0]+"H0V"+L[1]+"H"+-l);break;case"right":A=d,O.attr("x2",r),Q.attr("x",W),P.attr("x2",r).attr("y2",0),R.attr("x",W).attr("y",0),S.style("text-anchor","start"),T.attr("x",W).attr("dy",n),N.attr("d","M"+l+","+L[0]+"H0V"+L[1]+"H"+l)}if(F.rangeBand){var Z=F,$=Z.rangeBand()/2;E=F=function(a){return Z(a)+$}}else E.rangeBand?E=F:J.call(A,F);I.call(A,E),K.call(A,F)})}var l,m,n,o,p=a.scale.linear(),q="bottom",r=6,s=3,t=null,u=0,v=!0;return b=b||{},l=b.withOuterTick?6:0,k.scale=function(a){return arguments.length?(p=a,k):p},k.orient=function(a){return arguments.length?(q=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",k):q},k.tickFormat=function(a){return arguments.length?(m=a,k):m},k.tickCentered=function(a){return arguments.length?(o=a,k):o},k.tickOffset=function(){return u},k.tickInterval=function(){var a,c;return b.isCategory?a=2*u:(c=k.g.select("path.domain").node().getTotalLength()-2*l,a=c/k.g.selectAll("line").size()),1/0===a?0:a},k.ticks=function(){return arguments.length?(n=arguments,k):n},k.tickCulling=function(a){return arguments.length?(v=a,k):v},k.tickValues=function(a){if("function"==typeof a)t=function(){return a(p.domain())};else{if(!arguments.length)return t;t=a}return k},k}var h,i,j,k={version:"0.4.10"};k.generate=function(a){return new d(a)},k.chart={fn:d.prototype,internal:{fn:e.prototype,axis:{fn:f.prototype}}},h=k.chart.fn,i=k.chart.internal.fn,j=k.chart.internal.axis.fn,i.init=function(){var a=this,b=a.config;if(a.initParams(),b.data_url)a.convertUrlToData(b.data_url,b.data_mimeType,b.data_keys,a.initWithData);else if(b.data_json)a.initWithData(a.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)a.initWithData(a.convertRowsToData(b.data_rows));else{if(!b.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(b.data_columns))}},i.initParams=function(){var a=this,b=a.d3,c=a.config;a.clipId="c3-"+ +new Date+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=!1,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeFormat=c.data_xLocaltime?b.time.format:b.time.format.utc,a.axisTimeFormat=c.axis_x_localtime?b.time.format:b.time.format.utc,a.defaultAxisTimeFormat=a.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=c.axis_rotated?"left":"bottom",a.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",a.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",a.subXOrient=c.axis_rotated?"left":"bottom",a.isLegendRight="right"===c.legend_position,a.isLegendInset="inset"===c.legend_position,a.isLegendTop="top-left"===c.legend_inset_anchor||"top-right"===c.legend_inset_anchor,a.isLegendLeft="top-left"===c.legend_inset_anchor||"bottom-left"===c.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=b.selectAll([])},i.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},i.initWithData=function(b){var c,d,e=this,g=e.d3,h=e.config,i=!0;e.axis=new f(e),e.initPie&&e.initPie(),e.initBrush&&e.initBrush(),e.initZoom&&e.initZoom(),e.selectChart=h.bindto?"function"==typeof h.bindto.node?h.bindto:g.select(h.bindto):g.selectAll([]),e.selectChart.empty()&&(e.selectChart=g.select(document.createElement("div")).style("opacity",0),e.observeInserted(e.selectChart),i=!1),e.selectChart.html("").classed("c3",!0),e.data.xs={},e.data.targets=e.convertDataToTargets(b),h.data_filter&&(e.data.targets=e.data.targets.filter(h.data_filter)),h.data_hide&&e.addHiddenTargetIds(h.data_hide===!0?e.mapToIds(e.data.targets):h.data_hide),h.legend_hide&&e.addHiddenLegendIds(h.legend_hide===!0?e.mapToIds(e.data.targets):h.legend_hide),e.hasType("gauge")&&(h.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain(g.extent(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.brush&&e.brush.scale(e.subX),h.zoom_enabled&&e.zoom.scale(e.x),e.svg=e.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return h.onmouseover.call(e)}).on("mouseleave",function(){return h.onmouseout.call(e)}),c=e.svg.append("defs"),e.clipChart=e.appendClip(c,e.clipId),e.clipXAxis=e.appendClip(c,e.clipIdForXAxis),e.clipYAxis=e.appendClip(c,e.clipIdForYAxis),e.clipGrid=e.appendClip(c,e.clipIdForGrid),e.clipSubchart=e.appendClip(c,e.clipIdForSubchart),e.updateSvgSize(),d=e.main=e.svg.append("g").attr("transform",e.getTranslate("main")),e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),d.append("text").attr("class",l.text+" "+l.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),d.append("g").attr("clip-path",e.clipPath).attr("class",l.chart),h.grid_lines_front&&e.initGridLines(),e.initEventRect(),e.initChartElements(),d.insert("rect",h.zoom_privileged?null:"g."+l.regions).attr("class",l.zoomRect).attr("width",e.width).attr("height",e.height).style("opacity",0).on("dblclick.zoom",null),h.axis_x_extent&&e.brush.extent(e.getDefaultExtent()),e.axis.init(),e.updateTargets(e.data.targets),i&&(e.updateDimension(),e.config.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==a.onresize&&(a.onresize=e.generateResize()),a.onresize.add&&(a.onresize.add(function(){h.onresize.call(e)}),a.onresize.add(function(){e.api.flush()}),a.onresize.add(function(){h.onresized.call(e)})),e.api.element=e.selectChart.node()},i.smoothLines=function(a,b){var c=this;"grid"===b&&a.each(function(){var a=c.d3.select(this),b=a.attr("x1"),d=a.attr("x2"),e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(d),y1:Math.ceil(e),y2:Math.ceil(f)})})},i.updateSizes=function(){var a=this,b=a.config,c=a.legend?a.getLegendHeight():0,d=a.legend?a.getLegendWidth():0,e=a.isLegendRight||a.isLegendInset?0:c,f=a.hasArcType(),g=b.axis_rotated||f?0:a.getHorizontalAxisHeight("x"),h=b.subchart_show&&!f?b.subchart_size_height+g:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=b.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+e+a.getCurrentPaddingBottom(),left:h+(f?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:g+h+e+a.getCurrentPaddingBottom(),left:f?0:a.getCurrentPaddingLeft()},a.margin2=b.axis_rotated?{top:a.margin.top,right:0/0,bottom:20+e,left:a.rotated_padding_left}:{top:a.currentHeight-h-e,right:0/0,bottom:g+e,left:a.margin.left},a.margin3={top:0,right:0/0,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(c,d),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=b.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=b.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?d+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&f&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},i.updateTargets=function(a){var b=this;b.updateTargetsForText(a),b.updateTargetsForBar(a),b.updateTargetsForLine(a),b.hasArcType()&&b.updateTargetsForArc&&b.updateTargetsForArc(a),b.updateTargetsForSubchart&&b.updateTargetsForSubchart(a),b.showTargets()},i.showTargets=function(){var a=this;a.svg.selectAll("."+l.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},i.redraw=function(a,b){var c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D,E,F,G,H=this,I=H.main,J=H.d3,K=H.config,L=H.getShapeIndices(H.isAreaType),M=H.getShapeIndices(H.isBarType),N=H.getShapeIndices(H.isLineType),O=H.hasArcType(),P=H.filterTargetsToShow(H.data.targets),Q=H.xv.bind(H);if(a=a||{},c=w(a,"withY",!0),d=w(a,"withSubchart",!0),e=w(a,"withTransition",!0),h=w(a,"withTransform",!1),i=w(a,"withUpdateXDomain",!1),j=w(a,"withUpdateOrgXDomain",!1),k=w(a,"withTrimXDomain",!0),p=w(a,"withUpdateXAxis",i),m=w(a,"withLegend",!1),n=w(a,"withEventRect",!0),o=w(a,"withDimension",!0),f=w(a,"withTransitionForExit",e),g=w(a,"withTransitionForAxis",e),v=e?K.transition_duration:0,x=f?v:0,y=g?v:0,b=b||H.axis.generateTransitions(y),m&&K.legend_show?H.updateLegend(H.mapToIds(H.data.targets),a,b):o&&H.updateDimension(!0),H.isCategorized()&&0===P.length&&H.x.domain([0,H.axes.x.selectAll(".tick").size()]),P.length?(H.updateXDomain(P,i,j,k),K.axis_x_tick_values||(B=H.axis.updateXAxisTickValues(P))):(H.xAxis.tickValues([]),H.subXAxis.tickValues([])),K.zoom_rescale&&!a.flow&&(E=H.x.orgDomain()),H.y.domain(H.getYDomain(P,"y",E)),H.y2.domain(H.getYDomain(P,"y2",E)),!K.axis_y_tick_values&&K.axis_y_tick_count&&H.yAxis.tickValues(H.axis.generateTickValues(H.y.domain(),K.axis_y_tick_count)),!K.axis_y2_tick_values&&K.axis_y2_tick_count&&H.y2Axis.tickValues(H.axis.generateTickValues(H.y2.domain(),K.axis_y2_tick_count)),H.axis.redraw(b,O),H.axis.updateLabels(e),(i||p)&&P.length)if(K.axis_x_tick_culling&&B){for(C=1;C<B.length;C++)if(B.length/C<K.axis_x_tick_culling_max){D=C;break}H.svg.selectAll("."+l.axisX+" .tick text").each(function(a){var b=B.indexOf(a);b>=0&&J.select(this).style("display",b%D?"none":"block")})}else H.svg.selectAll("."+l.axisX+" .tick text").style("display","block");q=H.generateDrawArea?H.generateDrawArea(L,!1):void 0,r=H.generateDrawBar?H.generateDrawBar(M):void 0,s=H.generateDrawLine?H.generateDrawLine(N,!1):void 0,t=H.generateXYForText(L,M,N,!0),u=H.generateXYForText(L,M,N,!1),c&&(H.subY.domain(H.getYDomain(P,"y")),H.subY2.domain(H.getYDomain(P,"y2"))),H.tooltip.style("display","none"),H.updateXgridFocus(),I.select("text."+l.text+"."+l.empty).attr("x",H.width/2).attr("y",H.height/2).text(K.data_empty_label_text).transition().style("opacity",P.length?0:1),H.updateGrid(v),H.updateRegion(v),H.updateBar(x),H.updateLine(x),H.updateArea(x),H.updateCircle(),H.hasDataLabel()&&H.updateText(x),H.redrawArc&&H.redrawArc(v,x,h),H.redrawSubchart&&H.redrawSubchart(d,b,v,x,L,M,N),I.selectAll("."+l.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(),K.interaction_enabled&&!a.flow&&n&&(H.redrawEventRect(),H.updateZoom&&H.updateZoom()),H.updateCircleY(),F=(H.config.axis_rotated?H.circleY:H.circleX).bind(H),G=(H.config.axis_rotated?H.circleX:H.circleY).bind(H),a.flow&&(A=H.generateFlow({targets:P,flow:a.flow,duration:a.flow.duration,drawBar:r,drawLine:s,drawArea:q,cx:F,cy:G,xv:Q,xForText:t,yForText:u})),(v||A)&&H.isTabVisible()?J.transition().duration(v).each(function(){var b=[];[H.redrawBar(r,!0),H.redrawLine(s,!0),H.redrawArea(q,!0),H.redrawCircle(F,G,!0),H.redrawText(t,u,a.flow,!0),H.redrawRegion(!0),H.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})}),z=H.generateWait(),b.forEach(function(a){z.add(a)})}).call(z,function(){A&&A(),K.onrendered&&K.onrendered.call(H)}):(H.redrawBar(r),H.redrawLine(s),H.redrawArea(q),H.redrawCircle(F,G),H.redrawText(t,u,a.flow),H.redrawRegion(),H.redrawGrid(),K.onrendered&&K.onrendered.call(H)),H.mapToIds(H.data.targets).forEach(function(a){H.withoutFadeIn[a]=!0})},i.updateAndRedraw=function(a){var b,c=this,d=c.config;a=a||{},a.withTransition=w(a,"withTransition",!0),a.withTransform=w(a,"withTransform",!1),a.withLegend=w(a,"withLegend",!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withTransitionForTransform=w(a,"withTransitionForTransform",a.withTransition),c.updateSizes(),a.withLegend&&d.legend_show||(b=c.axis.generateTransitions(a.withTransitionForAxis?d.transition_duration:0),c.updateScales(),c.updateSvgSize(),c.transformAll(a.withTransitionForTransform,b)),c.redraw(a,b)},i.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},i.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},i.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},i.isCustomX=function(){var a=this,b=a.config;return!a.isTimeSeries()&&(b.data_x||v(b.data_xs))},i.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},i.getTranslate=function(a){var b,c,d=this,e=d.config;return"main"===a?(b=s(d.margin.left),c=s(d.margin.top)):"context"===a?(b=s(d.margin2.left),c=s(d.margin2.top)):"legend"===a?(b=d.margin3.left,c=d.margin3.top):"x"===a?(b=0,c=e.axis_rotated?0:d.height):"y"===a?(b=0,c=e.axis_rotated?d.height:0):"y2"===a?(b=e.axis_rotated?0:d.width,c=e.axis_rotated?1:0):"subx"===a?(b=0,c=e.axis_rotated?0:d.height2):"arc"===a&&(b=d.arcWidth/2,c=d.arcHeight/2),"translate("+b+","+c+")"},i.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},i.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},i.opacityForCircle=function(a){var b=this.config.point_show?1:0;return m(a.value)?this.isScatterType(a)?.5:b:0},i.opacityForText=function(){return this.hasDataLabel()?1:0},i.xx=function(a){return a?this.x(a.x):null},i.xv=function(a){var b=this,c=a.value;return b.isTimeSeries()?c=b.parseDate(a.value):b.isCategorized()&&"string"==typeof a.value&&(c=b.config.axis_x_categories.indexOf(a.value)),Math.ceil(b.x(c))},i.yv=function(a){var b=this,c=a.axis&&"y2"===a.axis?b.y2:b.y;return Math.ceil(c(a.value))},i.subxx=function(a){return a?this.subX(a.x):null},i.transformMain=function(a,b){var c,d,e,f=this;b&&b.axisX?c=b.axisX:(c=f.main.select("."+l.axisX),a&&(c=c.transition())),b&&b.axisY?d=b.axisY:(d=f.main.select("."+l.axisY),a&&(d=d.transition())),b&&b.axisY2?e=b.axisY2:(e=f.main.select("."+l.axisY2),a&&(e=e.transition())),(a?f.main.transition():f.main).attr("transform",f.getTranslate("main")),c.attr("transform",f.getTranslate("x")),d.attr("transform",f.getTranslate("y")),e.attr("transform",f.getTranslate("y2")),f.main.select("."+l.chartArcs).attr("transform",f.getTranslate("arc"))},i.transformAll=function(a,b){var c=this;c.transformMain(a,b),c.config.subchart_show&&c.transformContext(a,b),c.legend&&c.transformLegend(a)},i.updateSvgSize=function(){var a=this,b=a.svg.select(".c3-brush .background");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",b.size()?b.attr("height"):0),a.svg.select("."+l.zoomRect).attr("width",a.width).attr("height",a.height),a.selectChart.style("max-height",a.currentHeight+"px")},i.updateDimension=function(a){var b=this;a||(b.config.axis_rotated?(b.axes.x.call(b.xAxis),b.axes.subx.call(b.subXAxis)):(b.axes.y.call(b.yAxis),b.axes.y2.call(b.y2Axis))),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(!1)},i.observeInserted=function(b){var c,d=this;return"undefined"==typeof MutationObserver?void a.console.error("MutationObserver not defined."):(c=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(c.disconnect(),d.intervalForObserveInserted=a.setInterval(function(){b.node().parentNode&&(a.clearInterval(d.intervalForObserveInserted),d.updateDimension(),d.config.oninit.call(d),d.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),b.transition().style("opacity",1))},10))})}),void c.observe(b.node(),{attributes:!0,childList:!0,characterData:!0}))},i.generateResize=function(){function a(){b.forEach(function(a){a()})}var b=[];return a.add=function(a){b.push(a)},a},i.endall=function(a,b){var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})},i.generateWait=function(){var a=[],b=function(b,c){var d=setInterval(function(){var b=0;a.forEach(function(a){if(a.empty())return void(b+=1);try{a.transition()}catch(c){b+=1}}),b===a.length&&(clearInterval(d),c&&c())},10)};return b.add=function(b){a.push(b)},b},i.parseDate=function(b){var c,d=this;return b instanceof Date?c=b:"string"==typeof b?c=d.dataTimeFormat(d.config.data_xFormat).parse(b):"number"!=typeof b&&isNaN(b)||(c=new Date(+b)),(!c||isNaN(+c))&&a.console.error("Failed to parse x '"+b+"' to Date object"),c},i.isTabVisible=function(){var a;return"undefined"!=typeof document.hidden?a="hidden":"undefined"!=typeof document.mozHidden?a="mozHidden":"undefined"!=typeof document.msHidden?a="msHidden":"undefined"!=typeof document.webkitHidden&&(a="webkitHidden"),document[a]?!1:!0},i.getDefaultConfig=function(){var a={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,b,c,d){return this.getTooltipContent?this.getTooltipContent(a,b,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(b){a[b]=this.additionalConfig[b]},this),a},i.additionalConfig={},i.loadConfig=function(a){function b(){var a=d.shift();return a&&c&&"object"==typeof c&&a in c?(c=c[a],b()):a?void 0:c}var c,d,e,f=this.config;Object.keys(f).forEach(function(g){c=a,d=g.split("_"),e=b(),q(e)&&(f[g]=e)})},i.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])},i.getX=function(a,b,c,d){var e,f=this,g=f.getScale(a,b,f.isTimeSeries()),h=c?g.domain(c):g;f.isCategorized()?(d=d||function(){return 0},g=function(a,b){var c=h(a)+d(a);return b?c:Math.ceil(c)}):g=function(a,b){var c=h(a);return b?c:Math.ceil(c)};for(e in h)g[e]=h[e];return g.orgDomain=function(){return h.domain()},f.isCategorized()&&(g.domain=function(a){return arguments.length?(h.domain(a),g):(a=this.orgDomain(),[a[0],a[1]+1])}),g},i.getY=function(a,b,c){var d=this.getScale(a,b,this.isTimeSeriesY());return c&&d.domain(c),d},i.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y},i.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY},i.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0,a.xMax=b.axis_rotated?a.height:a.width,a.yMin=b.axis_rotated?0:a.height,a.yMax=b.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=b.axis_rotated?0:a.height2,a.subYMax=b.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain()),a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain()),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(b){return b%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(a.subYMin,a.subYMax,c?b.axis_y_default:a.subY.domain()),a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain()),a.xAxisTickFormat=a.axis.getXAxisTickFormat(),a.xAxisTickValues=a.axis.getXAxisTickValues(),a.yAxisTickValues=a.axis.getYAxisTickValues(),a.y2AxisTickValues=a.axis.getY2AxisTickValues(),a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.yAxis=a.axis.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer),a.y2Axis=a.axis.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer),c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x)),a.updateArc&&a.updateArc()},i.getYDomainMin=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasNegativeValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=0>a?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&+a>0||(k[d][b]+=+a)});return h.d3.min(Object.keys(k).map(function(a){return h.d3.min(k[a])}))},i.getYDomainMax=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasPositiveValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=a>0?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&0>+a||(k[d][b]+=+a)});return h.d3.max(Object.keys(k).map(function(a){return h.d3.max(k[a])}))},i.getYDomain=function(a,b,c){var d,e,f,g,h,i,j,k,l,n,o,p=this,q=p.config,r=a.filter(function(a){return p.axis.getId(a.id)===b}),s=c?p.filterByXDomain(r,c):r,u="y2"===b?q.axis_y2_min:q.axis_y_min,w="y2"===b?q.axis_y2_max:q.axis_y_max,x=p.getYDomainMin(s),y=p.getYDomainMax(s),z="y2"===b?q.axis_y2_center:q.axis_y_center,A=p.hasType("bar",s)&&q.bar_zerobased||p.hasType("area",s)&&q.area_zerobased,B="y2"===b?q.axis_y2_inverted:q.axis_y_inverted,C=p.hasDataLabel()&&q.axis_rotated,D=p.hasDataLabel()&&!q.axis_rotated;return x=m(u)?u:m(w)?w>x?x:w-10:x,y=m(w)?w:m(u)?y>u?y:u+10:y,0===s.length?"y2"===b?p.y2.domain():p.y.domain():(isNaN(x)&&(x=0),isNaN(y)&&(y=x),x===y&&(0>x?y=0:x=0),n=x>=0&&y>=0,o=0>=x&&0>=y,(m(u)&&n||m(w)&&o)&&(A=!1),A&&(n&&(x=0),o&&(y=0)),e=Math.abs(y-x),f=g=h=.1*e,"undefined"!=typeof z&&(i=Math.max(Math.abs(x),Math.abs(y)),y=z+i,x=z-i),C?(j=p.getDataLabelLength(x,y,"width"),k=t(p.y.range()),l=[j[0]/k,j[1]/k],g+=e*(l[1]/(1-l[0]-l[1])),h+=e*(l[0]/(1-l[0]-l[1]))):D&&(j=p.getDataLabelLength(x,y,"height"),g+=p.axis.convertPixelsToAxisPadding(j[1],e),h+=p.axis.convertPixelsToAxisPadding(j[0],e)),"y"===b&&v(q.axis_y_padding)&&(g=p.axis.getPadding(q.axis_y_padding,"top",g,e),h=p.axis.getPadding(q.axis_y_padding,"bottom",h,e)),"y2"===b&&v(q.axis_y2_padding)&&(g=p.axis.getPadding(q.axis_y2_padding,"top",g,e),h=p.axis.getPadding(q.axis_y2_padding,"bottom",h,e)),A&&(n&&(h=x),o&&(g=-y)),d=[x-h,y+g],B?d.reverse():d)},i.getXDomainMin=function(a){var b=this,c=b.config;return q(c.axis_x_min)?b.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:b.d3.min(a,function(a){return b.d3.min(a.values,function(a){return a.x})})},i.getXDomainMax=function(a){var b=this,c=b.config;return q(c.axis_x_max)?b.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:b.d3.max(a,function(a){return b.d3.max(a.values,function(a){return a.x})})},i.getXDomainPadding=function(a){var b,c,d,e,f=this,g=f.config,h=a[1]-a[0];return f.isCategorized()?c=0:f.hasType("bar")?(b=f.getMaxDataCount(),c=b>1?h/(b-1)/2:.5):c=.01*h,"object"==typeof g.axis_x_padding&&v(g.axis_x_padding)?(d=m(g.axis_x_padding.left)?g.axis_x_padding.left:c,e=m(g.axis_x_padding.right)?g.axis_x_padding.right:c):d=e="number"==typeof g.axis_x_padding?g.axis_x_padding:c,{left:d,right:e}},i.getXDomain=function(a){var b=this,c=[b.getXDomainMin(a),b.getXDomainMax(a)],d=c[0],e=c[1],f=b.getXDomainPadding(c),g=0,h=0;
return d-e!==0||b.isCategorized()||(b.isTimeSeries()?(d=new Date(.5*d.getTime()),e=new Date(1.5*e.getTime())):(d=0===d?1:.5*d,e=0===e?-1:1.5*e)),(d||0===d)&&(g=b.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left),(e||0===e)&&(h=b.isTimeSeries()?new Date(e.getTime()+f.right):e+f.right),[g,h]},i.updateXDomain=function(a,b,c,d,e){var f=this,g=f.config;return c&&(f.x.domain(e?e:f.d3.extent(f.getXDomain(a))),f.orgXDomain=f.x.domain(),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent(),f.subX.domain(f.x.domain()),f.brush&&f.brush.scale(f.subX)),b&&(f.x.domain(e?e:!f.brush||f.brush.empty()?f.orgXDomain:f.brush.extent()),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent()),d&&f.x.domain(f.trimXDomain(f.x.orgDomain())),f.x.domain()},i.trimXDomain=function(a){var b=this;return a[0]<=b.orgXDomain[0]&&(a[1]=+a[1]+(b.orgXDomain[0]-a[0]),a[0]=b.orgXDomain[0]),b.orgXDomain[1]<=a[1]&&(a[0]=+a[0]-(a[1]-b.orgXDomain[1]),a[1]=b.orgXDomain[1]),a},i.isX=function(a){var b=this,c=b.config;return c.data_x&&a===c.data_x||v(c.data_xs)&&x(c.data_xs,a)},i.isNotX=function(a){return!this.isX(a)},i.getXKey=function(a){var b=this,c=b.config;return c.data_x?c.data_x:v(c.data_xs)?c.data_xs[a]:null},i.getXValuesOfXKey=function(a,b){var c,d=this,e=b&&v(b)?d.mapToIds(b):[];return e.forEach(function(b){d.getXKey(b)===a&&(c=d.data.xs[b])}),c},i.getIndexByX=function(a){var b=this,c=b.filterByX(b.data.targets,a);return c.length?c[0].index:null},i.getXValue=function(a,b){var c=this;return a in c.data.xs&&c.data.xs[a]&&m(c.data.xs[a][b])?c.data.xs[a][b]:b},i.getOtherTargetXs=function(){var a=this,b=Object.keys(a.data.xs);return b.length?a.data.xs[b[0]]:null},i.getOtherTargetX=function(a){var b=this.getOtherTargetXs();return b&&a<b.length?b[a]:null},i.addXs=function(a){var b=this;Object.keys(a).forEach(function(c){b.config.data_xs[c]=a[c]})},i.hasMultipleX=function(a){return this.d3.set(Object.keys(a).map(function(b){return a[b]})).size()>1},i.isMultipleX=function(){return v(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},i.addName=function(a){var b,c=this;return a&&(b=c.config.data_names[a.id],a.name=b?b:a.id),a},i.getValueOnIndex=function(a,b){var c=a.filter(function(a){return a.index===b});return c.length?c[0]:null},i.updateTargetX=function(a,b){var c=this;a.forEach(function(a){a.values.forEach(function(d,e){d.x=c.generateTargetX(b[e],a.id,e)}),c.data.xs[a.id]=b})},i.updateTargetXs=function(a,b){var c=this;a.forEach(function(a){b[a.id]&&c.updateTargetX([a],b[a.id])})},i.generateTargetX=function(a,b,c){var d,e=this;return d=e.isTimeSeries()?e.parseDate(a?a:e.getXValue(b,c)):e.isCustomX()&&!e.isCategorized()?m(a)?+a:e.getXValue(b,c):c},i.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},i.updateXs=function(){var a=this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(b){a.xs[b.index]=b.x}))},i.getPrevX=function(a){var b=this.xs[a-1];return"undefined"!=typeof b?b:null},i.getNextX=function(a){var b=this.xs[a+1];return"undefined"!=typeof b?b:null},i.getMaxDataCount=function(){var a=this;return a.d3.max(a.data.targets,function(a){return a.values.length})},i.getMaxDataCountTarget=function(a){var b,c=a.length,d=0;return c>1?a.forEach(function(a){a.values.length>d&&(b=a,d=a.values.length)}):b=c?a[0]:null,b},i.getEdgeX=function(a){var b=this;return a.length?[b.d3.min(a,function(a){return a.values[0].x}),b.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]},i.mapToIds=function(a){return a.map(function(a){return a.id})},i.mapToTargetIds=function(a){var b=this;return a?o(a)?[a]:a:b.mapToIds(b.data.targets)},i.hasTarget=function(a,b){var c,d=this.mapToIds(a);for(c=0;c<d.length;c++)if(d[c]===b)return!0;return!1},i.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},i.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},i.filterTargetsToShow=function(a){var b=this;return a.filter(function(a){return b.isTargetToShow(a.id)})},i.mapTargetsToUniqueXs=function(a){var b=this,c=b.d3.set(b.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return c.map(b.isTimeSeries()?function(a){return new Date(+a)}:function(a){return+a})},i.addHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.concat(a)},i.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(b){return a.indexOf(b)<0})},i.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)},i.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(b){return a.indexOf(b)<0})},i.getValuesAsIdKeyed=function(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b},i.checkValueInTargets=function(a,b){var c,d,e,f=Object.keys(a);for(c=0;c<f.length;c++)for(e=a[f[c]].values,d=0;d<e.length;d++)if(b(e[d].value))return!0;return!1},i.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return 0>a})},i.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a>0})},i.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},i.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},i.orderTargets=function(a){var b=this,c=b.config,d=b.isOrderAsc(),e=b.isOrderDesc();return d||e?a.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),f=b.values.reduce(c,0);return d?f-e:e-f}):n(c.data_order)&&a.sort(c.data_order),a},i.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b===0})},i.filterRemoveNull=function(a){return a.filter(function(a){return m(a.value)})},i.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})},i.hasDataLabel=function(){var a=this.config;return"boolean"==typeof a.data_labels&&a.data_labels?!0:"object"==typeof a.data_labels&&v(a.data_labels)?!0:!1},i.getDataLabelLength=function(a,b,c){var d=this,e=[0,0],f=1.3;return d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,b){e[b]=this.getBoundingClientRect()[c]*f}).remove(),e},i.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},i.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},i.findSameXOfValues=function(a,b){var c,d=a[b].x,e=[];for(c=b-1;c>=0&&d===a[c].x;c--)e.push(a[c]);for(c=b;c<a.length&&d===a[c].x;c++)e.push(a[c]);return e},i.findClosestFromTargets=function(a,b){var c,d=this;return c=a.map(function(a){return d.findClosest(a.values,b)}),d.findClosest(c,b)},i.findClosest=function(a,b){var c,d=this,e=100;return a.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.main.select("."+l.bars+d.getTargetSelectorSuffix(a.id)+" ."+l.bar+"-"+a.index).node();!c&&d.isWithinBar(b)&&(c=a)}),a.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(a){var f=d.dist(a,b);e>f&&(e=f,c=a)}),c},i.dist=function(a,b){var c=this,d=c.config,e=d.axis_rotated?1:0,f=d.axis_rotated?0:1,g=c.circleY(a,a.index),h=c.x(a.x);return Math.pow(h-b[e],2)+Math.pow(g-b[f],2)},i.convertValuesToStep=function(a){var b,c=[].concat(a);if(!this.isCategorized())return a;for(b=a.length+1;b>0;b--)c[b]=c[b-1];return c[0]={x:c[0].x-1,value:c[0].value,id:c[0].id},c[a.length+1]={x:c[a.length].x+1,value:c[a.length].value,id:c[a.length].id},c},i.updateDataAttributes=function(a,b){var c=this,d=c.config,e=d["data_"+a];return"undefined"==typeof b?e:(Object.keys(b).forEach(function(a){e[a]=b[a]}),c.redraw({withLegend:!0}),e)},i.convertUrlToData=function(a,b,c,d){var e=this,f=b?b:"csv";e.d3.xhr(a,function(a,b){var g;if(!b)throw new Error(a.responseURL+" "+a.status+" ("+a.statusText+")");g="json"===f?e.convertJsonToData(JSON.parse(b.response),c):"tsv"===f?e.convertTsvToData(b.response):e.convertCsvToData(b.response),d.call(e,g)})},i.convertXsvToData=function(a,b){var c,d=b.parseRows(a);return 1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=b.parse(a),c},i.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)},i.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)},i.convertJsonToData=function(a,b){var c,d,e=this,f=[];return b?(b.x?(c=b.value.concat(b.x),e.config.data_x=b.x):c=b.value,f.push(c),a.forEach(function(a){var b=[];c.forEach(function(c){var d=p(a[c])?null:a[c];b.push(d)}),f.push(b)}),d=e.convertRowsToData(f)):(Object.keys(a).forEach(function(b){f.push([b].concat(a[b]))}),d=e.convertColumnsToData(f)),d},i.convertRowsToData=function(a){var b,c,d=a[0],e={},f=[];for(b=1;b<a.length;b++){for(e={},c=0;c<a[b].length;c++){if(p(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[d[c]]=a[b][c]}f.push(e)}return f},i.convertColumnsToData=function(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(d=a[b][0],c=1;c<a[b].length;c++){if(p(e[c-1])&&(e[c-1]={}),p(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[c-1][d]=a[b][c]}return e},i.convertDataToTargets=function(a,b){var c,d=this,e=d.config,f=d.d3.keys(a[0]).filter(d.isNotX,d),g=d.d3.keys(a[0]).filter(d.isX,d);return f.forEach(function(c){var f=d.getXKey(c);d.isCustomX()||d.isTimeSeries()?g.indexOf(f)>=0?d.data.xs[c]=(b&&d.data.xs[c]?d.data.xs[c]:[]).concat(a.map(function(a){return a[f]}).filter(m).map(function(a,b){return d.generateTargetX(a,c,b)})):e.data_x?d.data.xs[c]=d.getOtherTargetXs():v(e.data_xs)&&(d.data.xs[c]=d.getXValuesOfXKey(f,d.data.targets)):d.data.xs[c]=a.map(function(a,b){return b})}),f.forEach(function(a){if(!d.data.xs[a])throw new Error('x is not defined for id = "'+a+'".')}),c=f.map(function(b,c){var f=e.data_idConverter(b);return{id:f,id_org:b,values:a.map(function(a,g){var h=d.getXKey(b),i=a[h],j=d.generateTargetX(i,b,g);return d.isCustomX()&&d.isCategorized()&&0===c&&i&&(0===g&&(e.axis_x_categories=[]),e.axis_x_categories.push(i)),(p(a[b])||d.data.xs[b].length<=g)&&(j=void 0),{x:j,value:null===a[b]||isNaN(a[b])?null:+a[b],id:f}}).filter(function(a){return q(a.x)})}}),c.forEach(function(a){var b;e.data_xSort&&(a.values=a.values.sort(function(a,b){var c=a.x||0===a.x?a.x:1/0,d=b.x||0===b.x?b.x:1/0;return c-d})),b=0,a.values.forEach(function(a){a.index=b++}),d.data.xs[a.id].sort(function(a,b){return a-b})}),e.data_type&&d.setTargetType(d.mapToIds(c).filter(function(a){return!(a in e.data_types)}),e.data_type),c.forEach(function(a){d.addCache(a.id_org,a)}),c},i.load=function(a,b){var c=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){var d=b.types&&b.types[a.id]?b.types[a.id]:b.type;c.setTargetType(a.id,d)}),c.data.targets.forEach(function(b){for(var c=0;c<a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),c.data.targets=c.data.targets.concat(a)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),b.done&&b.done()},i.loadFromArgs=function(a){var b=this;a.data?b.load(b.convertDataToTargets(a.data),a):a.url?b.convertUrlToData(a.url,a.mimeType,a.keys,function(c){b.load(b.convertDataToTargets(c),a)}):a.json?b.load(b.convertDataToTargets(b.convertJsonToData(a.json,a.keys)),a):a.rows?b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)),a):a.columns?b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)),a):b.load(null,a)},i.unload=function(a,b){var c=this;return b||(b=function(){}),a=a.filter(function(a){return c.hasTarget(c.data.targets,a)}),a&&0!==a.length?(c.svg.selectAll(a.map(function(a){return c.selectorTarget(a)})).transition().style("opacity",0).remove().call(c.endall,b),void a.forEach(function(a){c.withoutFadeIn[a]=!1,c.legend&&c.legend.selectAll("."+l.legendItem+c.getTargetSelectorSuffix(a)).remove(),c.data.targets=c.data.targets.filter(function(b){return b.id!==a})})):void b()},i.categoryName=function(a){var b=this.config;return a<b.axis_x_categories.length?b.axis_x_categories[a]:a},i.initEventRect=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.eventRects).style("fill-opacity",0)},i.redrawEventRect=function(){var a,b,c=this,d=c.config,e=c.isMultipleX(),f=c.main.select("."+l.eventRects).style("cursor",d.zoom_enabled?d.axis_rotated?"ns-resize":"ew-resize":null).classed(l.eventRectsMultiple,e).classed(l.eventRectsSingle,!e);f.selectAll("."+l.eventRect).remove(),c.eventRect=f.selectAll("."+l.eventRect),e?(a=c.eventRect.data([0]),c.generateEventRectsForMultipleXs(a.enter()),c.updateEventRect(a)):(b=c.getMaxDataCountTarget(c.data.targets),f.datum(b?b.values:[]),c.eventRect=f.selectAll("."+l.eventRect),a=c.eventRect.data(function(a){return a}),c.generateEventRectsForSingleX(a.enter()),c.updateEventRect(a),a.exit().remove())},i.updateEventRect=function(a){var b,c,d,e,f,g,h=this,i=h.config;a=a||h.eventRect.data(function(a){return a}),h.isMultipleX()?(b=0,c=0,d=h.width,e=h.height):(!h.isCustomX()&&!h.isTimeSeries()||h.isCategorized()?(f=h.getEventRectWidth(),g=function(a){return h.x(a.x)-f/2}):(h.updateXs(),f=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index);return null===b&&null===c?i.axis_rotated?h.height:h.width:(null===b&&(b=h.x.domain()[0]),null===c&&(c=h.x.domain()[1]),Math.max(0,(h.x(c)-h.x(b))/2))},g=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index),d=h.data.xs[a.id][a.index];return null===b&&null===c?0:(null===b&&(b=h.x.domain()[0]),(h.x(d)+h.x(b))/2)}),b=i.axis_rotated?0:g,c=i.axis_rotated?g:0,d=i.axis_rotated?h.width:f,e=i.axis_rotated?f:h.height),a.attr("class",h.classEvent.bind(h)).attr("x",b).attr("y",c).attr("width",d).attr("height",e)},i.generateEventRectsForSingleX=function(a){var b=this,c=b.d3,d=b.config;a.append("rect").attr("class",b.classEvent.bind(b)).style("cursor",d.data_selection_enabled&&d.data_selection_grouped?"pointer":null).on("mouseover",function(a){var c=a.index;b.dragging||b.flowing||b.hasArcType()||(d.point_focus_expand_enabled&&b.expandCircles(c,null,!0),b.expandBars(c,null,!0),b.main.selectAll("."+l.shape+"-"+c).each(function(a){d.data_onmouseover.call(b.api,a)}))}).on("mouseout",function(a){var c=a.index;b.config&&(b.hasArcType()||(b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars(),b.main.selectAll("."+l.shape+"-"+c).each(function(a){d.data_onmouseout.call(b.api,a)})))}).on("mousemove",function(a){var e,f=a.index,g=b.svg.select("."+l.eventRect+"-"+f);b.dragging||b.flowing||b.hasArcType()||(b.isStepType(a)&&"step-after"===b.config.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,f))&&(f-=1),e=b.filterTargetsToShow(b.data.targets).map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),d.tooltip_grouped&&(b.showTooltip(e,this),b.showXGridFocus(e)),(!d.tooltip_grouped||d.data_selection_enabled&&!d.data_selection_grouped)&&b.main.selectAll("."+l.shape+"-"+f).each(function(){c.select(this).classed(l.EXPANDED,!0),d.data_selection_enabled&&g.style("cursor",d.data_selection_grouped?"pointer":null),d.tooltip_grouped||(b.hideXGridFocus(),b.hideTooltip(),d.data_selection_grouped||(b.unexpandCircles(f),b.unexpandBars(f)))}).filter(function(a){return b.isWithinShape(this,a)}).each(function(a){d.data_selection_enabled&&(d.data_selection_grouped||d.data_selection_isselectable(a))&&g.style("cursor","pointer"),d.tooltip_grouped||(b.showTooltip([a],this),b.showXGridFocus([a]),d.point_focus_expand_enabled&&b.expandCircles(f,a.id,!0),b.expandBars(f,a.id,!0))}))}).on("click",function(a){var e=a.index;if(!b.hasArcType()&&b.toggleShape){if(b.cancelClick)return void(b.cancelClick=!1);b.isStepType(a)&&"step-after"===d.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,e))&&(e-=1),b.main.selectAll("."+l.shape+"-"+e).each(function(a){(d.data_selection_grouped||b.isWithinShape(this,a))&&(b.toggleShape(this,a,e),b.config.data_onclick.call(b.api,a,this))})}}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},i.generateEventRectsForMultipleXs=function(a){function b(){c.svg.select("."+l.eventRect).style("cursor",null),c.hideXGridFocus(),c.hideTooltip(),c.unexpandCircles(),c.unexpandBars()}var c=this,d=c.d3,e=c.config;a.append("rect").attr("x",0).attr("y",0).attr("width",c.width).attr("height",c.height).attr("class",l.eventRect).on("mouseout",function(){c.config&&(c.hasArcType()||b())}).on("mousemove",function(){var a,f,g,h,i=c.filterTargetsToShow(c.data.targets);if(!c.dragging&&!c.hasArcType(i)){if(a=d.mouse(this),f=c.findClosestFromTargets(i,a),!c.mouseover||f&&f.id===c.mouseover.id||(e.data_onmouseout.call(c.api,c.mouseover),c.mouseover=void 0),!f)return void b();g=c.isScatterType(f)||!e.tooltip_grouped?[f]:c.filterByX(i,f.x),h=g.map(function(a){return c.addName(a)}),c.showTooltip(h,this),e.point_focus_expand_enabled&&c.expandCircles(f.index,f.id,!0),c.expandBars(f.index,f.id,!0),c.showXGridFocus(h),(c.isBarType(f.id)||c.dist(f,a)<100)&&(c.svg.select("."+l.eventRect).style("cursor","pointer"),c.mouseover||(e.data_onmouseover.call(c.api,f),c.mouseover=f))}}).on("click",function(){var a,b,f=c.filterTargetsToShow(c.data.targets);c.hasArcType(f)||(a=d.mouse(this),b=c.findClosestFromTargets(f,a),b&&(c.isBarType(b.id)||c.dist(b,a)<100)&&c.main.selectAll("."+l.shapes+c.getTargetSelectorSuffix(b.id)).selectAll("."+l.shape+"-"+b.index).each(function(){(e.data_selection_grouped||c.isWithinShape(this,b))&&(c.toggleShape(this,b,b.index),c.config.data_onclick.call(c.api,b,this))}))}).call(e.data_selection_draggable&&c.drag?d.behavior.drag().origin(Object).on("drag",function(){c.drag(d.mouse(this))}).on("dragstart",function(){c.dragstart(d.mouse(this))}).on("dragend",function(){c.dragend()}):function(){})},i.dispatchEvent=function(b,c,d){var e=this,f="."+l.eventRect+(e.isMultipleX()?"":"-"+c),g=e.main.select(f).node(),h=g.getBoundingClientRect(),i=h.left+(d?d[0]:0),j=h.top+(d?d[1]:0),k=document.createEvent("MouseEvents");k.initMouseEvent(b,!0,!0,a,0,i,j,i,j,!1,!1,!1,!1,0,null),g.dispatchEvent(k)},i.getCurrentWidth=function(){var a=this,b=a.config;return b.size_width?b.size_width:a.getParentWidth()},i.getCurrentHeight=function(){var a=this,b=a.config,c=b.size_height?b.size_height:a.getParentHeight();return c>0?c:320/(a.hasType("gauge")?2:1)},i.getCurrentPaddingTop=function(){var a=this.config;return m(a.padding_top)?a.padding_top:0},i.getCurrentPaddingBottom=function(){var a=this.config;return m(a.padding_bottom)?a.padding_bottom:0},i.getCurrentPaddingLeft=function(a){var b=this,c=b.config;return m(c.padding_left)?c.padding_left:c.axis_rotated?c.axis_x_show?Math.max(r(b.getAxisWidthByAxisId("x",a)),40):1:!c.axis_y_show||c.axis_y_inner?b.axis.getYAxisLabelPosition().isOuter?30:1:r(b.getAxisWidthByAxisId("y",a))},i.getCurrentPaddingRight=function(){var a=this,b=a.config,c=10,d=a.isLegendRight?a.getLegendWidth()+20:0;return m(b.padding_right)?b.padding_right+1:b.axis_rotated?c+d:!b.axis_y2_show||b.axis_y2_inner?2+d+(a.axis.getY2AxisLabelPosition().isOuter?20:0):r(a.getAxisWidthByAxisId("y2"))+d},i.getParentRectValue=function(a){for(var b,c=this.selectChart.node();c&&"BODY"!==c.tagName;){try{b=c.getBoundingClientRect()[a]}catch(d){"width"===a&&(b=c.offsetWidth)}if(b)break;c=c.parentNode}return b},i.getParentWidth=function(){return this.getParentRectValue("width")},i.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},i.getSvgLeft=function(a){var b=this,c=b.config,d=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,e=c.axis_rotated?l.axisX:l.axisY,f=b.main.select("."+e).node(),g=f&&d?f.getBoundingClientRect():{right:0},h=b.selectChart.node().getBoundingClientRect(),i=b.hasArcType(),j=g.right-h.left-(i?0:b.getCurrentPaddingLeft(a));return j>0?j:0},i.getAxisWidthByAxisId=function(a,b){var c=this,d=c.axis.getLabelPositionById(a);return c.axis.getMaxTickWidth(a,b)+(d.isInner?20:40)},i.getHorizontalAxisHeight=function(a){var b=this,c=b.config,d=30;return"x"!==a||c.axis_x_show?"x"===a&&c.axis_x_height?c.axis_x_height:"y"!==a||c.axis_y_show?"y2"!==a||c.axis_y2_show?("x"===a&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_x_tick_rotate)/180)),d+(b.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):b.rotated_padding_top:!c.legend_show||b.isLegendRight||b.isLegendInset?1:10:8},i.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},i.getShapeIndices=function(a){var b,c,d=this,e=d.config,f={},g=0;return d.filterTargetsToShow(d.data.targets.filter(a,d)).forEach(function(a){for(b=0;b<e.data_groups.length;b++)if(!(e.data_groups[b].indexOf(a.id)<0))for(c=0;c<e.data_groups[b].length;c++)if(e.data_groups[b][c]in f){f[a.id]=f[e.data_groups[b][c]];break}p(f[a.id])&&(f[a.id]=g++)}),f.__max__=g-1,f},i.getShapeX=function(a,b,c,d){var e=this,f=d?e.subX:e.x;return function(d){var e=d.id in c?c[d.id]:0;return d.x||0===d.x?f(d.x)-a*(b/2-e):0}},i.getShapeY=function(a){var b=this;return function(c){var d=a?b.getSubYScale(c.id):b.getYScale(c.id);return d(c.value)}},i.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,d))),f=e.map(function(a){return a.id});return function(a,g){var h=c?d.getSubYScale(a.id):d.getYScale(a.id),i=h(0),j=i;return e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;c.id!==a.id&&b[c.id]===b[a.id]&&f.indexOf(c.id)<f.indexOf(a.id)&&e[g].value*a.value>=0&&(j+=h(e[g].value)-i)}),j}},i.isWithinShape=function(a,b){var c,d=this,e=d.d3.select(a);return d.isTargetToShow(b.id)?"circle"===a.nodeName?c=d.isStepType(b)?d.isWithinStep(a,d.getYScale(b.id)(b.value)):d.isWithinCircle(a,1.5*d.pointSelectR(b)):"path"===a.nodeName&&(c=e.classed(l.bar)?d.isWithinBar(a):!0):c=!1,c},i.getInterpolate=function(a){var b=this;return b.isSplineType(a)?"cardinal":b.isStepType(a)?b.config.line_step_type:"linear"},i.initLine=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartLines)},i.updateTargetsForLine=function(a){var b,c,d=this,e=d.config,f=d.classChartLine.bind(d),g=d.classLines.bind(d),h=d.classAreas.bind(d),i=d.classCircles.bind(d),j=d.classFocus.bind(d);b=d.main.select("."+l.chartLines).selectAll("."+l.chartLine).data(a).attr("class",function(a){return f(a)+j(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g),c.append("g").attr("class",h),c.append("g").attr("class",function(a){return d.generateClass(l.selectedCircles,a.id)}),c.append("g").attr("class",i).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null}),a.forEach(function(a){d.main.selectAll("."+l.selectedCircles+d.getTargetSelectorSuffix(a.id)).selectAll("."+l.selectedCircle).each(function(b){b.value=a.values[b.index].value})})},i.updateLine=function(a){var b=this;b.mainLine=b.main.selectAll("."+l.lines).selectAll("."+l.line).data(b.lineData.bind(b)),b.mainLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.mainLine.style("opacity",b.initialOpacity.bind(b)).style("shape-rendering",function(a){return b.isStepType(a)?"crispEdges":""}).attr("transform",null),b.mainLine.exit().transition().duration(a).style("opacity",0).remove()},i.redrawLine=function(a,b){return[(b?this.mainLine.transition():this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},i.generateDrawLine=function(a,b){var c=this,d=c.config,e=c.d3.svg.line(),f=c.generateGetLinePoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x(i).y(h):e.x(h).y(i),d.line_connectNull||(e=e.defined(function(a){return null!=a.value})),function(a){var f,h=d.line_connectNull?c.filterRemoveNull(a.values):a.values,i=b?c.x:c.subX,j=g.call(c,a.id),k=0,l=0;return c.isLineType(a)?d.data_regions[a.id]?f=c.lineWithRegions(h,i,j,d.data_regions[a.id]):(c.isStepType(a)&&(h=c.convertValuesToStep(h)),f=e.interpolate(c.getInterpolate(a))(h)):(h[0]&&(k=i(h[0].x),l=j(h[0].value)),f=d.axis_rotated?"M "+l+" "+k:"M "+k+" "+l),f?f:"M 0 0"}},i.generateGetLinePoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isLineType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)]]}},i.lineWithRegions=function(a,b,c,d){function e(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}function f(a){return"M"+a[0][0]+" "+a[0][1]+" "+a[1][0]+" "+a[1][1]}var g,h,i,j,k,l,m,n,o,r,s,t,u=this,v=u.config,w=-1,x="M",y=u.isCategorized()?.5:0,z=[];if(q(d))for(g=0;g<d.length;g++)z[g]={},z[g].start=p(d[g].start)?a[0].x:u.isTimeSeries()?u.parseDate(d[g].start):d[g].start,z[g].end=p(d[g].end)?a[a.length-1].x:u.isTimeSeries()?u.parseDate(d[g].end):d[g].end;for(s=v.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)},t=v.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)},i=u.isTimeSeries()?function(a,d,e,g){var h,i=a.x.getTime(),j=d.x-a.x,l=new Date(i+j*e),m=new Date(i+j*(e+g));return h=v.axis_rotated?[[c(k(e)),b(l)],[c(k(e+g)),b(m)]]:[[b(l),c(k(e))],[b(m),c(k(e+g))]],f(h)}:function(a,d,e,g){var h;return h=v.axis_rotated?[[c(k(e),!0),b(j(e))],[c(k(e+g),!0),b(j(e+g))]]:[[b(j(e),!0),c(k(e))],[b(j(e+g),!0),c(k(e+g))]],f(h)},g=0;g<a.length;g++){if(p(z)||!e(a[g].x,z))x+=" "+s(a[g])+" "+t(a[g]);else for(j=u.getScale(a[g-1].x+y,a[g].x+y,u.isTimeSeries()),k=u.getScale(a[g-1].value,a[g].value),l=b(a[g].x)-b(a[g-1].x),m=c(a[g].value)-c(a[g-1].value),n=Math.sqrt(Math.pow(l,2)+Math.pow(m,2)),o=2/n,r=2*o,h=o;1>=h;h+=r)x+=i(a[g-1],a[g],h,o);w=a[g].x}return x},i.updateArea=function(a){var b=this,c=b.d3;b.mainArea=b.main.selectAll("."+l.areas).selectAll("."+l.area).data(b.lineData.bind(b)),b.mainArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.mainArea.style("opacity",b.orgAreaOpacity),b.mainArea.exit().transition().duration(a).style("opacity",0).remove()},i.redrawArea=function(a,b){return[(b?this.mainArea.transition():this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},i.generateDrawArea=function(a,b){var c=this,d=c.config,e=c.d3.svg.area(),f=c.generateGetAreaPoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(c.getAreaBaseValue(a.id))},j=function(a,b){return d.data_groups.length>0?f(a,b)[1][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x0(i).x1(j).y(h):e.x(h).y0(i).y1(j),d.line_connectNull||(e=e.defined(function(a){return null!==a.value})),function(a){var b,f=d.line_connectNull?c.filterRemoveNull(a.values):a.values,g=0,h=0;return c.isAreaType(a)?(c.isStepType(a)&&(f=c.convertValuesToStep(f)),b=e.interpolate(c.getInterpolate(a))(f)):(f[0]&&(g=c.x(f[0].x),h=c.getYScale(a.id)(f[0].value)),b=d.axis_rotated?"M "+h+" "+g:"M "+g+" "+h),b?b:"M 0 0"}},i.getAreaBaseValue=function(){return 0},i.generateGetAreaPoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isAreaType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,j],[k,l-(e-j)],[k,l-(e-j)],[k,j]]}},i.updateCircle=function(){var a=this;a.mainCircle=a.main.selectAll("."+l.circles).selectAll("."+l.circle).data(a.lineOrScatterData.bind(a)),a.mainCircle.enter().append("circle").attr("class",a.classCircle.bind(a)).attr("r",a.pointR.bind(a)).style("fill",a.color),a.mainCircle.style("opacity",a.initialOpacityForCircle.bind(a)),a.mainCircle.exit().remove()},i.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+l.selectedCircle);return[(c?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition():d).attr("cx",a).attr("cy",b)]},i.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},i.updateCircleY=function(){var a,b,c=this;c.config.data_groups.length>0?(a=c.getShapeIndices(c.isLineType),b=c.generateGetLinePoints(a),c.circleY=function(a,c){return b(a,c)[0][1]}):c.circleY=function(a){return c.getYScale(a.id)(a.value)}},i.getCircles=function(a,b){var c=this;return(b?c.main.selectAll("."+l.circles+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+l.circle+(m(a)?"-"+a:""))},i.expandCircles=function(a,b,c){var d=this,e=d.pointExpandedR.bind(d);c&&d.unexpandCircles(),d.getCircles(a,b).classed(l.EXPANDED,!0).attr("r",e)},i.unexpandCircles=function(a){var b=this,c=b.pointR.bind(b);b.getCircles(a).filter(function(){return b.d3.select(this).classed(l.EXPANDED)}).classed(l.EXPANDED,!1).attr("r",c)},i.pointR=function(a){var b=this,c=b.config;return b.isStepType(a)?0:n(c.point_r)?c.point_r(a):c.point_r},i.pointExpandedR=function(a){var b=this,c=b.config;return c.point_focus_expand_enabled?c.point_focus_expand_r?c.point_focus_expand_r:1.75*b.pointR(a):b.pointR(a)},i.pointSelectR=function(a){var b=this,c=b.config;return c.point_select_r?c.point_select_r:4*b.pointR(a)},i.isWithinCircle=function(a,b){var c=this.d3,d=c.mouse(a),e=c.select(a),f=+e.attr("cx"),g=+e.attr("cy");return Math.sqrt(Math.pow(f-d[0],2)+Math.pow(g-d[1],2))<b},i.isWithinStep=function(a,b){return Math.abs(b-this.d3.mouse(a)[1])<30},i.initBar=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartBars)},i.updateTargetsForBar=function(a){var b,c,d=this,e=d.config,f=d.classChartBar.bind(d),g=d.classBars.bind(d),h=d.classFocus.bind(d);b=d.main.select("."+l.chartBars).selectAll("."+l.chartBar).data(a).attr("class",function(a){return f(a)+h(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null})},i.updateBar=function(a){var b=this,c=b.barData.bind(b),d=b.classBar.bind(b),e=b.initialOpacity.bind(b),f=function(a){return b.color(a.id)};b.mainBar=b.main.selectAll("."+l.bars).selectAll("."+l.bar).data(c),b.mainBar.enter().append("path").attr("class",d).style("stroke",f).style("fill",f),b.mainBar.style("opacity",e),b.mainBar.exit().transition().duration(a).style("opacity",0).remove()},i.redrawBar=function(a,b){return[(b?this.mainBar.transition():this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]},i.getBarW=function(a,b){var c=this,d=c.config,e="number"==typeof d.bar_width?d.bar_width:b?a.tickInterval()*d.bar_width_ratio/b:0;return d.bar_width_max&&e>d.bar_width_max?d.bar_width_max:e},i.getBars=function(a,b){var c=this;return(b?c.main.selectAll("."+l.bars+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+l.bar+(m(a)?"-"+a:""))},i.expandBars=function(a,b,c){var d=this;c&&d.unexpandBars(),d.getBars(a,b).classed(l.EXPANDED,!0)},i.unexpandBars=function(a){var b=this;b.getBars(a).classed(l.EXPANDED,!1)},i.generateDrawBar=function(a,b){var c=this,d=c.config,e=c.generateGetBarPoints(a,b);return function(a,b){var c=e(a,b),f=d.axis_rotated?1:0,g=d.axis_rotated?0:1,h="M "+c[0][f]+","+c[0][g]+" L"+c[1][f]+","+c[1][g]+" L"+c[2][f]+","+c[2][g]+" L"+c[3][f]+","+c[3][g]+" z";return h}},i.generateGetBarPoints=function(a,b){var c=this,d=b?c.subXAxis:c.xAxis,e=a.__max__+1,f=c.getBarW(d,e),g=c.getShapeX(f,e,a,!!b),h=c.getShapeY(!!b),i=c.getShapeOffset(c.isBarType,a,!!b),j=b?c.getSubYScale:c.getYScale;
return function(a,b){var d=j.call(c,a.id)(0),e=i(a,b)||d,k=g(a),l=h(a);return c.config.axis_rotated&&(0<a.value&&d>l||a.value<0&&l>d)&&(l=d),[[k,e],[k,l-(d-e)],[k+f,l-(d-e)],[k+f,e]]}},i.isWithinBar=function(a){var b=this.d3.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=Math.min(d.x,e.x),g=Math.min(d.y,e.y),h=c.width,i=c.height,j=2,k=f-j,l=f+h+j,m=g+i+j,n=g-j;return k<b[0]&&b[0]<l&&n<b[1]&&b[1]<m},i.initText=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartTexts),a.mainText=a.d3.selectAll([])},i.updateTargetsForText=function(a){var b,c,d=this,e=d.classChartText.bind(d),f=d.classTexts.bind(d),g=d.classFocus.bind(d);b=d.main.select("."+l.chartTexts).selectAll("."+l.chartText).data(a).attr("class",function(a){return e(a)+g(a)}),c=b.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",f)},i.updateText=function(a){var b=this,c=b.config,d=b.barOrLineData.bind(b),e=b.classText.bind(b);b.mainText=b.main.selectAll("."+l.texts).selectAll("."+l.text).data(d),b.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return c.axis_rotated?a.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return b.color(a)}).style("fill-opacity",0),b.mainText.text(function(a,c,d){return b.dataLabelFormat(a.id)(a.value,a.id,c,d)}),b.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()},i.redrawText=function(a,b,c,d){return[(d?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},i.getTextRect=function(a,b){var c,d=this.d3.select("body").append("div").classed("c3",!0),e=d.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return e.selectAll(".dummy").data([a]).enter().append("text").classed(b?b:"",!0).text(a).each(function(){c=this.getBoundingClientRect()}),d.remove(),c},i.generateXYForText=function(a,b,c,d){var e=this,f=e.generateGetAreaPoints(a,!1),g=e.generateGetBarPoints(b,!1),h=e.generateGetLinePoints(c,!1),i=d?e.getXForText:e.getYForText;return function(a,b){var c=e.isAreaType(a)?f:e.isBarType(a)?g:h;return i.call(e,c(a,b),a,this)}},i.getXForText=function(a,b,c){var d,e,f=this,g=c.getBoundingClientRect();return f.config.axis_rotated?(e=f.isBarType(b)?4:6,d=a[2][1]+e*(b.value<0?-1:1)):d=f.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===b.value&&(d>f.width?d=f.width-g.width:0>d&&(d=4)),d},i.getYForText=function(a,b,c){var d,e=this,f=c.getBoundingClientRect();return e.config.axis_rotated?d=(a[0][0]+a[2][0]+.6*f.height)/2:(d=a[2][1],b.value<0?(d+=f.height,e.isBarType(b)&&e.isSafari()?d-=3:!e.isBarType(b)&&e.isChrome()&&(d+=3)):d+=e.isBarType(b)?-3:-6),null!==b.value||e.config.axis_rotated||(d<f.height?d=f.height:d>this.height&&(d=this.height-4)),d},i.setTargetType=function(a,b){var c=this,d=c.config;c.mapToTargetIds(a).forEach(function(a){c.withoutFadeIn[a]=b===d.data_types[a],d.data_types[a]=b}),a||(d.data_type=b)},i.hasType=function(a,b){var c=this,d=c.config.data_types,e=!1;return b=b||c.data.targets,b&&b.length?b.forEach(function(b){var c=d[b.id];(c&&c.indexOf(a)>=0||!c&&"line"===a)&&(e=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(e=!0)}):e=c.config.data_type===a,e},i.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},i.isLineType=function(a){var b=this.config,c=o(a)?a:a.id;return!b.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(b.data_types[c])>=0},i.isStepType=function(a){var b=o(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[b])>=0},i.isSplineType=function(a){var b=o(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[b])>=0},i.isAreaType=function(a){var b=o(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[b])>=0},i.isBarType=function(a){var b=o(a)?a:a.id;return"bar"===this.config.data_types[b]},i.isScatterType=function(a){var b=o(a)?a:a.id;return"scatter"===this.config.data_types[b]},i.isPieType=function(a){var b=o(a)?a:a.id;return"pie"===this.config.data_types[b]},i.isGaugeType=function(a){var b=o(a)?a:a.id;return"gauge"===this.config.data_types[b]},i.isDonutType=function(a){var b=o(a)?a:a.id;return"donut"===this.config.data_types[b]},i.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},i.lineData=function(a){return this.isLineType(a)?[a]:[]},i.arcData=function(a){return this.isArcType(a.data)?[a]:[]},i.barData=function(a){return this.isBarType(a)?a.values:[]},i.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]},i.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},i.initGrid=function(){var a=this,b=a.config,c=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",l.grid),b.grid_x_show&&a.grid.append("g").attr("class",l.xgrids),b.grid_y_show&&a.grid.append("g").attr("class",l.ygrids),b.grid_focus_show&&a.grid.append("g").attr("class",l.xgridFocus).append("line").attr("class",l.xgridFocus),a.xgrid=c.selectAll([]),b.grid_lines_front||a.initGridLines()},i.initGridLines=function(){var a=this,b=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",l.grid+" "+l.gridLines),a.gridLines.append("g").attr("class",l.xgridLines),a.gridLines.append("g").attr("class",l.ygridLines),a.xgridLines=b.selectAll([])},i.updateXGrid=function(a){var b=this,c=b.config,d=b.d3,e=b.generateGridData(c.grid_x_type,b.x),f=b.isCategorized()?b.xAxis.tickOffset():0;b.xgridAttr=c.axis_rotated?{x1:0,x2:b.width,y1:function(a){return b.x(a)-f},y2:function(a){return b.x(a)-f}}:{x1:function(a){return b.x(a)+f},x2:function(a){return b.x(a)+f},y1:0,y2:b.height},b.xgrid=b.main.select("."+l.xgrids).selectAll("."+l.xgrid).data(e),b.xgrid.enter().append("line").attr("class",l.xgrid),a||b.xgrid.attr(b.xgridAttr).style("opacity",function(){return+d.select(this).attr(c.axis_rotated?"y1":"x1")===(c.axis_rotated?b.height:0)?0:1}),b.xgrid.exit().remove()},i.updateYGrid=function(){var a=this,b=a.config,c=a.yAxis.tickValues()||a.y.ticks(b.grid_y_ticks);a.ygrid=a.main.select("."+l.ygrids).selectAll("."+l.ygrid).data(c),a.ygrid.enter().append("line").attr("class",l.ygrid),a.ygrid.attr("x1",b.axis_rotated?a.y:0).attr("x2",b.axis_rotated?a.y:a.width).attr("y1",b.axis_rotated?0:a.y).attr("y2",b.axis_rotated?a.height:a.y),a.ygrid.exit().remove(),a.smoothLines(a.ygrid,"grid")},i.gridTextAnchor=function(a){return a.position?a.position:"end"},i.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4},i.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0},i.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width},i.updateGrid=function(a){var b,c,d,e=this,f=e.main,g=e.config;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),f.select("line."+l.xgridFocus).style("visibility","hidden"),g.grid_x_show&&e.updateXGrid(),e.xgridLines=f.select("."+l.xgridLines).selectAll("."+l.xgridLine).data(g.grid_x_lines),b=e.xgridLines.enter().append("g").attr("class",function(a){return l.xgridLine+(a["class"]?" "+a["class"]:"")}),b.append("line").style("opacity",0),b.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"":"rotate(-90)").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),e.xgridLines.exit().transition().duration(a).style("opacity",0).remove(),g.grid_y_show&&e.updateYGrid(),e.ygridLines=f.select("."+l.ygridLines).selectAll("."+l.ygridLine).data(g.grid_y_lines),c=e.ygridLines.enter().append("g").attr("class",function(a){return l.ygridLine+(a["class"]?" "+a["class"]:"")}),c.append("line").style("opacity",0),c.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"rotate(-90)":"").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),d=e.yv.bind(e),e.ygridLines.select("line").transition().duration(a).attr("x1",g.axis_rotated?d:0).attr("x2",g.axis_rotated?d:e.width).attr("y1",g.axis_rotated?0:d).attr("y2",g.axis_rotated?e.height:d).style("opacity",1),e.ygridLines.select("text").transition().duration(a).attr("x",g.axis_rotated?e.xGridTextX.bind(e):e.yGridTextX.bind(e)).attr("y",d).text(function(a){return a.text}).style("opacity",1),e.ygridLines.exit().transition().duration(a).style("opacity",0).remove()},i.redrawGrid=function(a){var b=this,c=b.config,d=b.xv.bind(b),e=b.xgridLines.select("line"),f=b.xgridLines.select("text");return[(a?e.transition():e).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?b.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:b.height).style("opacity",1),(a?f.transition():f).attr("x",c.axis_rotated?b.yGridTextX.bind(b):b.xGridTextX.bind(b)).attr("y",d).text(function(a){return a.text}).style("opacity",1)]},i.showXGridFocus=function(a){var b=this,c=b.config,d=a.filter(function(a){return a&&m(a.value)}),e=b.main.selectAll("line."+l.xgridFocus),f=b.xx.bind(b);c.tooltip_show&&(b.hasType("scatter")||b.hasArcType()||(e.style("visibility","visible").data([d[0]]).attr(c.axis_rotated?"y1":"x1",f).attr(c.axis_rotated?"y2":"x2",f),b.smoothLines(e,"grid")))},i.hideXGridFocus=function(){this.main.select("line."+l.xgridFocus).style("visibility","hidden")},i.updateXgridFocus=function(){var a=this,b=a.config;a.main.select("line."+l.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?a.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:a.height)},i.generateGridData=function(a,b){var c,d,e,f,g=this,h=[],i=g.main.select("."+l.axisX).selectAll(".tick").size();if("year"===a)for(c=g.getXDomain(),d=c[0].getFullYear(),e=c[1].getFullYear(),f=d;e>=f;f++)h.push(new Date(f+"-01-01 00:00:00"));else h=b.ticks(10),h.length>i&&(h=h.filter(function(a){return(""+a).indexOf(".")<0}));return h},i.getGridFilterToRemove=function(a){return a?function(b){var c=!1;return[].concat(a).forEach(function(a){("value"in a&&b.value===a.value||"class"in a&&b["class"]===a["class"])&&(c=!0)}),c}:function(){return!0}},i.removeGridLines=function(a,b){var c=this,d=c.config,e=c.getGridFilterToRemove(a),f=function(a){return!e(a)},g=b?l.xgridLines:l.ygridLines,h=b?l.xgridLine:l.ygridLine;c.main.select("."+g).selectAll("."+h).filter(e).transition().duration(d.transition_duration).style("opacity",0).remove(),b?d.grid_x_lines=d.grid_x_lines.filter(f):d.grid_y_lines=d.grid_y_lines.filter(f)},i.initTooltip=function(){var a,b=this,c=b.config;if(b.tooltip=b.selectChart.style("position","relative").append("div").attr("class",l.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),c.tooltip_init_show){if(b.isTimeSeries()&&o(c.tooltip_init_x)){for(c.tooltip_init_x=b.parseDate(c.tooltip_init_x),a=0;a<b.data.targets[0].values.length&&b.data.targets[0].values[a].x-c.tooltip_init_x!==0;a++);c.tooltip_init_x=a}b.tooltip.html(c.tooltip_contents.call(b,b.data.targets.map(function(a){return b.addName(a.values[c.tooltip_init_x])}),b.axis.getXAxisTickFormat(),b.getYFormat(b.hasArcType()),b.color)),b.tooltip.style("top",c.tooltip_init_position.top).style("left",c.tooltip_init_position.left).style("display","block")}},i.getTooltipContent=function(a,b,c,d){var e,f,g,h,i,j,k=this,m=k.config,n=m.tooltip_format_title||b,o=m.tooltip_format_name||function(a){return a},p=m.tooltip_format_value||c;for(f=0;f<a.length;f++)a[f]&&(a[f].value||0===a[f].value)&&(e||(g=n?n(a[f].x):a[f].x,e="<table class='"+l.tooltip+"'>"+(g||0===g?"<tr><th colspan='2'>"+g+"</th></tr>":"")),h=p(a[f].value,a[f].ratio,a[f].id,a[f].index),void 0!==h&&(i=o(a[f].name,a[f].ratio,a[f].id,a[f].index),j=k.levelColor?k.levelColor(a[f].value):d(a[f].id),e+="<tr class='"+l.tooltipName+"-"+a[f].id+"'>",e+="<td class='name'><span style='background-color:"+j+"'></span>"+i+"</td>",e+="<td class='value'>"+h+"</td>",e+="</tr>"));return e+"</table>"},i.tooltipPosition=function(a,b,c,d){var e,f,g,h,i,j=this,k=j.config,l=j.d3,m=j.hasArcType(),n=l.mouse(d);return m?(f=(j.width-(j.isLegendRight?j.getLegendWidth():0))/2+n[0],h=j.height/2+n[1]+20):(e=j.getSvgLeft(!0),k.axis_rotated?(f=e+n[0]+100,g=f+b,i=j.currentWidth-j.getCurrentPaddingRight(),h=j.x(a[0].x)+20):(f=e+j.getCurrentPaddingLeft(!0)+j.x(a[0].x)+20,g=f+b,i=e+j.currentWidth-j.getCurrentPaddingRight(),h=n[1]+15),g>i&&(f-=g-i+20),h+c>j.currentHeight&&(h-=c+30)),0>h&&(h=0),{top:h,left:f}},i.showTooltip=function(a,b){var c,d,e,f=this,g=f.config,h=f.hasArcType(),j=a.filter(function(a){return a&&m(a.value)}),k=g.tooltip_position||i.tooltipPosition;0!==j.length&&g.tooltip_show&&(f.tooltip.html(g.tooltip_contents.call(f,a,f.axis.getXAxisTickFormat(),f.getYFormat(h),f.color)).style("display","block"),c=f.tooltip.property("offsetWidth"),d=f.tooltip.property("offsetHeight"),e=k.call(this,j,c,d,b),f.tooltip.style("top",e.top+"px").style("left",e.left+"px"))},i.hideTooltip=function(){this.tooltip.style("display","none")},i.initLegend=function(){var a=this;return a.legendItemTextBox={},a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),a.config.legend_show?void a.updateLegendWithDefaults():(a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets)))},i.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},i.updateSizeForLegend=function(a,b){var c=this,d=c.config,e={top:c.isLegendTop?c.getCurrentPaddingTop()+d.legend_inset_y+5.5:c.currentHeight-a-c.getCurrentPaddingBottom()-d.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+d.legend_inset_x+.5:c.currentWidth-b-c.getCurrentPaddingRight()-d.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?e.top:c.currentHeight-a,right:0/0,bottom:0,left:c.isLegendRight?c.currentWidth-b:c.isLegendInset?e.left:0}},i.transformLegend=function(a){var b=this;(a?b.legend.transition():b.legend).attr("transform",b.getTranslate("legend"))},i.updateLegendStep=function(a){this.legendStep=a},i.updateLegendItemWidth=function(a){this.legendItemWidth=a},i.updateLegendItemHeight=function(a){this.legendItemHeight=a},i.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},i.getLegendHeight=function(){var a=this,b=0;return a.config.legend_show&&(b=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),b},i.opacityForLegend=function(a){return a.classed(l.legendItemHidden)?null:1},i.opacityForUnfocusedLegend=function(a){return a.classed(l.legendItemHidden)?null:.3},i.toggleFocusLegend=function(a,b){var c=this;a=c.mapToTargetIds(a),c.legend.selectAll("."+l.legendItem).filter(function(b){return a.indexOf(b)>=0}).classed(l.legendItemFocused,b).transition().duration(100).style("opacity",function(){var a=b?c.opacityForLegend:c.opacityForUnfocusedLegend;return a.call(c,c.d3.select(this))})},i.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+l.legendItem).classed(l.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})},i.showLegend=function(a){var b=this,c=b.config;c.legend_show||(c.legend_show=!0,b.legend.style("visibility","visible"),b.legendHasRendered||b.updateLegendWithDefaults()),b.removeHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return b.opacityForLegend(b.d3.select(this))})},i.hideLegend=function(a){var b=this,c=b.config;c.legend_show&&u(a)&&(c.legend_show=!1,b.legend.style("visibility","hidden")),b.addHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("opacity",0).style("visibility","hidden")},i.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},i.updateLegend=function(a,b,c){function d(a,b){return u.legendItemTextBox[b]||(u.legendItemTextBox[b]=u.getTextRect(a.textContent,l.legendItem)),u.legendItemTextBox[b]}function e(b,c,e){function f(a,b){b||(g=(o-D-n)/2,B>g&&(g=(o-n)/2,D=0,J++)),I[a]=J,H[J]=u.isLegendInset?10:g,E[a]=D,D+=n}var g,h,i=0===e,j=e===a.length-1,k=d(b,c),l=k.width+C+(!j||u.isLegendRight||u.isLegendInset?y:0),m=k.height+x,n=u.isLegendRight||u.isLegendInset?m:l,o=u.isLegendRight||u.isLegendInset?u.getLegendHeight():u.getLegendWidth();return i&&(D=0,J=0,z=0,A=0),v.legend_show&&!u.isLegendToShow(c)?void(F[c]=G[c]=I[c]=E[c]=0):(F[c]=l,G[c]=m,(!z||l>=z)&&(z=l),(!A||m>=A)&&(A=m),h=u.isLegendRight||u.isLegendInset?A:z,void(v.legend_equally?(Object.keys(F).forEach(function(a){F[a]=z}),Object.keys(G).forEach(function(a){G[a]=A}),g=(o-h*a.length)/2,B>g?(D=0,J=0,a.forEach(function(a){f(a)})):f(c,!0)):f(c)))}var f,g,h,i,j,k,m,n,o,p,r,s,t,u=this,v=u.config,x=4,y=10,z=0,A=0,B=10,C=15,D=0,E={},F={},G={},H=[0],I={},J=0;b=b||{},n=w(b,"withTransition",!0),o=w(b,"withTransitionForTransform",!0),u.isLegendInset&&(J=v.legend_inset_step?v.legend_inset_step:a.length,u.updateLegendStep(J)),u.isLegendRight?(f=function(a){return z*I[a]},i=function(a){return H[I[a]]+E[a]}):u.isLegendInset?(f=function(a){return z*I[a]+10},i=function(a){return H[I[a]]+E[a]}):(f=function(a){return H[I[a]]+E[a]},i=function(a){return A*I[a]}),g=function(a,b){return f(a,b)+14},j=function(a,b){return i(a,b)+9},h=function(a,b){return f(a,b)},k=function(a,b){return i(a,b)-5},m=u.legend.selectAll("."+l.legendItem).data(a).enter().append("g").attr("class",function(a){return u.generateClass(l.legendItem,a)}).style("visibility",function(a){return u.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){v.legend_item_onclick?v.legend_item_onclick.call(u,a):u.d3.event.altKey?(u.api.hide(),u.api.show(a)):(u.api.toggle(a),u.isTargetToShow(a)?u.api.focus(a):u.api.revert())}).on("mouseover",function(a){u.d3.select(this).classed(l.legendItemFocused,!0),!u.transiting&&u.isTargetToShow(a)&&u.api.focus(a),v.legend_item_onmouseover&&v.legend_item_onmouseover.call(u,a)}).on("mouseout",function(a){u.d3.select(this).classed(l.legendItemFocused,!1),u.api.revert(),v.legend_item_onmouseout&&v.legend_item_onmouseout.call(u,a)}),m.append("text").text(function(a){return q(v.data_names[a])?v.data_names[a]:a}).each(function(a,b){e(this,a,b)}).style("pointer-events","none").attr("x",u.isLegendRight||u.isLegendInset?g:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:j),m.append("rect").attr("class",l.legendItemEvent).style("fill-opacity",0).attr("x",u.isLegendRight||u.isLegendInset?h:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:k),m.append("rect").attr("class",l.legendItemTile).style("pointer-events","none").style("fill",u.color).attr("x",u.isLegendRight||u.isLegendInset?g:-200).attr("y",u.isLegendRight||u.isLegendInset?-200:i).attr("width",10).attr("height",10),t=u.legend.select("."+l.legendBackground+" rect"),u.isLegendInset&&z>0&&0===t.size()&&(t=u.legend.insert("g","."+l.legendItem).attr("class",l.legendBackground).append("rect")),p=u.legend.selectAll("text").data(a).text(function(a){return q(v.data_names[a])?v.data_names[a]:a}).each(function(a,b){e(this,a,b)}),(n?p.transition():p).attr("x",g).attr("y",j),r=u.legend.selectAll("rect."+l.legendItemEvent).data(a),(n?r.transition():r).attr("width",function(a){return F[a]}).attr("height",function(a){return G[a]}).attr("x",h).attr("y",k),s=u.legend.selectAll("rect."+l.legendItemTile).data(a),(n?s.transition():s).style("fill",u.color).attr("x",f).attr("y",i),t&&(n?t.transition():t).attr("height",u.getLegendHeight()-12).attr("width",z*(J+1)+10),u.legend.selectAll("."+l.legendItem).classed(l.legendItemHidden,function(a){return!u.isTargetToShow(a)}),u.updateLegendItemWidth(z),u.updateLegendItemHeight(A),u.updateLegendStep(J),u.updateSizes(),u.updateScales(),u.updateSvgSize(),u.transformAll(o,c),u.legendHasRendered=!0},c(b,f),f.prototype.init=function(){var a=this.owner,b=a.config,c=a.main;a.axes.x=c.append("g").attr("class",l.axis+" "+l.axisX).attr("clip-path",a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",b.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",l.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=c.append("g").attr("class",l.axis+" "+l.axisY).attr("clip-path",b.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",l.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=c.append("g").attr("class",l.axis+" "+l.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",l.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},f.prototype.getXAxis=function(a,b,c,d,e,f,h){var i=this.owner,j=i.config,k={isCategory:i.isCategorized(),withOuterTick:e,tickMultiline:j.axis_x_tick_multiline,tickWidth:j.axis_x_tick_width,tickTextRotate:h?0:j.axis_x_tick_rotate,withoutTransition:f},l=g(i.d3,k).scale(a).orient(b);return i.isTimeSeries()&&d&&(d=d.map(function(a){return i.parseDate(a)})),l.tickFormat(c).tickValues(d),i.isCategorized()&&(l.tickCentered(j.axis_x_tick_centered),u(j.axis_x_tick_culling)&&(j.axis_x_tick_culling=!1)),l},f.prototype.updateXAxisTickValues=function(a,b){var c,d=this.owner,e=d.config;return(e.axis_x_tick_fit||e.axis_x_tick_count)&&(c=this.generateTickValues(d.mapTargetsToUniqueXs(a),e.axis_x_tick_count,d.isTimeSeries())),b?b.tickValues(c):(d.xAxis.tickValues(c),d.subXAxis.tickValues(c)),c},f.prototype.getYAxis=function(a,b,c,d,e,f){var h={withOuterTick:e,withoutTransition:f},i=this.owner,j=i.d3,k=i.config,l=g(j,h).scale(a).orient(b).tickFormat(c);return i.isTimeSeriesY()?l.ticks(j.time[k.axis_y_tick_time_value],k.axis_y_tick_time_interval):l.tickValues(d),l},f.prototype.getId=function(a){var b=this.owner.config;return a in b.data_axes?b.data_axes[a]:"y"},f.prototype.getXAxisTickFormat=function(){var a=this.owner,b=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(a){return 0>a?a.toFixed(0):a};return b.axis_x_tick_format&&(n(b.axis_x_tick_format)?c=b.axis_x_tick_format:a.isTimeSeries()&&(c=function(c){return c?a.axisTimeFormat(b.axis_x_tick_format)(c):""})),n(c)?function(b){return c.call(a,b)}:c},f.prototype.getTickValues=function(a,b){return a?a:b?b.tickValues():void 0},f.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},f.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},f.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},f.prototype.getLabelOptionByAxisId=function(a){var b,c=this.owner,d=c.config;return"y"===a?b=d.axis_y_label:"y2"===a?b=d.axis_y2_label:"x"===a&&(b=d.axis_x_label),b},f.prototype.getLabelText=function(a){var b=this.getLabelOptionByAxisId(a);return o(b)?b:b?b.text:null},f.prototype.setLabelText=function(a,b){var c=this.owner,d=c.config,e=this.getLabelOptionByAxisId(a);o(e)?"y"===a?d.axis_y_label=b:"y2"===a?d.axis_y2_label=b:"x"===a&&(d.axis_x_label=b):e&&(e.text=b)},f.prototype.getLabelPosition=function(a,b){var c=this.getLabelOptionByAxisId(a),d=c&&"object"==typeof c&&c.position?c.position:b;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},f.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},f.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},f.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},f.prototype.getLabelPositionById=function(a){return"y2"===a?this.getY2AxisLabelPosition():"y"===a?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},f.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},f.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},f.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},f.prototype.xForAxisLabel=function(a,b){var c=this.owner;return a?b.isLeft?0:b.isCenter?c.width/2:c.width:b.isBottom?-c.height:b.isMiddle?-c.height/2:0},f.prototype.dxForAxisLabel=function(a,b){return a?b.isLeft?"0.5em":b.isRight?"-0.5em":"0":b.isTop?"-0.5em":b.isBottom?"0.5em":"0"},f.prototype.textAnchorForAxisLabel=function(a,b){return a?b.isLeft?"start":b.isCenter?"middle":"end":b.isBottom?"start":b.isMiddle?"middle":"end"},f.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.dyForXAxisLabel=function(){var a=this.owner,b=a.config,c=this.getXAxisLabelPosition();return b.axis_rotated?c.isInner?"1.2em":-25-this.getMaxTickWidth("x"):c.isInner?"-0.5em":b.axis_x_height?b.axis_x_height-10:"3em"},f.prototype.dyForYAxisLabel=function(){var a=this.owner,b=this.getYAxisLabelPosition();return a.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},f.prototype.dyForY2AxisLabel=function(){var a=this.owner,b=this.getY2AxisLabelPosition();return a.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},f.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.getMaxTickWidth=function(a,b){var c,d,e,f,g,h=this.owner,i=h.config,j=0;return b&&h.currentMaxTickWidths[a]?h.currentMaxTickWidths[a]:(h.svg&&(c=h.filterTargetsToShow(h.data.targets),"y"===a?(d=h.y.copy().domain(h.getYDomain(c,"y")),e=this.getYAxis(d,h.yOrient,i.axis_y_tick_format,h.yAxisTickValues,!1,!0)):"y2"===a?(d=h.y2.copy().domain(h.getYDomain(c,"y2")),e=this.getYAxis(d,h.y2Orient,i.axis_y2_tick_format,h.y2AxisTickValues,!1,!0)):(d=h.x.copy().domain(h.getXDomain(c)),e=this.getXAxis(d,h.xOrient,h.xAxisTickFormat,h.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(c,e)),f=h.d3.select("body").append("div").classed("c3",!0),g=f.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),g.append("g").call(e).each(function(){h.d3.select(this).selectAll("text").each(function(){var a=this.getBoundingClientRect();j<a.width&&(j=a.width)}),f.remove()})),h.currentMaxTickWidths[a]=0>=j?h.currentMaxTickWidths[a]:j,h.currentMaxTickWidths[a])},f.prototype.updateLabels=function(a){var b=this.owner,c=b.main.select("."+l.axisX+" ."+l.axisXLabel),d=b.main.select("."+l.axisY+" ."+l.axisYLabel),e=b.main.select("."+l.axisY2+" ."+l.axisY2Label);(a?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?e.transition():e).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},f.prototype.getPadding=function(a,b,c,d){return m(a[b])?"ratio"===a.unit?a[b]*d:this.convertPixelsToAxisPadding(a[b],d):c},f.prototype.convertPixelsToAxisPadding=function(a,b){var c=this.owner,d=c.config.axis_rotated?c.width:c.height;return b*(a/d)},f.prototype.generateTickValues=function(a,b,c){var d,e,f,g,h,i,j,k=a;if(b)if(d=n(b)?b():b,1===d)k=[a[0]];else if(2===d)k=[a[0],a[a.length-1]];else if(d>2){for(g=d-2,e=a[0],f=a[a.length-1],h=(f-e)/(g+1),k=[e],i=0;g>i;i++)j=+e+h*(i+1),k.push(c?new Date(j):j);k.push(f)}return c||(k=k.sort(function(a,b){return a-b})),k},f.prototype.generateTransitions=function(a){var b=this.owner,c=b.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},f.prototype.redraw=function(a,b){var c=this.owner;c.axes.x.style("opacity",b?0:1),c.axes.y.style("opacity",b?0:1),c.axes.y2.style("opacity",b?0:1),c.axes.subx.style("opacity",b?0:1),a.axisX.call(c.xAxis),a.axisY.call(c.yAxis),a.axisY2.call(c.y2Axis),a.axisSubX.call(c.subXAxis)},i.getClipPath=function(b){var c=a.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(c?"":document.URL.split("#")[0])+"#"+b+")"},i.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")},i.getAxisClipX=function(a){var b=Math.max(30,this.margin.left);return a?-(1+b):-(b-1)},i.getAxisClipY=function(a){return a?-20:-this.margin.top},i.getXAxisClipX=function(){var a=this;return a.getAxisClipX(!a.config.axis_rotated)},i.getXAxisClipY=function(){var a=this;return a.getAxisClipY(!a.config.axis_rotated)},i.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},i.getYAxisClipY=function(){var a=this;return a.getAxisClipY(a.config.axis_rotated)},i.getAxisClipWidth=function(a){var b=this,c=Math.max(30,b.margin.left),d=Math.max(30,b.margin.right);return a?b.width+2+c+d:b.margin.left+20},i.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},i.getXAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(!a.config.axis_rotated)},i.getXAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(!a.config.axis_rotated)},i.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},i.getYAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(a.config.axis_rotated)},i.initPie=function(){var a=this,b=a.d3,c=a.config;a.pie=b.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)}),c.data_order||a.pie.sort(null)},i.updateRadius=function(){var a=this,b=a.config,c=b.gauge_width||b.donut_width;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2,a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=c?(a.radius-c)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0},i.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},i.updateAngle=function(a){var b,c,d=this,e=d.config,f=!1,g=0,h=e.gauge_min,i=e.gauge_max;
return d.pie(d.filterTargetsToShow(d.data.targets)).forEach(function(b){f||b.data.id!==a.data.id||(f=!0,a=b,a.index=g),g++}),isNaN(a.startAngle)&&(a.startAngle=0),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),d.isGaugeType(a.data)&&(b=Math.PI/(i-h),c=a.value<h?0:a.value<i?a.value-h:i-h,a.startAngle=-1*(Math.PI/2),a.endAngle=a.startAngle+b*c),f?a:null},i.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),c=function(c,d){var e;return d?b(c):(e=a.updateAngle(c),e?b(e):"M 0 0")};return c.centroid=b.centroid,c},i.getSvgArcExpanded=function(a){var b=this,c=b.d3.svg.arc().outerRadius(b.radiusExpanded*(a?a:1)).innerRadius(b.innerRadius);return function(a){var d=b.updateAngle(a);return d?c(d):"M 0 0"}},i.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"},i.transformForArcLabel=function(a){var b,c,d,e,f,g=this,h=g.updateAngle(a),i="";return h&&!g.hasType("gauge")&&(b=this.svgArc.centroid(h),c=isNaN(b[0])?0:b[0],d=isNaN(b[1])?0:b[1],e=Math.sqrt(c*c+d*d),f=g.radius&&e?(36/g.radius>.375?1.175-36/g.radius:.8)*g.radius/e:0,i="translate("+c*f+","+d*f+")"),i},i.getArcRatio=function(a){var b=this,c=b.hasType("gauge")?Math.PI:2*Math.PI;return a?(a.endAngle-a.startAngle)/c:null},i.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})},i.textForArcLabel=function(a){var b,c,d,e,f,g=this;return g.shouldShowArcLabel()?(b=g.updateAngle(a),c=b?b.value:null,d=g.getArcRatio(b),e=a.data.id,g.hasType("gauge")||g.meetsArcLabelThreshold(d)?(f=g.getArcLabelFormat(),f?f(c,d,e):g.defaultArcValueFormat(c,d)):""):""},i.expandArc=function(b){var c,d=this;return d.transiting?void(c=a.setInterval(function(){d.transiting||(a.clearInterval(c),d.legend.selectAll(".c3-legend-item-focused").size()>0&&d.expandArc(b))},10)):(b=d.mapToTargetIds(b),void d.svg.selectAll(d.selectorTargets(b,"."+l.chartArc)).each(function(a){d.shouldExpand(a.data.id)&&d.d3.select(this).selectAll("path").transition().duration(50).attr("d",d.svgArcExpanded).transition().duration(100).attr("d",d.svgArcExpandedSub).each(function(a){d.isDonutType(a.data)})}))},i.unexpandArc=function(a){var b=this;b.transiting||(a=b.mapToTargetIds(a),b.svg.selectAll(b.selectorTargets(a,"."+l.chartArc)).selectAll("path").transition().duration(50).attr("d",b.svgArc),b.svg.selectAll("."+l.arc).style("opacity",1))},i.shouldExpand=function(a){var b=this,c=b.config;return b.isDonutType(a)&&c.donut_expand||b.isGaugeType(a)&&c.gauge_expand||b.isPieType(a)&&c.pie_expand},i.shouldShowArcLabel=function(){var a=this,b=a.config,c=!0;return a.hasType("donut")?c=b.donut_label_show:a.hasType("pie")&&(c=b.pie_label_show),c},i.meetsArcLabelThreshold=function(a){var b=this,c=b.config,d=b.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold;return a>=d},i.getArcLabelFormat=function(){var a=this,b=a.config,c=b.pie_label_format;return a.hasType("gauge")?c=b.gauge_label_format:a.hasType("donut")&&(c=b.donut_label_format),c},i.getArcTitle=function(){var a=this;return a.hasType("donut")?a.config.donut_title:""},i.updateTargetsForArc=function(a){var b,c,d=this,e=d.main,f=d.classChartArc.bind(d),g=d.classArcs.bind(d),h=d.classFocus.bind(d);b=e.select("."+l.chartArcs).selectAll("."+l.chartArc).data(d.pie(a)).attr("class",function(a){return f(a)+h(a.data)}),c=b.enter().append("g").attr("class",f),c.append("g").attr("class",g),c.append("text").attr("dy",d.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},i.initArc=function(){var a=this;a.arcs=a.main.select("."+l.chart).append("g").attr("class",l.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",l.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},i.redrawArc=function(a,b,c){var d,e=this,f=e.d3,g=e.config,h=e.main;d=h.selectAll("."+l.arcs).selectAll("."+l.arc).data(e.arcData.bind(e)),d.enter().append("path").attr("class",e.classArc.bind(e)).style("fill",function(a){return e.color(a.data)}).style("cursor",function(a){return g.interaction_enabled&&g.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){e.isGaugeType(a.data)&&(a.startAngle=a.endAngle=-1*(Math.PI/2)),this._current=a}),d.attr("transform",function(a){return!e.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),c=e.convertToArcData(b),e.expandArc(b.data.id),e.api.focus(b.data.id),e.toggleFocusLegend(b.data.id,!0),e.config.data_onmouseover(c,this))}:null).on("mousemove",g.interaction_enabled?function(a){var b=e.updateAngle(a),c=e.convertToArcData(b),d=[c];e.showTooltip(d,this)}:null).on("mouseout",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),c=e.convertToArcData(b),e.unexpandArc(b.data.id),e.api.revert(),e.revertLegend(),e.hideTooltip(),e.config.data_onmouseout(c,this))}:null).on("click",g.interaction_enabled?function(a,b){var c=e.updateAngle(a),d=e.convertToArcData(c);e.toggleShape&&e.toggleShape(this,d,b),e.config.data_onclick.call(e.api,d,this)}:null).each(function(){e.transiting=!0}).transition().duration(a).attrTween("d",function(a){var b,c=e.updateAngle(a);return c?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),b=f.interpolate(this._current,c),this._current=b(0),function(c){var d=b(c);return d.data=a.data,e.getArc(d,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return e.levelColor?e.levelColor(a.data.values[0].value):e.color(a.data.id)}).style("opacity",1).call(e.endall,function(){e.transiting=!1}),d.exit().transition().duration(b).style("opacity",0).remove(),h.selectAll("."+l.chartArc).select("text").style("opacity",0).attr("class",function(a){return e.isGaugeType(a.data)?l.gaugeValue:""}).text(e.textForArcLabel.bind(e)).attr("transform",e.transformForArcLabel.bind(e)).style("font-size",function(a){return e.isGaugeType(a.data)?Math.round(e.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return e.isTargetToShow(a.data.id)&&e.isArcType(a.data)?1:0}),h.select("."+l.chartArcsTitle).style("opacity",e.hasType("donut")||e.hasType("gauge")?1:0),e.hasType("gauge")&&(e.arcs.select("."+l.chartArcsBackground).attr("d",function(){var a={data:[{value:g.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return e.getArc(a,!0,!0)}),e.arcs.select("."+l.chartArcsGaugeUnit).attr("dy",".75em").text(g.gauge_label_show?g.gauge_units:""),e.arcs.select("."+l.chartArcsGaugeMin).attr("dx",-1*(e.innerRadius+(e.radius-e.innerRadius)/2)+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_min:""),e.arcs.select("."+l.chartArcsGaugeMax).attr("dx",e.innerRadius+(e.radius-e.innerRadius)/2+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_max:""))},i.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",l.chartArcsBackground),a.append("text").attr("class",l.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",l.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",l.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},i.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},i.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",l.regions)},i.updateRegion=function(a){var b=this,c=b.config;b.region.style("visibility",b.hasArcType()?"hidden":"visible"),b.mainRegion=b.main.select("."+l.regions).selectAll("."+l.region).data(c.regions),b.mainRegion.enter().append("g").attr("class",b.classRegion.bind(b)).append("rect").style("fill-opacity",0),b.mainRegion.exit().transition().duration(a).style("opacity",0).remove()},i.redrawRegion=function(a){var b=this,c=b.mainRegion.selectAll("rect"),d=b.regionX.bind(b),e=b.regionY.bind(b),f=b.regionWidth.bind(b),g=b.regionHeight.bind(b);return[(a?c.transition():c).attr("x",d).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return m(a.opacity)?a.opacity:.1})]},i.regionX=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"start"in a?e(a.start):0:d.axis_rotated?0:"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},i.regionY=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?0:"end"in a?e(a.end):0:d.axis_rotated&&"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},i.regionWidth=function(a){var b,c=this,d=c.config,e=c.regionX(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"end"in a?f(a.end):c.width:d.axis_rotated?c.width:"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.width,e>b?0:b-e},i.regionHeight=function(a){var b,c=this,d=c.config,e=this.regionY(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?c.height:"start"in a?f(a.start):c.height:d.axis_rotated&&"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.height,e>b?0:b-e},i.isRegionOnX=function(a){return!a.axis||"x"===a.axis},i.drag=function(a){var b,c,d,e,f,g,h,i,j=this,k=j.config,m=j.main,n=j.d3;j.hasArcType()||k.data_selection_enabled&&(!k.zoom_enabled||j.zoom.altDomain)&&k.data_selection_multiple&&(b=j.dragStart[0],c=j.dragStart[1],d=a[0],e=a[1],f=Math.min(b,d),g=Math.max(b,d),h=k.data_selection_grouped?j.margin.top:Math.min(c,e),i=k.data_selection_grouped?j.height:Math.max(c,e),m.select("."+l.dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",i-h),m.selectAll("."+l.shapes).selectAll("."+l.shape).filter(function(a){return k.data_selection_isselectable(a)}).each(function(a,b){var c,d,e,k,m,o,p=n.select(this),q=p.classed(l.SELECTED),r=p.classed(l.INCLUDED),s=!1;if(p.classed(l.circle))c=1*p.attr("cx"),d=1*p.attr("cy"),m=j.togglePoint,s=c>f&&g>c&&d>h&&i>d;else{if(!p.classed(l.bar))return;o=y(this),c=o.x,d=o.y,e=o.width,k=o.height,m=j.togglePath,s=!(c>g||f>c+e||d>i||h>d+k)}s^r&&(p.classed(l.INCLUDED,!r),p.classed(l.SELECTED,!q),m.call(j,!q,p,a,b))}))},i.dragstart=function(a){var b=this,c=b.config;b.hasArcType()||c.data_selection_enabled&&(b.dragStart=a,b.main.select("."+l.chart).append("rect").attr("class",l.dragarea).style("opacity",.1),b.dragging=!0)},i.dragend=function(){var a=this,b=a.config;a.hasArcType()||b.data_selection_enabled&&(a.main.select("."+l.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+l.shape).classed(l.INCLUDED,!1),a.dragging=!1)},i.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?d.circleY:d.circleX).bind(d),g=(e.axis_rotated?d.circleX:d.circleY).bind(d),h=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node()),d.main.select("."+l.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+l.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(l.selectedCircle,c)}).attr("cx",f).attr("cy",g).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",h)},i.unselectPoint=function(a,b,c){var d=this;d.config.data_onunselected(b,a.node()),d.main.select("."+l.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+l.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},i.togglePoint=function(a,b,c,d){a?this.selectPoint(b,c,d):this.unselectPoint(b,c,d)},i.selectPath=function(a,b){var c=this;c.config.data_onselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(b)).brighter(.75)})},i.unselectPath=function(a,b){var c=this;c.config.data_onunselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.color(b)})},i.togglePath=function(a,b,c,d){a?this.selectPath(b,c,d):this.unselectPath(b,c,d)},i.getToggle=function(a,b){var c,d=this;return"circle"===a.nodeName?c=d.isStepType(b)?function(){}:d.togglePoint:"path"===a.nodeName&&(c=d.togglePath),c},i.toggleShape=function(a,b,c){var d=this,e=d.d3,f=d.config,g=e.select(a),h=g.classed(l.SELECTED),i=d.getToggle(a,b).bind(d);f.data_selection_enabled&&f.data_selection_isselectable(b)&&(f.data_selection_multiple||d.main.selectAll("."+l.shapes+(f.data_selection_grouped?d.getTargetSelectorSuffix(b.id):"")).selectAll("."+l.shape).each(function(a,b){var c=e.select(this);c.classed(l.SELECTED)&&i(!1,c.classed(l.SELECTED,!1),a,b)}),g.classed(l.SELECTED,!h),i(!h,g,b,c))},i.initBrush=function(){var a=this,b=a.d3;a.brush=b.svg.brush().on("brush",function(){a.redrawForBrush()}),a.brush.update=function(){return a.context&&a.context.select("."+l.brush).call(this),this},a.brush.scale=function(b){return a.config.axis_rotated?this.y(b):this.x(b)}},i.initSubchart=function(){var a=this,b=a.config,c=a.context=a.svg.append("g").attr("transform",a.getTranslate("context"));c.style("visibility",b.subchart_show?"visible":"hidden"),c.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",l.chart),c.select("."+l.chart).append("g").attr("class",l.chartBars),c.select("."+l.chart).append("g").attr("class",l.chartLines),c.append("g").attr("clip-path",a.clipPath).attr("class",l.brush).call(a.brush),a.axes.subx=c.append("g").attr("class",l.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":a.clipPathForXAxis)},i.updateTargetsForSubchart=function(a){var b,c,d,e,f=this,g=f.context,h=f.config,i=f.classChartBar.bind(f),j=f.classBars.bind(f),k=f.classChartLine.bind(f),m=f.classLines.bind(f),n=f.classAreas.bind(f);h.subchart_show&&(e=g.select("."+l.chartBars).selectAll("."+l.chartBar).data(a).attr("class",i),d=e.enter().append("g").style("opacity",0).attr("class",i),d.append("g").attr("class",j),c=g.select("."+l.chartLines).selectAll("."+l.chartLine).data(a).attr("class",k),b=c.enter().append("g").style("opacity",0).attr("class",k),b.append("g").attr("class",m),b.append("g").attr("class",n),g.selectAll("."+l.brush+" rect").attr(h.axis_rotated?"width":"height",h.axis_rotated?f.width2:f.height2))},i.updateBarForSubchart=function(a){var b=this;b.contextBar=b.context.selectAll("."+l.bars).selectAll("."+l.bar).data(b.barData.bind(b)),b.contextBar.enter().append("path").attr("class",b.classBar.bind(b)).style("stroke","none").style("fill",b.color),b.contextBar.style("opacity",b.initialOpacity.bind(b)),b.contextBar.exit().transition().duration(a).style("opacity",0).remove()},i.redrawBarForSubchart=function(a,b,c){(b?this.contextBar.transition().duration(c):this.contextBar).attr("d",a).style("opacity",1)},i.updateLineForSubchart=function(a){var b=this;b.contextLine=b.context.selectAll("."+l.lines).selectAll("."+l.line).data(b.lineData.bind(b)),b.contextLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.contextLine.style("opacity",b.initialOpacity.bind(b)),b.contextLine.exit().transition().duration(a).style("opacity",0).remove()},i.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition().duration(c):this.contextLine).attr("d",a).style("opacity",1)},i.updateAreaForSubchart=function(a){var b=this,c=b.d3;b.contextArea=b.context.selectAll("."+l.areas).selectAll("."+l.area).data(b.lineData.bind(b)),b.contextArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.contextArea.style("opacity",0),b.contextArea.exit().transition().duration(a).style("opacity",0).remove()},i.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition().duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},i.redrawSubchart=function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.d3,m=k.config;k.context.style("visibility",m.subchart_show?"visible":"hidden"),m.subchart_show&&(l.event&&"zoom"===l.event.type&&k.brush.extent(k.x.orgDomain()).update(),a&&(k.brush.empty()||k.brush.extent(k.x.orgDomain()).update(),h=k.generateDrawArea(e,!0),i=k.generateDrawBar(f,!0),j=k.generateDrawLine(g,!0),k.updateBarForSubchart(c),k.updateLineForSubchart(c),k.updateAreaForSubchart(c),k.redrawBarForSubchart(i,c,c),k.redrawLineForSubchart(j,c,c),k.redrawAreaForSubchart(h,c,c)))},i.redrawForBrush=function(){var a=this,b=a.x;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),a.config.subchart_onbrush.call(a.api,b.orgDomain())},i.transformContext=function(a,b){var c,d=this;b&&b.axisSubX?c=b.axisSubX:(c=d.context.select("."+l.axisX),a&&(c=c.transition())),d.context.attr("transform",d.getTranslate("context")),c.attr("transform",d.getTranslate("subx"))},i.getDefaultExtent=function(){var a=this,b=a.config,c=n(b.axis_x_extent)?b.axis_x_extent(a.getXDomain(a.data.targets)):b.axis_x_extent;return a.isTimeSeries()&&(c=[a.parseDate(c[0]),a.parseDate(c[1])]),c},i.initZoom=function(){var a,b=this,c=b.d3,d=b.config;b.zoom=c.behavior.zoom().on("zoomstart",function(){a=c.event.sourceEvent,b.zoom.altDomain=c.event.sourceEvent.altKey?b.x.orgDomain():null,d.zoom_onzoomstart.call(b.api,c.event.sourceEvent)}).on("zoom",function(){b.redrawForZoom.call(b)}).on("zoomend",function(){var e=c.event.sourceEvent;e&&a.clientX===e.clientX&&a.clientY===e.clientY||(b.redrawEventRect(),b.updateZoom(),d.zoom_onzoomend.call(b.api,b.x.orgDomain()))}),b.zoom.scale=function(a){return d.axis_rotated?this.y(a):this.x(a)},b.zoom.orgScaleExtent=function(){var a=d.zoom_extent?d.zoom_extent:[1,10];return[a[0],Math.max(b.getMaxDataCount()/a[1],a[1])]},b.zoom.updateScaleExtent=function(){var a=t(b.x.orgDomain())/t(b.orgXDomain),c=this.orgScaleExtent();return this.scaleExtent([c[0]*a,c[1]*a]),this}},i.updateZoom=function(){var a=this,b=a.config.zoom_enabled?a.zoom:function(){};a.main.select("."+l.zoomRect).call(b).on("dblclick.zoom",null),a.main.selectAll("."+l.eventRect).call(b).on("dblclick.zoom",null)},i.redrawForZoom=function(){var a=this,b=a.d3,c=a.config,d=a.zoom,e=a.x;if(c.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length){if("mousemove"===b.event.sourceEvent.type&&d.altDomain)return e.domain(d.altDomain),void d.scale(e).updateScaleExtent();a.isCategorized()&&e.orgDomain()[0]===a.orgXDomain[0]&&e.domain([a.orgXDomain[0]-1e-10,e.orgDomain()[1]]),a.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(a.cancelClick=!0),c.zoom_onzoom.call(a.api,e.orgDomain())}},i.generateColor=function(){var a=this,b=a.config,c=a.d3,d=b.data_colors,e=v(b.color_pattern)?b.color_pattern:c.scale.category10().range(),f=b.data_color,g=[];return function(a){var b,c=a.id||a.data&&a.data.id||a;return d[c]instanceof Function?b=d[c](a):d[c]?b=d[c]:(g.indexOf(c)<0&&g.push(c),b=e[g.indexOf(c)%e.length],d[c]=b),f instanceof Function?f(b,a):b}},i.generateLevelColor=function(){var a=this,b=a.config,c=b.color_pattern,d=b.color_threshold,e="value"===d.unit,f=d.values&&d.values.length?d.values:[],g=d.max||100;return v(b.color_threshold)?function(a){var b,d,h=c[c.length-1];for(b=0;b<f.length;b++)if(d=e?a:100*a/g,d<f[b]){h=c[b];break}return h}:null},i.getYFormat=function(a){var b=this,c=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.yFormat,d=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.y2Format;return function(a,e,f){var g="y2"===b.axis.getId(f)?d:c;return g.call(b,a,e)}},i.yFormat=function(a){var b=this,c=b.config,d=c.axis_y_tick_format?c.axis_y_tick_format:b.defaultValueFormat;return d(a)},i.y2Format=function(a){var b=this,c=b.config,d=c.axis_y2_tick_format?c.axis_y2_tick_format:b.defaultValueFormat;return d(a)},i.defaultValueFormat=function(a){return m(a)?+a:""},i.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"},i.dataLabelFormat=function(a){var b,c=this,d=c.config.data_labels,e=function(a){return m(a)?+a:""};return b="function"==typeof d.format?d.format:"object"==typeof d.format?d.format[a]?d.format[a]===!0?e:d.format[a]:function(){return""}:e},i.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0},i.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)},i.getCaches=function(a){var b,c=[];for(b=0;b<a.length;b++)a[b]in this.cache&&c.push(this.cloneTarget(this.cache[a[b]]));return c};var l=i.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};i.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)},i.classText=function(a){return this.generateClass(l.text,a.index)},i.classTexts=function(a){return this.generateClass(l.texts,a.id)},i.classShape=function(a){return this.generateClass(l.shape,a.index)},i.classShapes=function(a){return this.generateClass(l.shapes,a.id)},i.classLine=function(a){return this.classShape(a)+this.generateClass(l.line,a.id)},i.classLines=function(a){return this.classShapes(a)+this.generateClass(l.lines,a.id)},i.classCircle=function(a){return this.classShape(a)+this.generateClass(l.circle,a.index)},i.classCircles=function(a){return this.classShapes(a)+this.generateClass(l.circles,a.id)},i.classBar=function(a){return this.classShape(a)+this.generateClass(l.bar,a.index)},i.classBars=function(a){return this.classShapes(a)+this.generateClass(l.bars,a.id)},i.classArc=function(a){return this.classShape(a.data)+this.generateClass(l.arc,a.data.id)},i.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(l.arcs,a.data.id)},i.classArea=function(a){return this.classShape(a)+this.generateClass(l.area,a.id)},i.classAreas=function(a){return this.classShapes(a)+this.generateClass(l.areas,a.id)},i.classRegion=function(a,b){return this.generateClass(l.region,b)+" "+("class"in a?a["class"]:"")},i.classEvent=function(a){return this.generateClass(l.eventRect,a.index)},i.classTarget=function(a){var b=this,c=b.config.data_classes[a],d="";return c&&(d=" "+l.target+"-"+c),b.generateClass(l.target,a)+d},i.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},i.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?l.focused:"")},i.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?l.defocused:"")},i.classChartText=function(a){return l.chartText+this.classTarget(a.id)},i.classChartLine=function(a){return l.chartLine+this.classTarget(a.id)},i.classChartBar=function(a){return l.chartBar+this.classTarget(a.id)},i.classChartArc=function(a){return l.chartArc+this.classTarget(a.data.id)},i.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},i.selectorTarget=function(a,b){return(b||"")+"."+l.target+this.getTargetSelectorSuffix(a)},i.selectorTargets=function(a,b){var c=this;return a=a||[],a.length?a.map(function(a){return c.selectorTarget(a,b)}):null},i.selectorLegend=function(a){return"."+l.legendItem+this.getTargetSelectorSuffix(a)},i.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var m=i.isValue=function(a){return a||0===a},n=i.isFunction=function(a){return"function"==typeof a},o=i.isString=function(a){return"string"==typeof a},p=i.isUndefined=function(a){return"undefined"==typeof a},q=i.isDefined=function(a){return"undefined"!=typeof a},r=i.ceil10=function(a){return 10*Math.ceil(a/10)},s=i.asHalfPixel=function(a){return Math.ceil(a)+.5},t=i.diffDomain=function(a){return a[1]-a[0]},u=i.isEmpty=function(a){return!a||o(a)&&0===a.length||"object"==typeof a&&0===Object.keys(a).length},v=i.notEmpty=function(a){return Object.keys(a).length>0},w=i.getOption=function(a,b,c){return q(a[b])?a[b]:c},x=i.hasValue=function(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&&(c=!0)}),c},y=i.getPathBox=function(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)],d=c[0].x,e=Math.min(c[0].y,c[1].y);return{x:d,y:e,width:b.width,height:b.height}};h.focus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),this.revert(),this.defocus(),b.classed(l.focused,!0).classed(l.defocused,!1),c.hasArcType()&&c.expandArc(a),c.toggleFocusLegend(a,!0),c.focusedTargetIds=a,c.defocusedTargetIds=c.defocusedTargetIds.filter(function(b){return a.indexOf(b)<0})},h.defocus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),b.classed(l.focused,!1).classed(l.defocused,!0),c.hasArcType()&&c.unexpandArc(a),c.toggleFocusLegend(a,!1),c.focusedTargetIds=c.focusedTargetIds.filter(function(b){return a.indexOf(b)<0}),c.defocusedTargetIds=a},h.revert=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a)),b.classed(l.focused,!1).classed(l.defocused,!1),c.hasArcType()&&c.unexpandArc(a),c.config.legend_show&&(c.showLegend(a.filter(c.isLegendToShow.bind(c))),c.legend.selectAll(c.selectorLegends(a)).filter(function(){return c.d3.select(this).classed(l.legendItemFocused)}).classed(l.legendItemFocused,!1)),c.focusedTargetIds=[],c.defocusedTargetIds=[]},h.show=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.removeHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)}),b.withLegend&&d.showLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},h.hide=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.addHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",0,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",0)}),b.withLegend&&d.hideLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},h.toggle=function(a,b){var c=this,d=this.internal;d.mapToTargetIds(a).forEach(function(a){d.isTargetToShow(a)?c.hide(a,b):c.show(a,b)})},h.zoom=function(a){var b=this.internal;return a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain())),b.brush.extent()},h.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a,b.updateAndRedraw()},h.unzoom=function(){var a=this.internal;a.brush.clear().update(),a.redraw({withUpdateXDomain:!0})},h.load=function(a){var b=this.internal,c=b.config;return a.xs&&b.addXs(a.xs),"classes"in a&&Object.keys(a.classes).forEach(function(b){c.data_classes[b]=a.classes[b]}),"categories"in a&&b.isCategorized()&&(c.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(b){c.data_axes[b]=a.axes[b]}),"colors"in a&&Object.keys(a.colors).forEach(function(b){c.data_colors[b]=a.colors[b]}),"cacheIds"in a&&b.hasCaches(a.cacheIds)?void b.load(b.getCaches(a.cacheIds),a.done):void("unload"in a?b.unload(b.mapToTargetIds("boolean"==typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a))},h.unload=function(a){var b=this.internal;a=a||{},a instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},h.flow=function(a){var b,c,d,e,f,g,h,i,j=this.internal,k=[],l=j.getMaxDataCount(),n=0,o=0;if(a.json)c=j.convertJsonToData(a.json,a.keys);else if(a.rows)c=j.convertRowsToData(a.rows);else{if(!a.columns)return;c=j.convertColumnsToData(a.columns)}b=j.convertDataToTargets(c,!0),j.data.targets.forEach(function(a){var c,d,e=!1;for(c=0;c<b.length;c++)if(a.id===b[c].id){for(e=!0,a.values[a.values.length-1]&&(o=a.values[a.values.length-1].index+1),n=b[c].values.length,d=0;n>d;d++)b[c].values[d].index=o+d,j.isTimeSeries()||(b[c].values[d].x=o+d);a.values=a.values.concat(b[c].values),b.splice(c,1);break}e||k.push(a.id)}),j.data.targets.forEach(function(a){var b,c;for(b=0;b<k.length;b++)if(a.id===k[b])for(o=a.values[a.values.length-1].index+1,c=0;n>c;c++)a.values.push({id:a.id,index:o+c,x:j.isTimeSeries()?j.getOtherTargetX(o+c):o+c,value:null})}),j.data.targets.length&&b.forEach(function(a){var b,c=[];for(b=j.data.targets[0].values[0].index;o>b;b++)c.push({id:a.id,index:b,x:j.isTimeSeries()?j.getOtherTargetX(b):b,value:null});a.values.forEach(function(a){a.index+=o,j.isTimeSeries()||(a.x+=o)}),a.values=c.concat(a.values)}),j.data.targets=j.data.targets.concat(b),d=j.getMaxDataCount(),f=j.data.targets[0],g=f.values[0],q(a.to)?(n=0,i=j.isTimeSeries()?j.parseDate(a.to):a.to,f.values.forEach(function(a){a.x<i&&n++})):q(a.length)&&(n=a.length),l?1===l&&j.isTimeSeries()&&(h=(f.values[f.values.length-1].x-g.x)/2,e=[new Date(+g.x-h),new Date(+g.x+h)],j.updateXDomain(null,!0,!0,!1,e)):(h=j.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-g.x:g.x-j.getXDomain(j.data.targets)[0]:1,e=[g.x-h,g.x],j.updateXDomain(null,!0,!0,!1,e)),j.updateTargets(j.data.targets),j.redraw({flow:{index:g.index,length:n,duration:m(a.duration)?a.duration:j.config.transition_duration,done:a.done,orgDataCount:l},withLegend:!0,withTransition:l>1,withTrimXDomain:!1,withUpdateXAxis:!0})},i.generateFlow=function(a){var b=this,c=b.config,d=b.d3;return function(){var e,f,g,h=a.targets,i=a.flow,j=a.drawBar,k=a.drawLine,m=a.drawArea,n=a.cx,o=a.cy,p=a.xv,q=a.xForText,r=a.yForText,s=a.duration,u=1,v=i.index,w=i.length,x=b.getValueOnIndex(b.data.targets[0].values,v),y=b.getValueOnIndex(b.data.targets[0].values,v+w),z=b.x.domain(),A=i.duration||s,B=i.done||function(){},C=b.generateWait(),D=b.xgrid||d.selectAll([]),E=b.xgridLines||d.selectAll([]),F=b.mainRegion||d.selectAll([]),G=b.mainText||d.selectAll([]),H=b.mainBar||d.selectAll([]),I=b.mainLine||d.selectAll([]),J=b.mainArea||d.selectAll([]),K=b.mainCircle||d.selectAll([]);b.flowing=!0,b.data.targets.forEach(function(a){a.values.splice(0,w)}),g=b.updateXDomain(h,!0,!0),b.updateXGrid&&b.updateXGrid(!0),i.orgDataCount?e=1===i.orgDataCount||x.x===y.x?b.x(z[0])-b.x(g[0]):b.isTimeSeries()?b.x(z[0])-b.x(g[0]):b.x(x.x)-b.x(y.x):1!==b.data.targets[0].values.length?e=b.x(z[0])-b.x(g[0]):b.isTimeSeries()?(x=b.getValueOnIndex(b.data.targets[0].values,0),y=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),e=b.x(x.x)-b.x(y.x)):e=t(g)/2,u=t(z)/t(g),f="translate("+e+",0) scale("+u+",1)",b.hideXGridFocus(),b.hideTooltip(),d.transition().ease("linear").duration(A).each(function(){C.add(b.axes.x.transition().call(b.xAxis)),C.add(H.transition().attr("transform",f)),C.add(I.transition().attr("transform",f)),C.add(J.transition().attr("transform",f)),C.add(K.transition().attr("transform",f)),C.add(G.transition().attr("transform",f)),C.add(F.filter(b.isRegionOnX).transition().attr("transform",f)),C.add(D.transition().attr("transform",f)),C.add(E.transition().attr("transform",f))
}).call(C,function(){var a,d=[],e=[],f=[];if(w){for(a=0;w>a;a++)d.push("."+l.shape+"-"+(v+a)),e.push("."+l.text+"-"+(v+a)),f.push("."+l.eventRect+"-"+(v+a));b.svg.selectAll("."+l.shapes).selectAll(d).remove(),b.svg.selectAll("."+l.texts).selectAll(e).remove(),b.svg.selectAll("."+l.eventRects).selectAll(f).remove(),b.svg.select("."+l.xgrid).remove()}D.attr("transform",null).attr(b.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?b.width:p),E.select("text").attr("x",c.axis_rotated?b.width:0).attr("y",p),H.attr("transform",null).attr("d",j),I.attr("transform",null).attr("d",k),J.attr("transform",null).attr("d",m),K.attr("transform",null).attr("cx",n).attr("cy",o),G.attr("transform",null).attr("x",q).attr("y",r).style("fill-opacity",b.opacityForText.bind(b)),F.attr("transform",null),F.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b)),c.interaction_enabled&&b.redrawEventRect(),B(),b.flowing=!1})}},h.selected=function(a){var b=this.internal,c=b.d3;return c.merge(b.main.selectAll("."+l.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+l.shape).filter(function(){return c.select(this).classed(l.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},h.select=function(a,b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(g,h){var i=e.select(this),j=g.data?g.data.id:g.id,k=d.getToggle(this,g).bind(d),m=f.data_selection_grouped||!a||a.indexOf(j)>=0,n=!b||b.indexOf(h)>=0,o=i.classed(l.SELECTED);i.classed(l.line)||i.classed(l.area)||(m&&n?f.data_selection_isselectable(g)&&!o&&k(!0,i.classed(l.SELECTED,!0),g,h):q(c)&&c&&o&&k(!1,i.classed(l.SELECTED,!1),g,h))})},h.unselect=function(a,b){var c=this.internal,d=c.d3,e=c.config;e.data_selection_enabled&&c.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(f,g){var h=d.select(this),i=f.data?f.data.id:f.id,j=c.getToggle(this,f).bind(c),k=e.data_selection_grouped||!a||a.indexOf(i)>=0,m=!b||b.indexOf(g)>=0,n=h.classed(l.SELECTED);h.classed(l.line)||h.classed(l.area)||k&&m&&e.data_selection_isselectable(f)&&n&&j(!1,h.classed(l.SELECTED,!1),f,g)})},h.transform=function(a,b){var c=this.internal,d=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;c.transformTo(b,a,d)},i.transformTo=function(a,b,c){var d=this,e=!d.hasArcType(),f=c||{withTransitionForAxis:e};f.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(a,b),d.updateTargets(d.data.targets),d.updateAndRedraw(f)},h.groups=function(a){var b=this.internal,c=b.config;return p(a)?c.data_groups:(c.data_groups=a,b.redraw(),c.data_groups)},h.xgrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_x_lines=a,b.redrawWithoutRescale(),c.grid_x_lines):c.grid_x_lines},h.xgrids.add=function(a){var b=this.internal;return this.xgrids(b.config.grid_x_lines.concat(a?a:[]))},h.xgrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!0)},h.ygrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_y_lines=a,b.redrawWithoutRescale(),c.grid_y_lines):c.grid_y_lines},h.ygrids.add=function(a){var b=this.internal;return this.ygrids(b.config.grid_y_lines.concat(a?a:[]))},h.ygrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!1)},h.regions=function(a){var b=this.internal,c=b.config;return a?(c.regions=a,b.redrawWithoutRescale(),c.regions):c.regions},h.regions.add=function(a){var b=this.internal,c=b.config;return a?(c.regions=c.regions.concat(a),b.redrawWithoutRescale(),c.regions):c.regions},h.regions.remove=function(a){var b,c,d,e=this.internal,f=e.config;return a=a||{},b=e.getOption(a,"duration",f.transition_duration),c=e.getOption(a,"classes",[l.region]),d=e.main.select("."+l.regions).selectAll(c.map(function(a){return"."+a})),(b?d.transition().duration(b):d).style("opacity",0).remove(),f.regions=f.regions.filter(function(a){var b=!1;return a["class"]?(a["class"].split(" ").forEach(function(a){c.indexOf(a)>=0&&(b=!0)}),!b):!0}),f.regions},h.data=function(a){var b=this.internal.data.targets;return"undefined"==typeof a?b:b.filter(function(b){return[].concat(a).indexOf(b.id)>=0})},h.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},h.data.values=function(a){var b,c=null;return a&&(b=this.data(a),c=b[0]?b[0].values.map(function(a){return a.value}):null),c},h.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},h.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},h.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},h.category=function(a,b){var c=this.internal,d=c.config;return arguments.length>1&&(d.axis_x_categories[a]=b,c.redraw()),d.axis_x_categories[a]},h.categories=function(a){var b=this.internal,c=b.config;return arguments.length?(c.axis_x_categories=a,b.redraw(),c.axis_x_categories):c.axis_x_categories},h.color=function(a){var b=this.internal;return b.color(a)},h.x=function(a){var b=this.internal;return arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},h.xs=function(a){var b=this.internal;return arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},h.axis=function(){},h.axis.labels=function(a){var b=this.internal;arguments.length&&(Object.keys(a).forEach(function(c){b.axis.setLabelText(c,a[c])}),b.axis.updateLabels())},h.axis.max=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(m(a.x)&&(c.axis_x_max=a.x),m(a.y)&&(c.axis_y_max=a.y),m(a.y2)&&(c.axis_y2_max=a.y2)):c.axis_y_max=c.axis_y2_max=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max}},h.axis.min=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(m(a.x)&&(c.axis_x_min=a.x),m(a.y)&&(c.axis_y_min=a.y),m(a.y2)&&(c.axis_y2_min=a.y2)):c.axis_y_min=c.axis_y2_min=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min}},h.axis.range=function(a){return arguments.length?(q(a.max)&&this.axis.max(a.max),void(q(a.min)&&this.axis.min(a.min))):{max:this.axis.max(),min:this.axis.min()}},h.legend=function(){},h.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},h.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},h.resize=function(a){var b=this.internal,c=b.config;c.size_width=a?a.width:null,c.size_height=a?a.height:null,this.flush()},h.flush=function(){var a=this.internal;a.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},h.destroy=function(){var b=this.internal;return a.clearInterval(b.intervalForObserveInserted),a.onresize=null,b.selectChart.classed("c3",!1).html(""),Object.keys(b).forEach(function(a){b[a]=null}),null},h.tooltip=function(){},h.tooltip.show=function(a){var b,c,d=this.internal;a.mouse&&(c=a.mouse),a.data?d.isMultipleX()?(c=[d.x(a.data.x),d.getYScale(a.data.id)(a.data.value)],b=null):b=m(a.data.index)?a.data.index:d.getIndexByX(a.data.x):"undefined"!=typeof a.x?b=d.getIndexByX(a.x):"undefined"!=typeof a.index&&(b=a.index),d.dispatchEvent("mouseover",b,c),d.dispatchEvent("mousemove",b,c)},h.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var z;i.isSafari=function(){var b=a.navigator.userAgent;return b.indexOf("Safari")>=0&&b.indexOf("Chrome")<0},i.isChrome=function(){var b=a.navigator.userAgent;return b.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),"function"==typeof define&&define.amd?define("c3",["d3"],k):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=k:a.c3=k}(window);
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map
// numeral.js
// version : 1.4.5
// author : Adam Draper
// license : MIT
// http://adamwdraper.github.com/Numeral-js/
(function(){function o(e){this._n=e}function u(e,t,n){var r=Math.pow(10,t),i;i=(Math.round(e*r)/r).toFixed(t);if(n){var s=new RegExp("0{1,"+n+"}$");i=i.replace(s,"")}return i}function a(e,t){var n;t.indexOf("$")>-1?n=l(e,t):t.indexOf("%")>-1?n=c(e,t):t.indexOf(":")>-1?n=h(e,t):n=d(e,t);return n}function f(e,t){if(t.indexOf(":")>-1)e._n=p(t);else if(t===i)e._n=0;else{var s=t;n[r].delimiters.decimal!=="."&&(t=t.replace(/\./g,"").replace(n[r].delimiters.decimal,"."));var o=new RegExp(n[r].abbreviations.thousand+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),u=new RegExp(n[r].abbreviations.million+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),a=new RegExp(n[r].abbreviations.billion+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),f=new RegExp(n[r].abbreviations.trillion+"(?:\\)|(\\"+n[r].currency.symbol+")?(?:\\))?)?$"),l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;for(var h=0;h<=l.length;h++){c=t.indexOf(l[h])>-1?Math.pow(1024,h+1):!1;if(c)break}e._n=(c?c:1)*(s.match(o)?Math.pow(10,3):1)*(s.match(u)?Math.pow(10,6):1)*(s.match(a)?Math.pow(10,9):1)*(s.match(f)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*Number((t.indexOf("(")>-1?"-":"")+t.replace(/[^0-9\.'-]+/g,""));e._n=c?Math.ceil(e._n):e._n}return e._n}function l(e,t){var i=t.indexOf("$")<=1?!0:!1,s="";if(t.indexOf(" $")>-1){s=" ";t=t.replace(" $","")}else if(t.indexOf("$ ")>-1){s=" ";t=t.replace("$ ","")}else t=t.replace("$","");var o=a(e,t);if(i)if(o.indexOf("(")>-1||o.indexOf("-")>-1){o=o.split("");o.splice(1,0,n[r].currency.symbol+s);o=o.join("")}else o=n[r].currency.symbol+s+o;else if(o.indexOf(")")>-1){o=o.split("");o.splice(-1,0,s+n[r].currency.symbol);o=o.join("")}else o=o+s+n[r].currency.symbol;return o}function c(e,t){var n="";if(t.indexOf(" %")>-1){n=" ";t=t.replace(" %","")}else t=t.replace("%","");e._n=e._n*100;var r=a(e,t);if(r.indexOf(")")>-1){r=r.split("");r.splice(-1,0,n+"%");r=r.join("")}else r=r+n+"%";return r}function h(e,t){var n=Math.floor(e._n/60/60),r=Math.floor((e._n-n*60*60)/60),i=Math.round(e._n-n*60*60-r*60);return n+":"+(r<10?"0"+r:r)+":"+(i<10?"0"+i:i)}function p(e){var t=e.split(":"),n=0;if(t.length===3){n+=Number(t[0])*60*60;n+=Number(t[1])*60;n+=Number(t[2])}else if(t.lenght===2){n+=Number(t[0])*60;n+=Number(t[1])}return Number(n)}function d(e,t){var s=!1,o=!1,a="",f="",l="",c=Math.abs(e._n);if(e._n===0&&i!==null)return i;if(t.indexOf("(")>-1){s=!0;t=t.slice(1,-1)}if(t.indexOf("a")>-1){if(t.indexOf(" a")>-1){a=" ";t=t.replace(" a","")}else t=t.replace("a","");if(c>=Math.pow(10,12)){a+=n[r].abbreviations.tillion;e._n=e._n/Math.pow(10,12)}else if(c<Math.pow(10,12)&&c>=Math.pow(10,9)){a+=n[r].abbreviations.billion;e._n=e._n/Math.pow(10,9)}else if(c<Math.pow(10,9)&&c>=Math.pow(10,6)){a+=n[r].abbreviations.million;e._n=e._n/Math.pow(10,6)}else if(c<Math.pow(10,6)&&c>=Math.pow(10,3)){a+=n[r].abbreviations.thousand;e._n=e._n/Math.pow(10,3)}}if(t.indexOf("b")>-1){if(t.indexOf(" b")>-1){f=" ";t=t.replace(" b","")}else t=t.replace("b","");var h=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],p,d;for(var v=0;v<=h.length;v++){p=Math.pow(1024,v);d=Math.pow(1024,v+1);if(e._n>=p&&e._n<d){f+=h[v];p>0&&(e._n=e._n/p);break}}}if(t.indexOf("o")>-1){if(t.indexOf(" o")>-1){l=" ";t=t.replace(" o","")}else t=t.replace("o","");l+=n[r].ordinal(e._n)}if(t.indexOf("[.]")>-1){o=!0;t=t.replace("[.]",".")}var m=e._n.toString().split(".")[0],g=t.split(".")[1],y=t.indexOf(","),b="",w=!1;if(g){if(g.indexOf("[")>-1){g=g.replace("]","");g=g.split("[");b=u(e._n,g[0].length+g[1].length,g[1].length)}else b=u(e._n,g.length);m=b.split(".")[0];b.split(".")[1].length?b=n[r].delimiters.decimal+b.split(".")[1]:b="";o&&Number(b)===0&&(b="")}else m=u(e._n,null);if(m.indexOf("-")>-1){m=m.slice(1);w=!0}y>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+n[r].delimiters.thousands));t.indexOf(".")===0&&(m="");return(s&&w?"(":"")+(!s&&w?"-":"")+m+b+(l?l:"")+(a?a:"")+(f?f:"")+(s&&w?")":"")}function v(e,t){n[e]=t}var e,t="1.4.5",n={},r="en",i=null,s=typeof module!="undefined"&&module.exports;e=function(t){e.isNumeral(t)?t=t.value():Number(t)||(t=0);return new o(Number(t))};e.version=t;e.isNumeral=function(e){return e instanceof o};e.language=function(t,i){if(!t)return r;t&&!i&&(r=t);(i||!n[t])&&v(t,i);return e};e.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}});e.zeroFormat=function(e){typeof e=="string"?i=e:i=null};e.fn=o.prototype={clone:function(){return e(this)},format:function(t){return a(this,t?t:e.defaultFormat)},unformat:function(t){return f(this,t?t:e.defaultFormat)},value:function(){return this._n},valueOf:function(){return this._n},set:function(e){this._n=Number(e);return this},add:function(e){this._n=this._n+Number(e);return this},subtract:function(e){this._n=this._n-Number(e);return this},multiply:function(e){this._n=this._n*Number(e);return this},divide:function(e){this._n=this._n/Number(e);return this},difference:function(e){var t=this._n-Number(e);t<0&&(t=-t);return t}};s&&(module.exports=e);typeof ender=="undefined"&&(this.numeral=e);typeof define=="function"&&define.amd&&define([],function(){return e})}).call(this);
/*
 Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com
 (c) 2010-2013, Vladimir Agafonkin
 (c) 2010-2011, CloudMade
*/
!function(t,e,i){var n=t.L,o={};o.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=n,this},t.L=o,o.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),invokeEach:function(t,e,i){var n,o;if("object"==typeof t){o=Array.prototype.slice.call(arguments,3);for(n in t)e.apply(i,[n,t[n]].concat(o));return!0}return!1},limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?void(o=!0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),void t.apply(i,a))}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,o=["webkit","moz","o","ms"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,a,r){return e=o.bind(e,n),a&&s===i?void e():s.call(t,e,r)},o.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(e[s]=this[s]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=o.extend({},n.options,t.options)),o.extend(n,t),n._initHooks=[];var a=this;return e.__super__=a.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var s="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addEventListener,this,e,i))return this;var n,a,r,h,l,u,c,d=this[s]=this[s]||{},p=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)r={action:e,context:i||this},h=t[n],p?(l=h+"_idx",u=l+"_len",c=d[l]=d[l]||{},c[p]||(c[p]=[],d[u]=(d[u]||0)+1),c[p].push(r)):(d[h]=d[h]||[],d[h].push(r));return this},hasEventListeners:function(t){var e=this[s];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,i){if(!this[s])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,i))return this;var n,a,r,h,l,u,c,d,p,_=this[s],m=i&&i!==this&&o.stamp(i);for(t=o.Util.splitWords(t),n=0,a=t.length;a>n;n++)if(r=t[n],u=r+"_idx",c=u+"_len",d=_[u],e){if(h=m&&d?d[m]:_[r]){for(l=h.length-1;l>=0;l--)h[l].action!==e||i&&h[l].context!==i||(p=h.splice(l,1),p[0].action=o.Util.falseFn);i&&d&&0===h.length&&(delete d[m],_[c]--)}}else delete _[r],delete _[u],delete _[c];return this},clearAllEventListeners:function(){return delete this[s],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var i,n,a,r,h,l=o.Util.extend({},e,{type:t,target:this}),u=this[s];if(u[t])for(i=u[t].slice(),n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);r=u[t+"_idx"];for(h in r)if(i=r[h].slice())for(n=0,a=i.length;a>n;n++)i[n].action.call(i[n].context,l);return this},addOneTimeEventListener:function(t,e,i){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,i))return this;var n=o.bind(function(){this.removeEventListener(t,e,i).removeEventListener(t,n,i)},this);return this.addEventListener(t,e,i).addEventListener(t,n,i)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var n="ActiveXObject"in t,s=n&&!e.addEventListener,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf("webkit"),h=-1!==a.indexOf("chrome"),l=-1!==a.indexOf("phantom"),u=-1!==a.indexOf("android"),c=-1!==a.search("android [23]"),d=-1!==a.indexOf("gecko"),p=typeof orientation!=i+"",_=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||_,f="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,g=e.documentElement,v=n&&"transition"in g.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,P="MozPerspective"in g.style,L="OTransition"in g.style,x=!t.L_DISABLE_3D&&(v||y||P||L)&&!l,w=!t.L_NO_TOUCH&&!l&&(m||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);o.Browser={ie:n,ielt9:s,webkit:r,gecko:d&&!r&&!t.opera&&!n,android:u,android23:c,chrome:h,ie3d:v,webkit3d:y,gecko3d:P,opera3d:L,any3d:x,mobile:p,mobileWebkit:p&&r,mobileWebkit3d:p&&y,mobileOpera:p&&t.opera,touch:w,msPointer:_,pointer:m,retina:f}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,a=s.x>=e.x&&n.x<=i.x,r=s.y>=e.y&&n.y<=i.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i];if(!n&&t.currentStyle&&(n=t.currentStyle[i]),(!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},getViewportOffset:function(t){var i,n=0,s=0,a=t,r=e.body,h=e.documentElement;do{if(n+=a.offsetTop||0,s+=a.offsetLeft||0,n+=parseInt(o.DomUtil.getStyle(a,"borderTopWidth"),10)||0,s+=parseInt(o.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,i=o.DomUtil.getStyle(a,"position"),a.offsetParent===r&&"absolute"===i)break;if("fixed"===i){n+=r.scrollTop||h.scrollTop||0,s+=r.scrollLeft||h.scrollLeft||0;break}if("relative"===i&&!a.offsetLeft){var l=o.DomUtil.getStyle(a,"width"),u=o.DomUtil.getStyle(a,"max-width"),c=a.getBoundingClientRect();("none"!==l||"none"!==u)&&(s+=c.left+a.clientLeft),n+=c.top+(r.scrollTop||h.scrollTop||0);break}a=a.offsetParent}while(a);a=t;do{if(a===r)break;n-=a.scrollTop||0,s-=a.scrollLeft||0,a=a.parentNode}while(a);return new o.Point(s,n)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(e.body,"direction")),o.DomUtil._docIsLtr},create:function(t,i,n){var o=e.createElement(t);return o.className=i,n&&n.appendChild(o),o},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),s=0,a=n.length;a>s;s++)t.classList.add(n[s]);else if(!o.DomUtil.hasClass(t,e)){var r=o.DomUtil._getClass(t);o.DomUtil._setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil._setClass(t,o.Util.trim((" "+o.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(o){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",n=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+n},getScaleString:function(t,e){var i=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),n=" scale("+t+") ";return i+n},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&o.Browser.any3d?t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)o.extend(o.DomUtil,{disableTextSelection:function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)}});else{var i=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(i){var t=e.documentElement.style;this._userSelect=t[i],t[i]="none"}},enableTextSelection:function(){i&&(e.documentElement.style[i]=this._userSelect,delete this._userSelect)}})}o.extend(o.DomUtil,{disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,i=o.LatLng.DEG_TO_RAD,n=(t.lat-this.lat)*i,s=(t.lng-this.lng)*i,a=this.lat*i,r=t.lat*i,h=Math.sin(n/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))},wrap:function(t,e){var i=this.lng;return t=t||-180,e=e||180,i=(i+e)%(e-t)+(t>i||i===e?e:t),new o.LatLng(this.lat,i)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new o.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=o.latLng(t);return t=null!==e?e:o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-s),new o.LatLng(i.lat+n,i.lng+s))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&n.lat<=i.lat,r=s.lng>=e.lng&&n.lng<=i.lng;return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=t.lng*e,a=n*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new o.Point(s,a)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,i=t.x*e,n=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(n,i)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return o.point(e,e)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),a=t instanceof o.Point?t:this.latLngToContainerPoint(t),r=a.subtract(s).multiplyBy(1-1/n),h=this.containerPointToLatLng(s.add(r));return this.setView(h,e,{zoom:i})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n));s=e.maxZoom?Math.min(e.maxZoom,s):s;var a=n.subtract(i).divideBy(2),r=this.project(t.getSouthWest(),s),h=this.project(t.getNorthEast(),s),l=this.unproject(r.add(h).divideBy(2).add(a),s);return this.setView(l,s,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var i=this.getCenter(),n=this._limitCenter(i,this._zoom,t);return i.equals(n)?this:this.panTo(n,e)},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),s=i.divideBy(2).round(),a=n.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t);var n,s=this.getMinZoom()-(e?1:0),a=this.getMaxZoom(),r=this.getSize(),h=t.getNorthWest(),l=t.getSouthEast(),u=!0;i=o.point(i||[0,0]);do s++,n=this.project(l,s).subtract(this.project(h,s)).add(i),u=e?n.x<r.x||n.y<r.y:r.contains(n);while(u&&a>=s);return u&&e?null:e?s:s-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,i,n){var s=this._zoom!==e;n||(this.fire("movestart"),s&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!i}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(s||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-(1/0),o=this._getZoomSpan();for(t in this._zoomBoundLayers){var s=this._zoomBoundLayers[t];isNaN(s.options.minZoom)||(e=Math.min(e,s.options.minZoom)),isNaN(s.options.maxZoom)||(n=Math.max(n,s.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),o!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var i,n,s=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=s.length;n>i;i++)o.DomEvent[e](this._container,s[i],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(i),s=this.layerPointToLatLng(n);this.fire(e,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),a=new o.Bounds(n.subtract(s),n.add(s)),r=this._getBoundsOffset(a,i,e);return this.unproject(n.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=this.project(e.getNorthWest(),i).subtract(t.min),s=this.project(e.getSouthEast(),i).subtract(t.max),a=this._rebound(n.x,-s.x),r=this._rebound(n.y,-s.y);return new o.Point(a,r)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=n*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-h))/c;return h=-s*Math.log(d),new o.Point(r,h)},unproject:function(t){for(var e,i=o.LatLng.RAD_TO_DEG,n=this.R_MAJOR,s=this.R_MINOR,a=t.x*i/n,r=s/n,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(l),c=15,d=1e-7,p=c,_=.1;Math.abs(_)>d&&--p>0;)e=h*Math.sin(u),_=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=_;return new o.LatLng(u*i,a)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,
transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,i=.5/(Math.PI*e);return new o.Transformation(i,.5,-i,.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.children,a=-e(1/0,-(1/0));for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,n=this.options.tileSize;return i&&e>i&&(n=Math.round(t.getZoomScale(e)/t.getZoomScale(i)*n)),n},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),i=t.getZoom(),n=this._getTileSize();if(!(i>this.options.maxZoom||i<this.options.minZoom)){var s=o.bounds(e.min.divideBy(n)._floor(),e.max.divideBy(n)._floor());this._addTilesFromCenterOut(s),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(s)}}},_addTilesFromCenterOut:function(t){var i,n,s,a=[],r=t.getCenter();for(i=t.min.y;i<=t.max.y;i++)for(n=t.min.x;n<=t.max.x;n++)s=new o.Point(n,i),this._tileShouldBeLoaded(s)&&a.push(s);var h=a.length;if(0!==h){a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=h,n=0;h>n;n++)this._addTile(a[n],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var i=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=i.x)||t.y<0||t.y>=i.y)return!1}if(e.bounds){var n=this._getTileSize(),o=t.multiplyBy(n),s=o.add([n,n]),a=this._map.unproject(o),r=this._map.unproject(s);if(e.continuousWorld||e.noWrap||(a=a.wrap(),r=r.wrap()),!e.bounds.intersects([a,r]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)e=o.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),n=this._getTile();o.DomUtil.setPosition(n,i,o.Browser.chrome),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&e.appendChild(n)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this._getTileSize();return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=o.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==i&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&o.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;e.detectRetina&&o.Browser.retina?i.width=i.height=2*n:i.width=i.height=n;for(var s in e)this.options.hasOwnProperty(s)||"crs"===s||(i[s]=e[s]);this.wmsParams=i,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,i=this.options.tileSize,n=t.multiplyBy(i),s=n.add([i,i]),a=this._crs.project(e.unproject(n,t.z)),r=this._crs.project(e.unproject(s,t.z)),h=this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[r.y,a.x,a.y,r.x].join(","):[a.x,r.y,r.x,a.y].join(","),l=o.Util.template(this._url,{s:this._getSubdomain(t)});return l+o.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+h},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=o.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,n=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=r._add(h._multiplyBy(.5*(1-1/n)));i.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+n+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i,n=this.options,s=o.point(n[e+"Size"]);i="shadow"===e?o.point(n.shadowAnchor||n.iconAnchor):o.point(n.iconAnchor),!i&&s&&(i=s.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var i=o.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,i,n,o,s,a=e.getElementsByTagName("script"),r=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=a.length;i>t;t++)if(n=a[t].src,o=n.match(r))return s=n.split(r)[0],(s?s+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",s=t.icon.createIcon(this._icon),a=!1;s!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(s.title=t.title),t.alt&&(s.alt=t.alt)),o.DomUtil.addClass(s,n),t.keyboard&&(s.tabIndex="0"),this._icon=s,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(s,"mouseover",this._bringToFront,this).on(s,"mouseout",this._resetZIndex,this);var r=t.icon.createShadow(this._shadow),h=!1;r!==this._shadow&&(this._removeShadow(),h=!0),r&&o.DomUtil.addClass(r,n),this._shadow=r,t.opacity<1&&this._updateOpacity();var l=this._map._panes;a&&l.markerPane.appendChild(this._icon),r&&h&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;i<e.length;i++)o.DomEvent.on(t,e[i],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;return n.html!==!1?i.innerHTML=n.html:i.innerHTML="",n.bgPos&&(i.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",i=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=o.DomUtil.create("div",i);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",n),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var s=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",n);o.DomEvent.disableClickPropagation(s),this._contentNode=o.DomUtil.create("div",e+"-content",s),o.DomEvent.disableScrollPropagation(this._contentNode),o.DomEvent.on(s,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",n),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight,a="leaflet-popup-scrolled";s&&n>s?(e.height=s+"px",o.DomUtil.addClass(t,a)):o.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,i=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&n._add(o.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(n),a=o.point(this.options.autoPanPadding),r=o.point(this.options.autoPanPaddingTopLeft||a),h=o.point(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),u=0,c=0;s.x+i+h.x>l.x&&(u=s.x+i-l.x+h.x),s.x-u-r.x<0&&(u=s.x-r.x),s.y+e+h.y>l.y&&(c=s.y+e-l.y+h.y),s.y-c-r.y<0&&(c=s.y-r.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,i){if(this.closePopup(),!(t instanceof o.Popup)){var n=t;t=new o.Popup(i).setLatLng(e).setContent(n)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var i=o.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(o.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=o.extend({offset:i},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=o.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,i=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),i=o.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(n,s)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!e.createElementNS||!e.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&o.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&o.DomUtil.addClass(this._path,"leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,i=e.mouseEventToContainerPoint(t),n=e.containerPointToLayerPoint(i),s=e.layerPointToLatLng(n);this.fire(t.type,{latlng:s,layerPoint:n,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),
this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):o.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(i)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,n=i.x-e.x,s=i.y-e.y,a=this._pathRoot,r=this._panes.overlayPane;o.Browser.mobileWebkit&&r.removeChild(a),o.DomUtil.setPosition(a,e),a.setAttribute("width",n),a.setAttribute("height",s),a.setAttribute("viewBox",[e.x,e.y,n,s].join(" ")),o.Browser.mobileWebkit&&r.appendChild(a)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(n){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=o.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",i.lineCap&&(t.endcap=i.lineCap.replace("butt","flat")),i.lineJoin&&(t.joinstyle=i.lineJoin)):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,i,n,s,a;for(this._ctx.beginPath(),t=0,i=this._parts.length;i>t;t++){for(e=0,n=this._parts[t].length;n>e;e++)s=this._parts[t][e],a=(0===e?"move":"line")+"To",this._ctx[a](s.x,s.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,i=this._pathRoot;i||(i=this._pathRoot=e.createElement("canvas"),i.style.position="absolute",t=this._canvasCtx=i.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),n=this._pathRoot;o.DomUtil.setPosition(n,e),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=n?this._lastCode:this._getBitCode(t,i),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,i,n){var s=e.x-t.x,a=e.y-t.y,r=n.min,h=n.max;return 8&i?new o.Point(t.x+s*(h.y-t.y)/a,h.y):4&i?new o.Point(t.x+s*(r.y-t.y)/a,r.y):2&i?new o.Point(h.x,t.y+a*(h.x-t.x)/s):1&i?new o.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var s,a=e.x,r=e.y,h=i.x-a,l=i.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=i.x,r=i.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,n?h*h+l*l:new o.Point(a,r)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,i,n=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],i=l[u];var d=o.LineUtil._sqClosestPointOnSegment(t,e,i,!0);n>d&&(n=d,a=o.LineUtil._sqClosestPointOnSegment(t,e,i))}return a&&(a.distance=Math.sqrt(n)),a},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var i,n,s=e?t:[];for(i=0,n=t.length;n>i;i++){if(o.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;s[i]=o.latLng(t[i])}return s},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=o.Path.VML,n=0,s=t.length,a="";s>n;n++)e=t[n],i&&e._round(),a+=(n?"L":"M")+e.x+" "+e.y;return a},_clipPoints:function(){var t,e,i,n=this._originalPoints,s=n.length;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var a=this._parts,r=this._map._pathViewport,h=o.LineUtil;for(t=0,e=0;s-1>t;t++)i=h.clipSegment(n[t],n[t+1],r,t),i&&(a[e]=a[e]||[],a[e].push(i[0]),(i[1]!==n[t+1]||t===s-2)&&(a[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,i=0,n=t.length;n>i;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var i,n,s,a,r,h,l,u,c,d=[1,4,2,8],p=o.LineUtil;for(n=0,l=t.length;l>n;n++)t[n]._code=p._getBitCode(t[n],e);for(a=0;4>a;a++){for(u=d[a],i=[],n=0,l=t.length,s=l-1;l>n;s=n++)r=t[n],h=t[s],r._code&u?h._code&u||(c=p._getEdgeIntersection(h,r,u,e),c._code=p._getBitCode(c,e),i.push(c)):(h._code&u&&(c=p._getEdgeIntersection(h,r,u,e),c._code=p._getBitCode(c,e),i.push(c)),i.push(r));t=i}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){o.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,i,n;if(t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,i=this._holes.length;i>e;e++)n=this._holes[e]=this._convertLatLngs(this._holes[e]),n[0].equals(n[n.length-1])&&n.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,i,n;for(t=0,i=this._holes.length;i>t;t++)for(this._holePoints[t]=[],e=0,n=this._holes[t].length;n>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):o.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var s=o.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,i){o.Path.prototype.initialize.call(this,i),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,i=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,i=this._latlng;return new o.LatLngBounds([i.lat-e,i.lng-t],[i.lat+e,i.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return o.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var i,n,s,a,r,h,l,u=this.options.weight/2;for(o.Browser.touch&&(u+=10),i=0,a=this._parts.length;a>i;i++)for(l=this._parts[i],n=0,r=l.length,s=r-1;r>n;s=n++)if((e||0!==n)&&(h=o.LineUtil.pointToSegmentDistance(t,l[s],l[n]),u>=h))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,i,n,s,a,r,h,l,u=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)i=e[a],n=e[r],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=o.Util.isArray(t)?t:t.features;if(s){for(e=0,i=s.length;i>e;e++)n=s[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(s[e]);return this}var a=this.options;if(!a.filter||a.filter(t)){var r=o.GeoJSON.geometryToLayer(t,a.pointToLayer,a.coordsToLatLng,a);return r.feature=o.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),a.onEachFeature&&a.onEachFeature(t,r),this.addLayer(r)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,i,n){var s,a,r,h,l="Feature"===t.type?t.geometry:t,u=l.coordinates,c=[];switch(i=i||this.coordsToLatLng,l.type){case"Point":return s=i(u),e?e(t,s):new o.Marker(s);case"MultiPoint":for(r=0,h=u.length;h>r;r++)s=i(u[r]),c.push(e?e(t,s):new o.Marker(s));return new o.FeatureGroup(c);case"LineString":return a=this.coordsToLatLngs(u,0,i),new o.Polyline(a,n);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(u,1,i),new o.Polygon(a,n);case"MultiLineString":return a=this.coordsToLatLngs(u,1,i),new o.MultiPolyline(a,n);case"MultiPolygon":return a=this.coordsToLatLngs(u,2,i),new o.MultiPolygon(a,n);case"GeometryCollection":for(r=0,h=l.geometries.length;h>r;r++)c.push(this.geometryToLayer({geometry:l.geometries[r],type:"Feature",properties:t.properties},e,i,n));return new o.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):(i||this.coordsToLatLng)(t[o]),a.push(n);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(o.GeoJSON.latLngToCoords(t[i]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(a),o.Circle.include(a),o.CircleMarker.include(a),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,i,n=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)i=o.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:t,coordinates:e})}}o.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),o.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),o.LayerGroup.include({toGeoJSON:function(){var e,i=this.feature&&this.feature.geometry,n=[];if(i&&"MultiPoint"===i.type)return t("MultiPoint").call(this);var s=i&&"GeometryCollection"===i.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),n.push(s?e.geometry:o.GeoJSON.asFeature(e)))}),s?o.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}})}(),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,i,n){var s,a,r,h=o.stamp(i),l="_leaflet_"+e+h;return t[l]?this:(s=function(e){return i.call(n||t,e||o.DomEvent._getEvent())},o.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,s,h):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,s,h),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?(a=s,r="mouseenter"===e?"mouseover":"mouseout",s=function(e){return o.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):"click"===e&&o.Browser.android?(a=s,s=function(t){return o.DomEvent._filterClick(t,a)},t.addEventListener(e,s,!1)):t.addEventListener(e,s,!1):"attachEvent"in t&&t.attachEvent("on"+e,s),t[l]=s,this))},removeListener:function(t,e,i){var n=o.stamp(i),s="_leaflet_"+e+n,a=t[s];return a?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[s]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,i=o.Draggable.START.length-1;i>=0;i--)o.DomEvent.on(t,o.Draggable.START[i],e);return o.DomEvent.on(t,"click",o.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled&&(o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var i=t.touches&&1===t.touches.length?t.touches[0]:t,n=new o.Point(i.clientX,i.clientY),s=n.subtract(this._startPoint);(s.x||s.y)&&(o.Browser.touch&&Math.abs(s.x)+Math.abs(s.y)<3||(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(s),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[t],this._onMove).off(e,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,i=e.options,n=+new Date-this._lastTime,s=!i.inertia||n>i.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),s)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),r=(this._lastTime+n-this._times[0])/1e3,h=i.easeLinearity,l=a.multiplyBy(h/r),u=l.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,u),d=l.multiplyBy(c/u),p=c/(i.inertiaDeceleration*h),_=d.multiplyBy(-p/2).round();_.x&&_.y?(_=e._limitOffset(_,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(_,{duration:p,easeLinearity:h,noMoveStart:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),i),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,i=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(i+e):t.setZoomAround(this._lastMousePos,i+e))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,i,n){function s(t){var e;if(o.Browser.pointer?(_.push(t.pointerId),e=_.length):e=t.touches.length,!(e>1)){var i=Date.now(),n=i-(r||i);h=t.touches?t.touches[0]:t,l=n>0&&u>=n,r=i}}function a(t){if(o.Browser.pointer){var e=_.indexOf(t.pointerId);if(-1===e)return;_.splice(e,1)}if(l){if(o.Browser.pointer){var n,s={};for(var a in h)n=h[a],"function"==typeof n?s[a]=n.bind(h):s[a]=n;h=s}h.type="dblclick",i(h),r=null}}var r,h,l=!1,u=250,c="_leaflet_",d=this._touchstart,p=this._touchend,_=[];t[c+d+n]=s,t[c+p+n]=a;var m=o.Browser.pointer?e.documentElement:t;return t.addEventListener(d,s,!1),m.addEventListener(p,a,!1),o.Browser.pointer&&m.addEventListener(o.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(t,i){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+i],!1),(o.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+i],!1),o.Browser.pointer&&e.documentElement.removeEventListener(o.DomEvent.POINTER_CANCEL,t[n+this._touchend+i],!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,i,n){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,i,n);
case"touchend":return this.addPointerListenerEnd(t,e,i,n);case"touchmove":return this.addPointerListenerMove(t,e,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,i,n,s){var a="_leaflet_",r=this._pointers,h=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&o.DomEvent.preventDefault(t);for(var e=!1,i=0;i<r.length;i++)if(r[i].pointerId===t.pointerId){e=!0;break}e||r.push(t),t.touches=r.slice(),t.changedTouches=[t],n(t)};if(t[a+"touchstart"+s]=h,t.addEventListener(this.POINTER_DOWN,h,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,l,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s="_leaflet_",a=this._pointers;return t[s+"touchmove"+n]=o,t.addEventListener(this.POINTER_MOVE,o,!1),this},addPointerListenerEnd:function(t,e,i,n){var o="_leaflet_",s=this._pointers,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+"touchend"+n]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(t,e,i){var n="_leaflet_",o=t[n+e+i];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,o,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,o,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,o,!1),t.removeEventListener(this.POINTER_CANCEL,o,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToLayerPoint(t.touches[0]),s=i.mouseEventToLayerPoint(t.touches[1]),a=i._getCenterLayerPoint();this._startCenter=n.add(s)._divideBy(2),this._startDist=n.distanceTo(s),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),n=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),n=t.layerPointToLatLng(i),s=t.getZoom(),a=t.getScaleZoom(this._scale)-s,r=a>0?Math.ceil(a):Math.floor(a),h=t._limitZoom(s+r),l=t.getZoomScale(h)/this._scale;t._animateZoom(n,h,i,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),o.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void o.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(t),s=n.subtract(e),a=new o.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));o.DomUtil.setPosition(i,a),this._moved=!0,i.style.width=Math.max(0,Math.abs(s.x)-4)+"px",i.style.height=Math.max(0,Math.abs(s.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(i)){var n=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,s=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[e]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(e in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),o.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,i=o.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(i);e&&o.DomUtil.setPosition(e,i),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=i+t+" "+i+s;e[t+s]=o.DomUtil.create("div",a,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",i,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,i,n,s,a){var r=o.DomUtil.create("a",i,n);r.innerHTML=t,r.href="#",r.title=e;var h=o.DomEvent.stopPropagation;return o.DomEvent.on(r,"click",h).on(r,"mousedown",h).on(r,"dblclick",h).on(r,"click",o.DomEvent.preventDefault).on(r,"click",s,a).on(r,"click",this._refocusOnMap,a),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e,i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+"px",s.innerHTML=i+" mi"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+"px",s.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){o.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):o.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this._expand,this):o.DomEvent.on(n,"focus",this._expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var n=o.stamp(t);this._layers[n]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,i=!1,n=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),n=n||e.overlay,i=i||!e.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var i=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)}},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';i&&(n+=' checked="checked"'),n+="/>";var o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+t.name,n.appendChild(i),n.appendChild(a);var r=t.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(n),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,t=0;o>t;t++)e=n[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,i,n,s=this._el,a=t.getComputedStyle(s);if(o.Browser.any3d){if(n=a[o.DomUtil.TRANSFORM].match(this._transformRe),!n)return;e=parseFloat(n[1]),i=parseFloat(n[2])}else e=parseFloat(a.left),i=parseFloat(a.top);return new o.Point(e,i,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(i)?(this.panBy(i,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);return i.animate===!0||this.getSize().contains(o)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,s,n,null,!0),!0):!1},_animateZoom:function(t,e,i,n,s,a,r){r||(this._animatingZoom=!0),o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),o.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:i,scale:n,delta:s,backwards:a}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),o.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)},this))}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,i=o.DomUtil.TRANSFORM,n=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[i],s=o.DomUtil.getScaleString(t.scale,t.origin);e.style[i]=t.backwards?s+" "+n:n+" "+s},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth);var i=this._map.getZoom();(i>this.options.maxZoom||i<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,i=this._getLoadedTilesPercentage(e),n=this._getLoadedTilesPercentage(t);return e&&i>.5&&.5>n?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,i,n,s=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=s.length;i>e;e++)n=s[e],n.complete||(n.onload=o.Util.falseFn,n.onerror=o.Util.falseFn,n.src=o.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),s=180*t.coords.accuracy/40075017,a=s/Math.cos(o.LatLng.DEG_TO_RAD*e),r=o.latLngBounds([e-s,i-a],[e+s,i+a]),h=this._locateOptions;if(h.setView){var l=Math.min(this.getBoundsZoom(r),h.maxZoom);this.setView(n,l)}var u={latlng:n,bounds:r,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document);
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Browser Request
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// UMD HEADER START 
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define([], factory);
    } else if (typeof exports === 'object') {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like enviroments that support module.exports,
        // like Node.
        module.exports = factory();
    } else {
        // Browser globals (root is window)
        root.returnExports = factory();
  }
}(this, function () {
// UMD HEADER END

var XHR = XMLHttpRequest
if (!XHR) throw new Error('missing XMLHttpRequest')
request.log = {
  'trace': noop, 'debug': noop, 'info': noop, 'warn': noop, 'error': noop
}

var DEFAULT_TIMEOUT = 3 * 60 * 1000 // 3 minutes

//
// request
//

function request(options, callback) {
  // The entry-point to the API: prep the options object and pass the real work to run_xhr.
  if(typeof callback !== 'function')
    throw new Error('Bad callback given: ' + callback)

  if(!options)
    throw new Error('No options given')

  var options_onResponse = options.onResponse; // Save this for later.

  if(typeof options === 'string')
    options = {'uri':options};
  else
    options = JSON.parse(JSON.stringify(options)); // Use a duplicate for mutating.

  options.onResponse = options_onResponse // And put it back.

  if (options.verbose) request.log = getLogger();

  if(options.url) {
    options.uri = options.url;
    delete options.url;
  }

  if(!options.uri && options.uri !== "")
    throw new Error("options.uri is a required argument");

  if(typeof options.uri != "string")
    throw new Error("options.uri must be a string");

  var unsupported_options = ['proxy', '_redirectsFollowed', 'maxRedirects', 'followRedirect']
  for (var i = 0; i < unsupported_options.length; i++)
    if(options[ unsupported_options[i] ])
      throw new Error("options." + unsupported_options[i] + " is not supported")

  options.callback = callback
  options.method = options.method || 'GET';
  options.headers = options.headers || {};
  options.body    = options.body || null
  options.timeout = options.timeout || request.DEFAULT_TIMEOUT

  if(options.headers.host)
    throw new Error("Options.headers.host is not supported");

  if(options.json) {
    options.headers.accept = options.headers.accept || 'application/json'
    if(options.method !== 'GET')
      options.headers['content-type'] = 'application/json'

    if(typeof options.json !== 'boolean')
      options.body = JSON.stringify(options.json)
    else if(typeof options.body !== 'string')
      options.body = JSON.stringify(options.body)
  }
  
  //BEGIN QS Hack
  var serialize = function(obj) {
    var str = [];
    for(var p in obj)
      if (obj.hasOwnProperty(p)) {
        str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
      }
    return str.join("&");
  }
  
  if(options.qs){
    var qs = (typeof options.qs == 'string')? options.qs : serialize(options.qs);
    if(options.uri.indexOf('?') !== -1){ //no get params
        options.uri = options.uri+'&'+qs;
    }else{ //existing get params
        options.uri = options.uri+'?'+qs;
    }
  }
  //END QS Hack
  
  //BEGIN FORM Hack
  var multipart = function(obj) {
    //todo: support file type (useful?)
    var result = {};
    result.boundry = '-------------------------------'+Math.floor(Math.random()*1000000000);
    var lines = [];
    for(var p in obj){
        if (obj.hasOwnProperty(p)) {
            lines.push(
                '--'+result.boundry+"\n"+
                'Content-Disposition: form-data; name="'+p+'"'+"\n"+
                "\n"+
                obj[p]+"\n"
            );
        }
    }
    lines.push( '--'+result.boundry+'--' );
    result.body = lines.join('');
    result.length = result.body.length;
    result.type = 'multipart/form-data; boundary='+result.boundry;
    return result;
  }
  
  if(options.form){
    if(typeof options.form == 'string') throw('form name unsupported');
    if(options.method === 'POST'){
        var encoding = (options.encoding || 'application/x-www-form-urlencoded').toLowerCase();
        options.headers['content-type'] = encoding;
        switch(encoding){
            case 'application/x-www-form-urlencoded':
                options.body = serialize(options.form).replace(/%20/g, "+");
                break;
            case 'multipart/form-data':
                var multi = multipart(options.form);
                //options.headers['content-length'] = multi.length;
                options.body = multi.body;
                options.headers['content-type'] = multi.type;
                break;
            default : throw new Error('unsupported encoding:'+encoding);
        }
    }
  }
  //END FORM Hack

  // If onResponse is boolean true, call back immediately when the response is known,
  // not when the full request is complete.
  options.onResponse = options.onResponse || noop
  if(options.onResponse === true) {
    options.onResponse = callback
    options.callback = noop
  }

  // XXX Browsers do not like this.
  //if(options.body)
  //  options.headers['content-length'] = options.body.length;

  // HTTP basic authentication
  if(!options.headers.authorization && options.auth)
    options.headers.authorization = 'Basic ' + b64_enc(options.auth.username + ':' + options.auth.password);

  return run_xhr(options)
}

var req_seq = 0
function run_xhr(options) {
  var xhr = new XHR
    , timed_out = false
    , is_cors = is_crossDomain(options.uri)
    , supports_cors = ('withCredentials' in xhr)

  req_seq += 1
  xhr.seq_id = req_seq
  xhr.id = req_seq + ': ' + options.method + ' ' + options.uri
  xhr._id = xhr.id // I know I will type "_id" from habit all the time.

  if(is_cors && !supports_cors) {
    var cors_err = new Error('Browser does not support cross-origin request: ' + options.uri)
    cors_err.cors = 'unsupported'
    return options.callback(cors_err, xhr)
  }

  xhr.timeoutTimer = setTimeout(too_late, options.timeout)
  function too_late() {
    timed_out = true
    var er = new Error('ETIMEDOUT')
    er.code = 'ETIMEDOUT'
    er.duration = options.timeout

    request.log.error('Timeout', { 'id':xhr._id, 'milliseconds':options.timeout })
    return options.callback(er, xhr)
  }

  // Some states can be skipped over, so remember what is still incomplete.
  var did = {'response':false, 'loading':false, 'end':false}

  xhr.onreadystatechange = on_state_change
  xhr.open(options.method, options.uri, true) // asynchronous
  if(is_cors)
    xhr.withCredentials = !! options.withCredentials
  xhr.send(options.body)
  return xhr

  function on_state_change(event) {
    if(timed_out)
      return request.log.debug('Ignoring timed out state change', {'state':xhr.readyState, 'id':xhr.id})

    request.log.debug('State change', {'state':xhr.readyState, 'id':xhr.id, 'timed_out':timed_out})

    if(xhr.readyState === XHR.OPENED) {
      request.log.debug('Request started', {'id':xhr.id})
      for (var key in options.headers)
        xhr.setRequestHeader(key, options.headers[key])
    }

    else if(xhr.readyState === XHR.HEADERS_RECEIVED)
      on_response()

    else if(xhr.readyState === XHR.LOADING) {
      on_response()
      on_loading()
    }

    else if(xhr.readyState === XHR.DONE) {
      on_response()
      on_loading()
      on_end()
    }
  }

  function on_response() {
    if(did.response)
      return

    did.response = true
    request.log.debug('Got response', {'id':xhr.id, 'status':xhr.status})
    clearTimeout(xhr.timeoutTimer)
    xhr.statusCode = xhr.status // Node request compatibility

    // Detect failed CORS requests.
    if(is_cors && xhr.statusCode == 0) {
      var cors_err = new Error('CORS request rejected: ' + options.uri)
      cors_err.cors = 'rejected'

      // Do not process this request further.
      did.loading = true
      did.end = true

      return options.callback(cors_err, xhr)
    }

    options.onResponse(null, xhr)
  }

  function on_loading() {
    if(did.loading)
      return

    did.loading = true
    request.log.debug('Response body loading', {'id':xhr.id})
    // TODO: Maybe simulate "data" events by watching xhr.responseText
  }

  function on_end() {
    if(did.end)
      return

    did.end = true
    request.log.debug('Request done', {'id':xhr.id})

    xhr.body = xhr.responseText
    if(options.json) {
      try        { xhr.body = JSON.parse(xhr.responseText) }
      catch (er) { return options.callback(er, xhr)        }
    }

    options.callback(null, xhr, xhr.body)
  }

} // request

request.withCredentials = false;
request.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;

//
// defaults
//

request.defaults = function(options, requester) {
  var def = function (method) {
    var d = function (params, callback) {
      if(typeof params === 'string')
        params = {'uri': params};
      else {
        params = JSON.parse(JSON.stringify(params));
      }
      for (var i in options) {
        if (params[i] === undefined) params[i] = options[i]
      }
      return method(params, callback)
    }
    return d
  }
  var de = def(request)
  de.get = def(request.get)
  de.post = def(request.post)
  de.put = def(request.put)
  de.head = def(request.head)
  return de
}

//
// HTTP method shortcuts
//

var shortcuts = [ 'get', 'put', 'post', 'head' ];
shortcuts.forEach(function(shortcut) {
  var method = shortcut.toUpperCase();
  var func   = shortcut.toLowerCase();

  request[func] = function(opts) {
    if(typeof opts === 'string')
      opts = {'method':method, 'uri':opts};
    else {
      opts = JSON.parse(JSON.stringify(opts));
      opts.method = method;
    }

    var args = [opts].concat(Array.prototype.slice.apply(arguments, [1]));
    return request.apply(this, args);
  }
})

//
// CouchDB shortcut
//

request.couch = function(options, callback) {
  if(typeof options === 'string')
    options = {'uri':options}

  // Just use the request API to do JSON.
  options.json = true
  if(options.body)
    options.json = options.body
  delete options.body

  callback = callback || noop

  var xhr = request(options, couch_handler)
  return xhr

  function couch_handler(er, resp, body) {
    if(er)
      return callback(er, resp, body)

    if((resp.statusCode < 200 || resp.statusCode > 299) && body.error) {
      // The body is a Couch JSON object indicating the error.
      er = new Error('CouchDB error: ' + (body.error.reason || body.error.error))
      for (var key in body)
        er[key] = body[key]
      return callback(er, resp, body);
    }

    return callback(er, resp, body);
  }
}

//
// Utility
//

function noop() {}

function getLogger() {
  var logger = {}
    , levels = ['trace', 'debug', 'info', 'warn', 'error']
    , level, i

  for(i = 0; i < levels.length; i++) {
    level = levels[i]

    logger[level] = noop
    if(typeof console !== 'undefined' && console && console[level])
      logger[level] = formatted(console, level)
  }

  return logger
}

function formatted(obj, method) {
  return formatted_logger

  function formatted_logger(str, context) {
    if(typeof context === 'object')
      str += ' ' + JSON.stringify(context)

    return obj[method].call(obj, str)
  }
}

// Return whether a URL is a cross-domain request.
function is_crossDomain(url) {
  var rurl = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/

  // jQuery #8138, IE may throw an exception when accessing
  // a field from window.location if document.domain has been set
  var ajaxLocation
  try { ajaxLocation = location.href }
  catch (e) {
    // Use the href attribute of an A element since IE will modify it given document.location
    ajaxLocation = document.createElement( "a" );
    ajaxLocation.href = "";
    ajaxLocation = ajaxLocation.href;
  }

  var ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || []
    , parts = rurl.exec(url.toLowerCase() )

  var result = !!(
    parts &&
    (  parts[1] != ajaxLocParts[1]
    || parts[2] != ajaxLocParts[2]
    || (parts[3] || (parts[1] === "http:" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === "http:" ? 80 : 443))
    )
  )

  //console.debug('is_crossDomain('+url+') -> ' + result)
  return result
}

// MIT License from http://phpjs.org/functions/base64_encode:358
function b64_enc (data) {
    // Encodes string using MIME base64 algorithm
    var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc="", tmp_arr = [];

    if (!data) {
        return data;
    }

    // assume utf8 data
    // data = this.utf8_encode(data+'');

    do { // pack three octets into four hexets
        o1 = data.charCodeAt(i++);
        o2 = data.charCodeAt(i++);
        o3 = data.charCodeAt(i++);

        bits = o1<<16 | o2<<8 | o3;

        h1 = bits>>18 & 0x3f;
        h2 = bits>>12 & 0x3f;
        h3 = bits>>6 & 0x3f;
        h4 = bits & 0x3f;

        // use hexets to index into b64, and append result to encoded string
        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);
    } while (i < data.length);

    enc = tmp_arr.join('');

    switch (data.length % 3) {
        case 1:
            enc = enc.slice(0, -2) + '==';
        break;
        case 2:
            enc = enc.slice(0, -1) + '=';
        break;
    }

    return enc;
}
    return request;
//UMD FOOTER START
}));
//UMD FOOTER END

},{}],2:[function(require,module,exports){
'use strict';


var request = require('browser-request');

var popily = window.popily || {};

var _error = function(msg, error) {
  return {msg: msg, error: error};
};
  
var _request = function(method, path, data, callback) {
  var DEFAULT_URL = 'https://popily.com';
  var DEFAULT_BASE_PATH = '/api';

  var apiUrl = popily.api.apiUrl;
  if(!popily.api.apiUrl) {
    apiUrl = DEFAULT_URL;
  } 
  apiUrl = apiUrl + DEFAULT_BASE_PATH;

  var params = {
    method: method,
    headers: { 
      'Authorization': 'Token ' + popily.api.token,
      'Accept': 'application/json',
    },
    url: apiUrl + path// + '?format=api'
  };
      
  if('qs' in data) {
    params['qs'] = data['qs'];
    params['json'] = true;
  }
  if('json' in data) {
    params['body'] = data['json'];
    params['json'] = true;
  }
  if('form' in data) {
    params['formData'] = data['form'];
  }
  
  request(params, function(err, httpResponse, body) {
    if(err)
      return callback(_error('Request error', err));
      
    if(httpResponse.statusCode === 401)
      return callback(_error('Invalid API token'));

    if(httpResponse.statusCode === 400)
      return callback(_error('Bad request', body));
      
    try {
      var response = body;
      if(typeof body === 'string')
        response = JSON.parse(body);
    } catch(e) {
      return callback(_error('Error: '+e, e) )
    }

    callback(null, response);

  });
};

var packFilters = function(filters) {
  var packedStr = '';
  filters.forEach(function(f, i) {
    var op = 'eq'
    if('op' in f)
      op = f['op']
    
    var filterStr = '';
    if(i > 0)
      filterStr += '__';

    var valStr = '';
    if(f.hasOwnProperty('values')) {
      valStr = f['values'].join(',');
    }
    filterStr += f['column'] + '!' + op + '!' + ( valStr );
    packedStr += filterStr
  });
  return packedStr;
}

var assignCustomizations = function(dataDict, insightData) {
  [
    'title',
    'x_label',
    'y_label',
    'z_label',
    'category_order',
    'time_interval',
    'refresh_rate',
    'swap'
  ].forEach(function(key) {
    if(key in insightData)
      dataDict[key] = insightData[key];
  });

  return dataDict;
};        
        
popily.api = {
  addSource: function(sourceData, cb) {
    
    var data = {};
    ['columns', 'title', 'description'].forEach(function(key) {
      if(key in sourceData)
        data[key] = sourceData[key];
    })

    if('url' in sourceData) {
      data['url'] = sourceData['url']
      _request('POST', '/sources/', {json: data}, cb);
    }

    else if('connection_string' in sourceData ) {
      data['connection_string'] = sourceData['connection_string']
      data['query'] = sourceData['query']
      _request('POST', '/sources/', {json: data}, cb);
    }
    
    else
      cb('url or connection_string is required');
  },


  getSources: function(cb) {
    _request('GET', '/sources/', {}, cb);
  },


  getSource: function(sourceId, cb) {
    _request('GET', '/sources/'+sourceId+'/', {}, cb);
  },


  getInsights: function(sourceId, params, cb) {
    params = params || {};
    var payload = {'source': sourceId};

    ['columns', 'insight_types', 'insight_actions'].forEach(function(key) {
      if(key in params)
        payload[key] = params[key].join(',')
    });

    if('filters' in params)
      payload['filters'] = packFilters(params['filters'])

    if('full' in params)
      payload['full'] = params['full']

    if('single' in params) {
      payload['single'] = params['single'];
      payload = assignCustomizations(payload, params);
    }

    _request('GET', '/insights/', {qs: payload}, cb);
  },


  getInsight: function(insightId, params, cb) {
    var payload = {};
    if('filters' in params)
      payload['filters'] = packFilters(params['filters']);

    ['full', 'height', 'width'].forEach(function(key) {
      if(key in params)
        payload[key] = params[key];
    });

    payload = assignCustomizations(payload, params);
    
    _request('GET', '/insights/' + insightId + '/', {qs: payload}, cb);
  },


  customizeInsight: function(insightId, params, insightData, cb) {
    var data = assignCustomizations({}, insightData);
    if('filters' in params)
      data['filters'] = packFilters(params['filters'])

    _request('PUT', '/insights/' + insightId + '/', {json: data}, cb);
  },

  setToken: function(token) {
    this.token = token;
  },

  setURL: function(apiUrl) {
    this.apiUrl = apiUrl;
  }
}

window.popily = popily;
module.exports = popily;

},{"browser-request":1}]},{},[2])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvd3d3L3BvcGlseS9wb3BpbHktanMvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL3Zhci93d3cvcG9waWx5L3BvcGlseS1qcy9ub2RlX21vZHVsZXMvYnJvd3Nlci1yZXF1ZXN0L2luZGV4LmpzIiwiL3Zhci93d3cvcG9waWx5L3BvcGlseS1qcy9zcmMvZmFrZV9kMTg4OGZkZi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5ZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gQnJvd3NlciBSZXF1ZXN0XG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLyBVTUQgSEVBREVSIFNUQVJUIFxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5yZXR1cm5FeHBvcnRzID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbi8vIFVNRCBIRUFERVIgRU5EXG5cbnZhciBYSFIgPSBYTUxIdHRwUmVxdWVzdFxuaWYgKCFYSFIpIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBYTUxIdHRwUmVxdWVzdCcpXG5yZXF1ZXN0LmxvZyA9IHtcbiAgJ3RyYWNlJzogbm9vcCwgJ2RlYnVnJzogbm9vcCwgJ2luZm8nOiBub29wLCAnd2Fybic6IG5vb3AsICdlcnJvcic6IG5vb3Bcbn1cblxudmFyIERFRkFVTFRfVElNRU9VVCA9IDMgKiA2MCAqIDEwMDAgLy8gMyBtaW51dGVzXG5cbi8vXG4vLyByZXF1ZXN0XG4vL1xuXG5mdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIFRoZSBlbnRyeS1wb2ludCB0byB0aGUgQVBJOiBwcmVwIHRoZSBvcHRpb25zIG9iamVjdCBhbmQgcGFzcyB0aGUgcmVhbCB3b3JrIHRvIHJ1bl94aHIuXG4gIGlmKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBjYWxsYmFjayBnaXZlbjogJyArIGNhbGxiYWNrKVxuXG4gIGlmKCFvcHRpb25zKVxuICAgIHRocm93IG5ldyBFcnJvcignTm8gb3B0aW9ucyBnaXZlbicpXG5cbiAgdmFyIG9wdGlvbnNfb25SZXNwb25zZSA9IG9wdGlvbnMub25SZXNwb25zZTsgLy8gU2F2ZSB0aGlzIGZvciBsYXRlci5cblxuICBpZih0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpXG4gICAgb3B0aW9ucyA9IHsndXJpJzpvcHRpb25zfTtcbiAgZWxzZVxuICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpKTsgLy8gVXNlIGEgZHVwbGljYXRlIGZvciBtdXRhdGluZy5cblxuICBvcHRpb25zLm9uUmVzcG9uc2UgPSBvcHRpb25zX29uUmVzcG9uc2UgLy8gQW5kIHB1dCBpdCBiYWNrLlxuXG4gIGlmIChvcHRpb25zLnZlcmJvc2UpIHJlcXVlc3QubG9nID0gZ2V0TG9nZ2VyKCk7XG5cbiAgaWYob3B0aW9ucy51cmwpIHtcbiAgICBvcHRpb25zLnVyaSA9IG9wdGlvbnMudXJsO1xuICAgIGRlbGV0ZSBvcHRpb25zLnVybDtcbiAgfVxuXG4gIGlmKCFvcHRpb25zLnVyaSAmJiBvcHRpb25zLnVyaSAhPT0gXCJcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLnVyaSBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50XCIpO1xuXG4gIGlmKHR5cGVvZiBvcHRpb25zLnVyaSAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMudXJpIG11c3QgYmUgYSBzdHJpbmdcIik7XG5cbiAgdmFyIHVuc3VwcG9ydGVkX29wdGlvbnMgPSBbJ3Byb3h5JywgJ19yZWRpcmVjdHNGb2xsb3dlZCcsICdtYXhSZWRpcmVjdHMnLCAnZm9sbG93UmVkaXJlY3QnXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHVuc3VwcG9ydGVkX29wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgaWYob3B0aW9uc1sgdW5zdXBwb3J0ZWRfb3B0aW9uc1tpXSBdKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5cIiArIHVuc3VwcG9ydGVkX29wdGlvbnNbaV0gKyBcIiBpcyBub3Qgc3VwcG9ydGVkXCIpXG5cbiAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrXG4gIG9wdGlvbnMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgJ0dFVCc7XG4gIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgb3B0aW9ucy5ib2R5ICAgID0gb3B0aW9ucy5ib2R5IHx8IG51bGxcbiAgb3B0aW9ucy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IHJlcXVlc3QuREVGQVVMVF9USU1FT1VUXG5cbiAgaWYob3B0aW9ucy5oZWFkZXJzLmhvc3QpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT3B0aW9ucy5oZWFkZXJzLmhvc3QgaXMgbm90IHN1cHBvcnRlZFwiKTtcblxuICBpZihvcHRpb25zLmpzb24pIHtcbiAgICBvcHRpb25zLmhlYWRlcnMuYWNjZXB0ID0gb3B0aW9ucy5oZWFkZXJzLmFjY2VwdCB8fCAnYXBwbGljYXRpb24vanNvbidcbiAgICBpZihvcHRpb25zLm1ldGhvZCAhPT0gJ0dFVCcpXG4gICAgICBvcHRpb25zLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nXG5cbiAgICBpZih0eXBlb2Ygb3B0aW9ucy5qc29uICE9PSAnYm9vbGVhbicpXG4gICAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmpzb24pXG4gICAgZWxzZSBpZih0eXBlb2Ygb3B0aW9ucy5ib2R5ICE9PSAnc3RyaW5nJylcbiAgICAgIG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSlcbiAgfVxuICBcbiAgLy9CRUdJTiBRUyBIYWNrXG4gIHZhciBzZXJpYWxpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc3RyID0gW107XG4gICAgZm9yKHZhciBwIGluIG9iailcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgc3RyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW3BdKSk7XG4gICAgICB9XG4gICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgfVxuICBcbiAgaWYob3B0aW9ucy5xcyl7XG4gICAgdmFyIHFzID0gKHR5cGVvZiBvcHRpb25zLnFzID09ICdzdHJpbmcnKT8gb3B0aW9ucy5xcyA6IHNlcmlhbGl6ZShvcHRpb25zLnFzKTtcbiAgICBpZihvcHRpb25zLnVyaS5pbmRleE9mKCc/JykgIT09IC0xKXsgLy9ubyBnZXQgcGFyYW1zXG4gICAgICAgIG9wdGlvbnMudXJpID0gb3B0aW9ucy51cmkrJyYnK3FzO1xuICAgIH1lbHNleyAvL2V4aXN0aW5nIGdldCBwYXJhbXNcbiAgICAgICAgb3B0aW9ucy51cmkgPSBvcHRpb25zLnVyaSsnPycrcXM7XG4gICAgfVxuICB9XG4gIC8vRU5EIFFTIEhhY2tcbiAgXG4gIC8vQkVHSU4gRk9STSBIYWNrXG4gIHZhciBtdWx0aXBhcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICAvL3RvZG86IHN1cHBvcnQgZmlsZSB0eXBlICh1c2VmdWw/KVxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICByZXN1bHQuYm91bmRyeSA9ICctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwMDAwMDAwMCk7XG4gICAgdmFyIGxpbmVzID0gW107XG4gICAgZm9yKHZhciBwIGluIG9iail7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXG4gICAgICAgICAgICAgICAgJy0tJytyZXN1bHQuYm91bmRyeStcIlxcblwiK1xuICAgICAgICAgICAgICAgICdDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9XCInK3ArJ1wiJytcIlxcblwiK1xuICAgICAgICAgICAgICAgIFwiXFxuXCIrXG4gICAgICAgICAgICAgICAgb2JqW3BdK1wiXFxuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGluZXMucHVzaCggJy0tJytyZXN1bHQuYm91bmRyeSsnLS0nICk7XG4gICAgcmVzdWx0LmJvZHkgPSBsaW5lcy5qb2luKCcnKTtcbiAgICByZXN1bHQubGVuZ3RoID0gcmVzdWx0LmJvZHkubGVuZ3RoO1xuICAgIHJlc3VsdC50eXBlID0gJ211bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PScrcmVzdWx0LmJvdW5kcnk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBcbiAgaWYob3B0aW9ucy5mb3JtKXtcbiAgICBpZih0eXBlb2Ygb3B0aW9ucy5mb3JtID09ICdzdHJpbmcnKSB0aHJvdygnZm9ybSBuYW1lIHVuc3VwcG9ydGVkJyk7XG4gICAgaWYob3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJyl7XG4gICAgICAgIHZhciBlbmNvZGluZyA9IChvcHRpb25zLmVuY29kaW5nIHx8ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBvcHRpb25zLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gZW5jb2Rpbmc7XG4gICAgICAgIHN3aXRjaChlbmNvZGluZyl7XG4gICAgICAgICAgICBjYXNlICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IHNlcmlhbGl6ZShvcHRpb25zLmZvcm0pLnJlcGxhY2UoLyUyMC9nLCBcIitcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtdWx0aXBhcnQvZm9ybS1kYXRhJzpcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGkgPSBtdWx0aXBhcnQob3B0aW9ucy5mb3JtKTtcbiAgICAgICAgICAgICAgICAvL29wdGlvbnMuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IG11bHRpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBtdWx0aS5ib2R5O1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBtdWx0aS50eXBlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdCA6IHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgZW5jb2Rpbmc6JytlbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy9FTkQgRk9STSBIYWNrXG5cbiAgLy8gSWYgb25SZXNwb25zZSBpcyBib29sZWFuIHRydWUsIGNhbGwgYmFjayBpbW1lZGlhdGVseSB3aGVuIHRoZSByZXNwb25zZSBpcyBrbm93bixcbiAgLy8gbm90IHdoZW4gdGhlIGZ1bGwgcmVxdWVzdCBpcyBjb21wbGV0ZS5cbiAgb3B0aW9ucy5vblJlc3BvbnNlID0gb3B0aW9ucy5vblJlc3BvbnNlIHx8IG5vb3BcbiAgaWYob3B0aW9ucy5vblJlc3BvbnNlID09PSB0cnVlKSB7XG4gICAgb3B0aW9ucy5vblJlc3BvbnNlID0gY2FsbGJhY2tcbiAgICBvcHRpb25zLmNhbGxiYWNrID0gbm9vcFxuICB9XG5cbiAgLy8gWFhYIEJyb3dzZXJzIGRvIG5vdCBsaWtlIHRoaXMuXG4gIC8vaWYob3B0aW9ucy5ib2R5KVxuICAvLyAgb3B0aW9ucy5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddID0gb3B0aW9ucy5ib2R5Lmxlbmd0aDtcblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmKCFvcHRpb25zLmhlYWRlcnMuYXV0aG9yaXphdGlvbiAmJiBvcHRpb25zLmF1dGgpXG4gICAgb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGI2NF9lbmMob3B0aW9ucy5hdXRoLnVzZXJuYW1lICsgJzonICsgb3B0aW9ucy5hdXRoLnBhc3N3b3JkKTtcblxuICByZXR1cm4gcnVuX3hocihvcHRpb25zKVxufVxuXG52YXIgcmVxX3NlcSA9IDBcbmZ1bmN0aW9uIHJ1bl94aHIob3B0aW9ucykge1xuICB2YXIgeGhyID0gbmV3IFhIUlxuICAgICwgdGltZWRfb3V0ID0gZmFsc2VcbiAgICAsIGlzX2NvcnMgPSBpc19jcm9zc0RvbWFpbihvcHRpb25zLnVyaSlcbiAgICAsIHN1cHBvcnRzX2NvcnMgPSAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKVxuXG4gIHJlcV9zZXEgKz0gMVxuICB4aHIuc2VxX2lkID0gcmVxX3NlcVxuICB4aHIuaWQgPSByZXFfc2VxICsgJzogJyArIG9wdGlvbnMubWV0aG9kICsgJyAnICsgb3B0aW9ucy51cmlcbiAgeGhyLl9pZCA9IHhoci5pZCAvLyBJIGtub3cgSSB3aWxsIHR5cGUgXCJfaWRcIiBmcm9tIGhhYml0IGFsbCB0aGUgdGltZS5cblxuICBpZihpc19jb3JzICYmICFzdXBwb3J0c19jb3JzKSB7XG4gICAgdmFyIGNvcnNfZXJyID0gbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY3Jvc3Mtb3JpZ2luIHJlcXVlc3Q6ICcgKyBvcHRpb25zLnVyaSlcbiAgICBjb3JzX2Vyci5jb3JzID0gJ3Vuc3VwcG9ydGVkJ1xuICAgIHJldHVybiBvcHRpb25zLmNhbGxiYWNrKGNvcnNfZXJyLCB4aHIpXG4gIH1cblxuICB4aHIudGltZW91dFRpbWVyID0gc2V0VGltZW91dCh0b29fbGF0ZSwgb3B0aW9ucy50aW1lb3V0KVxuICBmdW5jdGlvbiB0b29fbGF0ZSgpIHtcbiAgICB0aW1lZF9vdXQgPSB0cnVlXG4gICAgdmFyIGVyID0gbmV3IEVycm9yKCdFVElNRURPVVQnKVxuICAgIGVyLmNvZGUgPSAnRVRJTUVET1VUJ1xuICAgIGVyLmR1cmF0aW9uID0gb3B0aW9ucy50aW1lb3V0XG5cbiAgICByZXF1ZXN0LmxvZy5lcnJvcignVGltZW91dCcsIHsgJ2lkJzp4aHIuX2lkLCAnbWlsbGlzZWNvbmRzJzpvcHRpb25zLnRpbWVvdXQgfSlcbiAgICByZXR1cm4gb3B0aW9ucy5jYWxsYmFjayhlciwgeGhyKVxuICB9XG5cbiAgLy8gU29tZSBzdGF0ZXMgY2FuIGJlIHNraXBwZWQgb3Zlciwgc28gcmVtZW1iZXIgd2hhdCBpcyBzdGlsbCBpbmNvbXBsZXRlLlxuICB2YXIgZGlkID0geydyZXNwb25zZSc6ZmFsc2UsICdsb2FkaW5nJzpmYWxzZSwgJ2VuZCc6ZmFsc2V9XG5cbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG9uX3N0YXRlX2NoYW5nZVxuICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgb3B0aW9ucy51cmksIHRydWUpIC8vIGFzeW5jaHJvbm91c1xuICBpZihpc19jb3JzKVxuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhISBvcHRpb25zLndpdGhDcmVkZW50aWFsc1xuICB4aHIuc2VuZChvcHRpb25zLmJvZHkpXG4gIHJldHVybiB4aHJcblxuICBmdW5jdGlvbiBvbl9zdGF0ZV9jaGFuZ2UoZXZlbnQpIHtcbiAgICBpZih0aW1lZF9vdXQpXG4gICAgICByZXR1cm4gcmVxdWVzdC5sb2cuZGVidWcoJ0lnbm9yaW5nIHRpbWVkIG91dCBzdGF0ZSBjaGFuZ2UnLCB7J3N0YXRlJzp4aHIucmVhZHlTdGF0ZSwgJ2lkJzp4aHIuaWR9KVxuXG4gICAgcmVxdWVzdC5sb2cuZGVidWcoJ1N0YXRlIGNoYW5nZScsIHsnc3RhdGUnOnhoci5yZWFkeVN0YXRlLCAnaWQnOnhoci5pZCwgJ3RpbWVkX291dCc6dGltZWRfb3V0fSlcblxuICAgIGlmKHhoci5yZWFkeVN0YXRlID09PSBYSFIuT1BFTkVEKSB7XG4gICAgICByZXF1ZXN0LmxvZy5kZWJ1ZygnUmVxdWVzdCBzdGFydGVkJywgeydpZCc6eGhyLmlkfSlcbiAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmhlYWRlcnMpXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgb3B0aW9ucy5oZWFkZXJzW2tleV0pXG4gICAgfVxuXG4gICAgZWxzZSBpZih4aHIucmVhZHlTdGF0ZSA9PT0gWEhSLkhFQURFUlNfUkVDRUlWRUQpXG4gICAgICBvbl9yZXNwb25zZSgpXG5cbiAgICBlbHNlIGlmKHhoci5yZWFkeVN0YXRlID09PSBYSFIuTE9BRElORykge1xuICAgICAgb25fcmVzcG9uc2UoKVxuICAgICAgb25fbG9hZGluZygpXG4gICAgfVxuXG4gICAgZWxzZSBpZih4aHIucmVhZHlTdGF0ZSA9PT0gWEhSLkRPTkUpIHtcbiAgICAgIG9uX3Jlc3BvbnNlKClcbiAgICAgIG9uX2xvYWRpbmcoKVxuICAgICAgb25fZW5kKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbl9yZXNwb25zZSgpIHtcbiAgICBpZihkaWQucmVzcG9uc2UpXG4gICAgICByZXR1cm5cblxuICAgIGRpZC5yZXNwb25zZSA9IHRydWVcbiAgICByZXF1ZXN0LmxvZy5kZWJ1ZygnR290IHJlc3BvbnNlJywgeydpZCc6eGhyLmlkLCAnc3RhdHVzJzp4aHIuc3RhdHVzfSlcbiAgICBjbGVhclRpbWVvdXQoeGhyLnRpbWVvdXRUaW1lcilcbiAgICB4aHIuc3RhdHVzQ29kZSA9IHhoci5zdGF0dXMgLy8gTm9kZSByZXF1ZXN0IGNvbXBhdGliaWxpdHlcblxuICAgIC8vIERldGVjdCBmYWlsZWQgQ09SUyByZXF1ZXN0cy5cbiAgICBpZihpc19jb3JzICYmIHhoci5zdGF0dXNDb2RlID09IDApIHtcbiAgICAgIHZhciBjb3JzX2VyciA9IG5ldyBFcnJvcignQ09SUyByZXF1ZXN0IHJlamVjdGVkOiAnICsgb3B0aW9ucy51cmkpXG4gICAgICBjb3JzX2Vyci5jb3JzID0gJ3JlamVjdGVkJ1xuXG4gICAgICAvLyBEbyBub3QgcHJvY2VzcyB0aGlzIHJlcXVlc3QgZnVydGhlci5cbiAgICAgIGRpZC5sb2FkaW5nID0gdHJ1ZVxuICAgICAgZGlkLmVuZCA9IHRydWVcblxuICAgICAgcmV0dXJuIG9wdGlvbnMuY2FsbGJhY2soY29yc19lcnIsIHhocilcbiAgICB9XG5cbiAgICBvcHRpb25zLm9uUmVzcG9uc2UobnVsbCwgeGhyKVxuICB9XG5cbiAgZnVuY3Rpb24gb25fbG9hZGluZygpIHtcbiAgICBpZihkaWQubG9hZGluZylcbiAgICAgIHJldHVyblxuXG4gICAgZGlkLmxvYWRpbmcgPSB0cnVlXG4gICAgcmVxdWVzdC5sb2cuZGVidWcoJ1Jlc3BvbnNlIGJvZHkgbG9hZGluZycsIHsnaWQnOnhoci5pZH0pXG4gICAgLy8gVE9ETzogTWF5YmUgc2ltdWxhdGUgXCJkYXRhXCIgZXZlbnRzIGJ5IHdhdGNoaW5nIHhoci5yZXNwb25zZVRleHRcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uX2VuZCgpIHtcbiAgICBpZihkaWQuZW5kKVxuICAgICAgcmV0dXJuXG5cbiAgICBkaWQuZW5kID0gdHJ1ZVxuICAgIHJlcXVlc3QubG9nLmRlYnVnKCdSZXF1ZXN0IGRvbmUnLCB7J2lkJzp4aHIuaWR9KVxuXG4gICAgeGhyLmJvZHkgPSB4aHIucmVzcG9uc2VUZXh0XG4gICAgaWYob3B0aW9ucy5qc29uKSB7XG4gICAgICB0cnkgICAgICAgIHsgeGhyLmJvZHkgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpIH1cbiAgICAgIGNhdGNoIChlcikgeyByZXR1cm4gb3B0aW9ucy5jYWxsYmFjayhlciwgeGhyKSAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnMuY2FsbGJhY2sobnVsbCwgeGhyLCB4aHIuYm9keSlcbiAgfVxuXG59IC8vIHJlcXVlc3RcblxucmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbnJlcXVlc3QuREVGQVVMVF9USU1FT1VUID0gREVGQVVMVF9USU1FT1VUO1xuXG4vL1xuLy8gZGVmYXVsdHNcbi8vXG5cbnJlcXVlc3QuZGVmYXVsdHMgPSBmdW5jdGlvbihvcHRpb25zLCByZXF1ZXN0ZXIpIHtcbiAgdmFyIGRlZiA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICB2YXIgZCA9IGZ1bmN0aW9uIChwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICBpZih0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJylcbiAgICAgICAgcGFyYW1zID0geyd1cmknOiBwYXJhbXN9O1xuICAgICAgZWxzZSB7XG4gICAgICAgIHBhcmFtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHBhcmFtc1tpXSA9PT0gdW5kZWZpbmVkKSBwYXJhbXNbaV0gPSBvcHRpb25zW2ldXG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0aG9kKHBhcmFtcywgY2FsbGJhY2spXG4gICAgfVxuICAgIHJldHVybiBkXG4gIH1cbiAgdmFyIGRlID0gZGVmKHJlcXVlc3QpXG4gIGRlLmdldCA9IGRlZihyZXF1ZXN0LmdldClcbiAgZGUucG9zdCA9IGRlZihyZXF1ZXN0LnBvc3QpXG4gIGRlLnB1dCA9IGRlZihyZXF1ZXN0LnB1dClcbiAgZGUuaGVhZCA9IGRlZihyZXF1ZXN0LmhlYWQpXG4gIHJldHVybiBkZVxufVxuXG4vL1xuLy8gSFRUUCBtZXRob2Qgc2hvcnRjdXRzXG4vL1xuXG52YXIgc2hvcnRjdXRzID0gWyAnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2hlYWQnIF07XG5zaG9ydGN1dHMuZm9yRWFjaChmdW5jdGlvbihzaG9ydGN1dCkge1xuICB2YXIgbWV0aG9kID0gc2hvcnRjdXQudG9VcHBlckNhc2UoKTtcbiAgdmFyIGZ1bmMgICA9IHNob3J0Y3V0LnRvTG93ZXJDYXNlKCk7XG5cbiAgcmVxdWVzdFtmdW5jXSA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICBpZih0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpXG4gICAgICBvcHRzID0geydtZXRob2QnOm1ldGhvZCwgJ3VyaSc6b3B0c307XG4gICAgZWxzZSB7XG4gICAgICBvcHRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcHRzKSk7XG4gICAgICBvcHRzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IFtvcHRzXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cywgWzFdKSk7XG4gICAgcmV0dXJuIHJlcXVlc3QuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbn0pXG5cbi8vXG4vLyBDb3VjaERCIHNob3J0Y3V0XG4vL1xuXG5yZXF1ZXN0LmNvdWNoID0gZnVuY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgaWYodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKVxuICAgIG9wdGlvbnMgPSB7J3VyaSc6b3B0aW9uc31cblxuICAvLyBKdXN0IHVzZSB0aGUgcmVxdWVzdCBBUEkgdG8gZG8gSlNPTi5cbiAgb3B0aW9ucy5qc29uID0gdHJ1ZVxuICBpZihvcHRpb25zLmJvZHkpXG4gICAgb3B0aW9ucy5qc29uID0gb3B0aW9ucy5ib2R5XG4gIGRlbGV0ZSBvcHRpb25zLmJvZHlcblxuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vb3BcblxuICB2YXIgeGhyID0gcmVxdWVzdChvcHRpb25zLCBjb3VjaF9oYW5kbGVyKVxuICByZXR1cm4geGhyXG5cbiAgZnVuY3Rpb24gY291Y2hfaGFuZGxlcihlciwgcmVzcCwgYm9keSkge1xuICAgIGlmKGVyKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyLCByZXNwLCBib2R5KVxuXG4gICAgaWYoKHJlc3Auc3RhdHVzQ29kZSA8IDIwMCB8fCByZXNwLnN0YXR1c0NvZGUgPiAyOTkpICYmIGJvZHkuZXJyb3IpIHtcbiAgICAgIC8vIFRoZSBib2R5IGlzIGEgQ291Y2ggSlNPTiBvYmplY3QgaW5kaWNhdGluZyB0aGUgZXJyb3IuXG4gICAgICBlciA9IG5ldyBFcnJvcignQ291Y2hEQiBlcnJvcjogJyArIChib2R5LmVycm9yLnJlYXNvbiB8fCBib2R5LmVycm9yLmVycm9yKSlcbiAgICAgIGZvciAodmFyIGtleSBpbiBib2R5KVxuICAgICAgICBlcltrZXldID0gYm9keVtrZXldXG4gICAgICByZXR1cm4gY2FsbGJhY2soZXIsIHJlc3AsIGJvZHkpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsYmFjayhlciwgcmVzcCwgYm9keSk7XG4gIH1cbn1cblxuLy9cbi8vIFV0aWxpdHlcbi8vXG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXRMb2dnZXIoKSB7XG4gIHZhciBsb2dnZXIgPSB7fVxuICAgICwgbGV2ZWxzID0gWyd0cmFjZScsICdkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXVxuICAgICwgbGV2ZWwsIGlcblxuICBmb3IoaSA9IDA7IGkgPCBsZXZlbHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXZlbCA9IGxldmVsc1tpXVxuXG4gICAgbG9nZ2VyW2xldmVsXSA9IG5vb3BcbiAgICBpZih0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSAmJiBjb25zb2xlW2xldmVsXSlcbiAgICAgIGxvZ2dlcltsZXZlbF0gPSBmb3JtYXR0ZWQoY29uc29sZSwgbGV2ZWwpXG4gIH1cblxuICByZXR1cm4gbG9nZ2VyXG59XG5cbmZ1bmN0aW9uIGZvcm1hdHRlZChvYmosIG1ldGhvZCkge1xuICByZXR1cm4gZm9ybWF0dGVkX2xvZ2dlclxuXG4gIGZ1bmN0aW9uIGZvcm1hdHRlZF9sb2dnZXIoc3RyLCBjb250ZXh0KSB7XG4gICAgaWYodHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKVxuICAgICAgc3RyICs9ICcgJyArIEpTT04uc3RyaW5naWZ5KGNvbnRleHQpXG5cbiAgICByZXR1cm4gb2JqW21ldGhvZF0uY2FsbChvYmosIHN0cilcbiAgfVxufVxuXG4vLyBSZXR1cm4gd2hldGhlciBhIFVSTCBpcyBhIGNyb3NzLWRvbWFpbiByZXF1ZXN0LlxuZnVuY3Rpb24gaXNfY3Jvc3NEb21haW4odXJsKSB7XG4gIHZhciBydXJsID0gL14oW1xcd1xcK1xcLlxcLV0rOikoPzpcXC9cXC8oW15cXC8/IzpdKikoPzo6KFxcZCspKT8pPy9cblxuICAvLyBqUXVlcnkgIzgxMzgsIElFIG1heSB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiBhY2Nlc3NpbmdcbiAgLy8gYSBmaWVsZCBmcm9tIHdpbmRvdy5sb2NhdGlvbiBpZiBkb2N1bWVudC5kb21haW4gaGFzIGJlZW4gc2V0XG4gIHZhciBhamF4TG9jYXRpb25cbiAgdHJ5IHsgYWpheExvY2F0aW9uID0gbG9jYXRpb24uaHJlZiB9XG4gIGNhdGNoIChlKSB7XG4gICAgLy8gVXNlIHRoZSBocmVmIGF0dHJpYnV0ZSBvZiBhbiBBIGVsZW1lbnQgc2luY2UgSUUgd2lsbCBtb2RpZnkgaXQgZ2l2ZW4gZG9jdW1lbnQubG9jYXRpb25cbiAgICBhamF4TG9jYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuICAgIGFqYXhMb2NhdGlvbi5ocmVmID0gXCJcIjtcbiAgICBhamF4TG9jYXRpb24gPSBhamF4TG9jYXRpb24uaHJlZjtcbiAgfVxuXG4gIHZhciBhamF4TG9jUGFydHMgPSBydXJsLmV4ZWMoYWpheExvY2F0aW9uLnRvTG93ZXJDYXNlKCkpIHx8IFtdXG4gICAgLCBwYXJ0cyA9IHJ1cmwuZXhlYyh1cmwudG9Mb3dlckNhc2UoKSApXG5cbiAgdmFyIHJlc3VsdCA9ICEhKFxuICAgIHBhcnRzICYmXG4gICAgKCAgcGFydHNbMV0gIT0gYWpheExvY1BhcnRzWzFdXG4gICAgfHwgcGFydHNbMl0gIT0gYWpheExvY1BhcnRzWzJdXG4gICAgfHwgKHBhcnRzWzNdIHx8IChwYXJ0c1sxXSA9PT0gXCJodHRwOlwiID8gODAgOiA0NDMpKSAhPSAoYWpheExvY1BhcnRzWzNdIHx8IChhamF4TG9jUGFydHNbMV0gPT09IFwiaHR0cDpcIiA/IDgwIDogNDQzKSlcbiAgICApXG4gIClcblxuICAvL2NvbnNvbGUuZGVidWcoJ2lzX2Nyb3NzRG9tYWluKCcrdXJsKycpIC0+ICcgKyByZXN1bHQpXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gTUlUIExpY2Vuc2UgZnJvbSBodHRwOi8vcGhwanMub3JnL2Z1bmN0aW9ucy9iYXNlNjRfZW5jb2RlOjM1OFxuZnVuY3Rpb24gYjY0X2VuYyAoZGF0YSkge1xuICAgIC8vIEVuY29kZXMgc3RyaW5nIHVzaW5nIE1JTUUgYmFzZTY0IGFsZ29yaXRobVxuICAgIHZhciBiNjQgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG4gICAgdmFyIG8xLCBvMiwgbzMsIGgxLCBoMiwgaDMsIGg0LCBiaXRzLCBpID0gMCwgYWMgPSAwLCBlbmM9XCJcIiwgdG1wX2FyciA9IFtdO1xuXG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8vIGFzc3VtZSB1dGY4IGRhdGFcbiAgICAvLyBkYXRhID0gdGhpcy51dGY4X2VuY29kZShkYXRhKycnKTtcblxuICAgIGRvIHsgLy8gcGFjayB0aHJlZSBvY3RldHMgaW50byBmb3VyIGhleGV0c1xuICAgICAgICBvMSA9IGRhdGEuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBvMiA9IGRhdGEuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBvMyA9IGRhdGEuY2hhckNvZGVBdChpKyspO1xuXG4gICAgICAgIGJpdHMgPSBvMTw8MTYgfCBvMjw8OCB8IG8zO1xuXG4gICAgICAgIGgxID0gYml0cz4+MTggJiAweDNmO1xuICAgICAgICBoMiA9IGJpdHM+PjEyICYgMHgzZjtcbiAgICAgICAgaDMgPSBiaXRzPj42ICYgMHgzZjtcbiAgICAgICAgaDQgPSBiaXRzICYgMHgzZjtcblxuICAgICAgICAvLyB1c2UgaGV4ZXRzIHRvIGluZGV4IGludG8gYjY0LCBhbmQgYXBwZW5kIHJlc3VsdCB0byBlbmNvZGVkIHN0cmluZ1xuICAgICAgICB0bXBfYXJyW2FjKytdID0gYjY0LmNoYXJBdChoMSkgKyBiNjQuY2hhckF0KGgyKSArIGI2NC5jaGFyQXQoaDMpICsgYjY0LmNoYXJBdChoNCk7XG4gICAgfSB3aGlsZSAoaSA8IGRhdGEubGVuZ3RoKTtcblxuICAgIGVuYyA9IHRtcF9hcnIuam9pbignJyk7XG5cbiAgICBzd2l0Y2ggKGRhdGEubGVuZ3RoICUgMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBlbmMgPSBlbmMuc2xpY2UoMCwgLTIpICsgJz09JztcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGVuYyA9IGVuYy5zbGljZSgwLCAtMSkgKyAnPSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBlbmM7XG59XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4vL1VNRCBGT09URVIgU1RBUlRcbn0pKTtcbi8vVU1EIEZPT1RFUiBFTkRcbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgcmVxdWVzdCA9IHJlcXVpcmUoJ2Jyb3dzZXItcmVxdWVzdCcpO1xuXG52YXIgcG9waWx5ID0gd2luZG93LnBvcGlseSB8fCB7fTtcblxudmFyIF9lcnJvciA9IGZ1bmN0aW9uKG1zZywgZXJyb3IpIHtcbiAgcmV0dXJuIHttc2c6IG1zZywgZXJyb3I6IGVycm9yfTtcbn07XG4gIFxudmFyIF9yZXF1ZXN0ID0gZnVuY3Rpb24obWV0aG9kLCBwYXRoLCBkYXRhLCBjYWxsYmFjaykge1xuICB2YXIgREVGQVVMVF9VUkwgPSAnaHR0cHM6Ly9wb3BpbHkuY29tJztcbiAgdmFyIERFRkFVTFRfQkFTRV9QQVRIID0gJy9hcGknO1xuXG4gIHZhciBhcGlVcmwgPSBwb3BpbHkuYXBpLmFwaVVybDtcbiAgaWYoIXBvcGlseS5hcGkuYXBpVXJsKSB7XG4gICAgYXBpVXJsID0gREVGQVVMVF9VUkw7XG4gIH0gXG4gIGFwaVVybCA9IGFwaVVybCArIERFRkFVTFRfQkFTRV9QQVRIO1xuXG4gIHZhciBwYXJhbXMgPSB7XG4gICAgbWV0aG9kOiBtZXRob2QsXG4gICAgaGVhZGVyczogeyBcbiAgICAgICdBdXRob3JpemF0aW9uJzogJ1Rva2VuICcgKyBwb3BpbHkuYXBpLnRva2VuLFxuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIHVybDogYXBpVXJsICsgcGF0aC8vICsgJz9mb3JtYXQ9YXBpJ1xuICB9O1xuICAgICAgXG4gIGlmKCdxcycgaW4gZGF0YSkge1xuICAgIHBhcmFtc1sncXMnXSA9IGRhdGFbJ3FzJ107XG4gICAgcGFyYW1zWydqc29uJ10gPSB0cnVlO1xuICB9XG4gIGlmKCdqc29uJyBpbiBkYXRhKSB7XG4gICAgcGFyYW1zWydib2R5J10gPSBkYXRhWydqc29uJ107XG4gICAgcGFyYW1zWydqc29uJ10gPSB0cnVlO1xuICB9XG4gIGlmKCdmb3JtJyBpbiBkYXRhKSB7XG4gICAgcGFyYW1zWydmb3JtRGF0YSddID0gZGF0YVsnZm9ybSddO1xuICB9XG4gIFxuICByZXF1ZXN0KHBhcmFtcywgZnVuY3Rpb24oZXJyLCBodHRwUmVzcG9uc2UsIGJvZHkpIHtcbiAgICBpZihlcnIpXG4gICAgICByZXR1cm4gY2FsbGJhY2soX2Vycm9yKCdSZXF1ZXN0IGVycm9yJywgZXJyKSk7XG4gICAgICBcbiAgICBpZihodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDAxKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKF9lcnJvcignSW52YWxpZCBBUEkgdG9rZW4nKSk7XG5cbiAgICBpZihodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDAwKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKF9lcnJvcignQmFkIHJlcXVlc3QnLCBib2R5KSk7XG4gICAgICBcbiAgICB0cnkge1xuICAgICAgdmFyIHJlc3BvbnNlID0gYm9keTtcbiAgICAgIGlmKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJylcbiAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKF9lcnJvcignRXJyb3I6ICcrZSwgZSkgKVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcblxuICB9KTtcbn07XG5cbnZhciBwYWNrRmlsdGVycyA9IGZ1bmN0aW9uKGZpbHRlcnMpIHtcbiAgdmFyIHBhY2tlZFN0ciA9ICcnO1xuICBmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZiwgaSkge1xuICAgIHZhciBvcCA9ICdlcSdcbiAgICBpZignb3AnIGluIGYpXG4gICAgICBvcCA9IGZbJ29wJ11cbiAgICBcbiAgICB2YXIgZmlsdGVyU3RyID0gJyc7XG4gICAgaWYoaSA+IDApXG4gICAgICBmaWx0ZXJTdHIgKz0gJ19fJztcblxuICAgIHZhciB2YWxTdHIgPSAnJztcbiAgICBpZihmLmhhc093blByb3BlcnR5KCd2YWx1ZXMnKSkge1xuICAgICAgdmFsU3RyID0gZlsndmFsdWVzJ10uam9pbignLCcpO1xuICAgIH1cbiAgICBmaWx0ZXJTdHIgKz0gZlsnY29sdW1uJ10gKyAnIScgKyBvcCArICchJyArICggdmFsU3RyICk7XG4gICAgcGFja2VkU3RyICs9IGZpbHRlclN0clxuICB9KTtcbiAgcmV0dXJuIHBhY2tlZFN0cjtcbn1cblxudmFyIGFzc2lnbkN1c3RvbWl6YXRpb25zID0gZnVuY3Rpb24oZGF0YURpY3QsIGluc2lnaHREYXRhKSB7XG4gIFtcbiAgICAndGl0bGUnLFxuICAgICd4X2xhYmVsJyxcbiAgICAneV9sYWJlbCcsXG4gICAgJ3pfbGFiZWwnLFxuICAgICdjYXRlZ29yeV9vcmRlcicsXG4gICAgJ3RpbWVfaW50ZXJ2YWwnLFxuICAgICdyZWZyZXNoX3JhdGUnLFxuICAgICdzd2FwJ1xuICBdLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYoa2V5IGluIGluc2lnaHREYXRhKVxuICAgICAgZGF0YURpY3Rba2V5XSA9IGluc2lnaHREYXRhW2tleV07XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhRGljdDtcbn07ICAgICAgICBcbiAgICAgICAgXG5wb3BpbHkuYXBpID0ge1xuICBhZGRTb3VyY2U6IGZ1bmN0aW9uKHNvdXJjZURhdGEsIGNiKSB7XG4gICAgXG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICBbJ2NvbHVtbnMnLCAndGl0bGUnLCAnZGVzY3JpcHRpb24nXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYoa2V5IGluIHNvdXJjZURhdGEpXG4gICAgICAgIGRhdGFba2V5XSA9IHNvdXJjZURhdGFba2V5XTtcbiAgICB9KVxuXG4gICAgaWYoJ3VybCcgaW4gc291cmNlRGF0YSkge1xuICAgICAgZGF0YVsndXJsJ10gPSBzb3VyY2VEYXRhWyd1cmwnXVxuICAgICAgX3JlcXVlc3QoJ1BPU1QnLCAnL3NvdXJjZXMvJywge2pzb246IGRhdGF9LCBjYik7XG4gICAgfVxuXG4gICAgZWxzZSBpZignY29ubmVjdGlvbl9zdHJpbmcnIGluIHNvdXJjZURhdGEgKSB7XG4gICAgICBkYXRhWydjb25uZWN0aW9uX3N0cmluZyddID0gc291cmNlRGF0YVsnY29ubmVjdGlvbl9zdHJpbmcnXVxuICAgICAgZGF0YVsncXVlcnknXSA9IHNvdXJjZURhdGFbJ3F1ZXJ5J11cbiAgICAgIF9yZXF1ZXN0KCdQT1NUJywgJy9zb3VyY2VzLycsIHtqc29uOiBkYXRhfSwgY2IpO1xuICAgIH1cbiAgICBcbiAgICBlbHNlXG4gICAgICBjYigndXJsIG9yIGNvbm5lY3Rpb25fc3RyaW5nIGlzIHJlcXVpcmVkJyk7XG4gIH0sXG5cblxuICBnZXRTb3VyY2VzOiBmdW5jdGlvbihjYikge1xuICAgIF9yZXF1ZXN0KCdHRVQnLCAnL3NvdXJjZXMvJywge30sIGNiKTtcbiAgfSxcblxuXG4gIGdldFNvdXJjZTogZnVuY3Rpb24oc291cmNlSWQsIGNiKSB7XG4gICAgX3JlcXVlc3QoJ0dFVCcsICcvc291cmNlcy8nK3NvdXJjZUlkKycvJywge30sIGNiKTtcbiAgfSxcblxuXG4gIGdldEluc2lnaHRzOiBmdW5jdGlvbihzb3VyY2VJZCwgcGFyYW1zLCBjYikge1xuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICB2YXIgcGF5bG9hZCA9IHsnc291cmNlJzogc291cmNlSWR9O1xuXG4gICAgWydjb2x1bW5zJywgJ2luc2lnaHRfdHlwZXMnLCAnaW5zaWdodF9hY3Rpb25zJ10uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmKGtleSBpbiBwYXJhbXMpXG4gICAgICAgIHBheWxvYWRba2V5XSA9IHBhcmFtc1trZXldLmpvaW4oJywnKVxuICAgIH0pO1xuXG4gICAgaWYoJ2ZpbHRlcnMnIGluIHBhcmFtcylcbiAgICAgIHBheWxvYWRbJ2ZpbHRlcnMnXSA9IHBhY2tGaWx0ZXJzKHBhcmFtc1snZmlsdGVycyddKVxuXG4gICAgaWYoJ2Z1bGwnIGluIHBhcmFtcylcbiAgICAgIHBheWxvYWRbJ2Z1bGwnXSA9IHBhcmFtc1snZnVsbCddXG5cbiAgICBpZignc2luZ2xlJyBpbiBwYXJhbXMpIHtcbiAgICAgIHBheWxvYWRbJ3NpbmdsZSddID0gcGFyYW1zWydzaW5nbGUnXTtcbiAgICAgIHBheWxvYWQgPSBhc3NpZ25DdXN0b21pemF0aW9ucyhwYXlsb2FkLCBwYXJhbXMpO1xuICAgIH1cblxuICAgIF9yZXF1ZXN0KCdHRVQnLCAnL2luc2lnaHRzLycsIHtxczogcGF5bG9hZH0sIGNiKTtcbiAgfSxcblxuXG4gIGdldEluc2lnaHQ6IGZ1bmN0aW9uKGluc2lnaHRJZCwgcGFyYW1zLCBjYikge1xuICAgIHZhciBwYXlsb2FkID0ge307XG4gICAgaWYoJ2ZpbHRlcnMnIGluIHBhcmFtcylcbiAgICAgIHBheWxvYWRbJ2ZpbHRlcnMnXSA9IHBhY2tGaWx0ZXJzKHBhcmFtc1snZmlsdGVycyddKTtcblxuICAgIFsnZnVsbCcsICdoZWlnaHQnLCAnd2lkdGgnXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYoa2V5IGluIHBhcmFtcylcbiAgICAgICAgcGF5bG9hZFtrZXldID0gcGFyYW1zW2tleV07XG4gICAgfSk7XG5cbiAgICBwYXlsb2FkID0gYXNzaWduQ3VzdG9taXphdGlvbnMocGF5bG9hZCwgcGFyYW1zKTtcbiAgICBcbiAgICBfcmVxdWVzdCgnR0VUJywgJy9pbnNpZ2h0cy8nICsgaW5zaWdodElkICsgJy8nLCB7cXM6IHBheWxvYWR9LCBjYik7XG4gIH0sXG5cblxuICBjdXN0b21pemVJbnNpZ2h0OiBmdW5jdGlvbihpbnNpZ2h0SWQsIHBhcmFtcywgaW5zaWdodERhdGEsIGNiKSB7XG4gICAgdmFyIGRhdGEgPSBhc3NpZ25DdXN0b21pemF0aW9ucyh7fSwgaW5zaWdodERhdGEpO1xuICAgIGlmKCdmaWx0ZXJzJyBpbiBwYXJhbXMpXG4gICAgICBkYXRhWydmaWx0ZXJzJ10gPSBwYWNrRmlsdGVycyhwYXJhbXNbJ2ZpbHRlcnMnXSlcblxuICAgIF9yZXF1ZXN0KCdQVVQnLCAnL2luc2lnaHRzLycgKyBpbnNpZ2h0SWQgKyAnLycsIHtqc29uOiBkYXRhfSwgY2IpO1xuICB9LFxuXG4gIHNldFRva2VuOiBmdW5jdGlvbih0b2tlbikge1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgfSxcblxuICBzZXRVUkw6IGZ1bmN0aW9uKGFwaVVybCkge1xuICAgIHRoaXMuYXBpVXJsID0gYXBpVXJsO1xuICB9XG59XG5cbndpbmRvdy5wb3BpbHkgPSBwb3BpbHk7XG5tb2R1bGUuZXhwb3J0cyA9IHBvcGlseTtcbiJdfQ==

'use strict';

(function(window) {
  var popily = window.popily || {};
  popily.chart = {};
  popily.chart.chartTypes = {};
  popily.chart.baseChart = {
    defaults: {
      options: {
          width: '100%',
          height: '100%',
          style: 'detail',
          rotated: false,
          redrawOnResize: true,
          colors: [
            '#54C88A', '#BBD442', '#85C4ED', '#FFC59C', '#4FB27A', '#741699', '#FF7364',
            '#F1C40F', '#DC8345', '#E74C3C', '#096C34', '#4D1567', '#98460C', '#DAF16B',
            '#F9D543', '#947700', '#188849', '#CC3A7F', '#A01507', '#F9D543', '#DB5C98',
            '#3499DB', '#FF988E', '#319D60', '#BC9805', '#E9F998', '#628E0B', '#1E4C7C',
            '#7ECEA1', '#4F78A3', '#C01465', '#F1C40F', '#0F85D1', '#9A51B7', '#7DA0C4',
            '#BB7FD2', '#34618F', '#947700', '#FFE26C', '#92094A', '#BF6322', '#58ADE3',
            '#9FB921', '#0665A2', '#8333A2', '#0F3863', '#BC9805', '#FFE26C', '#E989B6',
            '#C92918', '#FAA96F'
          ]
      },
      barBubbleCutoff: 30,
      chartPadding: {right: 50, top: 10}
    },
    resize: function(width, height) {
      this.chart.resize(width, height);
    },
    cleanData: function(rawData) {
      var xValues = rawData.chartData.x.values;
      var yValues = rawData.chartData.y.values;
      var zValues = [];
      var z2Values = [];

      if(rawData.chartData.z) {
        var zValues = rawData.chartData.z.values;
      }

      if(rawData.chartData.z2) {
        var z2Values = rawData.chartData.z2.values;
      }

      var cleanValues = popily.chart.chartData.cleanData(xValues,yValues,zValues,z2Values);

      return cleanValues;
    }
  };

  popily.chart.getChartForType = function(analysisType, chartType) {
    if(_.isUndefined(popily.chart.chartMap)) {
      _buildChartMap();
    }

    var toComplex = {
      'bar': ['barStacked', 'barGrouped'],
      'scatterplot': ['scatterplotCategory'],
      'line': ['multiLine']
    }

    if(analysisType in popily.chart.chartMap) {
        if(!_.isUndefined(chartType)) {
            if(_(popily.chart.chartMap[analysisType].allowed).contains(chartType)) {
                return chartType;
            }
            else if(popily.chart.chartMap[analysisType].defaultChart === chartType) {
              return chartType;
            }
            else if(toComplex.hasOwnProperty(chartType)) {
              var toReturn;
              _.each(toComplex[chartType], function(complexChartType) {
                if(_(popily.chart.chartMap[analysisType].allowed).contains(complexChartType)) {
                  toReturn = complexChartType;
                }
                else if(popily.chart.chartMap[analysisType].defaultChart === complexChartType) {
                  toReturn = complexChartType;
                }
              });
              
              if(!_.isUndefined(toReturn)) {
                return toReturn;
              }

              console.error(chartType + ' not possible for ' + analysisType);
            }
            else {
                console.error(chartType + ' not possible for ' + analysisType);
            }
        }
        return popily.chart.chartMap[analysisType].defaultChart;
    }
    else {
        console.error('No chart for ' + analysisType);
    }
  };

  popily.chart.create = function(apiResponse) {
  
    var ds = popily.dataset(apiResponse.columns);
    
    return {
      dataset : function() {
        return ds;
      },
      
      draw: function(element, options) {
        var that = this;
        var calculation = apiResponse.calculation;
        var axisAssignments = popily.chart.analyze.assignToAxis(ds.getColumns(), options);
        var analysisType = popily.chart.analyze.determineType(ds.getColumns(), axisAssignments, calculation);
        var formattedData = popily.chart.utils.formatDataset(apiResponse, axisAssignments, analysisType);
        
        var labels = popily.chart.generateLabels(calculation, axisAssignments);

        var chartType = popily.chart.getChartForType(analysisType, options.chartType);
        var chartClass = popily.chart.chartTypes[chartType];
        var extraCss = '';
        
        //options = _.extend(chartClass.defaults.options, options);

        _.each(_.keys(popily.chart.baseChart.defaults.options), function(key) {
          if(!options[key]) {
            options[key] = popily.chart.baseChart.defaults.options[key];
          }
        });
        options.uniqueClassName = _.uniqueId('popily-id-');

        if(typeof element === "string") {
          element = document.querySelector(element);
        }
        
        element.classList.add('popily-box');
        element.classList.add(options.uniqueClassName);
        element.innerHTML = '';
        if(options.title) {
          var titleElement = document.createElement("div");
          titleElement.classList.add('popily-title');
          titleElement.innerHTML = labels.title;
          element.appendChild(titleElement);
          
          var titleCss = '';
          if(options.titleFontSize)
            titleCss += 'font-size: '+options.titleFontSize+';';
          if(options.titleFontFamily)
            titleCss += 'font-family: '+options.titleFontFamily+';';
          if(options.titleFontColor)
            titleCss += 'color: '+options.titleFontColor+';';
          if(titleCss)
            extraCss = '.'+options.uniqueClassName+ ' .popily-title {'+titleCss+'}';
        }
        
        if(extraCss) {
          var style = popily.chart.utils.createStyleElement(extraCss);
          element.appendChild(style);
        }
  
        var chartElement = document.createElement("div");
        chartElement.classList.add('popily-chart');
        element.appendChild(chartElement);
        
        var chart = chartClass.render(chartElement, options, formattedData);
        return chart;
      },
      
    }
  
  } 

  popily.chart.render = function(element, apiResponse, options) {
    var that = this;
    options = options || {};
    
    var chart = popily.chart.create(apiResponse);
    
    if(options.filters && !options.transformations) {
      console.log('filters proprtty is deprecated, please rename it to transformations')
      options.transformations = options.filters;
    }      
    var chart = popily.chart.create(apiResponse);
    
    if(options.transformations) {
      var ds = chart.dataset();
      popily.chart.applyTransformations(ds, options.transformations);
    }
    
    return chart.draw(element, options);
    
  };

  popily.chart.getAndRender = function(element, options) {
    var chartOptions = {};
    var serverOptions = {};

    var availableChartOptions = {
      'chartType': 'chartType',
      'colors': 'colors',
      'transformations': 'transformations',
      'filters': 'transformations',
      'xLabel': 'xLabel',
      'yLabel': 'yLabel',
      'xColumn': 'xColumn',
      'groupByColumn': 'groupByColumn',
      'height': 'height',
      'width': 'width',
      'rotated': 'rotated',
      'title': 'title',
      'xOrder': 'order',
      'timeInterval': 'interval',
      'time_interval': 'interval',
      'barSize': 'barSize',
      'lineSize': 'lineSize',
      'pointSize': 'pointSize',
      'titleFontFamily': 'titleFontFamily',
      'titleFontSize': 'titleFontSize',
      'titleFontColor': 'titleFontColor'
    };

    var availableServerOptions = {
      'columns': 'columns',
      'calculation': 'insight_actions',
      'timeInterval': 'time_interval',
      'time_interval': 'time_interval',
      'insight_action': 'insight_actions',
      'analysisType': 'insight_types'
    };

    _.each(_.keys(availableChartOptions), function(option) {
      if(options.hasOwnProperty(option)) {
        chartOptions[availableChartOptions[option]] = options[option];
      }
    });

    _.each(_.keys(availableServerOptions), function(option) {
      if(options.hasOwnProperty(option)) {
        if(['calculation', 'insight_action', 'analysisType'].indexOf(option)!==-1)
          serverOptions[availableServerOptions[option]] = [options[option]];
        else
          serverOptions[availableServerOptions[option]] = options[option];
      }
    });

    serverOptions.full = true;
    if(options.hasOwnProperty('insight')) {
      popily.api.getInsight(options.insight, serverOptions, function(err, apiResponse) {
        popily.chart.render(element, apiResponse, chartOptions);
      });
    }
    else {
      if(!options.hasOwnProperty('source')) {
        console.warn('Either the insight or source property is required');
        return false;
      }
      serverOptions.single = true;
      
      popily.api.getInsights(options.source, serverOptions, function(err, apiResponse) {
        popily.chart.render(element, apiResponse, chartOptions);
      });
    }
  };

  popily.chart.applyTransformations = function(ds, transformations) {
    transformations.forEach(function(transformation) {
      if(['count', 'countUnique'].indexOf(transformation.op) !== -1) {
        popily.chart.applyGroupData(ds, transformation);
      }
      else if('replace' == transformation.op) {
        ds.replaceValues(transformation.column, transformation.replacements);
      }
      else {
        popily.chart.applyFilter(ds, transformation);
      }
    });
  };

  /*
    filter = [{
      column: <column-name>,
      op: none|eq|noteq,
      values: [<array-of-values]>
    }, .. ]
  */
  popily.chart.applyFilter = function(ds, filters) {
    
    filters.forEach(function(filter) {
      // I think this countUnique should not be here!
      if(filter.op == 'distinct' || filter.op == 'countUnique') {
        console.log('filter countUnique is deprecated please dont use it, use "groupData" instead!');
        ds.countUnique();
      } else {
        ds.filter(filter.column, filter.op || 'eq', filter.values);
      }
    });
    
    return ds;
  };
  
  /*
    groupData = {
      column: <column-name-to-group-by>,
      aggregation: count|countUnique,
      groupInto: <new-column-with-aggregated-values>,
      customFunction: <optional-custom-aggregation-function>
      customDataType: <optional-custom-type-ofaggregations>
    }
  */
  popily.chart.applyGroupData = function(ds, groupData) {
    
    if(groupData.customFunction) {
      var groupFunc = customFunction;
    }
    else if(['count', 'countUnique'].indexOf(groupData.op) !== -1) {
      var groupFunc = popily.dataset[groupData.op]
    }
    else {
      console.error('Unrecognizer grouping agregation function');
      return ds;
    }
    
    ds.groupBy(groupData.column, groupFunc, groupData.customDataType || groupFunc.dataType, groupData.groupInto || groupFunc.columnLabel);
    
    return ds;
  };
  
  
  var _buildChartMap = function() {
    var chartMap = {};

    for(var chartType in popily.chart.chartTypes) {
      var chartObj = popily.chart.chartTypes[chartType];
      _.each(chartObj.defaultFor, function(analysisType) {
        chartMap[analysisType] = chartMap[analysisType] || {};
        chartMap[analysisType].allowed = chartMap[analysisType].allowed || [];
        chartMap[analysisType].defaultChart = chartType;
        chartMap[analysisType].allowed.push(chartType);
      });

      _.each(chartObj.accepts, function(analysisType) {
        chartMap[analysisType] = chartMap[analysisType] || {};
        chartMap[analysisType].allowed = chartMap[analysisType].allowed || [];
        chartMap[analysisType].allowed.push(chartType);
      });
    }

    popily.chart.chartMap = chartMap;
  };

  if (typeof define === 'function' && define.amd) {
      define("popily", [], function () { return c3; });
  } else if ('undefined' !== typeof exports && 'undefined' !== typeof module) {
      module.exports = popily;
  } else {
      window.popily = popily;
  }
  
})(window);

/**
Analyze data from the Popily API and prepare for rendering
*/

(function(window) {
    var categoricals = [
        'category',
        'state',
        'country',
        'zipcode',
        'rowlabel'
    ];

    var numerals = [
        'numeric',
        'currency'
    ];

    var isA = function(dataType, column) {
        if(_.isUndefined(column)) {
            return false;
        }
        var typeList = dataType === 'number' ? numerals : categoricals;
        return _(typeList).contains(column.data_type);
    };

    var isNumeric = function(column) {
        return isA('number', column);
    };

    var isCategorical = function(column) {
        return isA('category', column);
    };

    var hasSingleEquality = function(filters) {
        return _.some(filters, function(_filter) {
            var op = _filter.op || 'eq';
            if(op === 'eq' && _filter.values.length === 1) {
                return true;
            }
            return false;
        });
    };

    var hasDistinct = function(filters) {
        return _.some(filters, function(_filter) {
            return _filter.op === 'distinct' || _filter.op === 'countUnique';
        });
    };

    var assignToAxis = function(columns, options) {
        options = options || {};
        var filters = options.filters;
        var axisAssignments = {};
        var filterRef = {};

        var assigned = [];
        var isAssigned = function(prop) {
            return _(assigned).contains(prop);
        };

        if(!_.isUndefined(filters)) {
            _.each(filters, function(columnFilter) {
                _.each(columns, function(column) {
                    if(!filterRef.hasOwnProperty(column.column_header)) {
                        filterRef[column.column_header] = [];
                    }
                    if(column.column_header === columnFilter.column) {
                        filterRef[column.column_header].push(columnFilter);
                    }
                });
            });
        }

        var hasSingleOrDistinct = function(column) {
            if(!filterRef.hasOwnProperty(column.column_header)) {
                return false;
            }

            if(hasDistinct(filterRef[column.column_header])) {
                return true;
            }

            if(hasSingleEquality(filterRef[column.column_header])) {
                return true;
            }

            return false;
        };

        
        // Allow for user to set x,z. In order for this to be possible
        // we need to ensure that these are the first columns we check.
        var useColumns = [],
            xColumn,
            zColumn;

        if(options.xColumn) {
            xColumn = _.find(columns, function(column) {
                return column.column_header === options.xColumn;
            });
            if(xColumn) {
                useColumns.push(xColumn);
            }
        }
        if(options.groupByColumn) {
            zColumn = _.find(columns, function(column) {
                return column.column_header === options.groupByColumn;
            });
            if(zColumn) {
                useColumns.push(zColumn);
            }
        }

        var usedHeaders = _.pluck(useColumns, 'column_header');
        _.each(columns, function(column) {
            if(!_(usedHeaders).contains(column.column_header)) {
                useColumns.push(column);
            }
        });

        if(useColumns.length < columns.length) {
            useColumns = columns;
        }

        // Now that we have a definite column order, we can inspect
        // the columns. 
        var column, dataType;
        for (index = 0; index < useColumns.length; index++) {
            column = useColumns[index];
            dataType = column.data_type;

            // Check user options
            if(options.xColumn && column.column_header === options.xColumn) {
                axisAssignments.x = column;
                assigned.push('x');
                continue;
            }

            if(options.groupByColumn && column.column_header === options.groupByColumn) {
                axisAssignments.z = column;
                assigned.push('z');
                continue;
            }
            
            // check filters
            if(filterRef.hasOwnProperty(column.column_header) && filterRef[column.column_header].length > 0) {
                // if column has filter where and 1 value, it is z

                if(hasSingleEquality(filterRef[column.column_header])) {
                    if(isAssigned('z')) {
                        axisAssignments.z2 = column;
                        assigned.push('z2');
                        continue;
                    }
                    else {
                        axisAssignments.z = column;
                        assigned.push('z');
                        continue;
                    }
                }

                // if column has filter distinct/countUnique
                else if(hasDistinct(filterRef[column.column_header])) {
                    // if we already assigned z2, then it is z
                    if(isAssigned('x')) {
                        axisAssignments.z = column;
                        assigned.push('z');
                        continue;
                    }
                    else {
                        axisAssignments.x = column;
                        assigned.push('x');
                        continue; 
                    }
                }

            }

            // geo
            if(dataType === 'coordinate') {
                axisAssignments.x = column;
                assigned.push('x');
                continue;
            }

            // if column is numeric
            if(isNumeric(column)) {
                // if we already have a y
                if(isAssigned('y')) {
                    // if there are three columns it is y2
                    if(columns.length > 3) {
                        axisAssignments.y2 = column;
                        assigned.push('y2');
                        continue;
                    }
                    // if two columns it is x
                    else {
                        axisAssignments.x = column;
                        assigned.push('x');
                        continue;
                    }
                }
                // else it is y
                else {
                    axisAssignments.y = column;
                    assigned.push('y');
                    continue;
                }
            }

            else if(dataType === 'datetime' && !hasSingleOrDistinct(column)) {
                axisAssignments.x = column;
                assigned.push('x');
                continue;
            }

            // if column is category
            else if(isCategorical(column)) {
                // if we already have x
                if(isAssigned('x')) {
                    // if we already have z
                    if(isAssigned('z')) {
                        axisAssignments.z2 = column;
                        assigned.push('z2');
                        continue;
                    }
                    else {
                        axisAssignments.z = column;
                        assigned.push('z');
                        continue;
                    }
                }
                else {
                    axisAssignments.x = column;
                    assigned.push('x');
                }
            } 
        }
        return axisAssignments;
    };

    var determineType = function(columns, axisAssignments, calculation) {
        //console.log(axisAssignments);

        var types = {
            countByCategory: 'count_by_category',
            averageByCategory: 'average_by_category',
            sumByCategory: 'sum_by_category',
            geoPoints: 'geo_points',
            geoPointsCategory: 'geo_points_category',
            geoPointsAmount: 'geo_points_amount',
            geoPointsCategoryAmount: 'geo_points_category_amount',
            scatterplot: 'scatterplot',
            scatterplotByCategory: 'scatterplot_by_category',
            countPerCategoryByDatetime: 'count_per_category_by_datetime',
            ratioPerCategory: 'ratio_per_category',
            countByState: 'count_by_state',
            countByCountry: 'count_by_country'
        };

        var defaultType = (function() {
            if(calculation==='comparison') {
                return 'scatterplot';
            }

            var typeStr = calculation;
            var sortedColumns = _(columns).sortBy('data_type');

            _.each(sortedColumns, function(column) {
                if(!isNumeric(column)) {
                    typeStr += '_by_' + column.data_type;
                }
            });

            return typeStr;
        })();

        // geo_points
        if(axisAssignments.x.data_type === 'coordinate') {
            if(axisAssignments.hasOwnProperty('z')) {
                if(axisAssignments.z.values.length === 1) {
                    if(axisAssignments.hasOwnProperty('y')) {
                        return types.geoPointsAmount;
                    }
                    return types.geoPoints;
                }
                if(axisAssignments.hasOwnProperty('y')) {
                    return types.geoPointsCategoryAmount;
                }

                return types.geoPointsCategory;
            }
            else if(axisAssignments.hasOwnProperty('y')) {
                return types.geoPointsAmount;
            }

            return types.geoPoints;
        }

        // scatterplot
        if(isNumeric(axisAssignments.x) &&
            axisAssignments.hasOwnProperty('y') && 
            isNumeric(axisAssignments.y)) {

            if(columns.length === 3) {
                return types.scatterplotByCategory;
            }
            return types.scatterplot;
        }

        // count_by_category
        if(columns.length === 2 && 
            isCategorical(axisAssignments.x) === 'category' && 
            isNumeric(axisAssignments.y)) {

            return types[calculation + 'ByCategory'];
        }

        if(columns.length === 3 &&
            axisAssignments.hasOwnProperty('z') &&
            axisAssignments.z.values.length === 1) {

            if(axisAssignments.x.data_type === 'datetime') {
                return types[calculation + 'PerCategoryByDatetime'];
            }

            return types[calculation + 'ByCategory'];
        }

        if(calculation === 'geo') {
            if(axisAssignments.x.data_type === 'state') {
                return types.countByState;
            }

            if(axisAssignments.x_data_type === 'country') {
                return types.countByCountry;
            }
        }

        // ratio_per_category
        if(columns.length === 2 &&
            calculation === 'ratio' &&
            axisAssignments.x.values.length === 1 &&
            axisAssignments.hasOwnProperty('y') &&
            axisAssignments.y.values.length === 1) {

            return types.ratioPerCategory;
        }

        return defaultType;
    };

    window.popily.chart.analyze = {
        assignToAxis: assignToAxis,
        determineType: determineType
    }
})(window);
(function(window) {

  var c3ify = function(xValues,yValues,zValues) {
      var groupings = [];
      var columns = [];
      var xyz = _.zip(xValues,zValues,yValues);

      //console.log(yValues);

      _.each(_.uniq(xValues),function(x) {
          _.each(_.uniq(zValues),function(z) {
              groupings.push([x,z,0]);
          });

      });

      _.each(xyz,function(_xyz) {
          _.each(groupings, function(pair) {
              if(_xyz[0] === pair[0] && _xyz[1] === pair[1]) {
                  pair[2] = _xyz[2];
              }
          });
      });

      var categories = _.uniq(_.map(groupings, function(group) { return group[0]; }));
      var valuePairs = _.map(groupings, function(group) { return [group[1],group[2]] });
      var labels = _.uniq(_.map(groupings, function(group) { return group[1] }));

      var values;
      _.each(labels, function(label) {
          values = _.map(_.filter(valuePairs, function(vp) {
              return vp[0] == label}),function(vp) {
                  return vp[1]; });
          columns.push([label].concat(values));
      });

      return {
          categories: categories,
          columns: columns,
          groups: labels
      }
  };

  var c3ifyMulti = function(xValues,yValues,zValues,z2Values) {
    var zipped = _.zip(xValues,yValues,zValues,z2Values);
    var sep = '___';
    var names = {};

    var columnMap = {};
    _.each(zipped, function(group) {
      var x = group[0];
      var y = group[1];
      var z = group[2];
      var z2 = group[3];
      var zz2 = z + sep + z2;

      names[zz2] = z;

      if(!columnMap[zz2]) {
        columnMap[zz2] = {};
      }
      columnMap[zz2][x] = y;
    });

    var groups = [];
    var orderedGroups = [];
    _.each(_.uniq(z2Values), function(z2) {
      orderedGroups.push(z2);
      var group = [];
      _.each(_.uniq(zValues), function(z) {
        group.push(z + sep + z2);
      });
      groups.push(group);
    });

    var xLabels = _.unique(xValues);
    var xLabelsDisplay = _.map(xLabels, function(xValue) {
      return xValue + ' (' + orderedGroups.join(',') + ')';
    });

    var columns = [];

    for(var column in columnMap) {
      var col = [column];
      _.each(xLabels, function(x) {
        col.push(parseFloat(columnMap[column][x] || 0));
      });
      columns.push(col);
    }
    
    return {
        categories: xLabelsDisplay,
        columns: columns,
        groups: groups,
        names: names
    }
  };

  var nan = -99999;
  var cleanData = function(xValues,yValues,zValues,z2Values) {
      xValues = xValues || [];
      yValues = yValues || [];
      zValues = zValues || [];
      z2Values = z2Values || [];


      var tuples = _.zip(xValues,yValues,zValues,z2Values);

      // Remove nan
      var cleaned = _.reject(tuples, function(t) {
          if (t[1] === nan || t[0] === nan) {
              return true;
          }
          return false;
      });


      return _.unzip(cleaned);

  };

  var nanToZero = function(num) {
      if(num === nan || num === 'nan') {
          return 0;
      }
      return num;
  };
  var cleanNanToZero = function(values) {
      values = _.map(values, function(v) {
          return nanToZero(v);
      });
      return values;
  };

  var dayList = ['sunday','monday','tuesday','wednesday','thursday','friday','saturday'];
  var dayListAbbr = ['sun','mon','tue','wed','thu','fri','sat'];
  var monthList = ['january','february','march','april','may','june','july','august','september','october','november','december'];
  var monthListAbbr = ['jan','feb','mar','apr','may','jun','jul','aug','sep','sept','oct','nov','dec'];

  var categoryType = function(values) {
      if(_.every(values, function(v) { return _(dayList).contains(v.toString().toLowerCase()) })) {
          return 'day';
      }

      if(_.every(values, function(v) { return _(dayListAbbr).contains(v.toString().toLowerCase()) })) {
          return 'dayAbbr';
      }

      if(_.every(values, function(v) { return _(monthList).contains(v.toString().toLowerCase()) })) {
          return 'month';
      }

      if(_.every(values, function(v) { return _(monthListAbbr).contains(v.toString().toLowerCase()) })) {
          return 'monthAbbr';
      }

      return null;
  }

  var sortData = function(xYalues,yValues,zValues,limit,order,z2Values) {
      var tuples = _.zip(xYalues,yValues,zValues,z2Values);
          
      if(_.every(xYalues, function(x) { return !isNaN(x); })) {
          var sorted = _.sortBy(tuples, function(t){
                              return parseInt(t[0]);
                          }); 
      }
      else if(_.every(xYalues, function(x) { return !isNaN(x.toString().charAt(0)); })) {
          var sorted = _.sortBy(tuples, function(t){
                              return t[0];
                          }); 
      }
      else {
          var cType = categoryType(xYalues);
          if(cType) {
              var compareList = dayList;
              if(cType == 'dayAbbr') {
                  compareList = dayListAbbr;
              }
              else if(cType == 'month') {
                  compareList = monthList;
              }
              else if(cType == 'monthAbbr') {
                  compareList = monthListAbbr;
              }

              // Sort asc by y
              var sorted = _.sortBy(tuples, function(t){
                                  return compareList.indexOf(t[0].toLowerCase());
                              }); 
          }
          else {
             // Sort asc by y
              var sorted = _.sortBy(tuples, function(t){
                                  return t[1] * -1;
                              }); 
          }
      }

      if(limit && _.size(sorted)>limit ) {
          var i=0;
          var nth = Math.floor(_.size(sorted) / limit);
          sorted = _.filter(sorted, function(item) {
                  i++;
                  return i % nth == 0;
              });
      }
      
      if(order=='asc' || order=='desc') {
          var descMultiply = (order=='desc'?-1:1)
          sorted = _.sortBy(sorted, function(t){
                      return t[1] * descMultiply;
                      });
      } 
      else if(order=='a-z' || order=='z-a') {
          if(_.every(xYalues, function(x) { return !isNaN(x); })) {
              sorted = _.sortBy(sorted, function(t){
                      return parseInt(t[0]);
                  }); 
          }
          else {
              sorted = _.sortBy(sorted, function(t){
                      return t[0];
                  }); 
          }
          if(order=='z-a')
              sorted = sorted.reverse();
      }
      return _.unzip(sorted);
  };

  var checkIsDateStr = function(str) {
    if (!isNaN((new Date(str).getTime()))) {
      return true;
    }
    return false;
  };

  window.popily.chart.chartData = {        
      sortData: sortData,
      cleanData: cleanData,
      cleanNanToZero: cleanNanToZero,
      c3ify: c3ify,
      c3ifyMulti: c3ifyMulti,
      checkIsDateStr: checkIsDateStr
  }

})(window);

'use strict';

(function(window) {


  window.popily.dataset = function(columns, options) {

    var labels, dataTypes, table, columnsCache;
    
    var initialize = function(columns) {
      labels = [];
      dataTypes = [];
      columnsCache = null;
      table = zip(columns);
    }
    
    var zip = function(columns) {
      var data = [];
      
      _.each(columns, function(column) {
        labels.push(column.column_header);
        dataTypes.push(column.data_type);
        data.push(column.values);
      });
      return _.zip.apply(null, data);
    };
    
    var unzip = function(data) {
      var columns = [];
      _.unzip(data).forEach(function(c, i) {
        columns.push({
          column_header:labels[i],
          values:c,
          data_type:dataTypes[i]
        });
      });
      return columns;
    }

    var columnIdx = function(column) {
      var idx = labels.indexOf(column);
      if(idx == -1)
        throw Error('column '+column+' not found in dataset');
      return idx;
    };
    
    var dataListeners = []
    var dataChanged = function() {
      columnsCache = null;
      dataListeners.forEach(function(listner) {
        listner();
      })
    }
    
    initialize(columns);
    
    return {
    
      orderBy: function(column) {
        var idx = columnIdx(column);
        table = _.sortBy(table, function(e) {
          return e[idx];
        });
        dataChanged();
        return this;
      },
      
      reverse: function() {
        table = table.reverse();
        dataChanged();
        return this;
      },
      
      filter: function(column, op, values) {
        if(_.isUndefined(values)) {
          values = op;
          op = 'eq';
        }
        var idx = columnIdx(column);
        
        if(op == 'eq')
          var testFunc = function(e) {return values.indexOf(e[idx])!==-1}
        else if(op == 'noteq')
          var testFunc = function(e) {return values.indexOf(e[idx])===-1}
        else {
          console.error('Unrecognized filter option: '+op);
          return this; 
        }
        
        table = _.filter(table, testFunc);
        dataChanged();
        return this;
      },
      
      limit : function(max) {
        if(max && _.size(table)>max ) {
          var i=0;
          var nth = Math.floor(_.size(sorted) / limit);
          table = _.filter(table, function() {
            i++;
            return i % nth == 0;
          });
          dataChanged();
        }
        return this;
      },
      
      groupBy: function(column, groupingFunction, grouppedDataType, grouppedColumnHeader ) {
        var idx = columnIdx(column);
        groupingFunction = groupingFunction || function(e) {return e;};
        grouppedColumnHeader = grouppedColumnHeader || 'groupped';
        grouppedDataType = grouppedDataType || 'numeric';

        var groupped = _.groupBy(table, function(e){ 
          return e[idx]; 
        });
        
        var keysColumn = { 
          column_header: labels[idx],
          data_type: dataTypes[idx],
          values: Object.keys(groupped)
        };
        
        var values = []
        _.map(keysColumn.values, function(k) {
          values.push(groupingFunction(groupped[k])); 
        });
        
        var grouppedColumn = {
          column_header: grouppedColumnHeader,
          data_type: grouppedDataType,
          values: values
        }
        initialize([keysColumn, grouppedColumn]);
        dataChanged();
        return this;
      },

      countUnique: function(column) {
        var idx = columnIdx(column);
        var column = this.getColumns()[idx];
        var counts = _.countBy(column.values, function(val) { return val; });
        var newColumns = [];

        var valColumn = {
          column_header: column.column_header,
          data_type: column.data_type,
          values: _(counts).keys()
        };
        var countColumn = {
          column_header: 'count_0',
          data_type: 'numeric',
          values: _(counts).values()
        };

        initialize([valColumn,countColumn]);
        dataChanged();
        return this;
      },
      
      replaceValues: function(column, replacements) {
        var idx = columnIdx(column);
        
        _.map(table, function(row) {
          if(row[idx] in replacements)
            row[idx] = replacements[row[idx]];
        });
        
        dataChanged();
        return this;
      },
      
      getColumns: function(cb) {
        if(!columnsCache)
          columnsCache = unzip(table);
        
        if(cb) {
          cb(columnsCache);
          return this;
        }
        else
          return columnsCache;
      },
      
      getColumn: function(column, cb) {
        var columns = this.getColumns();
        var column = _.find(columns, function(c) { return c.column_header === column });
        if(cb) {
          cb(column);
          return this;
        }
        else
          return column;
      },
      
      onChange: function(cb) {
        dataListeners.push(cb);
      }
    }
  }
  
  popily.dataset.count = function(arr) {
    return arr.length;
  }
  popily.dataset.count.dataType = 'numeric';
  popily.dataset.count.columnLabel = 'Count';
  
  popily.dataset.countUnique = function(arr) {
    return _.uniq(arr).length;
  }
  popily.dataset.countUnique.dataType = 'numeric';
  popily.dataset.countUnique.columnLabel = 'Count unique';

})(window);

(function(window) {
    var nan = -99999;

    var daysDiff = function(dateStrings) {
        var dates = _.map(dateStrings,function(d) { return new Date(d); });
        var minDate = _.min(dates);
        var maxDate = _.max(dates);
        var dateDiff = maxDate - minDate;
        var daysDiff = dateDiff / 1000 / 60 / 60 / 24;

        return daysDiff;
    };

    var formatNumbers = function(numberList) {
        var formatted = _.map(numberList, function(num) {
            num = parseFloat(num);

            if(num !== "nan" && _.isNumber(num) && !_.isNaN(num)) {
                return numeral(num).format('0[.00]');
            }
            return '0.00';
        });
        return formatted;
    };

    var toNumber = function(strList) {
        return _.map(strList, function(val) { 
              if(val.toString().indexOf('.') > 0) {
                  return parseFloat(val);
              }

              return parseInt(val,10) 
          });
    };


    function formatFromDayDiff(dayDiff) {
        if(dayDiff > 1000)
            return '%Y';
        if(dayDiff > 90)
            return '%Y %B';
        if(dayDiff > 3)
            return '%Y-%m-%d';
        return '%Y-%m-%d %H:%M:%S';
    }

    function formatFromInspection(xValues) {
        var times = _.map(xValues, function(xValue) { return xValue.split(' ')[1] });
        if(_.every(times, function(time) { return time == '00:00:00' })) {
            return '%Y-%m-%d';
        }
        return '%Y-%m-%d %H:%M:%S';
    }
        
    function formatFromInterval(interval) {
        if(interval == 'year')
            return '%Y';
        if(interval == 'month')
            return '%Y %B';
        if(interval == 'week')
            return '%Y-%m-%d';
        if(interval == 'day')
            return  '%Y-%m-%d';
        return '%Y-%m-%d %H:%M:%S';
    }

    function stepInterval(interval) {
        if(interval=='%Y') return function(d, step) {d.setFullYear(d.getFullYear()+step); return d;};
        if(interval=='%Y %B') return function(d, step) {d.setMonth(d.getMonth()+step); return d;};
        if(interval=='%Y-%m-%d') return function(d, step) {d.setDate(d.getDate()+step); return d;};
        return false;
    }

    function tickFormatValues(categories, tickFormatStr, dateFormat) {
        var stepFunc = stepInterval(tickFormatStr);
        if(!stepFunc)
            return null;
            
        var dates = _.map(categories, function(d) { return new Date(d); });
        var minDate = _.min(dates);
        var maxDate = _.max(dates);
        var dateDiff = maxDate - minDate;
        var maxSteps = 10;

        var stepDIff = stepFunc(new Date(1980), 1) - new Date(1980);
        var step = 1;
        var steps = dateDiff/stepDIff;
        if(steps > maxSteps)
            step = Math.floor(steps/maxSteps);
        
        var values = [];
        var date = new Date(minDate.getTime());
        for(; date<=maxDate; date = stepFunc(date, step))
        {
            values.push(dateFormat(date))
        }
        return values;
    }

    // Credit: https://gist.github.com/mathewbyrne/1280286
    function slugify(text) {
      return text.toString().toLowerCase()
        .replace(/\s+/g, '-')           // Replace spaces with -
        .replace(/[^\w\-]+/g, '')       // Remove all non-word chars
        .replace(/\-\-+/g, '-')         // Replace multiple - with single -
        .replace(/^-+/, '')             // Trim - from start of text
        .replace(/-+$/, '');            // Trim - from end of text
    }

    popily.chart.format = {
        formatNumbers: formatNumbers,
        toNumber: toNumber,
        daysDiff: daysDiff,
        formatFromDayDiff: formatFromDayDiff,
        formatFromInterval: formatFromInterval,
        formatFromInspection: formatFromInspection,
        tickFormatValues: tickFormatValues,
        slugify: slugify
    }
})(window);
(function(window) {
  var chartSize = function() {
      var height = window.innerHeight;
      var width = Math.min(window.innerWidth, 1052); // 1052 container max-width
      var mqTest = window.matchMedia( "(min-width: 48em)" );
      if(mqTest) {
          height = height - 460;
      } else {
          height = height - 150;
      }
      if (height > width)
          height = width;
      else if(height < 430)
          height = 430;
      return {'height': height};
  };

  var updateChart = function(element, chart, chartData, chartPadding, rotated) {
      // x axis label height
      var xLabel = element.querySelector('.c3-axis-x-label');
      var xLabelHeight = Math.ceil(xLabel.getBBox().height);
      // x axis labels box sizes
      var xLabelsBox = element.querySelector('.c3-axis.c3-axis-x');
      var xLabelsBoxHeight = Math.ceil(xLabelsBox.getBBox().height);
      var xLabelsBoxWidth = Math.ceil(xLabelsBox.getBBox().width);
      // y axis labels box sizes
      var yLabelsBox = element.querySelector('.c3-axis.c3-axis-y');
      var yLabelsBoxHeight = Math.ceil(yLabelsBox.getBBox().height);
      var yLabelsBoxWidth = Math.ceil(yLabelsBox.getBBox().width);
      // main chart sizes
      var chartBox = element.querySelector('.c3-zoom-rect');
      var chartBoxHeight = Math.ceil(chartBox.getBBox().height);
      var chartBoxWidth = Math.ceil(chartBox.getBBox().width);
      // main svg sizes
      var chartArea = element.querySelector('svg');
      if(!chartArea)
          var chartArea = element.querySelector('svg');
      
      var chartAreaWidth = chartArea.clientWidth || chartArea.parentNode.clientWidth;
      var chartAreaHeight = chartArea.clientHeight || chartArea.parentNode.clientHeight;;

      chartPadding.bottom = xLabelHeight;    
      
      if (!chart.internal.config.axis_rotated) {
            
          // check whether padding bottom is needed
          // add padding bottom if needed
          if (chartBoxHeight + xLabelsBoxHeight + chartPadding.top > chartAreaHeight) {
              var paddingBottom = Math.abs(chartAreaHeight - (chartBoxHeight + xLabelsBoxHeight + chartPadding.top));
              chartPadding.bottom = paddingBottom + xLabelHeight;
          }
          // check whether padding right is needed
          // add padding right if needed
          if (xLabelsBoxWidth > chartBoxWidth) {
              var paddingRight = Math.abs(chartBoxWidth - xLabelsBoxWidth);
              chartPadding.right = paddingRight;
          }
          // check whether padding left is needed
          // add padding left if needed
          if (chartBoxWidth + yLabelsBoxWidth > chartAreaWidth) {
              var paddingLeft = Math.abs(chartAreaWidth - (chartBoxWidth + yLabelsBoxWidth));
              chartPadding.left = paddingLeft;
          }
          chart.destroy();
          chart = c3.generate(chartData);

          // move x axis label on the bottom of the x axis labels box        
          var dyAttr = xLabel.getAttribute('dy');           
          var dyAttrValue = dyAttr.slice(0,-2);        
          function emToPx(emValue) {
              var emSize = parseFloat(getComputedStyle(document.querySelector('html')).getPropertyValue('font-size'));
              return (emSize * emValue);
          }
          var xLabelTop = Number(emToPx(dyAttrValue));        
          var xLabelTransform = xLabelsBoxHeight - xLabelTop - 4;    
          element.querySelector('.c3-axis-x-label').setAttribute('y', xLabelTransform);
      }
      else {
          // check whether padding left is needed
          // add padding left if needed
          if (chartBoxWidth + xLabelsBoxWidth > chartAreaWidth) {
              var paddingLeft = Math.abs(chartAreaWidth - (chartBoxWidth + xLabelsBoxWidth));
              chartPadding.left = paddingLeft;
          }
          // check whether padding bottom is needed
          // add padding bottom if needed
          if (xLabelsBoxHeight > chartBoxHeight) {
              var paddingBottom = Math.abs(chartBoxHeight - xLabelsBoxHeight);   
              chartPadding.bottom = paddingBottom;
          }
          // check whether padding right is needed
          // add padding right if needed
          if (yLabelsBoxWidth > chartBoxWidth) {
              var paddingRight = Math.abs(chartBoxWidth - yLabelsBoxWidth);
              chartPadding.right = paddingRight;
          }
          chart.destroy();
          chart = c3.generate(chartData);
      }
  };    

  var formatDataset = function(apiResponse, axisAssignments, analysisType) {
      var newData = _.extend({}, apiResponse);
      var possibleAxis = ['x','y','z','z2','y2'];

      newData.chartData = {}
      newData.analysisType = analysisType;

      _.each(possibleAxis, function(axis) {
        if(axisAssignments.hasOwnProperty(axis)) {
          newData.chartData[axis] = {
            values: axisAssignments[axis].values,
            label: axisAssignments[axis].column_header
          }
        }
      });

      if(apiResponse.insight_metadata) {
        newData.chartData.metadata = apiResponse.insight_metadata;
      }

      if(newData.analysisType.indexOf('geo') > -1) {
        newData.chartData.x.values = _.map(newData.chartData.x.values, JSON.parse);
      }

      return newData;
  };
  
  var createStyleElement = function(css) {
    var style = document.createElement('style');
    style.type = 'text/css';
    if (style.styleSheet) {
      style.styleSheet.cssText = css;
    } else {
      style.appendChild(document.createTextNode(css));
    }
    return style;
  }

  window.popily.chart.utils = {
    chartSize: chartSize,
    updateChart: updateChart,
    formatDataset: formatDataset,
    createStyleElement: createStyleElement
  };
})(window);

(function(window) {

  // Average number 1 of Category 1 
  
  
  var column = function(label) {
    return '<span class="popily-title-variable" >'+ label.column_header + '</span>';
  }
  
  
  window.popily.chart.generateLabels = function(calculation, axisAssignments) {
        
    if(calculation == 'count') {
      if(axisAssignments.z) {
        return {
          title: 'Number of each ' + column(axisAssignments.z) + ' grouped by ' + column(axisAssignments.x)
        }
      }
      else {
        return {
          title: 'Number of each ' + column(axisAssignments.x)
        }
      }
    }
    else if(calculation == 'sum' ) {
      if(axisAssignments.z) {
        return {
          title: 'Total ' + column(axisAssignments.z) + ' by ' + column(axisAssignments.x) + ' grouped by ' + column(axisAssignments.x)
        }
      } else if(axisAssignments.y) {
        return {
          title: 'Total ' + column(axisAssignments.y) + ' by ' + column(axisAssignments.x)
        }
      } else {
        return {
          title: 'Total of ' + column(axisAssignments.x)
        }
      }
    }
    else if(calculation == 'average') {
      if(axisAssignments.z) {
        return {
          title: 'Average ' + column(axisAssignments.z) + ' by ' + column(axisAssignments.x) + ' grouped by ' + column(axisAssignments.x)
        }
      } else if(axisAssignments.y) {
        return {
          title: 'Average ' + column(axisAssignments.y) + ' by ' + column(axisAssignments.x)
        }
      }
      else {
        return {
          title: 'Average of ' + column(axisAssignments.x)
        }
      }
    }
    else if(calculation == 'ratio') {
      if(axisAssignments.y) {
        return {
          title: 'Ratio of records for each ' + column(axisAssignments.x) + ' '
        }
      }
      else {
        return {
          title: 'Ratio of each ' + column(axisAssignments.x)
        }
      }
    }
    else if(calculation == 'comparison') {
      if(axisAssignments.z) {
        return {
          title: '' + column(axisAssignments.z) + ' compared to ' + column(axisAssignments.x) + ' by ' + column(axisAssignments.x)
        }
      } else {
        return {
          title: '' + column(axisAssignments.y) + ' compared to ' + column(axisAssignments.x)
        }
      }
    }
    
    
    return {
      title: 'no title'
    }
    
  }

})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  var chart = _.clone(popilyChart.baseChart);

  chart.prepData = function(rawData, options, group) {
    var that = this;
    var limit = that.defaults.categoryLimit;
    var cleanValues = that.cleanData(rawData);

    var analysisTypeCheck = 'count_by_value';
    if(group) {
      analysisTypeCheck = 'count_by_value_by_category';
    }

    if(rawData.analysisType == analysisTypeCheck) {
        var rangeBottoms = _.map(cleanValues[0], function(x) {
            return parseFloat(x.split(' to ')[0]);
        });

        cleanValues.push(rangeBottoms);
        var cleanZipped = _.zip(cleanValues[0],cleanValues[1],cleanValues[2],cleanValues[3]);
        cleanZipped = _.sortBy(cleanZipped, function(t){ 
                            return t[3]; 
                        });
        cleanValues = _.first(_.unzip(cleanZipped),limit);        
    }
    else {
        var order = options.order || 'auto';
        cleanValues = popilyChart.chartData.sortData(cleanValues[0],cleanValues[1],cleanValues[2],limit,order,cleanValues[3]);
    }

    var cleanXValues = cleanValues[0];
    
    if(rawData.analysisType.indexOf('date') > -1 && _.every(cleanXValues, popilyChart.chartData.checkIsDateStr)) {
      var dateFormatStr = popilyChart.format.formatFromInspection(cleanXValues);
      var dateFormat = d3.time.format(dateFormatStr);
      cleanXValues = _.map(cleanXValues, function(x) { return dateFormat((new Date(x))); });
    }

    var cleanYValues = popilyChart.format.formatNumbers(cleanValues[1]);
    var cleanZValues = cleanValues[2];
    var cleanZ2Values = cleanValues[3];

    return [cleanXValues, cleanYValues, cleanZValues, cleanZ2Values];
  };

  chart.getChartObject = function(kwargs) {
    var that = this;
    var element = kwargs.element;
    var data = kwargs.data;
    var zValues = kwargs.zValues;
    var z2Values = kwargs.z2Values;
    var xLabel = kwargs.xLabel;
    var yLabel = kwargs.yLabel;
    var options = kwargs.options;
    var rotated = kwargs.rotated;

    var chartData = {
      bindto: element,
      data: {
          columns: data.columns,
          type: 'bar'
      },
      padding: that.defaults.chartPadding,
      axis: {
          x: {
              type: 'category',
              categories: data.categories,
              tick: {
                  rotate: 30,
                  multiline: false,
                  height: 130
              },
              label: {
                 text: options.xLabel || xLabel,
                 position: rotated?'outer-middle':'inner-right',
              }
          },
          y: {
              show: true,
              label: {
                  text: options.yLabel || yLabel,
                  position: rotated?'inner-right':'outer-middle'
              },
              tick: {
                  format: d3.format(",")
              }
          },
          rotated: options.rotated || rotated
      },
      color: {
          pattern: options.colors
      },
      legend: {
          position: 'bottom',
          show: (function() {
            if(options.showLegend) {
              return true;
            }
            if(z2Values && z2Values.length > 0) {
              return true;
            }
            if(zValues.length < 50) {
              return true; 
            }

            return false;
          })()
      },
      tooltip: {
          show: (_.isUndefined(options.tooltip)?true:options.tooltip),
          grouped: false,
      },
      size: {
          height: options.height
      },
      bar: {
        width: {
          ratio: (options.barSize || 0.9)
        }
      }
    };
    return chartData;
  };

  popilyChart.chartTypes.barCommon = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var chart = _.clone(popilyChart.baseChart);

  chart.prepData = function(rawData, options) {
    var that = this;
    var limit = that.defaults.categoryLimit;
    var cleanValues = that.cleanData(rawData);

    var order = options.order || 'auto';
    cleanValues = _.unzip(_.zip(cleanValues).slice(0,5000))[0];
    var cleanXValues = popilyChart.format.toNumber(cleanValues[0]);
    var cleanYValues = popilyChart.format.toNumber(cleanValues[1]);

    cleanXValues = popilyChart.format.formatNumbers(cleanXValues);
    cleanYValues = popilyChart.format.formatNumbers(cleanYValues);
    var cleanZValues = cleanValues[2];

    return [cleanXValues, cleanYValues, cleanZValues];
  };

  chart.render = function(element, options, columns, xs, xLabel, yLabel, tooltip) {
      var chartPadding = {right: 10, top: 10};

      var chartData = {
          bindto: element,
          data: {
              xs: xs,
              columns: columns,
              type: 'scatter'
          },
          padding: chartPadding,
          size: {
              height: options.height
          },
          point: {
            r: (options.pointSize || 4)
          },
          axis: {
              x: {
                  label: {
                      text: options.xLabel || xLabel,
                      position: 'outer-middle',
                  },
                  tick: {
                      fit: false,
                      rotate: 30
                  }
              },
              y: {
                  label: {
                      text: options.yLabel || yLabel,
                      position: 'outer-middle'
                  },
                  tick: {
                      format: d3.format(",")
                  }
              }
          },
          grid: {
              x: {
                  show: true
              },
              y: {
                  show: true
              }
          },
          color: {
              pattern: options.colors
          },
          legend: {
              position: 'outer-bottom',
              hide: true
          },
          tooltip: tooltip
      };

      var chart = c3.generate(chartData);
      chartData.bindto = element;
      this.chart = chart;
      popily.chart.utils.updateChart(element, chart, chartData, chartPadding);

      return this.chart;
  };

  popilyChart.chartTypes.compare = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  var chart = _.clone(popilyChart.baseChart);

  chart.prepData = function(rawData, options) {
    var that = this;
    var limit = that.defaults.categoryLimit;
    rawData.chartData.y.values = popily.chart.chartData.cleanNanToZero(rawData.chartData.y.values)
    var cleanValues = that.cleanData(rawData);

    var order = options.order || 'auto';
    cleanValues = popilyChart.chartData.sortData(cleanValues[0],cleanValues[1],cleanValues[2],0,order);

    var cleanXValues = cleanValues[0];
    var cleanYValues = popilyChart.format.formatNumbers(cleanValues[1]);
    var cleanZValues = cleanValues[2];

    return [cleanXValues, cleanYValues, cleanZValues];
  };

  chart.getYMin = function(yValues) {
    var yMin = 0;
    var lowestY = _.min(yValues);
    if(lowestY < 0) {
        yMin = lowestY;
    }

    return yMin;
  };

  chart.getChartObject = function(kwargs) {
    var element = kwargs.element;
    var data = kwargs.data;
    var xLabel = kwargs.xLabel;
    var yLabel = kwargs.yLabel;
    var yMin = kwargs.yMin;
    var options = kwargs.options;
    var dateFormatStr = kwargs.dateFormatStr;
    var chartPadding = kwargs.chartPadding;
    var tickFormatStr = kwargs.tickFormatStr;

    var chartData = {
        bindto: element,
        data: {
            x: 'x',
            columns: data.columns,
            xFormat: dateFormatStr
        },
        padding: chartPadding,
        axis: {
            x: {
                type: options.order == 'auto' ? 'timeseries' : 'category',
                tick: {
                    fit: false,
                    format: tickFormatStr,
                    rotate:30,
                    centered: true
                },
                label: {
                    text: options.xLabel || xLabel,
                    position: 'inner-right'
                }
            },
            y: {
                show: true,
                min: yMin,
                label: {
                    text: options.yLabel || yLabel,
                    position: 'outer-middle'
                },
                tick: {
                    format: d3.format(",")
                },
                padding: {top:0, bottom:0}
            }
        },
        grid: {
            x: {
                show: false
            },
            y: {
                show: true
            }
        },
        color: {
            pattern: options.colors
        },
        point: {
          r: (options.pointSize || 2.5)
        },
        legend: {
            position: 'bottom',
            show: false
        },
        tooltip: {
            show: (_.isUndefined(options.tooltip)?true:options.tooltip)
        },
        size: {
            height: options.height
        }
    }

    if(options.order == 'auto') {
      chartData.tooltip.format = {
        title: function(d) {
          return dateFormat(d);
        } 
      }

      chartData.axis.x.tick.values = ticksValues;
    }

    return chartData;
  };

  chart.formatDates = function(xValues, data, options) {
    var dayDiff = popily.chart.format.daysDiff(xValues); 
    var tickFormatStr = popily.chart.format.formatFromDayDiff(dayDiff);
    
    var interval = options.interval;

    var dateFormatStr = popily.chart.format.formatFromInterval(interval);
    if(_.isUndefined(interval)) {
      dateFormatStr = popily.chart.format.formatFromInspection(xValues);
    }
    
    var dateFormat = d3.time.format(dateFormatStr);
    var tickFormat = d3.time.format(tickFormatStr);
    var fullFormat = d3.time.format('%Y-%m-%d %H:%M:%S');

    var ticksValues = popily.chart.format.tickFormatValues(xValues, tickFormatStr, dateFormat);
    
    if(dateFormat != fullFormat)
      data.categories = _.map(data.categories, function(d) {
                  return dateFormat(fullFormat.parse(d.split('.')[0]));
      });

    return {
      dateFormatStr: dateFormatStr,
      tickFormatStr: tickFormatStr
    }
  };

  chart.render = function(element, options, rawData, grouped) {
      var that = this;
      var preppedData = that.prepData(rawData, options);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var zValues = preppedData[2];
      var xLabel = rawData.chartData.x.label;
      var yLabel = rawData.chartData.y.label;
    
      var yMin = that.getYMin(yValues);
      yValues.unshift(yLabel);
      
      var data = popilyChart.chartData.c3ify(xValues,yValues,zValues);
      var dateData = that.formatDates(xValues, data, options);

      data.categories.unshift('x');
      data.columns.unshift(data.categories); 

      var chartPadding = that.defaults.chartPadding;
      
      var kwargs = {
        element: element,
        data: data,
        xLabel: xLabel,
        yLabel: yLabel,
        yMin: yMin,
        options: options, 
        dateFormatStr: dateData.dateFormatStr,
        chartPadding: chartPadding,
        tickFormatStr: dateData.tickFormatStr
      };
      var chartData = that.getChartObject(kwargs);
      chartData.tooltip.grouped = (function() {
          if(_.uniq(zValues).length > 20) {
              return false;
          }
          else {
              return true;
          }
      })();

      if(!_.isUndefined(options.lineSize)) {
        var style = popily.chart.utils.createStyleElement('.'+options.uniqueClassName+' .c3-line { stroke-width: '+options.lineSize+'px; }')
        element.parentNode.appendChild(style);
      }

      if(grouped) {
        chartData.data.type = 'area';
        chartData.data.groups = [data.groups];
      }
      
      var chart = c3.generate(chartData);
      popily.chart.utils.updateChart(element, chart, chartData, chartPadding);
      return chart;
  };

  popilyChart.chartTypes.linear = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'average_per_category_by_category',
    'sum_per_category_by_category',
    'count_by_value_by_category',
    'average_by_category_by_category',
    'sum_by_category_by_state',
    'count_by_value_by_state',
    'average_by_category_by_state'
  ];
  chart.accepts = [];

  chart.render = function(element, options, rawData) {
      var that = this;
      var preppedData = popilyChart.chartTypes.barCommon.prepData(rawData, options, true);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var zValues = preppedData[2];
      var xLabel = rawData.chartData.x.label;
      var yLabel = rawData.chartData.y.label;

      var data = popilyChart.chartData.c3ify(xValues,yValues,zValues);
      var rotated = false;
      if(data.columns.length > 25) {
          rotated = true;
      }

      var kwargs = {
        options: options,
        data: data,
        zValues: zValues,
        rotated: rotated,
        xLabel: xLabel,
        yLabel: yLabel,
        element: element
      };
      var chartData = popilyChart.chartTypes.barCommon.getChartObject(kwargs);

      var chart = c3.generate(chartData);
      this.chart = chart;

      popily.chart.utils.updateChart(element, chart, chartData, that.defaults.chartPadding);

      return this.chart;
  };

  popilyChart.chartTypes.barGrouped = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;

  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'count_by_value',
    'count_by_category',
    'average_by_category',
    'sum_by_category',
    'sum_sum_by_category',
    'sum_by_category_per_category',
    'average_by_category_per_category',
    'count_by_category_per_category',
    'count_per_category_by_category',
    'count_by_category_by_category_distinct',
    'count_by_category_by_datetime_distinct',
    'top_by_rowlabel'
  ];
  chart.accepts = [];

  chart.render = function(element, options, rawData) {
      var that = this;
      var xValues = rawData.chartData.x.values;
      var minY = _.min(rawData.chartData.y.values);
      var chartToUse = popilyChart.chartTypes.bubble;
      if(xValues.length < 30 || minY < 0) {
        chartToUse = popilyChart.chartTypes.bar;
      }

      return chartToUse.render(element, options, rawData);
  };

  popilyChart.chartTypes.barOrBubble = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  var chart = _.clone(popilyChart.baseChart);

  chart.defaultFor = [
    'sum_by_category_by_category',
    'count_by_category_by_category',
    'count_by_category_by_category_by_category'
  ];
  chart.accepts = [
    'average_per_category_by_category',
    'sum_per_category_by_category',
    'count_by_value_by_category',
    'average_by_category_by_category',
    'sum_per_category_by_datetime',
    'sum_by_category_by_datetime',
    'count_by_category_by_datetime'
  ];

  chart.render = function(element, options, rawData) {
      var that = this;
      var preppedData = popilyChart.chartTypes.barCommon.prepData(rawData, options, true);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var zValues = preppedData[2];
      var z2Values = preppedData[3];
      var xLabel = rawData.chartData.x.label;
      var yLabel = rawData.chartData.y.label;

      var data;
      var groups;
      if(z2Values.length > 0) {
        data = popilyChart.chartData.c3ifyMulti(xValues,yValues,zValues,z2Values);
        groups = data.groups;
      }
      else {
        data = popilyChart.chartData.c3ify(xValues,yValues,zValues);
        groups = [data.groups];
      }
      data.categories.unshift('x');
      data.columns.unshift(data.categories);
      var rotated = false;
      if(data.columns[0].length > 40) {
          rotated = true;
      }

      var kwargs = {
        options: options,
        data: data,
        zValues: zValues,
        rotated: rotated,
        xLabel: xLabel,
        yLabel: yLabel,
        z2Values: z2Values,
        element: element
      };
      var chartData = popilyChart.chartTypes.barCommon.getChartObject(kwargs);
      chartData.data = {
          x: 'x',
          columns: data.columns,
          type: 'bar',
          groups: groups
      };

      if(z2Values.length > 0) {
        chartData.data.names = data.names;
        var uniqNames = _.uniq(_.values(data.names));
        var nameColors = _.zip(uniqNames,_.first(options.colors,uniqNames.length));
        var colors = {};

        _.each(nameColors, function(nameColor) {
          _.each(_.uniq(z2Values), function(z2) {
            colors[nameColor[0] + '___' + z2] = nameColor[1];
          });
        });

        chartData.data.colors = colors;
      }

      var chart = c3.generate(chartData);
      this.chart = chart;

      popily.chart.utils.updateChart(element, chart, chartData, that.defaults.chartPadding);

      return this.chart;
  };

  popilyChart.chartTypes.barStacked = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var bar = _.clone(popilyChart.baseChart);
  bar.defaultFor = [
  ];
  bar.accepts = [
    'count_by_datetime',
    'ratio_by_datetime',
    'sum_by_datetime',
    'average_by_datetime',
    'count_per_category_by_datetime',
    'average_per_category_by_datetime',
    'count_per_category_by_category',
    'count_by_category_by_category_distinct',
    'count_by_value',
    'count_by_category',
    'average_by_category',
    'sum_by_category',

    'count_by_state',
    'average_by_state',
    'sum_by_state',

    'count_by_country',
    'average_by_country',
    'sum_by_country',

    'sum_sum_by_category',
    'sum_by_category_per_category',
    'average_by_category_per_category',
    'count_by_category_per_category',
    'count_per_category_by_category',
    'count_by_category_by_datetime_distinct',
    'top_by_rowlabel'
  ];


  bar.render = function(element, options, rawData) {
      var that = this;
      var preppedData = popilyChart.chartTypes.barCommon.prepData(rawData, options);
      var xValues = preppedData[0];
      var yValues = preppedData[1];

      var chart;
        
      var rotated = false;
      //if(insight.options_rotate)
      //  rotated = true;
      if(yValues.length > 40) {
        rotated = true;
      }

      if(rotated == true) {
        if(yValues.length > 40)
          options.height = (yValues.length * 9) + 450;
      }

      var yLabel = rawData.chartData.y.label;
      yValues.unshift(yLabel);

      var chartPadding = that.defaults.chartPadding;

      var chartData = {
        data: {
          columns: [yValues],
          type: 'bar'
        },
        bar: {
          width: {
            ratio: (options.barSize || 0.7)
          }
        },
        axis: {
          x: {
            type: 'category',
            categories: xValues,
            tick: {
              rotate: 45,
              multiline: false,
              height: 130,
              fit: true
            },
            label: {
              text: options.xLabel || rawData.chartData.x.label,
              position: rotated?'outer-middle':'inner-right',
            }
          },
          y: {
            show: true,
            label: {
              text: options.yLabel || yLabel,
              position: rotated?'inner-right':'outer-middle'
            },
            tick: {
              format: d3.format(",")
            }
          },
          rotated: rotated
        },
        color: {                
          pattern: options.colors
        },       
        legend: {
          show: false
        },
        size: {
          height: options.height
        },
        grid: {
          x: {
            show: false
          },
          y: {
            show: true
          }
        },
        tooltip: (_.isUndefined(options.tooltip)?true:options.tooltip)

      }
    
      chartData.bindto = element;
      var chart = c3.generate(chartData);
      this.chart = chart;
      popily.chart.utils.updateChart(element, chart, chartData, chartPadding);

      return this.chart;
  };

  popilyChart.chartTypes.bar = bar;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [];
  chart.accepts = [
    'count_by_value',
    'count_by_category',
    'average_by_category',
    'sum_by_category',
    'sum_sum_by_category',
    'sum_by_category_per_category',
    'average_by_category_per_category',
    'count_by_category_per_category',
    'count_per_category_by_category',
    'top_by_rowlabel'
  ];

  chart.prepData = function(rawData, options) {
    var that = this;
    var limit = that.defaults.categoryLimit;
    var cleanValues = that.cleanData(rawData);

    var cleanXValues = cleanValues[0];
    var cleanYValues = popilyChart.format.formatNumbers(cleanValues[1]);

    return [cleanXValues, cleanYValues];
  };

  chart.render = function(element, options, rawData) {
      var width = options.width,
        height = options.height,
        format = d3.format(",d"),
        //color = d3.scale.category20c();
        color = d3.scale.ordinal().range(options.colors);
    var data = {'children': [
            {'name': 'negative', 'children': []},
            {'name': 'positive', 'children': []},
        ]};
    if(typeof window.chartSize == 'undefined') {
        window.chartSize = function() { return {'height': width}; };
    }
        
    var preppedData = this.prepData(rawData, options);
    var xValues = preppedData[0];
    var yValues = preppedData[1];
    var xLabel = rawData.chartData.x.label;
    
    _.each(_.first(yValues,200), function(yValue,i) {
        if(yValue>0)
            data.children[1].children.push({category: xValues[i], className: 'data', showValue: yValue, value: parseFloat(yValue) });
        else
            data.children[0].children.push({category: yValues[i], className: 'data', showValue: yValue, value: -1*parseFloat(yValue) });
    });

    width = element.getBoundingClientRect().width;
    var size = popilyChart.utils.chartSize();
    height = size['height'];
    

    var bubble = d3.layout.pack()
        .sort(null)
        .size([width, height])
        .padding(4);

    var svg = d3.select(element).append("svg")
        .attr("width", width)
        .attr("height", height)
        .attr("class", "bubble");

    if((_.isUndefined(options.tooltip)?true:options.tooltip)) {
        var tip = d3.tip()
            .attr('class', 'd3-tips')
            .offset([-5, 0])
            .html(function(d) {
                var text = "<table class='c3-tooltip'><tr><th colspan='2'>" + d.category + "</th></tr>";
                text += "<tr class='c3-tooltip-name-'>";
                text += "<td class='name'><span style='background-color:" + color(d.category) + "'></span> " + xLabel + "</td>";
                text += "<td class='value'>" + d.showValue + "</td>";
                text += "</tr>";
                return text + "</table>"; 
            });
        svg.call(tip);
    }
    
    var node = svg.selectAll(".node")
        .data(
            bubble.nodes(data)
                .filter(function(d) { return !d.children})
        )
        .enter().append("g")
        .attr("class", "node")
        .attr("transform", function(d) {
            return "translate(" + d.x + "," + d.y + ")"; })
        .on('mouseover', function(d) {
            tip.show(d, d);
            d3.select(this.childNodes[0])
                .transition().duration(50)
                .attr("r", d.r+5)
                .transition().duration(100)
                .attr("r", d.r+3)
        })
        .on('mouseout', function(d) { 
            tip.hide(d);
            d3.select(this.childNodes[0])
                .transition().duration(10)
                .attr("r", d.r)
        });
  
    node.append("circle")
        .attr("r", function(d) { return d.r; })
        .style("fill", function(d) { return color(d.category); });
        
    node.append("text")
        .attr("dy", ".3em")
        .style("text-anchor", "middle")
        .text(function(d) { 
            if (d.r / 3 > 3) return d.category.substring(0, d.r / 3); 
            else return '';
        })
        .attr("pointer-events", "none");

    var onResize = function() {
        width = element.getBoundingClientRect().width;
        size = popilyChart.utils.chartSize();
        height = size['height'];
        svg
            .attr("width", width)
            .attr("height", height);

        var bubble = d3.layout.pack()
            .sort(null)
            .size([width, height])
            .padding(4);
        
        var node = svg.selectAll(".node")
            .data(
                bubble.nodes(data)
                   .filter(function(d) { return !d.children})
            );
        svg.selectAll("g")
            .attr("transform", function(d) {
                return "translate(" + d.x + "," + d.y + ")"; });
        
        svg.selectAll("circle")
            .attr("r", function(d) { return d.r; });
        svg.selectAll("text")
            .text(function(d) { 
                if (d.r / 3 > 3) return d.category.substring(0, d.r / 3); 
                else return '';
            })
        
    };

    window.onresize = onResize;
  };

  popilyChart.chartTypes.bubble = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;

  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'average_by_state',
    'sum_by_state',
    'sum_by_country',
    'average_by_country',
    'count_by_country',
    'count_by_state'
  ];
  chart.accepts = [];

  chart.getVal = function(unitName, valueLookup) {
      if(valueLookup[unitName]) {
          return valueLookup[unitName];
      }

      var name = unitName;
      if(name.length == 2) {
          name = name.toUpperCase();
      }
      else {
          name = name[0].toUpperCase() + name.slice(1);
      }

      return {'name':name, 'value': 'n/a'};
  };

  chart.prepData = function(rawData, options) {
    var that = this;
    var limit = that.defaults.categoryLimit;
    var cleanValues = that.cleanData(rawData);

    var order = options.order || 'auto';
    cleanValues = popilyChart.chartData.sortData(cleanValues[0],popilyChart.format.toNumber(cleanValues[1]));

    var cleanXValues = cleanValues[0];
    var cleanYValues = popilyChart.format.formatNumbers(cleanValues[1]);

    var cleanXValuesSlugified = _.map(cleanXValues, popilyChart.format.slugify);
    var valueLookup = _.object(cleanXValuesSlugified, cleanXValues);
    valueLookup = _.mapObject(valueLookup, function(val, key) { 
      return {'name': val};
    });

    _.each(_.zip(cleanXValuesSlugified,cleanYValues), function(arr) {
        if(arr[1]) {
            valueLookup[arr[0]]['value'] = numeral(arr[1]).format('0,0');
        }
        else {
            valueLookup[arr[0]]['value'] = arr[1];
        }
    });

    return [cleanXValuesSlugified, cleanYValues, valueLookup];
  };

  chart.render = function(element, options, rawData) {
      var that = this;
      var preppedData = that.prepData(rawData, options);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var valueLookup = preppedData[2];
      var dataDirectory = options.dataDirectory || '/data';

      var currentMousePos = { x: -1, y: -1 };
      var onMouseMove = function(event) {
        currentMousePos.x = event.pageX;
        currentMousePos.y = event.pageY
      };

      document.onmousemove = onMouseMove;

      var insightType = rawData.analysisType;
      var geoFile = dataDirectory + '/world/countries.json';
      var isState = false;

      if(insightType.indexOf('_state') > -1) {
          geoFile = dataDirectory + '/countries/USA.json';
          isState = true;

          var lengths = _.map(xValues,function(x) { return x.length; });
          var totalLength = _.reduce(lengths,function(total, l) { return total + l });

          if(totalLength/xValues.length < 4) {
              geoFile = dataDirectory + '/countries/USA-abbr.json';
          }
      }

      var tooltip = d3.select("body")
              .append("div")
              .style("position", "absolute")
              .style("z-index", "10")
              .style("top", "0px")
              .style("visibility", "hidden")
              .style("background", "white")
              .style("padding", "4px 8px")
              .style("font-color", "#444")
              .style("font-weight", "bold")
              .text("a simple tooltip");

      var mapObj = d3.geomap.choropleth().geofile(geoFile);

      if(isState) {
          mapObj = mapObj.projection(d3.geo.albersUsa);
          var mapSize = [960,500]
          var mapScaleRate = 1;
      }
      else {
          mapObj = mapObj.projection(d3.geo.equirectangular);
          var mapSize = [960,500]
          var mapScaleRate = 0.15;
        //map = map.projection(d3.geo.mercator);
      }
    
    element.style.marginLeft = 'auto';
    element.style.marginRight = 'auto';
    var mapRatio = mapSize[0]/mapSize[1];

    if(options.height && options.height.toString().indexOf('%') > -1) {
      console.error('Choropleth map height must be supplied as pixel value, defaulting to 500');
      options.height = 500;
    }
    
    var height = options.height || 500;
    var width = element.getBoundingClientRect().width;
    if(width/mapRatio < height) {
        var height = width/mapRatio;
    }
    else {
        width = height*mapRatio;
        element.style.width = width;
    }

    var scale = height * mapRatio * mapScaleRate;

    var mapColors = options.colors;
    if(_.difference(options.colors, popilyChart.baseChart.defaults.options.colors).length == 0) {
      mapColors = ['Greens'];
    }
    
    var mapColor = mapColors[_.random(0, mapColors.length - 1)]; 

    var format = function(d) {
        return d3.format(',.2f')(d);
    }

    mapObj = mapObj
        .colors(colorbrewer[mapColor][9])
        .column('yValue')
        .unitId('xValue')
        .format(format)
        .legend(true)
        .scale(scale)
        .postUpdate(function(m) { 
            var paths = d3.select('g.units').selectAll('path');
            paths.on("mouseover", function(d) {
                var selected = d3.select(this);
                var unitName = selected.attr('class').split('unit-')[1].trim();

                selected.classed("active", true );

                var label = that.getVal(unitName,valueLookup);
                tooltip.text(label['name'] + ": " + label['value'])
                  .style("visibility", "visible");
              })
            .on("mousemove", function(){
              tooltip.style("top", Math.min((currentMousePos.y-10), wHeight-30)+"px").style("left",(currentMousePos.x+10)+"px");
            })
            .on("mouseout",  function(d) {
              d3.select(this).classed("active", false)
              tooltip.style("top", "0px").style('visibility', 'hidden');
            })
            
        });

    var data = _.map(_.zip(xValues,yValues), function(arr) { 
                        return  {
                                    xValue:arr[0],
                                    yValue:arr[1] 
                                } 
                    });
    d3.select(element)
        .datum(data)
        .call(mapObj.draw, mapObj);


    if(options.showLegend === false) {
      element.classList.add('hide-legend');
    }

    var wHeight = window.innerHeight;
    var wWidth = window.innerWidth;

    var onWindowResize = function() {
      if(wHeight == window.innerHeight && wWidth == window.innerWidth)
            return;
        wHeight = window.innerHeight;
        wWidth = window.innerWidth;
        
        var svg = element.querySelector('svg');
        d3.select(svg).remove();
        element.style.width = 'auto';
                    
        height = options.height || 500;
        width = element.parentNode.getBoundingClientRect().width;
        if(width/mapRatio < height) {
            height = width/mapRatio;
        }
        else {
            width = height*mapRatio;
            element.style.width = width;
        }
        scale = height * mapRatio * mapScaleRate;
        mapObj.scale(scale);
        mapObj.translate([width/2, height/2]);
 
        d3.select(element)
            .datum(data)
            .call(mapObj.draw, mapObj);
    };
    
    window.addEventListener("resize", onWindowResize);
  };

  popilyChart.chartTypes.choropleth = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'ratio_per_category'
  ];
  chart.accepts = [];

  chart.render = function(element, options, rawData) {
      var that = this;
      var chartPadding = that.defaults.chartPadding;
      var yValues = rawData.chartData.y.values;

      var chartData = {
          bindto: element,
          data: {
              columns: [['data', parseFloat(yValues[0]) * 100]],
              type: 'gauge'
          },              
          color: {
              pattern: options.colors
          },              
          legend: {
              hide: true
          },
          size: {
            height: options.height
          },
          onresized: function() {
              if (window.innerWidth <= 768) {
                  chart.resize({height:220});
              }
              else {
                 chart.resize({height:340});
              }
          }
      };
      var chart = c3.generate(chartData); 

      this.chart = chart;
      return this.chart;
  };

  popilyChart.chartTypes.gauge = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var chart = _.clone(popilyChart.baseChart);

  chart.defaultFor = [
    'geo_points',
    'geo_points_category',
    'geo_points_amount',
    'geo_points_category_amount'
  ];
  chart.accepts = [];

  chart.prepData = function(rawData, options) {
    var xValues = rawData.chartData.x.values;
    var zValues = [];
    if(rawData.chartData.z) {
      zValues = rawData.chartData.z.values;
    }
    var yValues = [];
    if(rawData.chartData.y) {
      yValues = rawData.chartData.y.values;
    }
    var rowLabels = [];
    if(rawData.chartData.metadata.rowlabels) {
      rowLabels = rawData.chartData.metadata.rowlabels;
    }

    return [xValues, yValues, zValues, rowLabels]

  };

  chart.render = function(element, options, rawData) {
    var preppedData = this.prepData(rawData, options);
    var coords = preppedData[0];
    var categories = preppedData[2];
    var amounts = preppedData[1];
    var labels = preppedData[3];
    var metadata = rawData.chartData.metadata;
    var analysisType = rawData.analysisType;

    var radiusToZoom = function(radius) {
        return Math.round(9-Math.log(radius)/Math.LN2);
    }

    var coords = rawData.chartData.x.values;
    var categories = [];
    if(rawData.chartData.z) {
      categories = rawData.chartData.z.values;
    }

    var layer = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>'
    });

    if(options.height && options.height.toString().indexOf('%') > -1) {
      console.error('Interactive map height must be supplied as pixel value, defaulting to 500');
      options.height = 500;
    }
    var height = options.height || 500;
    var mapContainer = document.createElement('div');
    var elId = "popily-id-" + (Math.floor(Math.random() * 90000) + 10000).toString();
    mapContainer.id = elId;
    mapContainer.style.height = height.toString() + 'px';
    element.appendChild(mapContainer);

    //console.log(elId);

    var mapObj = L.map(elId, {
        scrollWheelZoom: false,
        center: metadata.geo_center,
        zoom: radiusToZoom(metadata.geo_radius)
    });
    var scale = d3.scale.linear().range([10, 500]);
    if(amounts.length > 0) {
        scale.domain([_.min(amounts), _.max(amounts)]);
    }

    if(analysisType.indexOf('_category') > -1) {
        var categoryColorMap = {};
        var uniqueCategories = _.uniq(categories);
        var sizeDiff = uniqueCategories.length - options.colors.length;
        var colorPattern = options.colors.slice(0); //copy! 


        if(sizeDiff > 0) {
            for(var i=0;i < ((sizeDiff / options.colors.length) + 1);i++) {
                colorPattern = colorPattern.concat(colorPattern.slice(0));
            }
        }

        var combos = _.zip(uniqueCategories,colorPattern);
        _.each(combos, function(combo) {
            categoryColorMap[combo[0]] = combo[1];
        });

        var markerMap = {};
        _.each(uniqueCategories, function(uc) {
            markerMap[uc] = [];
        });

        _.each(_.zip(coords,categories,labels,amounts), function(coord) {
            var size = 20;
            if(amounts.length > 0) {
                size = scale(coord[3]);
            }

            var marker = L.circle(coord[0], size, {
                color: categoryColorMap[coord[1]],
                fillColor: categoryColorMap[coord[1]],
                fillOpacity: 0.5
            }).addTo(mapObj);

            if(labels.length == coords.length) {
                marker.bindPopup(coord[2]);
            }
            else {
                marker.bindPopup(coord[1]);
            }

            markerMap[coord[1]].push(marker);
        });

        if(options.showLegend !== false) {
          var legend = document.createElement('div');
          legend.classList.add('category-legend')

          _.each(_.keys(categoryColorMap), function(key) {
              if(key && key != 'undefined') {
                  var legendItemWrapper = document.createElement('div');
                  legendItemWrapper.setAttribute('data-category', key);
                  legendItemWrapper.classList.add('legend-color');

                  legendItemWrapper.addEventListener('mouseenter', function(e) {
                    _.each(_.keys(markerMap), function(cat) {
                        if(key == cat) {
                            _.each(markerMap[cat], function(m) {
                                m.setStyle({fillOpacity:1});
                            });
                        }
                        else {
                            _.each(markerMap[cat], function(m) {
                                m.setStyle({fillOpacity:.05,opacity:.05});
                            });
                        }
                    });
                  });

                  legendItemWrapper.addEventListener('mouseleave', function(e) {
                    _.each(_.keys(markerMap), function(cat) {
                        _.each(markerMap[cat], function(m) {
                            m.setStyle({fillOpacity:.2,opacity:.5});
                        });
                    });
                  });

                  var legendItem = document.createElement('span');
                  legendItem.style.backgroundColor = categoryColorMap[key];
                  var legendItemText = document.createElement('text');
                  legendItemText.innerHTML = key;
                  legendItemWrapper.appendChild(legendItem);
                  legendItemWrapper.appendChild(legendItemText);
                  legend.appendChild(legendItemWrapper);
              }
          });
          
          element.appendChild(legend);
          //element.style.height = (element.offsetHeight + legend.offsetHeight).toString() + 'px';
        }
    }
    else {
        //var color = _.sample(color_pattern, 1)[0];
        var color = options.colors[0];
        _.each(_.zip(coords,labels,amounts), function(coord) {
            var size = 20;
            if(amounts.length > 0) {
                size = scale(coord[2]);
            }

            var marker = L.circle(coord[0], size, {
                color: color,
                fillColor: color,
                fillOpacity: 0.5
            }).addTo(mapObj);
            if(labels.length == coords.length) {
                marker.bindPopup(coord[1]);
            }
        });
    }
    mapObj.addLayer(layer);
  };

  popilyChart.chartTypes.interactiveMap = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;

  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'count_by_datetime',
    'ratio_by_datetime',
    'average_by_datetime',
    'count_per_category_by_datetime',
    'average_per_category_by_datetime'
  ];
  chart.accepts = [];

  chart.prepData = function(rawData, options) {
    var that = this;
    var limit = that.defaults.categoryLimit;
    var cleanValues = that.cleanData(rawData);

    var order = options.order || 'auto';
    cleanValues = popilyChart.chartData.sortData(cleanValues[0],cleanValues[1],[],limit,order);

    var cleanXValues = cleanValues[0];
    var cleanYValues = popilyChart.format.formatNumbers(cleanValues[1]);

    return [cleanXValues, cleanYValues];
  };

  chart.render = function(element, options, rawData) {
      var preppedData = this.prepData(rawData, options);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var xLabel = rawData.chartData.x.label;
      var yLabel = rawData.chartData.y.label;

    
      var yMin = 0;
      var lowestY = _.min(yValues);
      if(lowestY < 0) {
          yMin = lowestY;
      }

      yValues.unshift(yLabel);

      var dayDiff = popily.chart.format.daysDiff(xValues); 
      var tickFormatStr = popily.chart.format.formatFromDayDiff(dayDiff);
      
      var interval = options.interval;

      var dateFormatStr = popily.chart.format.formatFromInterval(interval);
      if(_.isUndefined(interval)) {
        dateFormatStr = popily.chart.format.formatFromInspection(xValues);
      }
      
      var dateFormat = d3.time.format(dateFormatStr);
      var tickFormat = d3.time.format(tickFormatStr);
      var fullFormat = d3.time.format('%Y-%m-%d %H:%M:%S');

      var ticksValues = popily.chart.format.tickFormatValues(xValues, tickFormatStr, dateFormat);
      
      if(dateFormat != fullFormat)
          xValues = _.map(xValues, function(d) {
                  return dateFormat(fullFormat.parse(d.split('.')[0]));
              });
          
      xValues.unshift('x');

      var chartPadding = {right: 10, top: 10};
      
      if(!_.isUndefined(options.lineSize)) {
        var style = popily.chart.utils.createStyleElement('.'+options.uniqueClassName+' .c3-line { stroke-width: '+options.lineSize+'px; }')
        element.parentNode.appendChild(style);
      }

      var chartData = {
          bindto: element,
          data: {
              x: 'x',
              xFormat: dateFormatStr, // 'xFormat' can be used as custom format of 'x'
              columns: [xValues,yValues]
          },
          padding: chartPadding,
          axis: {
              x: {
                  type: options.order == 'auto' ? 'timeseries' : 'category',
                  tick: {
                      fit: false,
                      format: tickFormatStr,
                      rotate:30,
                      multiline: false,
                      height: 130
                  },
                  label: {
                     text: xLabel,
                     position: 'inner-right'
                  }
              },
              y: {
                  show: true,
                  min: yMin,
                  label: {
                      text: yLabel,
                      position: 'outer-middle'
                  },
                  tick: {
                      format: d3.format(",")
                  }
              }
          },
          color: {
              pattern: options.colors
          },
          legend: {
              hide: true
          },
          size: {
              height: options.height
          },
          line: {
              connectNull: true
          },
          point: {
            r: (options.pointSize || 2.5)
          },
          grid: {
              x: {
                  show: false
              },
              y: {
                  show: true
              }
          },
          tooltip: (_.isUndefined(options.tooltip)?true:options.tooltip)
      }

      if(options.order == 'auto') {
        chartData.tooltip.format = {
          title: function(d) {
            return dateFormat(d);
          } 
        }

        chartData.axis.x.tick.values = ticksValues;
      }

      var chart = c3.generate(chartData);
      this.chart = chart;

      popily.chart.utils.updateChart(element, chart, chartData, chartPadding);

      return this.chart;
  };

  popilyChart.chartTypes.line = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;

  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'average_by_category_by_datetime',
    'count_by_category_by_category_by_datetime'
  ];
  chart.accepts = [
    'sum_by_datetime',
    'ratio_by_datetime',
    'sum_per_category_by_datetime',
    'sum_by_category_by_datetime',
    'count_by_category_by_datetime'
  ];

  chart.render = function(element, options, rawData) {
      return popilyChart.chartTypes.linear.render(element, options, rawData);
  };

  popilyChart.chartTypes.multiLine = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var pie = _.clone(popilyChart.baseChart);
  pie.defaultFor = [
    'ratio_by_category'
  ];
  pie.accepts = [
    'count_by_value',
    'count_by_category'
  ];

  pie.prepData = function(rawData, options) {
    var that = this;
    var limit = that.defaults.pieLimit;
    var cleanValues = that.cleanData(rawData);
    var order = options.order || 'auto';

    cleanValues = popilyChart.chartData.sortData(cleanValues[0],cleanValues[1],[],limit,order);

    var cleanXValues = cleanValues[0];
    var cleanYValues = popilyChart.format.formatNumbers(popilyChart.format.toNumber(cleanValues[1]));

    return [cleanXValues, cleanYValues];
  };

  pie.render = function(element, options, rawData) {
      var that = this;
      var chartPadding = that.defaults.chartPadding;
      var preppedData = this.prepData(rawData, options);
      var columns = _.zip(preppedData[0],preppedData[1]);

      var chartData = {
          bindto: element,
          data: {
              columns: columns,
              type: 'pie',
              order:null
          },
          color: {
              pattern: options.colors
          },
          legend: {
              position: 'bottom',
              show: preppedData[0].length < 20 ? true : false
          },
          size: {
            height: options.height
          },
          tooltip: (_.isUndefined(options.tooltip)?true:options.tooltip)
      };
      var chart = c3.generate(chartData); 

      this.chart = chart;
      return this.chart;
  };

  popilyChart.chartTypes.pie = pie;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'scatterplot_by_category'
  ];
  chart.accepts = [];

  chart.render = function(element, options, rawData) {
      var preppedData = popilyChart.chartTypes.compare.prepData(rawData, options);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var zValues = preppedData[2];
      var xLabel = rawData.chartData.x.label;
      var yLabel = rawData.chartData.y.label;
      var zLabel = rawData.chartData.z.label;    

      var columns = [];
      var xs = {};
      var zs = {};

      /*
      console.log(xValues);
      console.log(yValues);
      console.log(zValues);
      */
      _.each(_.uniq(zValues), function(z) {
          zs[z] = {xs:[],ys:[]};
      });

      _.each(zValues, function(z,i) {
          zs[z].ys.push(yValues[i]);
          zs[z].xs.push(xValues[i]);
      });
      
      _.each(_.keys(zs), function(z) {
          zs[z].xs.unshift(z+'_x');
          zs[z].ys.unshift(z);

          xs[z] = z+'_x';
          columns.push(zs[z].xs);
          columns.push(zs[z].ys);
      });


      var tooltip = options.tooltip || {
          contents: function (d, defaultTitleFormat, defaultValueFormat, color) {
              var markup = '<div class="scatter-tooltip"><h3 ><span class="square" style="background-color:' + color(d[0].id) + '"></span> ' + xLabel + ':&nbsp;<strong>' + d[0].x + '</strong>, ' + yLabel + ':&nbsp;<strong>' + d[0].value + '</strong></h3>';
              markup += zLabel + ': <strong>';
              markup += d[0].name;
              markup += '</strong>';
              markup += '</div>';
              return markup;
          }
      };

      var showLegend = true;
      if(_.unique(zValues).length > 25) {
          showLegend = false;
      }

      return popilyChart.chartTypes.compare.render(element, options, columns, xs, xLabel, yLabel, tooltip);
  };

  popilyChart.chartTypes.scatterplotCategory = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;
  
  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'scatterplot',
    'scatterplot_per_category'
  ];
  chart.accepts = [];

  chart.render = function(element, options, rawData) {
      var preppedData = popilyChart.chartTypes.compare.prepData(rawData, options);
      var xValues = preppedData[0];
      var yValues = preppedData[1];
      var zValues = preppedData[2];
      var xLabel = rawData.chartData.x.label;
      var yLabel = rawData.chartData.y.label;    


      var columns = [];
      yValues.unshift(yLabel);
      xValues.unshift(xLabel);
      var xs = {};
      xs[yLabel] = xLabel;
      columns.push(xValues);
      columns.push(yValues);

      var tooltip = options.tooltip || {
          contents: function (d, defaultTitleFormat, defaultValueFormat, color) {
              var markup = '<div class="scatter-tooltip"><h3>'+xLabel+':&nbsp;<strong>' + d[0].x + '</strong>, '+yLabel+':&nbsp;<strong>' + d[0].value + '</strong></h3>';
              markup += '<div style="max-width: 350px;">';
              
              /*
              markup += '{{insight.z_title|escapejs|safe}}: <strong>';
              var found = [];
              _.each(_.zip(formatNumbers(cleanValues[0]),formatNumbers(cleanValues[1]),cleanValues[2]), function(val) {
                  if(val[0] == d[0].x && val[1] == d[0].value) {
                      found.push(val[2]);
                  }
              });

              if(found.length > 0) {
                  markup += (found.join(', '));
              }
              */
              
              markup += '</strong></div>';
              markup += '</div>';
              return markup;
          }
      };
        
      return popilyChart.chartTypes.compare.render(element, options, columns, xs, xLabel, yLabel, tooltip);
  };

  popilyChart.chartTypes.scatterplot = chart;
})(window);

(function(window) {
  var popilyChart = window.popily.chart;

  var chart = _.clone(popilyChart.baseChart);
  chart.defaultFor = [
    'sum_by_datetime',
    'ratio_by_datetime',
    'sum_per_category_by_datetime',
    'sum_by_category_by_datetime',
    'count_by_category_by_datetime'
  ];
  chart.accepts = [
    'count_by_datetime',
    'ratio_by_datetime',
    'average_by_datetime',
    'count_per_category_by_datetime',
    'average_per_category_by_datetime',
    'average_by_category_by_datetime'
  ];

  chart.render = function(element, options, rawData) {
      return popilyChart.chartTypes.linear.render(element, options, rawData, true);
  };

  popilyChart.chartTypes.stackedArea = chart;
})(window);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImQzLm1pbi5qcyIsImQzLmdlb21hcC5kZXBlbmRlbmNpZXMubWluLmpzIiwiZDMuZ2VvbWFwLm1pbi5qcyIsImQzLXRpcC5qcyIsInBhdGhzZWcuanMiLCJjMy5taW4uanMiLCJ1bmRlcnNjb3JlLm1pbi5qcyIsIm51bWVyYWwubWluLmpzIiwibGVhZmxldC5taW4uanMiLCJwb3BpbHktYXBpLmpzIiwicG9waWx5LmpzIiwiYW5hbHl6ZS5qcyIsImNoYXJ0LWRhdGEuanMiLCJkYXRhc2V0LmpzIiwiZm9ybWF0LmpzIiwidXRpbHMuanMiLCJsYWJlbC5qcyIsImJhci5qcyIsImNvbXBhcmUuanMiLCJsaW5lYXIuanMiLCJiYXItZ3JvdXBlZC5qcyIsImJhci1vci1idWJibGUuanMiLCJiYXItc3RhY2tlZC5qcyIsImJ1YmJsZS5qcyIsImNob3JvcGxldGguanMiLCJnYXVnZS5qcyIsImludGVyYWN0aXZlLW1hcC5qcyIsImxpbmUuanMiLCJtdWx0aS1saW5lLmpzIiwicGllLmpzIiwic2NhdHRlcnBsb3QtY2F0ZWdvcnkuanMiLCJzY2F0dGVycGxvdC5qcyIsInN0YWNrZWQtYXJlYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1BBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDblVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5eUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcldBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcldBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDek1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBTHpGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QU1uSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InBvcGlseS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7cmV0dXJuIG4mJihuLm93bmVyRG9jdW1lbnR8fG4uZG9jdW1lbnR8fG4pLmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiB0KG4pe3JldHVybiBuJiYobi5vd25lckRvY3VtZW50JiZuLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXd8fG4uZG9jdW1lbnQmJm58fG4uZGVmYXVsdFZpZXcpfWZ1bmN0aW9uIGUobix0KXtyZXR1cm4gdD5uPy0xOm4+dD8xOm4+PXQ/MDpOYU59ZnVuY3Rpb24gcihuKXtyZXR1cm4gbnVsbD09PW4/TmFOOitufWZ1bmN0aW9uIHUobil7cmV0dXJuIWlzTmFOKG4pfWZ1bmN0aW9uIGkobil7cmV0dXJue2xlZnQ6ZnVuY3Rpb24odCxlLHIsdSl7Zm9yKGFyZ3VtZW50cy5sZW5ndGg8MyYmKHI9MCksYXJndW1lbnRzLmxlbmd0aDw0JiYodT10Lmxlbmd0aCk7dT5yOyl7dmFyIGk9cit1Pj4+MTtuKHRbaV0sZSk8MD9yPWkrMTp1PWl9cmV0dXJuIHJ9LHJpZ2h0OmZ1bmN0aW9uKHQsZSxyLHUpe2Zvcihhcmd1bWVudHMubGVuZ3RoPDMmJihyPTApLGFyZ3VtZW50cy5sZW5ndGg8NCYmKHU9dC5sZW5ndGgpO3U+cjspe3ZhciBpPXIrdT4+PjE7bih0W2ldLGUpPjA/dT1pOnI9aSsxfXJldHVybiByfX19ZnVuY3Rpb24gYShuKXtyZXR1cm4gbi5sZW5ndGh9ZnVuY3Rpb24gbyhuKXtmb3IodmFyIHQ9MTtuKnQlMTspdCo9MTA7cmV0dXJuIHR9ZnVuY3Rpb24gbChuLHQpe2Zvcih2YXIgZSBpbiB0KU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxlLHt2YWx1ZTp0W2VdLGVudW1lcmFibGU6ITF9KX1mdW5jdGlvbiBjKCl7dGhpcy5fPU9iamVjdC5jcmVhdGUobnVsbCl9ZnVuY3Rpb24gcyhuKXtyZXR1cm4obis9XCJcIik9PT14YXx8blswXT09PWJhP2JhK246bn1mdW5jdGlvbiBmKG4pe3JldHVybihuKz1cIlwiKVswXT09PWJhP24uc2xpY2UoMSk6bn1mdW5jdGlvbiBoKG4pe3JldHVybiBzKG4paW4gdGhpcy5ffWZ1bmN0aW9uIGcobil7cmV0dXJuKG49cyhuKSlpbiB0aGlzLl8mJmRlbGV0ZSB0aGlzLl9bbl19ZnVuY3Rpb24gcCgpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl8pbi5wdXNoKGYodCkpO3JldHVybiBufWZ1bmN0aW9uIHYoKXt2YXIgbj0wO2Zvcih2YXIgdCBpbiB0aGlzLl8pKytuO3JldHVybiBufWZ1bmN0aW9uIGQoKXtmb3IodmFyIG4gaW4gdGhpcy5fKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIG0oKXt0aGlzLl89T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiB5KG4pe3JldHVybiBufWZ1bmN0aW9uIE0obix0LGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciByPWUuYXBwbHkodCxhcmd1bWVudHMpO3JldHVybiByPT09dD9uOnJ9fWZ1bmN0aW9uIHgobix0KXtpZih0IGluIG4pcmV0dXJuIHQ7dD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7Zm9yKHZhciBlPTAscj1fYS5sZW5ndGg7cj5lOysrZSl7dmFyIHU9X2FbZV0rdDtpZih1IGluIG4pcmV0dXJuIHV9fWZ1bmN0aW9uIGIoKXt9ZnVuY3Rpb24gXygpe31mdW5jdGlvbiB3KG4pe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHQscj1lLHU9LTEsaT1yLmxlbmd0aDsrK3U8aTspKHQ9clt1XS5vbikmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBufXZhciBlPVtdLHI9bmV3IGM7cmV0dXJuIHQub249ZnVuY3Rpb24odCx1KXt2YXIgaSxhPXIuZ2V0KHQpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/YSYmYS5vbjooYSYmKGEub249bnVsbCxlPWUuc2xpY2UoMCxpPWUuaW5kZXhPZihhKSkuY29uY2F0KGUuc2xpY2UoaSsxKSksci5yZW1vdmUodCkpLHUmJmUucHVzaChyLnNldCh0LHtvbjp1fSkpLG4pfSx0fWZ1bmN0aW9uIFMoKXtvYS5ldmVudC5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGsoKXtmb3IodmFyIG4sdD1vYS5ldmVudDtuPXQuc291cmNlRXZlbnQ7KXQ9bjtyZXR1cm4gdH1mdW5jdGlvbiBOKG4pe2Zvcih2YXIgdD1uZXcgXyxlPTAscj1hcmd1bWVudHMubGVuZ3RoOysrZTxyOyl0W2FyZ3VtZW50c1tlXV09dyh0KTtyZXR1cm4gdC5vZj1mdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbih1KXt0cnl7dmFyIGk9dS5zb3VyY2VFdmVudD1vYS5ldmVudDt1LnRhcmdldD1uLG9hLmV2ZW50PXUsdFt1LnR5cGVdLmFwcGx5KGUscil9ZmluYWxseXtvYS5ldmVudD1pfX19LHR9ZnVuY3Rpb24gRShuKXtyZXR1cm4gU2EobixBYSksbn1mdW5jdGlvbiBBKG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpmdW5jdGlvbigpe3JldHVybiBrYShuLHRoaXMpfX1mdW5jdGlvbiBDKG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpmdW5jdGlvbigpe3JldHVybiBOYShuLHRoaXMpfX1mdW5jdGlvbiB6KG4sdCl7ZnVuY3Rpb24gZSgpe3RoaXMucmVtb3ZlQXR0cmlidXRlKG4pfWZ1bmN0aW9uIHIoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKG4uc3BhY2Usbi5sb2NhbCl9ZnVuY3Rpb24gdSgpe3RoaXMuc2V0QXR0cmlidXRlKG4sdCl9ZnVuY3Rpb24gaSgpe3RoaXMuc2V0QXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsLHQpfWZ1bmN0aW9uIGEoKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1lP3RoaXMucmVtb3ZlQXR0cmlidXRlKG4pOnRoaXMuc2V0QXR0cmlidXRlKG4sZSl9ZnVuY3Rpb24gbygpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWU/dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhuLnNwYWNlLG4ubG9jYWwpOnRoaXMuc2V0QXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsLGUpfXJldHVybiBuPW9hLm5zLnF1YWxpZnkobiksbnVsbD09dD9uLmxvY2FsP3I6ZTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P24ubG9jYWw/bzphOm4ubG9jYWw/aTp1fWZ1bmN0aW9uIEwobil7cmV0dXJuIG4udHJpbSgpLnJlcGxhY2UoL1xccysvZyxcIiBcIil9ZnVuY3Rpb24gcShuKXtyZXR1cm4gbmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiK29hLnJlcXVvdGUobikrXCIoPzpcXFxccyt8JClcIixcImdcIil9ZnVuY3Rpb24gVChuKXtyZXR1cm4obitcIlwiKS50cmltKCkuc3BsaXQoL158XFxzKy8pfWZ1bmN0aW9uIFIobix0KXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlPS0xOysrZTx1OyluW2VdKHRoaXMsdCl9ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT0tMSxyPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpOysrZTx1OyluW2VdKHRoaXMscil9bj1UKG4pLm1hcChEKTt2YXIgdT1uLmxlbmd0aDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3I6ZX1mdW5jdGlvbiBEKG4pe3ZhciB0PXEobik7cmV0dXJuIGZ1bmN0aW9uKGUscil7aWYodT1lLmNsYXNzTGlzdClyZXR1cm4gcj91LmFkZChuKTp1LnJlbW92ZShuKTt2YXIgdT1lLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiO3I/KHQubGFzdEluZGV4PTAsdC50ZXN0KHUpfHxlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsTCh1K1wiIFwiK24pKSk6ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLEwodS5yZXBsYWNlKHQsXCIgXCIpKSl9fWZ1bmN0aW9uIFAobix0LGUpe2Z1bmN0aW9uIHIoKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG4pfWZ1bmN0aW9uIHUoKXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KG4sdCxlKX1mdW5jdGlvbiBpKCl7dmFyIHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09cj90aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG4pOnRoaXMuc3R5bGUuc2V0UHJvcGVydHkobixyLGUpfXJldHVybiBudWxsPT10P3I6XCJmdW5jdGlvblwiPT10eXBlb2YgdD9pOnV9ZnVuY3Rpb24gVShuLHQpe2Z1bmN0aW9uIGUoKXtkZWxldGUgdGhpc1tuXX1mdW5jdGlvbiByKCl7dGhpc1tuXT10fWZ1bmN0aW9uIHUoKXt2YXIgZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1lP2RlbGV0ZSB0aGlzW25dOnRoaXNbbl09ZX1yZXR1cm4gbnVsbD09dD9lOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dTpyfWZ1bmN0aW9uIGoobil7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXMub3duZXJEb2N1bWVudCxlPXRoaXMubmFtZXNwYWNlVVJJO3JldHVybiBlPT09Q2EmJnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSST09PUNhP3QuY3JlYXRlRWxlbWVudChuKTp0LmNyZWF0ZUVsZW1lbnROUyhlLG4pfWZ1bmN0aW9uIGUoKXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuLnNwYWNlLG4ubG9jYWwpfXJldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjoobj1vYS5ucy5xdWFsaWZ5KG4pKS5sb2NhbD9lOnR9ZnVuY3Rpb24gRigpe3ZhciBuPXRoaXMucGFyZW50Tm9kZTtuJiZuLnJlbW92ZUNoaWxkKHRoaXMpfWZ1bmN0aW9uIEgobil7cmV0dXJue19fZGF0YV9fOm59fWZ1bmN0aW9uIE8obil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEVhKHRoaXMsbil9fWZ1bmN0aW9uIEkobil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGh8fChuPWUpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJmU/bih0Ll9fZGF0YV9fLGUuX19kYXRhX18pOiF0LSFlfX1mdW5jdGlvbiBZKG4sdCl7Zm9yKHZhciBlPTAscj1uLmxlbmd0aDtyPmU7ZSsrKWZvcih2YXIgdSxpPW5bZV0sYT0wLG89aS5sZW5ndGg7bz5hO2ErKykodT1pW2FdKSYmdCh1LGEsZSk7cmV0dXJuIG59ZnVuY3Rpb24gWihuKXtyZXR1cm4gU2EobixMYSksbn1mdW5jdGlvbiBWKG4pe3ZhciB0LGU7cmV0dXJuIGZ1bmN0aW9uKHIsdSxpKXt2YXIgYSxvPW5baV0udXBkYXRlLGw9by5sZW5ndGg7Zm9yKGkhPWUmJihlPWksdD0wKSx1Pj10JiYodD11KzEpOyEoYT1vW3RdKSYmKyt0PGw7KTtyZXR1cm4gYX19ZnVuY3Rpb24gWChuLHQsZSl7ZnVuY3Rpb24gcigpe3ZhciB0PXRoaXNbYV07dCYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHQsdC4kKSxkZWxldGUgdGhpc1thXSl9ZnVuY3Rpb24gdSgpe3ZhciB1PWwodCxjYShhcmd1bWVudHMpKTtyLmNhbGwodGhpcyksdGhpcy5hZGRFdmVudExpc3RlbmVyKG4sdGhpc1thXT11LHUuJD1lKSx1Ll89dH1mdW5jdGlvbiBpKCl7dmFyIHQsZT1uZXcgUmVnRXhwKFwiXl9fb24oW14uXSspXCIrb2EucmVxdW90ZShuKStcIiRcIik7Zm9yKHZhciByIGluIHRoaXMpaWYodD1yLm1hdGNoKGUpKXt2YXIgdT10aGlzW3JdO3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0WzFdLHUsdS4kKSxkZWxldGUgdGhpc1tyXX19dmFyIGE9XCJfX29uXCIrbixvPW4uaW5kZXhPZihcIi5cIiksbD0kO28+MCYmKG49bi5zbGljZSgwLG8pKTt2YXIgYz1xYS5nZXQobik7cmV0dXJuIGMmJihuPWMsbD1CKSxvP3Q/dTpyOnQ/YjppfWZ1bmN0aW9uICQobix0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9b2EuZXZlbnQ7b2EuZXZlbnQ9ZSx0WzBdPXRoaXMuX19kYXRhX187dHJ5e24uYXBwbHkodGhpcyx0KX1maW5hbGx5e29hLmV2ZW50PXJ9fX1mdW5jdGlvbiBCKG4sdCl7dmFyIGU9JChuLHQpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgdD10aGlzLHI9bi5yZWxhdGVkVGFyZ2V0O3ImJihyPT09dHx8OCZyLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpKXx8ZS5jYWxsKHQsbil9fWZ1bmN0aW9uIFcoZSl7dmFyIHI9XCIuZHJhZ3N1cHByZXNzLVwiKyArK1JhLHU9XCJjbGlja1wiK3IsaT1vYS5zZWxlY3QodChlKSkub24oXCJ0b3VjaG1vdmVcIityLFMpLm9uKFwiZHJhZ3N0YXJ0XCIrcixTKS5vbihcInNlbGVjdHN0YXJ0XCIrcixTKTtpZihudWxsPT1UYSYmKFRhPVwib25zZWxlY3RzdGFydFwiaW4gZT8hMTp4KGUuc3R5bGUsXCJ1c2VyU2VsZWN0XCIpKSxUYSl7dmFyIGE9bihlKS5zdHlsZSxvPWFbVGFdO2FbVGFdPVwibm9uZVwifXJldHVybiBmdW5jdGlvbihuKXtpZihpLm9uKHIsbnVsbCksVGEmJihhW1RhXT1vKSxuKXt2YXIgdD1mdW5jdGlvbigpe2kub24odSxudWxsKX07aS5vbih1LGZ1bmN0aW9uKCl7UygpLHQoKX0sITApLHNldFRpbWVvdXQodCwwKX19fWZ1bmN0aW9uIEoobixlKXtlLmNoYW5nZWRUb3VjaGVzJiYoZT1lLmNoYW5nZWRUb3VjaGVzWzBdKTt2YXIgcj1uLm93bmVyU1ZHRWxlbWVudHx8bjtpZihyLmNyZWF0ZVNWR1BvaW50KXt2YXIgdT1yLmNyZWF0ZVNWR1BvaW50KCk7aWYoMD5EYSl7dmFyIGk9dChuKTtpZihpLnNjcm9sbFh8fGkuc2Nyb2xsWSl7cj1vYS5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcInN2Z1wiKS5zdHlsZSh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxwYWRkaW5nOjAsYm9yZGVyOlwibm9uZVwifSxcImltcG9ydGFudFwiKTt2YXIgYT1yWzBdWzBdLmdldFNjcmVlbkNUTSgpO0RhPSEoYS5mfHxhLmUpLHIucmVtb3ZlKCl9fXJldHVybiBEYT8odS54PWUucGFnZVgsdS55PWUucGFnZVkpOih1Lng9ZS5jbGllbnRYLHUueT1lLmNsaWVudFkpLHU9dS5tYXRyaXhUcmFuc2Zvcm0obi5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpLFt1LngsdS55XX12YXIgbz1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybltlLmNsaWVudFgtby5sZWZ0LW4uY2xpZW50TGVmdCxlLmNsaWVudFktby50b3Atbi5jbGllbnRUb3BdfWZ1bmN0aW9uIEcoKXtyZXR1cm4gb2EuZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcn1mdW5jdGlvbiBLKG4pe3JldHVybiBuPjA/MTowPm4/LTE6MH1mdW5jdGlvbiBRKG4sdCxlKXtyZXR1cm4odFswXS1uWzBdKSooZVsxXS1uWzFdKS0odFsxXS1uWzFdKSooZVswXS1uWzBdKX1mdW5jdGlvbiBubihuKXtyZXR1cm4gbj4xPzA6LTE+bj9qYTpNYXRoLmFjb3Mobil9ZnVuY3Rpb24gdG4obil7cmV0dXJuIG4+MT9PYTotMT5uPy1PYTpNYXRoLmFzaW4obil9ZnVuY3Rpb24gZW4obil7cmV0dXJuKChuPU1hdGguZXhwKG4pKS0xL24pLzJ9ZnVuY3Rpb24gcm4obil7cmV0dXJuKChuPU1hdGguZXhwKG4pKSsxL24pLzJ9ZnVuY3Rpb24gdW4obil7cmV0dXJuKChuPU1hdGguZXhwKDIqbikpLTEpLyhuKzEpfWZ1bmN0aW9uIGFuKG4pe3JldHVybihuPU1hdGguc2luKG4vMikpKm59ZnVuY3Rpb24gb24oKXt9ZnVuY3Rpb24gbG4obix0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbG4/KHRoaXMuaD0rbix0aGlzLnM9K3Qsdm9pZCh0aGlzLmw9K2UpKTphcmd1bWVudHMubGVuZ3RoPDI/biBpbnN0YW5jZW9mIGxuP25ldyBsbihuLmgsbi5zLG4ubCk6X24oXCJcIituLHduLGxuKTpuZXcgbG4obix0LGUpfWZ1bmN0aW9uIGNuKG4sdCxlKXtmdW5jdGlvbiByKG4pe3JldHVybiBuPjM2MD9uLT0zNjA6MD5uJiYobis9MzYwKSw2MD5uP2krKGEtaSkqbi82MDoxODA+bj9hOjI0MD5uP2krKGEtaSkqKDI0MC1uKS82MDppfWZ1bmN0aW9uIHUobil7cmV0dXJuIE1hdGgucm91bmQoMjU1KnIobikpfXZhciBpLGE7cmV0dXJuIG49aXNOYU4obik/MDoobiU9MzYwKTwwP24rMzYwOm4sdD1pc05hTih0KT8wOjA+dD8wOnQ+MT8xOnQsZT0wPmU/MDplPjE/MTplLGE9LjU+PWU/ZSooMSt0KTplK3QtZSp0LGk9MiplLWEsbmV3IHluKHUobisxMjApLHUobiksdShuLTEyMCkpfWZ1bmN0aW9uIHNuKG4sdCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHNuPyh0aGlzLmg9K24sdGhpcy5jPSt0LHZvaWQodGhpcy5sPStlKSk6YXJndW1lbnRzLmxlbmd0aDwyP24gaW5zdGFuY2VvZiBzbj9uZXcgc24obi5oLG4uYyxuLmwpOm4gaW5zdGFuY2VvZiBobj9wbihuLmwsbi5hLG4uYik6cG4oKG49U24oKG49b2EucmdiKG4pKS5yLG4uZyxuLmIpKS5sLG4uYSxuLmIpOm5ldyBzbihuLHQsZSl9ZnVuY3Rpb24gZm4obix0LGUpe3JldHVybiBpc05hTihuKSYmKG49MCksaXNOYU4odCkmJih0PTApLG5ldyBobihlLE1hdGguY29zKG4qPUlhKSp0LE1hdGguc2luKG4pKnQpfWZ1bmN0aW9uIGhuKG4sdCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGhuPyh0aGlzLmw9K24sdGhpcy5hPSt0LHZvaWQodGhpcy5iPStlKSk6YXJndW1lbnRzLmxlbmd0aDwyP24gaW5zdGFuY2VvZiBobj9uZXcgaG4obi5sLG4uYSxuLmIpOm4gaW5zdGFuY2VvZiBzbj9mbihuLmgsbi5jLG4ubCk6U24oKG49eW4obikpLnIsbi5nLG4uYik6bmV3IGhuKG4sdCxlKX1mdW5jdGlvbiBnbihuLHQsZSl7dmFyIHI9KG4rMTYpLzExNix1PXIrdC81MDAsaT1yLWUvMjAwO3JldHVybiB1PXZuKHUpKlFhLHI9dm4ocikqbm8saT12bihpKSp0byxuZXcgeW4obW4oMy4yNDA0NTQyKnUtMS41MzcxMzg1KnItLjQ5ODUzMTQqaSksbW4oLS45NjkyNjYqdSsxLjg3NjAxMDgqcisuMDQxNTU2KmkpLG1uKC4wNTU2NDM0KnUtLjIwNDAyNTkqcisxLjA1NzIyNTIqaSkpfWZ1bmN0aW9uIHBuKG4sdCxlKXtyZXR1cm4gbj4wP25ldyBzbihNYXRoLmF0YW4yKGUsdCkqWWEsTWF0aC5zcXJ0KHQqdCtlKmUpLG4pOm5ldyBzbihOYU4sTmFOLG4pfWZ1bmN0aW9uIHZuKG4pe3JldHVybiBuPi4yMDY4OTMwMzQ/bipuKm46KG4tNC8yOSkvNy43ODcwMzd9ZnVuY3Rpb24gZG4obil7cmV0dXJuIG4+LjAwODg1Nj9NYXRoLnBvdyhuLDEvMyk6Ny43ODcwMzcqbis0LzI5fWZ1bmN0aW9uIG1uKG4pe3JldHVybiBNYXRoLnJvdW5kKDI1NSooLjAwMzA0Pj1uPzEyLjkyKm46MS4wNTUqTWF0aC5wb3cobiwxLzIuNCktLjA1NSkpfWZ1bmN0aW9uIHluKG4sdCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHluPyh0aGlzLnI9fn5uLHRoaXMuZz1+fnQsdm9pZCh0aGlzLmI9fn5lKSk6YXJndW1lbnRzLmxlbmd0aDwyP24gaW5zdGFuY2VvZiB5bj9uZXcgeW4obi5yLG4uZyxuLmIpOl9uKFwiXCIrbix5bixjbik6bmV3IHluKG4sdCxlKX1mdW5jdGlvbiBNbihuKXtyZXR1cm4gbmV3IHluKG4+PjE2LG4+PjgmMjU1LDI1NSZuKX1mdW5jdGlvbiB4bihuKXtyZXR1cm4gTW4obikrXCJcIn1mdW5jdGlvbiBibihuKXtyZXR1cm4gMTY+bj9cIjBcIitNYXRoLm1heCgwLG4pLnRvU3RyaW5nKDE2KTpNYXRoLm1pbigyNTUsbikudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIF9uKG4sdCxlKXt2YXIgcix1LGksYT0wLG89MCxsPTA7aWYocj0vKFthLXpdKylcXCgoLiopXFwpLy5leGVjKG49bi50b0xvd2VyQ2FzZSgpKSlzd2l0Y2godT1yWzJdLnNwbGl0KFwiLFwiKSxyWzFdKXtjYXNlXCJoc2xcIjpyZXR1cm4gZShwYXJzZUZsb2F0KHVbMF0pLHBhcnNlRmxvYXQodVsxXSkvMTAwLHBhcnNlRmxvYXQodVsyXSkvMTAwKTtjYXNlXCJyZ2JcIjpyZXR1cm4gdChObih1WzBdKSxObih1WzFdKSxObih1WzJdKSl9cmV0dXJuKGk9dW8uZ2V0KG4pKT90KGkucixpLmcsaS5iKToobnVsbD09bnx8XCIjXCIhPT1uLmNoYXJBdCgwKXx8aXNOYU4oaT1wYXJzZUludChuLnNsaWNlKDEpLDE2KSl8fCg0PT09bi5sZW5ndGg/KGE9KDM4NDAmaSk+PjQsYT1hPj40fGEsbz0yNDAmaSxvPW8+PjR8byxsPTE1JmksbD1sPDw0fGwpOjc9PT1uLmxlbmd0aCYmKGE9KDE2NzExNjgwJmkpPj4xNixvPSg2NTI4MCZpKT4+OCxsPTI1NSZpKSksdChhLG8sbCkpfWZ1bmN0aW9uIHduKG4sdCxlKXt2YXIgcix1LGk9TWF0aC5taW4obi89MjU1LHQvPTI1NSxlLz0yNTUpLGE9TWF0aC5tYXgobix0LGUpLG89YS1pLGw9KGEraSkvMjtyZXR1cm4gbz8odT0uNT5sP28vKGEraSk6by8oMi1hLWkpLHI9bj09YT8odC1lKS9vKyhlPnQ/NjowKTp0PT1hPyhlLW4pL28rMjoobi10KS9vKzQscio9NjApOihyPU5hTix1PWw+MCYmMT5sPzA6ciksbmV3IGxuKHIsdSxsKX1mdW5jdGlvbiBTbihuLHQsZSl7bj1rbihuKSx0PWtuKHQpLGU9a24oZSk7dmFyIHI9ZG4oKC40MTI0NTY0Km4rLjM1NzU3NjEqdCsuMTgwNDM3NSplKS9RYSksdT1kbigoLjIxMjY3MjkqbisuNzE1MTUyMip0Ky4wNzIxNzUqZSkvbm8pLGk9ZG4oKC4wMTkzMzM5Km4rLjExOTE5Mip0Ky45NTAzMDQxKmUpL3RvKTtyZXR1cm4gaG4oMTE2KnUtMTYsNTAwKihyLXUpLDIwMCoodS1pKSl9ZnVuY3Rpb24ga24obil7cmV0dXJuKG4vPTI1NSk8PS4wNDA0NT9uLzEyLjkyOk1hdGgucG93KChuKy4wNTUpLzEuMDU1LDIuNCl9ZnVuY3Rpb24gTm4obil7dmFyIHQ9cGFyc2VGbG9hdChuKTtyZXR1cm5cIiVcIj09PW4uY2hhckF0KG4ubGVuZ3RoLTEpP01hdGgucm91bmQoMi41NSp0KTp0fWZ1bmN0aW9uIEVuKG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpmdW5jdGlvbigpe3JldHVybiBufX1mdW5jdGlvbiBBbihuKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe3JldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHI9ZSxlPW51bGwpLENuKHQsZSxuLHIpfX1mdW5jdGlvbiBDbihuLHQsZSxyKXtmdW5jdGlvbiB1KCl7dmFyIG4sdD1sLnN0YXR1cztpZighdCYmTG4obCl8fHQ+PTIwMCYmMzAwPnR8fDMwND09PXQpe3RyeXtuPWUuY2FsbChpLGwpfWNhdGNoKHIpe3JldHVybiB2b2lkIGEuZXJyb3IuY2FsbChpLHIpfWEubG9hZC5jYWxsKGksbil9ZWxzZSBhLmVycm9yLmNhbGwoaSxsKX12YXIgaT17fSxhPW9hLmRpc3BhdGNoKFwiYmVmb3Jlc2VuZFwiLFwicHJvZ3Jlc3NcIixcImxvYWRcIixcImVycm9yXCIpLG89e30sbD1uZXcgWE1MSHR0cFJlcXVlc3QsYz1udWxsO3JldHVybiF0aGlzLlhEb21haW5SZXF1ZXN0fHxcIndpdGhDcmVkZW50aWFsc1wiaW4gbHx8IS9eKGh0dHAocyk/Oik/XFwvXFwvLy50ZXN0KG4pfHwobD1uZXcgWERvbWFpblJlcXVlc3QpLFwib25sb2FkXCJpbiBsP2wub25sb2FkPWwub25lcnJvcj11Omwub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bC5yZWFkeVN0YXRlPjMmJnUoKX0sbC5vbnByb2dyZXNzPWZ1bmN0aW9uKG4pe3ZhciB0PW9hLmV2ZW50O29hLmV2ZW50PW47dHJ5e2EucHJvZ3Jlc3MuY2FsbChpLGwpfWZpbmFsbHl7b2EuZXZlbnQ9dH19LGkuaGVhZGVyPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49KG4rXCJcIikudG9Mb3dlckNhc2UoKSxhcmd1bWVudHMubGVuZ3RoPDI/b1tuXToobnVsbD09dD9kZWxldGUgb1tuXTpvW25dPXQrXCJcIixpKX0saS5taW1lVHlwZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1udWxsPT1uP251bGw6bitcIlwiLGkpOnR9LGkucmVzcG9uc2VUeXBlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPW4saSk6Y30saS5yZXNwb25zZT1mdW5jdGlvbihuKXtyZXR1cm4gZT1uLGl9LFtcImdldFwiLFwicG9zdFwiXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lbbl09ZnVuY3Rpb24oKXtyZXR1cm4gaS5zZW5kLmFwcGx5KGksW25dLmNvbmNhdChjYShhcmd1bWVudHMpKSl9fSksaS5zZW5kPWZ1bmN0aW9uKGUscix1KXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgciYmKHU9cixyPW51bGwpLGwub3BlbihlLG4sITApLG51bGw9PXR8fFwiYWNjZXB0XCJpbiBvfHwoby5hY2NlcHQ9dCtcIiwqLypcIiksbC5zZXRSZXF1ZXN0SGVhZGVyKWZvcih2YXIgcyBpbiBvKWwuc2V0UmVxdWVzdEhlYWRlcihzLG9bc10pO3JldHVybiBudWxsIT10JiZsLm92ZXJyaWRlTWltZVR5cGUmJmwub3ZlcnJpZGVNaW1lVHlwZSh0KSxudWxsIT1jJiYobC5yZXNwb25zZVR5cGU9YyksbnVsbCE9dSYmaS5vbihcImVycm9yXCIsdSkub24oXCJsb2FkXCIsZnVuY3Rpb24obil7dShudWxsLG4pfSksYS5iZWZvcmVzZW5kLmNhbGwoaSxsKSxsLnNlbmQobnVsbD09cj9udWxsOnIpLGl9LGkuYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbC5hYm9ydCgpLGl9LG9hLnJlYmluZChpLGEsXCJvblwiKSxudWxsPT1yP2k6aS5nZXQoem4ocikpfWZ1bmN0aW9uIHpuKG4pe3JldHVybiAxPT09bi5sZW5ndGg/ZnVuY3Rpb24odCxlKXtuKG51bGw9PXQ/ZTpudWxsKX06bn1mdW5jdGlvbiBMbihuKXt2YXIgdD1uLnJlc3BvbnNlVHlwZTtyZXR1cm4gdCYmXCJ0ZXh0XCIhPT10P24ucmVzcG9uc2U6bi5yZXNwb25zZVRleHR9ZnVuY3Rpb24gcW4obix0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg7Mj5yJiYodD0wKSwzPnImJihlPURhdGUubm93KCkpO3ZhciB1PWUrdCxpPXtjOm4sdDp1LG46bnVsbH07cmV0dXJuIGFvP2FvLm49aTppbz1pLGFvPWksb298fChsbz1jbGVhclRpbWVvdXQobG8pLG9vPTEsY28oVG4pKSxpfWZ1bmN0aW9uIFRuKCl7dmFyIG49Um4oKSx0PURuKCktbjt0PjI0Pyhpc0Zpbml0ZSh0KSYmKGNsZWFyVGltZW91dChsbyksbG89c2V0VGltZW91dChUbix0KSksb289MCk6KG9vPTEsY28oVG4pKX1mdW5jdGlvbiBSbigpe2Zvcih2YXIgbj1EYXRlLm5vdygpLHQ9aW87dDspbj49dC50JiZ0LmMobi10LnQpJiYodC5jPW51bGwpLHQ9dC5uO3JldHVybiBufWZ1bmN0aW9uIERuKCl7Zm9yKHZhciBuLHQ9aW8sZT0xLzA7dDspdC5jPyh0LnQ8ZSYmKGU9dC50KSx0PShuPXQpLm4pOnQ9bj9uLm49dC5uOmlvPXQubjtyZXR1cm4gYW89bixlfWZ1bmN0aW9uIFBuKG4sdCl7cmV0dXJuIHQtKG4/TWF0aC5jZWlsKE1hdGgubG9nKG4pL01hdGguTE4xMCk6MSl9ZnVuY3Rpb24gVW4obix0KXt2YXIgZT1NYXRoLnBvdygxMCwzKk1hKDgtdCkpO3JldHVybntzY2FsZTp0Pjg/ZnVuY3Rpb24obil7cmV0dXJuIG4vZX06ZnVuY3Rpb24obil7cmV0dXJuIG4qZX0sc3ltYm9sOm59fWZ1bmN0aW9uIGpuKG4pe3ZhciB0PW4uZGVjaW1hbCxlPW4udGhvdXNhbmRzLHI9bi5ncm91cGluZyx1PW4uY3VycmVuY3ksaT1yJiZlP2Z1bmN0aW9uKG4sdCl7Zm9yKHZhciB1PW4ubGVuZ3RoLGk9W10sYT0wLG89clswXSxsPTA7dT4wJiZvPjAmJihsK28rMT50JiYobz1NYXRoLm1heCgxLHQtbCkpLGkucHVzaChuLnN1YnN0cmluZyh1LT1vLHUrbykpLCEoKGwrPW8rMSk+dCkpOylvPXJbYT0oYSsxKSVyLmxlbmd0aF07cmV0dXJuIGkucmV2ZXJzZSgpLmpvaW4oZSl9Onk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBlPWZvLmV4ZWMobikscj1lWzFdfHxcIiBcIixhPWVbMl18fFwiPlwiLG89ZVszXXx8XCItXCIsbD1lWzRdfHxcIlwiLGM9ZVs1XSxzPStlWzZdLGY9ZVs3XSxoPWVbOF0sZz1lWzldLHA9MSx2PVwiXCIsZD1cIlwiLG09ITEseT0hMDtzd2l0Y2goaCYmKGg9K2guc3Vic3RyaW5nKDEpKSwoY3x8XCIwXCI9PT1yJiZcIj1cIj09PWEpJiYoYz1yPVwiMFwiLGE9XCI9XCIpLGcpe2Nhc2VcIm5cIjpmPSEwLGc9XCJnXCI7YnJlYWs7Y2FzZVwiJVwiOnA9MTAwLGQ9XCIlXCIsZz1cImZcIjticmVhaztjYXNlXCJwXCI6cD0xMDAsZD1cIiVcIixnPVwiclwiO2JyZWFrO2Nhc2VcImJcIjpjYXNlXCJvXCI6Y2FzZVwieFwiOmNhc2VcIlhcIjpcIiNcIj09PWwmJih2PVwiMFwiK2cudG9Mb3dlckNhc2UoKSk7Y2FzZVwiY1wiOnk9ITE7Y2FzZVwiZFwiOm09ITAsaD0wO2JyZWFrO2Nhc2VcInNcIjpwPS0xLGc9XCJyXCJ9XCIkXCI9PT1sJiYodj11WzBdLGQ9dVsxXSksXCJyXCIhPWd8fGh8fChnPVwiZ1wiKSxudWxsIT1oJiYoXCJnXCI9PWc/aD1NYXRoLm1heCgxLE1hdGgubWluKDIxLGgpKTooXCJlXCI9PWd8fFwiZlwiPT1nKSYmKGg9TWF0aC5tYXgoMCxNYXRoLm1pbigyMCxoKSkpKSxnPWhvLmdldChnKXx8Rm47dmFyIE09YyYmZjtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGU9ZDtpZihtJiZuJTEpcmV0dXJuXCJcIjt2YXIgdT0wPm58fDA9PT1uJiYwPjEvbj8obj0tbixcIi1cIik6XCItXCI9PT1vP1wiXCI6bztpZigwPnApe3ZhciBsPW9hLmZvcm1hdFByZWZpeChuLGgpO249bC5zY2FsZShuKSxlPWwuc3ltYm9sK2R9ZWxzZSBuKj1wO249ZyhuLGgpO3ZhciB4LGIsXz1uLmxhc3RJbmRleE9mKFwiLlwiKTtpZigwPl8pe3ZhciB3PXk/bi5sYXN0SW5kZXhPZihcImVcIik6LTE7MD53Pyh4PW4sYj1cIlwiKTooeD1uLnN1YnN0cmluZygwLHcpLGI9bi5zdWJzdHJpbmcodykpfWVsc2UgeD1uLnN1YnN0cmluZygwLF8pLGI9dCtuLnN1YnN0cmluZyhfKzEpOyFjJiZmJiYoeD1pKHgsMS8wKSk7dmFyIFM9di5sZW5ndGgreC5sZW5ndGgrYi5sZW5ndGgrKE0/MDp1Lmxlbmd0aCksaz1zPlM/bmV3IEFycmF5KFM9cy1TKzEpLmpvaW4ocik6XCJcIjtyZXR1cm4gTSYmKHg9aShrK3gsay5sZW5ndGg/cy1iLmxlbmd0aDoxLzApKSx1Kz12LG49eCtiLChcIjxcIj09PWE/dStuK2s6XCI+XCI9PT1hP2srdStuOlwiXlwiPT09YT9rLnN1YnN0cmluZygwLFM+Pj0xKSt1K24ray5zdWJzdHJpbmcoUyk6dSsoTT9uOmsrbikpK2V9fX1mdW5jdGlvbiBGbihuKXtyZXR1cm4gbitcIlwifWZ1bmN0aW9uIEhuKCl7dGhpcy5fPW5ldyBEYXRlKGFyZ3VtZW50cy5sZW5ndGg+MT9EYXRlLlVUQy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6YXJndW1lbnRzWzBdKX1mdW5jdGlvbiBPbihuLHQsZSl7ZnVuY3Rpb24gcih0KXt2YXIgZT1uKHQpLHI9aShlLDEpO3JldHVybiByLXQ+dC1lP2U6cn1mdW5jdGlvbiB1KGUpe3JldHVybiB0KGU9bihuZXcgcG8oZS0xKSksMSksZX1mdW5jdGlvbiBpKG4sZSl7cmV0dXJuIHQobj1uZXcgcG8oK24pLGUpLG59ZnVuY3Rpb24gYShuLHIsaSl7dmFyIGE9dShuKSxvPVtdO2lmKGk+MSlmb3IoO3I+YTspZShhKSVpfHxvLnB1c2gobmV3IERhdGUoK2EpKSx0KGEsMSk7ZWxzZSBmb3IoO3I+YTspby5wdXNoKG5ldyBEYXRlKCthKSksdChhLDEpO3JldHVybiBvfWZ1bmN0aW9uIG8obix0LGUpe3RyeXtwbz1Ibjt2YXIgcj1uZXcgSG47cmV0dXJuIHIuXz1uLGEocix0LGUpfWZpbmFsbHl7cG89RGF0ZX19bi5mbG9vcj1uLG4ucm91bmQ9cixuLmNlaWw9dSxuLm9mZnNldD1pLG4ucmFuZ2U9YTt2YXIgbD1uLnV0Yz1JbihuKTtyZXR1cm4gbC5mbG9vcj1sLGwucm91bmQ9SW4ociksbC5jZWlsPUluKHUpLGwub2Zmc2V0PUluKGkpLGwucmFuZ2U9byxufWZ1bmN0aW9uIEluKG4pe3JldHVybiBmdW5jdGlvbih0LGUpe3RyeXtwbz1Ibjt2YXIgcj1uZXcgSG47cmV0dXJuIHIuXz10LG4ocixlKS5ffWZpbmFsbHl7cG89RGF0ZX19fWZ1bmN0aW9uIFluKG4pe2Z1bmN0aW9uIHQobil7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGUsdSxpLGE9W10sbz0tMSxsPTA7KytvPHI7KTM3PT09bi5jaGFyQ29kZUF0KG8pJiYoYS5wdXNoKG4uc2xpY2UobCxvKSksbnVsbCE9KHU9bW9bZT1uLmNoYXJBdCgrK28pXSkmJihlPW4uY2hhckF0KCsrbykpLChpPUFbZV0pJiYoZT1pKHQsbnVsbD09dT9cImVcIj09PWU/XCIgXCI6XCIwXCI6dSkpLGEucHVzaChlKSxsPW8rMSk7cmV0dXJuIGEucHVzaChuLnNsaWNlKGwsbykpLGEuam9pbihcIlwiKX12YXIgcj1uLmxlbmd0aDtyZXR1cm4gdC5wYXJzZT1mdW5jdGlvbih0KXt2YXIgcj17eToxOTAwLG06MCxkOjEsSDowLE06MCxTOjAsTDowLFo6bnVsbH0sdT1lKHIsbix0LDApO2lmKHUhPXQubGVuZ3RoKXJldHVybiBudWxsO1wicFwiaW4gciYmKHIuSD1yLkglMTIrMTIqci5wKTt2YXIgaT1udWxsIT1yLlomJnBvIT09SG4sYT1uZXcoaT9Ibjpwbyk7cmV0dXJuXCJqXCJpbiByP2Euc2V0RnVsbFllYXIoci55LDAsci5qKTpcIldcImluIHJ8fFwiVVwiaW4gcj8oXCJ3XCJpbiByfHwoci53PVwiV1wiaW4gcj8xOjApLGEuc2V0RnVsbFllYXIoci55LDAsMSksYS5zZXRGdWxsWWVhcihyLnksMCxcIldcImluIHI/KHIudys2KSU3Kzcqci5XLShhLmdldERheSgpKzUpJTc6ci53Kzcqci5VLShhLmdldERheSgpKzYpJTcpKTphLnNldEZ1bGxZZWFyKHIueSxyLm0sci5kKSxhLnNldEhvdXJzKHIuSCsoci5aLzEwMHwwKSxyLk0rci5aJTEwMCxyLlMsci5MKSxpP2EuXzphfSx0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG59LHR9ZnVuY3Rpb24gZShuLHQsZSxyKXtmb3IodmFyIHUsaSxhLG89MCxsPXQubGVuZ3RoLGM9ZS5sZW5ndGg7bD5vOyl7aWYocj49YylyZXR1cm4tMTtpZih1PXQuY2hhckNvZGVBdChvKyspLDM3PT09dSl7aWYoYT10LmNoYXJBdChvKyspLGk9Q1thIGluIG1vP3QuY2hhckF0KG8rKyk6YV0sIWl8fChyPWkobixlLHIpKTwwKXJldHVybi0xfWVsc2UgaWYodSE9ZS5jaGFyQ29kZUF0KHIrKykpcmV0dXJuLTF9cmV0dXJuIHJ9ZnVuY3Rpb24gcihuLHQsZSl7Xy5sYXN0SW5kZXg9MDt2YXIgcj1fLmV4ZWModC5zbGljZShlKSk7cmV0dXJuIHI/KG4udz13LmdldChyWzBdLnRvTG93ZXJDYXNlKCkpLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHUobix0LGUpe3gubGFzdEluZGV4PTA7dmFyIHI9eC5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLnc9Yi5nZXQoclswXS50b0xvd2VyQ2FzZSgpKSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBpKG4sdCxlKXtOLmxhc3RJbmRleD0wO3ZhciByPU4uZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi5tPUUuZ2V0KHJbMF0udG9Mb3dlckNhc2UoKSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gYShuLHQsZSl7Uy5sYXN0SW5kZXg9MDt2YXIgcj1TLmV4ZWModC5zbGljZShlKSk7cmV0dXJuIHI/KG4ubT1rLmdldChyWzBdLnRvTG93ZXJDYXNlKCkpLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIG8obix0LHIpe3JldHVybiBlKG4sQS5jLnRvU3RyaW5nKCksdCxyKX1mdW5jdGlvbiBsKG4sdCxyKXtyZXR1cm4gZShuLEEueC50b1N0cmluZygpLHQscil9ZnVuY3Rpb24gYyhuLHQscil7cmV0dXJuIGUobixBLlgudG9TdHJpbmcoKSx0LHIpfWZ1bmN0aW9uIHMobix0LGUpe3ZhciByPU0uZ2V0KHQuc2xpY2UoZSxlKz0yKS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gbnVsbD09cj8tMToobi5wPXIsZSl9dmFyIGY9bi5kYXRlVGltZSxoPW4uZGF0ZSxnPW4udGltZSxwPW4ucGVyaW9kcyx2PW4uZGF5cyxkPW4uc2hvcnREYXlzLG09bi5tb250aHMseT1uLnNob3J0TW9udGhzO3QudXRjPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGUobil7dHJ5e3BvPUhuO3ZhciB0PW5ldyBwbztyZXR1cm4gdC5fPW4scih0KX1maW5hbGx5e3BvPURhdGV9fXZhciByPXQobik7cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24obil7dHJ5e3BvPUhuO3ZhciB0PXIucGFyc2Uobik7cmV0dXJuIHQmJnQuX31maW5hbGx5e3BvPURhdGV9fSxlLnRvU3RyaW5nPXIudG9TdHJpbmcsZX0sdC5tdWx0aT10LnV0Yy5tdWx0aT1jdDt2YXIgTT1vYS5tYXAoKSx4PVZuKHYpLGI9WG4odiksXz1WbihkKSx3PVhuKGQpLFM9Vm4obSksaz1YbihtKSxOPVZuKHkpLEU9WG4oeSk7cC5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7TS5zZXQobi50b0xvd2VyQ2FzZSgpLHQpfSk7dmFyIEE9e2E6ZnVuY3Rpb24obil7cmV0dXJuIGRbbi5nZXREYXkoKV19LEE6ZnVuY3Rpb24obil7cmV0dXJuIHZbbi5nZXREYXkoKV19LGI6ZnVuY3Rpb24obil7cmV0dXJuIHlbbi5nZXRNb250aCgpXX0sQjpmdW5jdGlvbihuKXtyZXR1cm4gbVtuLmdldE1vbnRoKCldfSxjOnQoZiksZDpmdW5jdGlvbihuLHQpe3JldHVybiBabihuLmdldERhdGUoKSx0LDIpfSxlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0RGF0ZSgpLHQsMil9LEg6ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXRIb3VycygpLHQsMil9LEk6ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXRIb3VycygpJTEyfHwxMix0LDIpfSxqOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKDErZ28uZGF5T2ZZZWFyKG4pLHQsMyl9LEw6ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXRNaWxsaXNlY29uZHMoKSx0LDMpfSxtOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0TW9udGgoKSsxLHQsMil9LE06ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXRNaW51dGVzKCksdCwyKX0scDpmdW5jdGlvbihuKXtyZXR1cm4gcFsrKG4uZ2V0SG91cnMoKT49MTIpXX0sUzpmdW5jdGlvbihuLHQpe3JldHVybiBabihuLmdldFNlY29uZHMoKSx0LDIpfSxVOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKGdvLnN1bmRheU9mWWVhcihuKSx0LDIpfSx3OmZ1bmN0aW9uKG4pe3JldHVybiBuLmdldERheSgpfSxXOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKGdvLm1vbmRheU9mWWVhcihuKSx0LDIpfSx4OnQoaCksWDp0KGcpLHk6ZnVuY3Rpb24obix0KXtyZXR1cm4gWm4obi5nZXRGdWxsWWVhcigpJTEwMCx0LDIpfSxZOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIFpuKG4uZ2V0RnVsbFllYXIoKSUxZTQsdCw0KX0sWjpvdCxcIiVcIjpmdW5jdGlvbigpe3JldHVyblwiJVwifX0sQz17YTpyLEE6dSxiOmksQjphLGM6byxkOnR0LGU6dHQsSDpydCxJOnJ0LGo6ZXQsTDphdCxtOm50LE06dXQscDpzLFM6aXQsVTpCbix3OiRuLFc6V24seDpsLFg6Yyx5OkduLFk6Sm4sWjpLbixcIiVcIjpsdH07cmV0dXJuIHR9ZnVuY3Rpb24gWm4obix0LGUpe3ZhciByPTA+bj9cIi1cIjpcIlwiLHU9KHI/LW46bikrXCJcIixpPXUubGVuZ3RoO3JldHVybiByKyhlPmk/bmV3IEFycmF5KGUtaSsxKS5qb2luKHQpK3U6dSl9ZnVuY3Rpb24gVm4obil7cmV0dXJuIG5ldyBSZWdFeHAoXCJeKD86XCIrbi5tYXAob2EucmVxdW90ZSkuam9pbihcInxcIikrXCIpXCIsXCJpXCIpfWZ1bmN0aW9uIFhuKG4pe2Zvcih2YXIgdD1uZXcgYyxlPS0xLHI9bi5sZW5ndGg7KytlPHI7KXQuc2V0KG5bZV0udG9Mb3dlckNhc2UoKSxlKTtyZXR1cm4gdH1mdW5jdGlvbiAkbihuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUsZSsxKSk7cmV0dXJuIHI/KG4udz0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBCbihuLHQsZSl7eW8ubGFzdEluZGV4PTA7dmFyIHI9eW8uZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi5VPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIFduKG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLlc9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gSm4obix0LGUpe3lvLmxhc3RJbmRleD0wO3ZhciByPXlvLmV4ZWModC5zbGljZShlLGUrNCkpO3JldHVybiByPyhuLnk9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gR24obix0LGUpe3lvLmxhc3RJbmRleD0wO3ZhciByPXlvLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLnk9UW4oK3JbMF0pLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIEtuKG4sdCxlKXtyZXR1cm4vXlsrLV1cXGR7NH0kLy50ZXN0KHQ9dC5zbGljZShlLGUrNSkpPyhuLlo9LXQsZSs1KTotMX1mdW5jdGlvbiBRbihuKXtyZXR1cm4gbisobj42OD8xOTAwOjJlMyl9ZnVuY3Rpb24gbnQobix0LGUpe3lvLmxhc3RJbmRleD0wO3ZhciByPXlvLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLm09clswXS0xLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHR0KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8obi5kPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGV0KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzMpKTtyZXR1cm4gcj8obi5qPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHJ0KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8obi5IPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIHV0KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8obi5NPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGl0KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzIpKTtyZXR1cm4gcj8obi5TPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGF0KG4sdCxlKXt5by5sYXN0SW5kZXg9MDt2YXIgcj15by5leGVjKHQuc2xpY2UoZSxlKzMpKTtyZXR1cm4gcj8obi5MPStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIG90KG4pe3ZhciB0PW4uZ2V0VGltZXpvbmVPZmZzZXQoKSxlPXQ+MD9cIi1cIjpcIitcIixyPU1hKHQpLzYwfDAsdT1NYSh0KSU2MDtyZXR1cm4gZStabihyLFwiMFwiLDIpK1puKHUsXCIwXCIsMil9ZnVuY3Rpb24gbHQobix0LGUpe01vLmxhc3RJbmRleD0wO3ZhciByPU1vLmV4ZWModC5zbGljZShlLGUrMSkpO3JldHVybiByP2UrclswXS5sZW5ndGg6LTF9ZnVuY3Rpb24gY3Qobil7Zm9yKHZhciB0PW4ubGVuZ3RoLGU9LTE7KytlPHQ7KW5bZV1bMF09dGhpcyhuW2VdWzBdKTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj1uW2VdOyFyWzFdKHQpOylyPW5bKytlXTtyZXR1cm4gclswXSh0KX19ZnVuY3Rpb24gc3QoKXt9ZnVuY3Rpb24gZnQobix0LGUpe3ZhciByPWUucz1uK3QsdT1yLW4saT1yLXU7ZS50PW4taSsodC11KX1mdW5jdGlvbiBodChuLHQpe24mJndvLmhhc093blByb3BlcnR5KG4udHlwZSkmJndvW24udHlwZV0obix0KX1mdW5jdGlvbiBndChuLHQsZSl7dmFyIHIsdT0tMSxpPW4ubGVuZ3RoLWU7Zm9yKHQubGluZVN0YXJ0KCk7Kyt1PGk7KXI9blt1XSx0LnBvaW50KHJbMF0sclsxXSxyWzJdKTt0LmxpbmVFbmQoKX1mdW5jdGlvbiBwdChuLHQpe3ZhciBlPS0xLHI9bi5sZW5ndGg7Zm9yKHQucG9seWdvblN0YXJ0KCk7KytlPHI7KWd0KG5bZV0sdCwxKTt0LnBvbHlnb25FbmQoKX1mdW5jdGlvbiB2dCgpe2Z1bmN0aW9uIG4obix0KXtuKj1JYSx0PXQqSWEvMitqYS80O3ZhciBlPW4tcixhPWU+PTA/MTotMSxvPWEqZSxsPU1hdGguY29zKHQpLGM9TWF0aC5zaW4odCkscz1pKmMsZj11KmwrcypNYXRoLmNvcyhvKSxoPXMqYSpNYXRoLnNpbihvKTtrby5hZGQoTWF0aC5hdGFuMihoLGYpKSxyPW4sdT1sLGk9Y312YXIgdCxlLHIsdSxpO05vLnBvaW50PWZ1bmN0aW9uKGEsbyl7Tm8ucG9pbnQ9bixyPSh0PWEpKklhLHU9TWF0aC5jb3Mobz0oZT1vKSpJYS8yK2phLzQpLGk9TWF0aC5zaW4obyl9LE5vLmxpbmVFbmQ9ZnVuY3Rpb24oKXtuKHQsZSl9fWZ1bmN0aW9uIGR0KG4pe3ZhciB0PW5bMF0sZT1uWzFdLHI9TWF0aC5jb3MoZSk7cmV0dXJuW3IqTWF0aC5jb3ModCkscipNYXRoLnNpbih0KSxNYXRoLnNpbihlKV19ZnVuY3Rpb24gbXQobix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXStuWzJdKnRbMl19ZnVuY3Rpb24geXQobix0KXtyZXR1cm5bblsxXSp0WzJdLW5bMl0qdFsxXSxuWzJdKnRbMF0tblswXSp0WzJdLG5bMF0qdFsxXS1uWzFdKnRbMF1dfWZ1bmN0aW9uIE10KG4sdCl7blswXSs9dFswXSxuWzFdKz10WzFdLG5bMl0rPXRbMl19ZnVuY3Rpb24geHQobix0KXtyZXR1cm5bblswXSp0LG5bMV0qdCxuWzJdKnRdfWZ1bmN0aW9uIGJ0KG4pe3ZhciB0PU1hdGguc3FydChuWzBdKm5bMF0rblsxXSpuWzFdK25bMl0qblsyXSk7blswXS89dCxuWzFdLz10LG5bMl0vPXR9ZnVuY3Rpb24gX3Qobil7cmV0dXJuW01hdGguYXRhbjIoblsxXSxuWzBdKSx0bihuWzJdKV19ZnVuY3Rpb24gd3Qobix0KXtyZXR1cm4gTWEoblswXS10WzBdKTxQYSYmTWEoblsxXS10WzFdKTxQYX1mdW5jdGlvbiBTdChuLHQpe24qPUlhO3ZhciBlPU1hdGguY29zKHQqPUlhKTtrdChlKk1hdGguY29zKG4pLGUqTWF0aC5zaW4obiksTWF0aC5zaW4odCkpfWZ1bmN0aW9uIGt0KG4sdCxlKXsrK0VvLENvKz0obi1DbykvRW8sem8rPSh0LXpvKS9FbyxMbys9KGUtTG8pL0VvfWZ1bmN0aW9uIE50KCl7ZnVuY3Rpb24gbihuLHUpe24qPUlhO3ZhciBpPU1hdGguY29zKHUqPUlhKSxhPWkqTWF0aC5jb3Mobiksbz1pKk1hdGguc2luKG4pLGw9TWF0aC5zaW4odSksYz1NYXRoLmF0YW4yKE1hdGguc3FydCgoYz1lKmwtcipvKSpjKyhjPXIqYS10KmwpKmMrKGM9dCpvLWUqYSkqYyksdCphK2UqbytyKmwpO0FvKz1jLHFvKz1jKih0Kyh0PWEpKSxUbys9YyooZSsoZT1vKSksUm8rPWMqKHIrKHI9bCkpLGt0KHQsZSxyKX12YXIgdCxlLHI7am8ucG9pbnQ9ZnVuY3Rpb24odSxpKXt1Kj1JYTt2YXIgYT1NYXRoLmNvcyhpKj1JYSk7dD1hKk1hdGguY29zKHUpLGU9YSpNYXRoLnNpbih1KSxyPU1hdGguc2luKGkpLGpvLnBvaW50PW4sa3QodCxlLHIpfX1mdW5jdGlvbiBFdCgpe2pvLnBvaW50PVN0fWZ1bmN0aW9uIEF0KCl7ZnVuY3Rpb24gbihuLHQpe24qPUlhO3ZhciBlPU1hdGguY29zKHQqPUlhKSxhPWUqTWF0aC5jb3Mobiksbz1lKk1hdGguc2luKG4pLGw9TWF0aC5zaW4odCksYz11KmwtaSpvLHM9aSphLXIqbCxmPXIqby11KmEsaD1NYXRoLnNxcnQoYypjK3MqcytmKmYpLGc9ciphK3UqbytpKmwscD1oJiYtbm4oZykvaCx2PU1hdGguYXRhbjIoaCxnKTtEbys9cCpjLFBvKz1wKnMsVW8rPXAqZixBbys9dixxbys9dioocisocj1hKSksVG8rPXYqKHUrKHU9bykpLFJvKz12KihpKyhpPWwpKSxrdChyLHUsaSl9dmFyIHQsZSxyLHUsaTtqby5wb2ludD1mdW5jdGlvbihhLG8pe3Q9YSxlPW8sam8ucG9pbnQ9bixhKj1JYTt2YXIgbD1NYXRoLmNvcyhvKj1JYSk7cj1sKk1hdGguY29zKGEpLHU9bCpNYXRoLnNpbihhKSxpPU1hdGguc2luKG8pLGt0KHIsdSxpKX0sam8ubGluZUVuZD1mdW5jdGlvbigpe24odCxlKSxqby5saW5lRW5kPUV0LGpvLnBvaW50PVN0fX1mdW5jdGlvbiBDdChuLHQpe2Z1bmN0aW9uIGUoZSxyKXtyZXR1cm4gZT1uKGUsciksdChlWzBdLGVbMV0pfXJldHVybiBuLmludmVydCYmdC5pbnZlcnQmJihlLmludmVydD1mdW5jdGlvbihlLHIpe3JldHVybiBlPXQuaW52ZXJ0KGUsciksZSYmbi5pbnZlcnQoZVswXSxlWzFdKX0pLGV9ZnVuY3Rpb24genQoKXtyZXR1cm4hMH1mdW5jdGlvbiBMdChuLHQsZSxyLHUpe3ZhciBpPVtdLGE9W107aWYobi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCEoKHQ9bi5sZW5ndGgtMSk8PTApKXt2YXIgdCxlPW5bMF0scj1uW3RdO2lmKHd0KGUscikpe3UubGluZVN0YXJ0KCk7Zm9yKHZhciBvPTA7dD5vOysrbyl1LnBvaW50KChlPW5bb10pWzBdLGVbMV0pO3JldHVybiB2b2lkIHUubGluZUVuZCgpfXZhciBsPW5ldyBUdChlLG4sbnVsbCwhMCksYz1uZXcgVHQoZSxudWxsLGwsITEpO2wubz1jLGkucHVzaChsKSxhLnB1c2goYyksbD1uZXcgVHQocixuLG51bGwsITEpLGM9bmV3IFR0KHIsbnVsbCxsLCEwKSxsLm89YyxpLnB1c2gobCksYS5wdXNoKGMpfX0pLGEuc29ydCh0KSxxdChpKSxxdChhKSxpLmxlbmd0aCl7Zm9yKHZhciBvPTAsbD1lLGM9YS5sZW5ndGg7Yz5vOysrbylhW29dLmU9bD0hbDtmb3IodmFyIHMsZixoPWlbMF07Oyl7Zm9yKHZhciBnPWgscD0hMDtnLnY7KWlmKChnPWcubik9PT1oKXJldHVybjtzPWcueix1LmxpbmVTdGFydCgpO2Rve2lmKGcudj1nLm8udj0hMCxnLmUpe2lmKHApZm9yKHZhciBvPTAsYz1zLmxlbmd0aDtjPm87KytvKXUucG9pbnQoKGY9c1tvXSlbMF0sZlsxXSk7ZWxzZSByKGcueCxnLm4ueCwxLHUpO2c9Zy5ufWVsc2V7aWYocCl7cz1nLnAuejtmb3IodmFyIG89cy5sZW5ndGgtMTtvPj0wOy0tbyl1LnBvaW50KChmPXNbb10pWzBdLGZbMV0pfWVsc2UgcihnLngsZy5wLngsLTEsdSk7Zz1nLnB9Zz1nLm8scz1nLnoscD0hcH13aGlsZSghZy52KTt1LmxpbmVFbmQoKX19fWZ1bmN0aW9uIHF0KG4pe2lmKHQ9bi5sZW5ndGgpe2Zvcih2YXIgdCxlLHI9MCx1PW5bMF07KytyPHQ7KXUubj1lPW5bcl0sZS5wPXUsdT1lO3Uubj1lPW5bMF0sZS5wPXV9fWZ1bmN0aW9uIFR0KG4sdCxlLHIpe3RoaXMueD1uLHRoaXMuej10LHRoaXMubz1lLHRoaXMuZT1yLHRoaXMudj0hMSx0aGlzLm49dGhpcy5wPW51bGx9ZnVuY3Rpb24gUnQobix0LGUscil7cmV0dXJuIGZ1bmN0aW9uKHUsaSl7ZnVuY3Rpb24gYSh0LGUpe3ZhciByPXUodCxlKTtuKHQ9clswXSxlPXJbMV0pJiZpLnBvaW50KHQsZSl9ZnVuY3Rpb24gbyhuLHQpe3ZhciBlPXUobix0KTtkLnBvaW50KGVbMF0sZVsxXSl9ZnVuY3Rpb24gbCgpe3kucG9pbnQ9byxkLmxpbmVTdGFydCgpfWZ1bmN0aW9uIGMoKXt5LnBvaW50PWEsZC5saW5lRW5kKCl9ZnVuY3Rpb24gcyhuLHQpe3YucHVzaChbbix0XSk7dmFyIGU9dShuLHQpO3gucG9pbnQoZVswXSxlWzFdKX1mdW5jdGlvbiBmKCl7eC5saW5lU3RhcnQoKSx2PVtdfWZ1bmN0aW9uIGgoKXtzKHZbMF1bMF0sdlswXVsxXSkseC5saW5lRW5kKCk7dmFyIG4sdD14LmNsZWFuKCksZT1NLmJ1ZmZlcigpLHI9ZS5sZW5ndGg7aWYodi5wb3AoKSxwLnB1c2godiksdj1udWxsLHIpaWYoMSZ0KXtuPWVbMF07dmFyIHUscj1uLmxlbmd0aC0xLGE9LTE7aWYocj4wKXtmb3IoYnx8KGkucG9seWdvblN0YXJ0KCksYj0hMCksaS5saW5lU3RhcnQoKTsrK2E8cjspaS5wb2ludCgodT1uW2FdKVswXSx1WzFdKTtpLmxpbmVFbmQoKX19ZWxzZSByPjEmJjImdCYmZS5wdXNoKGUucG9wKCkuY29uY2F0KGUuc2hpZnQoKSkpLGcucHVzaChlLmZpbHRlcihEdCkpfXZhciBnLHAsdixkPXQoaSksbT11LmludmVydChyWzBdLHJbMV0pLHk9e3BvaW50OmEsbGluZVN0YXJ0OmwsbGluZUVuZDpjLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3kucG9pbnQ9cyx5LmxpbmVTdGFydD1mLHkubGluZUVuZD1oLGc9W10scD1bXX0scG9seWdvbkVuZDpmdW5jdGlvbigpe3kucG9pbnQ9YSx5LmxpbmVTdGFydD1sLHkubGluZUVuZD1jLGc9b2EubWVyZ2UoZyk7dmFyIG49T3QobSxwKTtnLmxlbmd0aD8oYnx8KGkucG9seWdvblN0YXJ0KCksYj0hMCksTHQoZyxVdCxuLGUsaSkpOm4mJihifHwoaS5wb2x5Z29uU3RhcnQoKSxiPSEwKSxpLmxpbmVTdGFydCgpLGUobnVsbCxudWxsLDEsaSksaS5saW5lRW5kKCkpLGImJihpLnBvbHlnb25FbmQoKSxiPSExKSxnPXA9bnVsbH0sc3BoZXJlOmZ1bmN0aW9uKCl7aS5wb2x5Z29uU3RhcnQoKSxpLmxpbmVTdGFydCgpLGUobnVsbCxudWxsLDEsaSksaS5saW5lRW5kKCksaS5wb2x5Z29uRW5kKCl9fSxNPVB0KCkseD10KE0pLGI9ITE7cmV0dXJuIHl9fWZ1bmN0aW9uIER0KG4pe3JldHVybiBuLmxlbmd0aD4xfWZ1bmN0aW9uIFB0KCl7dmFyIG4sdD1bXTtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7dC5wdXNoKG49W10pfSxwb2ludDpmdW5jdGlvbih0LGUpe24ucHVzaChbdCxlXSl9LGxpbmVFbmQ6YixidWZmZXI6ZnVuY3Rpb24oKXt2YXIgZT10O3JldHVybiB0PVtdLG49bnVsbCxlfSxyZWpvaW46ZnVuY3Rpb24oKXt0Lmxlbmd0aD4xJiZ0LnB1c2godC5wb3AoKS5jb25jYXQodC5zaGlmdCgpKSl9fX1mdW5jdGlvbiBVdChuLHQpe3JldHVybigobj1uLngpWzBdPDA/blsxXS1PYS1QYTpPYS1uWzFdKS0oKHQ9dC54KVswXTwwP3RbMV0tT2EtUGE6T2EtdFsxXSl9ZnVuY3Rpb24ganQobil7dmFyIHQsZT1OYU4scj1OYU4sdT1OYU47cmV0dXJue2xpbmVTdGFydDpmdW5jdGlvbigpe24ubGluZVN0YXJ0KCksdD0xfSxwb2ludDpmdW5jdGlvbihpLGEpe3ZhciBvPWk+MD9qYTotamEsbD1NYShpLWUpO01hKGwtamEpPFBhPyhuLnBvaW50KGUscj0ocithKS8yPjA/T2E6LU9hKSxuLnBvaW50KHUsciksbi5saW5lRW5kKCksbi5saW5lU3RhcnQoKSxuLnBvaW50KG8sciksbi5wb2ludChpLHIpLHQ9MCk6dSE9PW8mJmw+PWphJiYoTWEoZS11KTxQYSYmKGUtPXUqUGEpLE1hKGktbyk8UGEmJihpLT1vKlBhKSxyPUZ0KGUscixpLGEpLG4ucG9pbnQodSxyKSxuLmxpbmVFbmQoKSxuLmxpbmVTdGFydCgpLG4ucG9pbnQobyxyKSx0PTApLG4ucG9pbnQoZT1pLHI9YSksdT1vfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bi5saW5lRW5kKCksZT1yPU5hTn0sY2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gMi10fX19ZnVuY3Rpb24gRnQobix0LGUscil7dmFyIHUsaSxhPU1hdGguc2luKG4tZSk7cmV0dXJuIE1hKGEpPlBhP01hdGguYXRhbigoTWF0aC5zaW4odCkqKGk9TWF0aC5jb3MocikpKk1hdGguc2luKGUpLU1hdGguc2luKHIpKih1PU1hdGguY29zKHQpKSpNYXRoLnNpbihuKSkvKHUqaSphKSk6KHQrcikvMn1mdW5jdGlvbiBIdChuLHQsZSxyKXt2YXIgdTtpZihudWxsPT1uKXU9ZSpPYSxyLnBvaW50KC1qYSx1KSxyLnBvaW50KDAsdSksci5wb2ludChqYSx1KSxyLnBvaW50KGphLDApLHIucG9pbnQoamEsLXUpLHIucG9pbnQoMCwtdSksci5wb2ludCgtamEsLXUpLHIucG9pbnQoLWphLDApLHIucG9pbnQoLWphLHUpO2Vsc2UgaWYoTWEoblswXS10WzBdKT5QYSl7dmFyIGk9blswXTx0WzBdP2phOi1qYTt1PWUqaS8yLHIucG9pbnQoLWksdSksci5wb2ludCgwLHUpLHIucG9pbnQoaSx1KX1lbHNlIHIucG9pbnQodFswXSx0WzFdKX1mdW5jdGlvbiBPdChuLHQpe3ZhciBlPW5bMF0scj1uWzFdLHU9W01hdGguc2luKGUpLC1NYXRoLmNvcyhlKSwwXSxpPTAsYT0wO2tvLnJlc2V0KCk7Zm9yKHZhciBvPTAsbD10Lmxlbmd0aDtsPm87KytvKXt2YXIgYz10W29dLHM9Yy5sZW5ndGg7aWYocylmb3IodmFyIGY9Y1swXSxoPWZbMF0sZz1mWzFdLzIramEvNCxwPU1hdGguc2luKGcpLHY9TWF0aC5jb3MoZyksZD0xOzspe2Q9PT1zJiYoZD0wKSxuPWNbZF07dmFyIG09blswXSx5PW5bMV0vMitqYS80LE09TWF0aC5zaW4oeSkseD1NYXRoLmNvcyh5KSxiPW0taCxfPWI+PTA/MTotMSx3PV8qYixTPXc+amEsaz1wKk07aWYoa28uYWRkKE1hdGguYXRhbjIoaypfKk1hdGguc2luKHcpLHYqeCtrKk1hdGguY29zKHcpKSksaSs9Uz9iK18qRmE6YixTXmg+PWVebT49ZSl7dmFyIE49eXQoZHQoZiksZHQobikpO2J0KE4pO3ZhciBFPXl0KHUsTik7YnQoRSk7dmFyIEE9KFNeYj49MD8tMToxKSp0bihFWzJdKTsocj5BfHxyPT09QSYmKE5bMF18fE5bMV0pKSYmKGErPVNeYj49MD8xOi0xKX1pZighZCsrKWJyZWFrO2g9bSxwPU0sdj14LGY9bn19cmV0dXJuKC1QYT5pfHxQYT5pJiYwPmtvKV4xJmF9ZnVuY3Rpb24gSXQobil7ZnVuY3Rpb24gdChuLHQpe3JldHVybiBNYXRoLmNvcyhuKSpNYXRoLmNvcyh0KT5pfWZ1bmN0aW9uIGUobil7dmFyIGUsaSxsLGMscztyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7Yz1sPSExLHM9MX0scG9pbnQ6ZnVuY3Rpb24oZixoKXt2YXIgZyxwPVtmLGhdLHY9dChmLGgpLGQ9YT92PzA6dShmLGgpOnY/dShmKygwPmY/amE6LWphKSxoKTowO2lmKCFlJiYoYz1sPXYpJiZuLmxpbmVTdGFydCgpLHYhPT1sJiYoZz1yKGUscCksKHd0KGUsZyl8fHd0KHAsZykpJiYocFswXSs9UGEscFsxXSs9UGEsdj10KHBbMF0scFsxXSkpKSx2IT09bClzPTAsdj8obi5saW5lU3RhcnQoKSxnPXIocCxlKSxuLnBvaW50KGdbMF0sZ1sxXSkpOihnPXIoZSxwKSxuLnBvaW50KGdbMF0sZ1sxXSksbi5saW5lRW5kKCkpLGU9ZztlbHNlIGlmKG8mJmUmJmFedil7dmFyIG07ZCZpfHwhKG09cihwLGUsITApKXx8KHM9MCxhPyhuLmxpbmVTdGFydCgpLG4ucG9pbnQobVswXVswXSxtWzBdWzFdKSxuLnBvaW50KG1bMV1bMF0sbVsxXVsxXSksbi5saW5lRW5kKCkpOihuLnBvaW50KG1bMV1bMF0sbVsxXVsxXSksbi5saW5lRW5kKCksbi5saW5lU3RhcnQoKSxuLnBvaW50KG1bMF1bMF0sbVswXVsxXSkpKX0hdnx8ZSYmd3QoZSxwKXx8bi5wb2ludChwWzBdLHBbMV0pLGU9cCxsPXYsaT1kfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bCYmbi5saW5lRW5kKCksZT1udWxsfSxjbGVhbjpmdW5jdGlvbigpe3JldHVybiBzfChjJiZsKTw8MX19fWZ1bmN0aW9uIHIobix0LGUpe3ZhciByPWR0KG4pLHU9ZHQodCksYT1bMSwwLDBdLG89eXQocix1KSxsPW10KG8sbyksYz1vWzBdLHM9bC1jKmM7aWYoIXMpcmV0dXJuIWUmJm47dmFyIGY9aSpsL3MsaD0taSpjL3MsZz15dChhLG8pLHA9eHQoYSxmKSx2PXh0KG8saCk7TXQocCx2KTt2YXIgZD1nLG09bXQocCxkKSx5PW10KGQsZCksTT1tKm0teSoobXQocCxwKS0xKTtpZighKDA+TSkpe3ZhciB4PU1hdGguc3FydChNKSxiPXh0KGQsKC1tLXgpL3kpO2lmKE10KGIscCksYj1fdChiKSwhZSlyZXR1cm4gYjt2YXIgXyx3PW5bMF0sUz10WzBdLGs9blsxXSxOPXRbMV07dz5TJiYoXz13LHc9UyxTPV8pO3ZhciBFPVMtdyxBPU1hKEUtamEpPFBhLEM9QXx8UGE+RTtpZighQSYmaz5OJiYoXz1rLGs9TixOPV8pLEM/QT9rK04+MF5iWzFdPChNYShiWzBdLXcpPFBhP2s6Tik6azw9YlsxXSYmYlsxXTw9TjpFPmphXih3PD1iWzBdJiZiWzBdPD1TKSl7dmFyIHo9eHQoZCwoLW0reCkveSk7cmV0dXJuIE10KHoscCksW2IsX3QoeildfX19ZnVuY3Rpb24gdSh0LGUpe3ZhciByPWE/bjpqYS1uLHU9MDtyZXR1cm4tcj50P3V8PTE6dD5yJiYodXw9MiksLXI+ZT91fD00OmU+ciYmKHV8PTgpLHV9dmFyIGk9TWF0aC5jb3MobiksYT1pPjAsbz1NYShpKT5QYSxsPXZlKG4sNipJYSk7cmV0dXJuIFJ0KHQsZSxsLGE/WzAsLW5dOlstamEsbi1qYV0pfWZ1bmN0aW9uIFl0KG4sdCxlLHIpe3JldHVybiBmdW5jdGlvbih1KXt2YXIgaSxhPXUuYSxvPXUuYixsPWEueCxjPWEueSxzPW8ueCxmPW8ueSxoPTAsZz0xLHA9cy1sLHY9Zi1jO2lmKGk9bi1sLHB8fCEoaT4wKSl7aWYoaS89cCwwPnApe2lmKGg+aSlyZXR1cm47Zz5pJiYoZz1pKX1lbHNlIGlmKHA+MCl7aWYoaT5nKXJldHVybjtpPmgmJihoPWkpfWlmKGk9ZS1sLHB8fCEoMD5pKSl7aWYoaS89cCwwPnApe2lmKGk+ZylyZXR1cm47aT5oJiYoaD1pKX1lbHNlIGlmKHA+MCl7aWYoaD5pKXJldHVybjtnPmkmJihnPWkpfWlmKGk9dC1jLHZ8fCEoaT4wKSl7aWYoaS89diwwPnYpe2lmKGg+aSlyZXR1cm47Zz5pJiYoZz1pKX1lbHNlIGlmKHY+MCl7aWYoaT5nKXJldHVybjtpPmgmJihoPWkpfWlmKGk9ci1jLHZ8fCEoMD5pKSl7aWYoaS89diwwPnYpe2lmKGk+ZylyZXR1cm47aT5oJiYoaD1pKX1lbHNlIGlmKHY+MCl7aWYoaD5pKXJldHVybjtnPmkmJihnPWkpfXJldHVybiBoPjAmJih1LmE9e3g6bCtoKnAseTpjK2gqdn0pLDE+ZyYmKHUuYj17eDpsK2cqcCx5OmMrZyp2fSksdX19fX19fWZ1bmN0aW9uIFp0KG4sdCxlLHIpe2Z1bmN0aW9uIHUocix1KXtyZXR1cm4gTWEoclswXS1uKTxQYT91PjA/MDozOk1hKHJbMF0tZSk8UGE/dT4wPzI6MTpNYShyWzFdLXQpPFBhP3U+MD8xOjA6dT4wPzM6Mn1mdW5jdGlvbiBpKG4sdCl7cmV0dXJuIGEobi54LHQueCl9ZnVuY3Rpb24gYShuLHQpe3ZhciBlPXUobiwxKSxyPXUodCwxKTtyZXR1cm4gZSE9PXI/ZS1yOjA9PT1lP3RbMV0tblsxXToxPT09ZT9uWzBdLXRbMF06Mj09PWU/blsxXS10WzFdOnRbMF0tblswXX1yZXR1cm4gZnVuY3Rpb24obyl7ZnVuY3Rpb24gbChuKXtmb3IodmFyIHQ9MCxlPWQubGVuZ3RoLHI9blsxXSx1PTA7ZT51OysrdSlmb3IodmFyIGksYT0xLG89ZFt1XSxsPW8ubGVuZ3RoLGM9b1swXTtsPmE7KythKWk9b1thXSxjWzFdPD1yP2lbMV0+ciYmUShjLGksbik+MCYmKyt0OmlbMV08PXImJlEoYyxpLG4pPDAmJi0tdCxjPWk7cmV0dXJuIDAhPT10fWZ1bmN0aW9uIGMoaSxvLGwsYyl7dmFyIHM9MCxmPTA7aWYobnVsbD09aXx8KHM9dShpLGwpKSE9PShmPXUobyxsKSl8fGEoaSxvKTwwXmw+MCl7ZG8gYy5wb2ludCgwPT09c3x8Mz09PXM/bjplLHM+MT9yOnQpO3doaWxlKChzPShzK2wrNCklNCkhPT1mKX1lbHNlIGMucG9pbnQob1swXSxvWzFdKX1mdW5jdGlvbiBzKHUsaSl7cmV0dXJuIHU+PW4mJmU+PXUmJmk+PXQmJnI+PWl9ZnVuY3Rpb24gZihuLHQpe3Mobix0KSYmby5wb2ludChuLHQpfWZ1bmN0aW9uIGgoKXtDLnBvaW50PXAsZCYmZC5wdXNoKG09W10pLFM9ITAsdz0hMSxiPV89TmFOfWZ1bmN0aW9uIGcoKXt2JiYocCh5LE0pLHgmJncmJkUucmVqb2luKCksdi5wdXNoKEUuYnVmZmVyKCkpKSxDLnBvaW50PWYsdyYmby5saW5lRW5kKCl9ZnVuY3Rpb24gcChuLHQpe249TWF0aC5tYXgoLUhvLE1hdGgubWluKEhvLG4pKSx0PU1hdGgubWF4KC1IbyxNYXRoLm1pbihIbyx0KSk7dmFyIGU9cyhuLHQpO2lmKGQmJm0ucHVzaChbbix0XSksUyl5PW4sTT10LHg9ZSxTPSExLGUmJihvLmxpbmVTdGFydCgpLG8ucG9pbnQobix0KSk7ZWxzZSBpZihlJiZ3KW8ucG9pbnQobix0KTtlbHNle3ZhciByPXthOnt4OmIseTpffSxiOnt4Om4seTp0fX07QShyKT8od3x8KG8ubGluZVN0YXJ0KCksby5wb2ludChyLmEueCxyLmEueSkpLG8ucG9pbnQoci5iLngsci5iLnkpLGV8fG8ubGluZUVuZCgpLGs9ITEpOmUmJihvLmxpbmVTdGFydCgpLG8ucG9pbnQobix0KSxrPSExKX1iPW4sXz10LHc9ZX12YXIgdixkLG0seSxNLHgsYixfLHcsUyxrLE49byxFPVB0KCksQT1ZdChuLHQsZSxyKSxDPXtwb2ludDpmLGxpbmVTdGFydDpoLGxpbmVFbmQ6Zyxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtvPUUsdj1bXSxkPVtdLGs9ITB9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtvPU4sdj1vYS5tZXJnZSh2KTt2YXIgdD1sKFtuLHJdKSxlPWsmJnQsdT12Lmxlbmd0aDsoZXx8dSkmJihvLnBvbHlnb25TdGFydCgpLGUmJihvLmxpbmVTdGFydCgpLGMobnVsbCxudWxsLDEsbyksby5saW5lRW5kKCkpLHUmJkx0KHYsaSx0LGMsbyksby5wb2x5Z29uRW5kKCkpLHY9ZD1tPW51bGx9fTtyZXR1cm4gQ319ZnVuY3Rpb24gVnQobil7dmFyIHQ9MCxlPWphLzMscj1vZShuKSx1PXIodCxlKTtyZXR1cm4gdS5wYXJhbGxlbHM9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/cih0PW5bMF0qamEvMTgwLGU9blsxXSpqYS8xODApOlt0L2phKjE4MCxlL2phKjE4MF19LHV9ZnVuY3Rpb24gWHQobix0KXtmdW5jdGlvbiBlKG4sdCl7dmFyIGU9TWF0aC5zcXJ0KGktMip1Kk1hdGguc2luKHQpKS91O3JldHVybltlKk1hdGguc2luKG4qPXUpLGEtZSpNYXRoLmNvcyhuKV19dmFyIHI9TWF0aC5zaW4obiksdT0ocitNYXRoLnNpbih0KSkvMixpPTErciooMip1LXIpLGE9TWF0aC5zcXJ0KGkpL3U7cmV0dXJuIGUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7dmFyIGU9YS10O3JldHVybltNYXRoLmF0YW4yKG4sZSkvdSx0bigoaS0obipuK2UqZSkqdSp1KS8oMip1KSldfSxlfWZ1bmN0aW9uICR0KCl7ZnVuY3Rpb24gbihuLHQpe0lvKz11Km4tcip0LHI9bix1PXR9dmFyIHQsZSxyLHU7JG8ucG9pbnQ9ZnVuY3Rpb24oaSxhKXskby5wb2ludD1uLHQ9cj1pLGU9dT1hfSwkby5saW5lRW5kPWZ1bmN0aW9uKCl7bih0LGUpfX1mdW5jdGlvbiBCdChuLHQpe1lvPm4mJihZbz1uKSxuPlZvJiYoVm89biksWm8+dCYmKFpvPXQpLHQ+WG8mJihYbz10KX1mdW5jdGlvbiBXdCgpe2Z1bmN0aW9uIG4obix0KXthLnB1c2goXCJNXCIsbixcIixcIix0LGkpfWZ1bmN0aW9uIHQobix0KXthLnB1c2goXCJNXCIsbixcIixcIix0KSxvLnBvaW50PWV9ZnVuY3Rpb24gZShuLHQpe2EucHVzaChcIkxcIixuLFwiLFwiLHQpfWZ1bmN0aW9uIHIoKXtvLnBvaW50PW59ZnVuY3Rpb24gdSgpe2EucHVzaChcIlpcIil9dmFyIGk9SnQoNC41KSxhPVtdLG89e3BvaW50Om4sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7by5wb2ludD10fSxsaW5lRW5kOnIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7by5saW5lRW5kPXV9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtvLmxpbmVFbmQ9cixvLnBvaW50PW59LHBvaW50UmFkaXVzOmZ1bmN0aW9uKG4pe3JldHVybiBpPUp0KG4pLG99LHJlc3VsdDpmdW5jdGlvbigpe2lmKGEubGVuZ3RoKXt2YXIgbj1hLmpvaW4oXCJcIik7cmV0dXJuIGE9W10sbn19fTtyZXR1cm4gb31mdW5jdGlvbiBKdChuKXtyZXR1cm5cIm0wLFwiK24rXCJhXCIrbitcIixcIituK1wiIDAgMSwxIDAsXCIrLTIqbitcImFcIituK1wiLFwiK24rXCIgMCAxLDEgMCxcIisyKm4rXCJ6XCJ9ZnVuY3Rpb24gR3Qobix0KXtDbys9bix6bys9dCwrK0xvfWZ1bmN0aW9uIEt0KCl7ZnVuY3Rpb24gbihuLHIpe3ZhciB1PW4tdCxpPXItZSxhPU1hdGguc3FydCh1KnUraSppKTtxbys9YSoodCtuKS8yLFRvKz1hKihlK3IpLzIsUm8rPWEsR3QodD1uLGU9cil9dmFyIHQsZTtXby5wb2ludD1mdW5jdGlvbihyLHUpe1dvLnBvaW50PW4sR3QodD1yLGU9dSl9fWZ1bmN0aW9uIFF0KCl7V28ucG9pbnQ9R3R9ZnVuY3Rpb24gbmUoKXtmdW5jdGlvbiBuKG4sdCl7dmFyIGU9bi1yLGk9dC11LGE9TWF0aC5zcXJ0KGUqZStpKmkpO3FvKz1hKihyK24pLzIsVG8rPWEqKHUrdCkvMixSbys9YSxhPXUqbi1yKnQsRG8rPWEqKHIrbiksUG8rPWEqKHUrdCksVW8rPTMqYSxHdChyPW4sdT10KX12YXIgdCxlLHIsdTtXby5wb2ludD1mdW5jdGlvbihpLGEpe1dvLnBvaW50PW4sR3QodD1yPWksZT11PWEpfSxXby5saW5lRW5kPWZ1bmN0aW9uKCl7bih0LGUpfX1mdW5jdGlvbiB0ZShuKXtmdW5jdGlvbiB0KHQsZSl7bi5tb3ZlVG8odCthLGUpLG4uYXJjKHQsZSxhLDAsRmEpfWZ1bmN0aW9uIGUodCxlKXtuLm1vdmVUbyh0LGUpLG8ucG9pbnQ9cn1mdW5jdGlvbiByKHQsZSl7bi5saW5lVG8odCxlKX1mdW5jdGlvbiB1KCl7by5wb2ludD10fWZ1bmN0aW9uIGkoKXtuLmNsb3NlUGF0aCgpfXZhciBhPTQuNSxvPXtwb2ludDp0LGxpbmVTdGFydDpmdW5jdGlvbigpe28ucG9pbnQ9ZX0sbGluZUVuZDp1LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe28ubGluZUVuZD1pfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7by5saW5lRW5kPXUsby5wb2ludD10fSxwb2ludFJhZGl1czpmdW5jdGlvbihuKXtyZXR1cm4gYT1uLG99LHJlc3VsdDpifTtyZXR1cm4gb31mdW5jdGlvbiBlZShuKXtmdW5jdGlvbiB0KG4pe3JldHVybihvP3I6ZSkobil9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaWUodCxmdW5jdGlvbihlLHIpe2U9bihlLHIpLHQucG9pbnQoZVswXSxlWzFdKX0pfWZ1bmN0aW9uIHIodCl7ZnVuY3Rpb24gZShlLHIpe2U9bihlLHIpLHQucG9pbnQoZVswXSxlWzFdKX1mdW5jdGlvbiByKCl7TT1OYU4sUy5wb2ludD1pLHQubGluZVN0YXJ0KCl9ZnVuY3Rpb24gaShlLHIpe3ZhciBpPWR0KFtlLHJdKSxhPW4oZSxyKTt1KE0seCx5LGIsXyx3LE09YVswXSx4PWFbMV0seT1lLGI9aVswXSxfPWlbMV0sdz1pWzJdLG8sdCksdC5wb2ludChNLHgpfWZ1bmN0aW9uIGEoKXtTLnBvaW50PWUsdC5saW5lRW5kKCl9ZnVuY3Rpb24gbCgpe1xucigpLFMucG9pbnQ9YyxTLmxpbmVFbmQ9c31mdW5jdGlvbiBjKG4sdCl7aShmPW4saD10KSxnPU0scD14LHY9YixkPV8sbT13LFMucG9pbnQ9aX1mdW5jdGlvbiBzKCl7dShNLHgseSxiLF8sdyxnLHAsZix2LGQsbSxvLHQpLFMubGluZUVuZD1hLGEoKX12YXIgZixoLGcscCx2LGQsbSx5LE0seCxiLF8sdyxTPXtwb2ludDplLGxpbmVTdGFydDpyLGxpbmVFbmQ6YSxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXt0LnBvbHlnb25TdGFydCgpLFMubGluZVN0YXJ0PWx9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0LnBvbHlnb25FbmQoKSxTLmxpbmVTdGFydD1yfX07cmV0dXJuIFN9ZnVuY3Rpb24gdSh0LGUscixvLGwsYyxzLGYsaCxnLHAsdixkLG0pe3ZhciB5PXMtdCxNPWYtZSx4PXkqeStNKk07aWYoeD40KmkmJmQtLSl7dmFyIGI9bytnLF89bCtwLHc9Yyt2LFM9TWF0aC5zcXJ0KGIqYitfKl8rdyp3KSxrPU1hdGguYXNpbih3Lz1TKSxOPU1hKE1hKHcpLTEpPFBhfHxNYShyLWgpPFBhPyhyK2gpLzI6TWF0aC5hdGFuMihfLGIpLEU9bihOLGspLEE9RVswXSxDPUVbMV0sej1BLXQsTD1DLWUscT1NKnoteSpMOyhxKnEveD5pfHxNYSgoeSp6K00qTCkveC0uNSk+LjN8fGE+bypnK2wqcCtjKnYpJiYodSh0LGUscixvLGwsYyxBLEMsTixiLz1TLF8vPVMsdyxkLG0pLG0ucG9pbnQoQSxDKSx1KEEsQyxOLGIsXyx3LHMsZixoLGcscCx2LGQsbSkpfX12YXIgaT0uNSxhPU1hdGguY29zKDMwKklhKSxvPTE2O3JldHVybiB0LnByZWNpc2lvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz0oaT1uKm4pPjAmJjE2LHQpOk1hdGguc3FydChpKX0sdH1mdW5jdGlvbiByZShuKXt2YXIgdD1lZShmdW5jdGlvbih0LGUpe3JldHVybiBuKFt0KllhLGUqWWFdKX0pO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbGUodChuKSl9fWZ1bmN0aW9uIHVlKG4pe3RoaXMuc3RyZWFtPW59ZnVuY3Rpb24gaWUobix0KXtyZXR1cm57cG9pbnQ6dCxzcGhlcmU6ZnVuY3Rpb24oKXtuLnNwaGVyZSgpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtuLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bi5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe24ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtuLnBvbHlnb25FbmQoKX19fWZ1bmN0aW9uIGFlKG4pe3JldHVybiBvZShmdW5jdGlvbigpe3JldHVybiBufSkoKX1mdW5jdGlvbiBvZShuKXtmdW5jdGlvbiB0KG4pe3JldHVybiBuPW8oblswXSpJYSxuWzFdKklhKSxbblswXSpoK2wsYy1uWzFdKmhdfWZ1bmN0aW9uIGUobil7cmV0dXJuIG49by5pbnZlcnQoKG5bMF0tbCkvaCwoYy1uWzFdKS9oKSxuJiZbblswXSpZYSxuWzFdKllhXX1mdW5jdGlvbiByKCl7bz1DdChhPWZlKG0sTSx4KSxpKTt2YXIgbj1pKHYsZCk7cmV0dXJuIGw9Zy1uWzBdKmgsYz1wK25bMV0qaCx1KCl9ZnVuY3Rpb24gdSgpe3JldHVybiBzJiYocy52YWxpZD0hMSxzPW51bGwpLHR9dmFyIGksYSxvLGwsYyxzLGY9ZWUoZnVuY3Rpb24obix0KXtyZXR1cm4gbj1pKG4sdCksW25bMF0qaCtsLGMtblsxXSpoXX0pLGg9MTUwLGc9NDgwLHA9MjUwLHY9MCxkPTAsbT0wLE09MCx4PTAsYj1GbyxfPXksdz1udWxsLFM9bnVsbDtyZXR1cm4gdC5zdHJlYW09ZnVuY3Rpb24obil7cmV0dXJuIHMmJihzLnZhbGlkPSExKSxzPWxlKGIoYSxmKF8obikpKSkscy52YWxpZD0hMCxzfSx0LmNsaXBBbmdsZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1udWxsPT1uPyh3PW4sRm8pOkl0KCh3PStuKSpJYSksdSgpKTp3fSx0LmNsaXBFeHRlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KFM9bixfPW4/WnQoblswXVswXSxuWzBdWzFdLG5bMV1bMF0sblsxXVsxXSk6eSx1KCkpOlN9LHQuc2NhbGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9K24scigpKTpofSx0LnRyYW5zbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz0rblswXSxwPStuWzFdLHIoKSk6W2cscF19LHQuY2VudGVyPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PW5bMF0lMzYwKklhLGQ9blsxXSUzNjAqSWEscigpKTpbdipZYSxkKllhXX0sdC5yb3RhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG09blswXSUzNjAqSWEsTT1uWzFdJTM2MCpJYSx4PW4ubGVuZ3RoPjI/blsyXSUzNjAqSWE6MCxyKCkpOlttKllhLE0qWWEseCpZYV19LG9hLnJlYmluZCh0LGYsXCJwcmVjaXNpb25cIiksZnVuY3Rpb24oKXtyZXR1cm4gaT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LmludmVydD1pLmludmVydCYmZSxyKCl9fWZ1bmN0aW9uIGxlKG4pe3JldHVybiBpZShuLGZ1bmN0aW9uKHQsZSl7bi5wb2ludCh0KklhLGUqSWEpfSl9ZnVuY3Rpb24gY2Uobix0KXtyZXR1cm5bbix0XX1mdW5jdGlvbiBzZShuLHQpe3JldHVybltuPmphP24tRmE6LWphPm4/bitGYTpuLHRdfWZ1bmN0aW9uIGZlKG4sdCxlKXtyZXR1cm4gbj90fHxlP0N0KGdlKG4pLHBlKHQsZSkpOmdlKG4pOnR8fGU/cGUodCxlKTpzZX1mdW5jdGlvbiBoZShuKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdCs9bixbdD5qYT90LUZhOi1qYT50P3QrRmE6dCxlXX19ZnVuY3Rpb24gZ2Uobil7dmFyIHQ9aGUobik7cmV0dXJuIHQuaW52ZXJ0PWhlKC1uKSx0fWZ1bmN0aW9uIHBlKG4sdCl7ZnVuY3Rpb24gZShuLHQpe3ZhciBlPU1hdGguY29zKHQpLG89TWF0aC5jb3MobikqZSxsPU1hdGguc2luKG4pKmUsYz1NYXRoLnNpbih0KSxzPWMqcitvKnU7cmV0dXJuW01hdGguYXRhbjIobCppLXMqYSxvKnItYyp1KSx0bihzKmkrbCphKV19dmFyIHI9TWF0aC5jb3MobiksdT1NYXRoLnNpbihuKSxpPU1hdGguY29zKHQpLGE9TWF0aC5zaW4odCk7cmV0dXJuIGUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7dmFyIGU9TWF0aC5jb3ModCksbz1NYXRoLmNvcyhuKSplLGw9TWF0aC5zaW4obikqZSxjPU1hdGguc2luKHQpLHM9YyppLWwqYTtyZXR1cm5bTWF0aC5hdGFuMihsKmkrYyphLG8qcitzKnUpLHRuKHMqci1vKnUpXX0sZX1mdW5jdGlvbiB2ZShuLHQpe3ZhciBlPU1hdGguY29zKG4pLHI9TWF0aC5zaW4obik7cmV0dXJuIGZ1bmN0aW9uKHUsaSxhLG8pe3ZhciBsPWEqdDtudWxsIT11Pyh1PWRlKGUsdSksaT1kZShlLGkpLChhPjA/aT51OnU+aSkmJih1Kz1hKkZhKSk6KHU9bithKkZhLGk9bi0uNSpsKTtmb3IodmFyIGMscz11O2E+MD9zPmk6aT5zO3MtPWwpby5wb2ludCgoYz1fdChbZSwtcipNYXRoLmNvcyhzKSwtcipNYXRoLnNpbihzKV0pKVswXSxjWzFdKX19ZnVuY3Rpb24gZGUobix0KXt2YXIgZT1kdCh0KTtlWzBdLT1uLGJ0KGUpO3ZhciByPW5uKC1lWzFdKTtyZXR1cm4oKC1lWzJdPDA/LXI6cikrMipNYXRoLlBJLVBhKSUoMipNYXRoLlBJKX1mdW5jdGlvbiBtZShuLHQsZSl7dmFyIHI9b2EucmFuZ2Uobix0LVBhLGUpLmNvbmNhdCh0KTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHIubWFwKGZ1bmN0aW9uKHQpe3JldHVybltuLHRdfSl9fWZ1bmN0aW9uIHllKG4sdCxlKXt2YXIgcj1vYS5yYW5nZShuLHQtUGEsZSkuY29uY2F0KHQpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW3Qsbl19KX19ZnVuY3Rpb24gTWUobil7cmV0dXJuIG4uc291cmNlfWZ1bmN0aW9uIHhlKG4pe3JldHVybiBuLnRhcmdldH1mdW5jdGlvbiBiZShuLHQsZSxyKXt2YXIgdT1NYXRoLmNvcyh0KSxpPU1hdGguc2luKHQpLGE9TWF0aC5jb3Mociksbz1NYXRoLnNpbihyKSxsPXUqTWF0aC5jb3MobiksYz11Kk1hdGguc2luKG4pLHM9YSpNYXRoLmNvcyhlKSxmPWEqTWF0aC5zaW4oZSksaD0yKk1hdGguYXNpbihNYXRoLnNxcnQoYW4oci10KSt1KmEqYW4oZS1uKSkpLGc9MS9NYXRoLnNpbihoKSxwPWg/ZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5zaW4obio9aCkqZyxlPU1hdGguc2luKGgtbikqZyxyPWUqbCt0KnMsdT1lKmMrdCpmLGE9ZSppK3QqbztyZXR1cm5bTWF0aC5hdGFuMih1LHIpKllhLE1hdGguYXRhbjIoYSxNYXRoLnNxcnQocipyK3UqdSkpKllhXX06ZnVuY3Rpb24oKXtyZXR1cm5bbipZYSx0KllhXX07cmV0dXJuIHAuZGlzdGFuY2U9aCxwfWZ1bmN0aW9uIF9lKCl7ZnVuY3Rpb24gbihuLHUpe3ZhciBpPU1hdGguc2luKHUqPUlhKSxhPU1hdGguY29zKHUpLG89TWEoKG4qPUlhKS10KSxsPU1hdGguY29zKG8pO0pvKz1NYXRoLmF0YW4yKE1hdGguc3FydCgobz1hKk1hdGguc2luKG8pKSpvKyhvPXIqaS1lKmEqbCkqbyksZSppK3IqYSpsKSx0PW4sZT1pLHI9YX12YXIgdCxlLHI7R28ucG9pbnQ9ZnVuY3Rpb24odSxpKXt0PXUqSWEsZT1NYXRoLnNpbihpKj1JYSkscj1NYXRoLmNvcyhpKSxHby5wb2ludD1ufSxHby5saW5lRW5kPWZ1bmN0aW9uKCl7R28ucG9pbnQ9R28ubGluZUVuZD1ifX1mdW5jdGlvbiB3ZShuLHQpe2Z1bmN0aW9uIGUodCxlKXt2YXIgcj1NYXRoLmNvcyh0KSx1PU1hdGguY29zKGUpLGk9bihyKnUpO3JldHVybltpKnUqTWF0aC5zaW4odCksaSpNYXRoLnNpbihlKV19cmV0dXJuIGUuaW52ZXJ0PWZ1bmN0aW9uKG4sZSl7dmFyIHI9TWF0aC5zcXJ0KG4qbitlKmUpLHU9dChyKSxpPU1hdGguc2luKHUpLGE9TWF0aC5jb3ModSk7cmV0dXJuW01hdGguYXRhbjIobippLHIqYSksTWF0aC5hc2luKHImJmUqaS9yKV19LGV9ZnVuY3Rpb24gU2Uobix0KXtmdW5jdGlvbiBlKG4sdCl7YT4wPy1PYStQYT50JiYodD0tT2ErUGEpOnQ+T2EtUGEmJih0PU9hLVBhKTt2YXIgZT1hL01hdGgucG93KHUodCksaSk7cmV0dXJuW2UqTWF0aC5zaW4oaSpuKSxhLWUqTWF0aC5jb3MoaSpuKV19dmFyIHI9TWF0aC5jb3MobiksdT1mdW5jdGlvbihuKXtyZXR1cm4gTWF0aC50YW4oamEvNCtuLzIpfSxpPW49PT10P01hdGguc2luKG4pOk1hdGgubG9nKHIvTWF0aC5jb3ModCkpL01hdGgubG9nKHUodCkvdShuKSksYT1yKk1hdGgucG93KHUobiksaSkvaTtyZXR1cm4gaT8oZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1hLXQscj1LKGkpKk1hdGguc3FydChuKm4rZSplKTtyZXR1cm5bTWF0aC5hdGFuMihuLGUpL2ksMipNYXRoLmF0YW4oTWF0aC5wb3coYS9yLDEvaSkpLU9hXX0sZSk6TmV9ZnVuY3Rpb24ga2Uobix0KXtmdW5jdGlvbiBlKG4sdCl7dmFyIGU9aS10O3JldHVybltlKk1hdGguc2luKHUqbiksaS1lKk1hdGguY29zKHUqbildfXZhciByPU1hdGguY29zKG4pLHU9bj09PXQ/TWF0aC5zaW4obik6KHItTWF0aC5jb3ModCkpLyh0LW4pLGk9ci91K247cmV0dXJuIE1hKHUpPFBhP2NlOihlLmludmVydD1mdW5jdGlvbihuLHQpe3ZhciBlPWktdDtyZXR1cm5bTWF0aC5hdGFuMihuLGUpL3UsaS1LKHUpKk1hdGguc3FydChuKm4rZSplKV19LGUpfWZ1bmN0aW9uIE5lKG4sdCl7cmV0dXJuW24sTWF0aC5sb2coTWF0aC50YW4oamEvNCt0LzIpKV19ZnVuY3Rpb24gRWUobil7dmFyIHQsZT1hZShuKSxyPWUuc2NhbGUsdT1lLnRyYW5zbGF0ZSxpPWUuY2xpcEV4dGVudDtyZXR1cm4gZS5zY2FsZT1mdW5jdGlvbigpe3ZhciBuPXIuYXBwbHkoZSxhcmd1bWVudHMpO3JldHVybiBuPT09ZT90P2UuY2xpcEV4dGVudChudWxsKTplOm59LGUudHJhbnNsYXRlPWZ1bmN0aW9uKCl7dmFyIG49dS5hcHBseShlLGFyZ3VtZW50cyk7cmV0dXJuIG49PT1lP3Q/ZS5jbGlwRXh0ZW50KG51bGwpOmU6bn0sZS5jbGlwRXh0ZW50PWZ1bmN0aW9uKG4pe3ZhciBhPWkuYXBwbHkoZSxhcmd1bWVudHMpO2lmKGE9PT1lKXtpZih0PW51bGw9PW4pe3ZhciBvPWphKnIoKSxsPXUoKTtpKFtbbFswXS1vLGxbMV0tb10sW2xbMF0rbyxsWzFdK29dXSl9fWVsc2UgdCYmKGE9bnVsbCk7cmV0dXJuIGF9LGUuY2xpcEV4dGVudChudWxsKX1mdW5jdGlvbiBBZShuLHQpe3JldHVybltNYXRoLmxvZyhNYXRoLnRhbihqYS80K3QvMikpLC1uXX1mdW5jdGlvbiBDZShuKXtyZXR1cm4gblswXX1mdW5jdGlvbiB6ZShuKXtyZXR1cm4gblsxXX1mdW5jdGlvbiBMZShuKXtmb3IodmFyIHQ9bi5sZW5ndGgsZT1bMCwxXSxyPTIsdT0yO3Q+dTt1Kyspe2Zvcig7cj4xJiZRKG5bZVtyLTJdXSxuW2Vbci0xXV0sblt1XSk8PTA7KS0tcjtlW3IrK109dX1yZXR1cm4gZS5zbGljZSgwLHIpfWZ1bmN0aW9uIHFlKG4sdCl7cmV0dXJuIG5bMF0tdFswXXx8blsxXS10WzFdfWZ1bmN0aW9uIFRlKG4sdCxlKXtyZXR1cm4oZVswXS10WzBdKSooblsxXS10WzFdKTwoZVsxXS10WzFdKSooblswXS10WzBdKX1mdW5jdGlvbiBSZShuLHQsZSxyKXt2YXIgdT1uWzBdLGk9ZVswXSxhPXRbMF0tdSxvPXJbMF0taSxsPW5bMV0sYz1lWzFdLHM9dFsxXS1sLGY9clsxXS1jLGg9KG8qKGwtYyktZioodS1pKSkvKGYqYS1vKnMpO3JldHVyblt1K2gqYSxsK2gqc119ZnVuY3Rpb24gRGUobil7dmFyIHQ9blswXSxlPW5bbi5sZW5ndGgtMV07cmV0dXJuISh0WzBdLWVbMF18fHRbMV0tZVsxXSl9ZnVuY3Rpb24gUGUoKXtycih0aGlzKSx0aGlzLmVkZ2U9dGhpcy5zaXRlPXRoaXMuY2lyY2xlPW51bGx9ZnVuY3Rpb24gVWUobil7dmFyIHQ9Y2wucG9wKCl8fG5ldyBQZTtyZXR1cm4gdC5zaXRlPW4sdH1mdW5jdGlvbiBqZShuKXtCZShuKSxhbC5yZW1vdmUobiksY2wucHVzaChuKSxycihuKX1mdW5jdGlvbiBGZShuKXt2YXIgdD1uLmNpcmNsZSxlPXQueCxyPXQuY3ksdT17eDplLHk6cn0saT1uLlAsYT1uLk4sbz1bbl07amUobik7Zm9yKHZhciBsPWk7bC5jaXJjbGUmJk1hKGUtbC5jaXJjbGUueCk8UGEmJk1hKHItbC5jaXJjbGUuY3kpPFBhOylpPWwuUCxvLnVuc2hpZnQobCksamUobCksbD1pO28udW5zaGlmdChsKSxCZShsKTtmb3IodmFyIGM9YTtjLmNpcmNsZSYmTWEoZS1jLmNpcmNsZS54KTxQYSYmTWEoci1jLmNpcmNsZS5jeSk8UGE7KWE9Yy5OLG8ucHVzaChjKSxqZShjKSxjPWE7by5wdXNoKGMpLEJlKGMpO3ZhciBzLGY9by5sZW5ndGg7Zm9yKHM9MTtmPnM7KytzKWM9b1tzXSxsPW9bcy0xXSxucihjLmVkZ2UsbC5zaXRlLGMuc2l0ZSx1KTtsPW9bMF0sYz1vW2YtMV0sYy5lZGdlPUtlKGwuc2l0ZSxjLnNpdGUsbnVsbCx1KSwkZShsKSwkZShjKX1mdW5jdGlvbiBIZShuKXtmb3IodmFyIHQsZSxyLHUsaT1uLngsYT1uLnksbz1hbC5fO287KWlmKHI9T2UobyxhKS1pLHI+UGEpbz1vLkw7ZWxzZXtpZih1PWktSWUobyxhKSwhKHU+UGEpKXtyPi1QYT8odD1vLlAsZT1vKTp1Pi1QYT8odD1vLGU9by5OKTp0PWU9bzticmVha31pZighby5SKXt0PW87YnJlYWt9bz1vLlJ9dmFyIGw9VWUobik7aWYoYWwuaW5zZXJ0KHQsbCksdHx8ZSl7aWYodD09PWUpcmV0dXJuIEJlKHQpLGU9VWUodC5zaXRlKSxhbC5pbnNlcnQobCxlKSxsLmVkZ2U9ZS5lZGdlPUtlKHQuc2l0ZSxsLnNpdGUpLCRlKHQpLHZvaWQgJGUoZSk7aWYoIWUpcmV0dXJuIHZvaWQobC5lZGdlPUtlKHQuc2l0ZSxsLnNpdGUpKTtCZSh0KSxCZShlKTt2YXIgYz10LnNpdGUscz1jLngsZj1jLnksaD1uLngtcyxnPW4ueS1mLHA9ZS5zaXRlLHY9cC54LXMsZD1wLnktZixtPTIqKGgqZC1nKnYpLHk9aCpoK2cqZyxNPXYqditkKmQseD17eDooZCp5LWcqTSkvbStzLHk6KGgqTS12KnkpL20rZn07bnIoZS5lZGdlLGMscCx4KSxsLmVkZ2U9S2UoYyxuLG51bGwseCksZS5lZGdlPUtlKG4scCxudWxsLHgpLCRlKHQpLCRlKGUpfX1mdW5jdGlvbiBPZShuLHQpe3ZhciBlPW4uc2l0ZSxyPWUueCx1PWUueSxpPXUtdDtpZighaSlyZXR1cm4gcjt2YXIgYT1uLlA7aWYoIWEpcmV0dXJuLSgxLzApO2U9YS5zaXRlO3ZhciBvPWUueCxsPWUueSxjPWwtdDtpZighYylyZXR1cm4gbzt2YXIgcz1vLXIsZj0xL2ktMS9jLGg9cy9jO3JldHVybiBmPygtaCtNYXRoLnNxcnQoaCpoLTIqZioocypzLygtMipjKS1sK2MvMit1LWkvMikpKS9mK3I6KHIrbykvMn1mdW5jdGlvbiBJZShuLHQpe3ZhciBlPW4uTjtpZihlKXJldHVybiBPZShlLHQpO3ZhciByPW4uc2l0ZTtyZXR1cm4gci55PT09dD9yLng6MS8wfWZ1bmN0aW9uIFllKG4pe3RoaXMuc2l0ZT1uLHRoaXMuZWRnZXM9W119ZnVuY3Rpb24gWmUobil7Zm9yKHZhciB0LGUscix1LGksYSxvLGwsYyxzLGY9blswXVswXSxoPW5bMV1bMF0sZz1uWzBdWzFdLHA9blsxXVsxXSx2PWlsLGQ9di5sZW5ndGg7ZC0tOylpZihpPXZbZF0saSYmaS5wcmVwYXJlKCkpZm9yKG89aS5lZGdlcyxsPW8ubGVuZ3RoLGE9MDtsPmE7KXM9b1thXS5lbmQoKSxyPXMueCx1PXMueSxjPW9bKythJWxdLnN0YXJ0KCksdD1jLngsZT1jLnksKE1hKHItdCk+UGF8fE1hKHUtZSk+UGEpJiYoby5zcGxpY2UoYSwwLG5ldyB0cihRZShpLnNpdGUscyxNYShyLWYpPFBhJiZwLXU+UGE/e3g6Zix5Ok1hKHQtZik8UGE/ZTpwfTpNYSh1LXApPFBhJiZoLXI+UGE/e3g6TWEoZS1wKTxQYT90OmgseTpwfTpNYShyLWgpPFBhJiZ1LWc+UGE/e3g6aCx5Ok1hKHQtaCk8UGE/ZTpnfTpNYSh1LWcpPFBhJiZyLWY+UGE/e3g6TWEoZS1nKTxQYT90OmYseTpnfTpudWxsKSxpLnNpdGUsbnVsbCkpLCsrbCl9ZnVuY3Rpb24gVmUobix0KXtyZXR1cm4gdC5hbmdsZS1uLmFuZ2xlfWZ1bmN0aW9uIFhlKCl7cnIodGhpcyksdGhpcy54PXRoaXMueT10aGlzLmFyYz10aGlzLnNpdGU9dGhpcy5jeT1udWxsfWZ1bmN0aW9uICRlKG4pe3ZhciB0PW4uUCxlPW4uTjtpZih0JiZlKXt2YXIgcj10LnNpdGUsdT1uLnNpdGUsaT1lLnNpdGU7aWYociE9PWkpe3ZhciBhPXUueCxvPXUueSxsPXIueC1hLGM9ci55LW8scz1pLngtYSxmPWkueS1vLGg9MioobCpmLWMqcyk7aWYoIShoPj0tVWEpKXt2YXIgZz1sKmwrYypjLHA9cypzK2YqZix2PShmKmctYypwKS9oLGQ9KGwqcC1zKmcpL2gsZj1kK28sbT1zbC5wb3AoKXx8bmV3IFhlO20uYXJjPW4sbS5zaXRlPXUsbS54PXYrYSxtLnk9ZitNYXRoLnNxcnQodip2K2QqZCksbS5jeT1mLG4uY2lyY2xlPW07Zm9yKHZhciB5PW51bGwsTT1sbC5fO007KWlmKG0ueTxNLnl8fG0ueT09PU0ueSYmbS54PD1NLngpe2lmKCFNLkwpe3k9TS5QO2JyZWFrfU09TS5MfWVsc2V7aWYoIU0uUil7eT1NO2JyZWFrfU09TS5SfWxsLmluc2VydCh5LG0pLHl8fChvbD1tKX19fX1mdW5jdGlvbiBCZShuKXt2YXIgdD1uLmNpcmNsZTt0JiYodC5QfHwob2w9dC5OKSxsbC5yZW1vdmUodCksc2wucHVzaCh0KSxycih0KSxuLmNpcmNsZT1udWxsKX1mdW5jdGlvbiBXZShuKXtmb3IodmFyIHQsZT11bCxyPVl0KG5bMF1bMF0sblswXVsxXSxuWzFdWzBdLG5bMV1bMV0pLHU9ZS5sZW5ndGg7dS0tOyl0PWVbdV0sKCFKZSh0LG4pfHwhcih0KXx8TWEodC5hLngtdC5iLngpPFBhJiZNYSh0LmEueS10LmIueSk8UGEpJiYodC5hPXQuYj1udWxsLGUuc3BsaWNlKHUsMSkpfWZ1bmN0aW9uIEplKG4sdCl7dmFyIGU9bi5iO2lmKGUpcmV0dXJuITA7dmFyIHIsdSxpPW4uYSxhPXRbMF1bMF0sbz10WzFdWzBdLGw9dFswXVsxXSxjPXRbMV1bMV0scz1uLmwsZj1uLnIsaD1zLngsZz1zLnkscD1mLngsdj1mLnksZD0oaCtwKS8yLG09KGcrdikvMjtpZih2PT09Zyl7aWYoYT5kfHxkPj1vKXJldHVybjtpZihoPnApe2lmKGkpe2lmKGkueT49YylyZXR1cm59ZWxzZSBpPXt4OmQseTpsfTtlPXt4OmQseTpjfX1lbHNle2lmKGkpe2lmKGkueTxsKXJldHVybn1lbHNlIGk9e3g6ZCx5OmN9O2U9e3g6ZCx5Omx9fX1lbHNlIGlmKHI9KGgtcCkvKHYtZyksdT1tLXIqZCwtMT5yfHxyPjEpaWYoaD5wKXtpZihpKXtpZihpLnk+PWMpcmV0dXJufWVsc2UgaT17eDoobC11KS9yLHk6bH07ZT17eDooYy11KS9yLHk6Y319ZWxzZXtpZihpKXtpZihpLnk8bClyZXR1cm59ZWxzZSBpPXt4OihjLXUpL3IseTpjfTtlPXt4OihsLXUpL3IseTpsfX1lbHNlIGlmKHY+Zyl7aWYoaSl7aWYoaS54Pj1vKXJldHVybn1lbHNlIGk9e3g6YSx5OnIqYSt1fTtlPXt4Om8seTpyKm8rdX19ZWxzZXtpZihpKXtpZihpLng8YSlyZXR1cm59ZWxzZSBpPXt4Om8seTpyKm8rdX07ZT17eDphLHk6ciphK3V9fXJldHVybiBuLmE9aSxuLmI9ZSwhMH1mdW5jdGlvbiBHZShuLHQpe3RoaXMubD1uLHRoaXMucj10LHRoaXMuYT10aGlzLmI9bnVsbH1mdW5jdGlvbiBLZShuLHQsZSxyKXt2YXIgdT1uZXcgR2Uobix0KTtyZXR1cm4gdWwucHVzaCh1KSxlJiZucih1LG4sdCxlKSxyJiZucih1LHQsbixyKSxpbFtuLmldLmVkZ2VzLnB1c2gobmV3IHRyKHUsbix0KSksaWxbdC5pXS5lZGdlcy5wdXNoKG5ldyB0cih1LHQsbikpLHV9ZnVuY3Rpb24gUWUobix0LGUpe3ZhciByPW5ldyBHZShuLG51bGwpO3JldHVybiByLmE9dCxyLmI9ZSx1bC5wdXNoKHIpLHJ9ZnVuY3Rpb24gbnIobix0LGUscil7bi5hfHxuLmI/bi5sPT09ZT9uLmI9cjpuLmE9cjoobi5hPXIsbi5sPXQsbi5yPWUpfWZ1bmN0aW9uIHRyKG4sdCxlKXt2YXIgcj1uLmEsdT1uLmI7dGhpcy5lZGdlPW4sdGhpcy5zaXRlPXQsdGhpcy5hbmdsZT1lP01hdGguYXRhbjIoZS55LXQueSxlLngtdC54KTpuLmw9PT10P01hdGguYXRhbjIodS54LXIueCxyLnktdS55KTpNYXRoLmF0YW4yKHIueC11LngsdS55LXIueSl9ZnVuY3Rpb24gZXIoKXt0aGlzLl89bnVsbH1mdW5jdGlvbiBycihuKXtuLlU9bi5DPW4uTD1uLlI9bi5QPW4uTj1udWxsfWZ1bmN0aW9uIHVyKG4sdCl7dmFyIGU9dCxyPXQuUix1PWUuVTt1P3UuTD09PWU/dS5MPXI6dS5SPXI6bi5fPXIsci5VPXUsZS5VPXIsZS5SPXIuTCxlLlImJihlLlIuVT1lKSxyLkw9ZX1mdW5jdGlvbiBpcihuLHQpe3ZhciBlPXQscj10LkwsdT1lLlU7dT91Lkw9PT1lP3UuTD1yOnUuUj1yOm4uXz1yLHIuVT11LGUuVT1yLGUuTD1yLlIsZS5MJiYoZS5MLlU9ZSksci5SPWV9ZnVuY3Rpb24gYXIobil7Zm9yKDtuLkw7KW49bi5MO3JldHVybiBufWZ1bmN0aW9uIG9yKG4sdCl7dmFyIGUscix1LGk9bi5zb3J0KGxyKS5wb3AoKTtmb3IodWw9W10saWw9bmV3IEFycmF5KG4ubGVuZ3RoKSxhbD1uZXcgZXIsbGw9bmV3IGVyOzspaWYodT1vbCxpJiYoIXV8fGkueTx1Lnl8fGkueT09PXUueSYmaS54PHUueCkpKGkueCE9PWV8fGkueSE9PXIpJiYoaWxbaS5pXT1uZXcgWWUoaSksSGUoaSksZT1pLngscj1pLnkpLGk9bi5wb3AoKTtlbHNle2lmKCF1KWJyZWFrO0ZlKHUuYXJjKX10JiYoV2UodCksWmUodCkpO3ZhciBhPXtjZWxsczppbCxlZGdlczp1bH07cmV0dXJuIGFsPWxsPXVsPWlsPW51bGwsYX1mdW5jdGlvbiBscihuLHQpe3JldHVybiB0Lnktbi55fHx0Lngtbi54fWZ1bmN0aW9uIGNyKG4sdCxlKXtyZXR1cm4obi54LWUueCkqKHQueS1uLnkpLShuLngtdC54KSooZS55LW4ueSl9ZnVuY3Rpb24gc3Iobil7cmV0dXJuIG4ueH1mdW5jdGlvbiBmcihuKXtyZXR1cm4gbi55fWZ1bmN0aW9uIGhyKCl7cmV0dXJue2xlYWY6ITAsbm9kZXM6W10scG9pbnQ6bnVsbCx4Om51bGwseTpudWxsfX1mdW5jdGlvbiBncihuLHQsZSxyLHUsaSl7aWYoIW4odCxlLHIsdSxpKSl7dmFyIGE9LjUqKGUrdSksbz0uNSoocitpKSxsPXQubm9kZXM7bFswXSYmZ3IobixsWzBdLGUscixhLG8pLGxbMV0mJmdyKG4sbFsxXSxhLHIsdSxvKSxsWzJdJiZncihuLGxbMl0sZSxvLGEsaSksbFszXSYmZ3IobixsWzNdLGEsbyx1LGkpfX1mdW5jdGlvbiBwcihuLHQsZSxyLHUsaSxhKXt2YXIgbyxsPTEvMDtyZXR1cm4gZnVuY3Rpb24gYyhuLHMsZixoLGcpe2lmKCEocz5pfHxmPmF8fHI+aHx8dT5nKSl7aWYocD1uLnBvaW50KXt2YXIgcCx2PXQtbi54LGQ9ZS1uLnksbT12KnYrZCpkO2lmKGw+bSl7dmFyIHk9TWF0aC5zcXJ0KGw9bSk7cj10LXksdT1lLXksaT10K3ksYT1lK3ksbz1wfX1mb3IodmFyIE09bi5ub2Rlcyx4PS41KihzK2gpLGI9LjUqKGYrZyksXz10Pj14LHc9ZT49YixTPXc8PDF8XyxrPVMrNDtrPlM7KytTKWlmKG49TVszJlNdKXN3aXRjaCgzJlMpe2Nhc2UgMDpjKG4scyxmLHgsYik7YnJlYWs7Y2FzZSAxOmMobix4LGYsaCxiKTticmVhaztjYXNlIDI6YyhuLHMsYix4LGcpO2JyZWFrO2Nhc2UgMzpjKG4seCxiLGgsZyl9fX0obixyLHUsaSxhKSxvfWZ1bmN0aW9uIHZyKG4sdCl7bj1vYS5yZ2IobiksdD1vYS5yZ2IodCk7dmFyIGU9bi5yLHI9bi5nLHU9bi5iLGk9dC5yLWUsYT10LmctcixvPXQuYi11O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm5cIiNcIitibihNYXRoLnJvdW5kKGUraSpuKSkrYm4oTWF0aC5yb3VuZChyK2EqbikpK2JuKE1hdGgucm91bmQodStvKm4pKX19ZnVuY3Rpb24gZHIobix0KXt2YXIgZSxyPXt9LHU9e307Zm9yKGUgaW4gbillIGluIHQ/cltlXT1NcihuW2VdLHRbZV0pOnVbZV09bltlXTtmb3IoZSBpbiB0KWUgaW4gbnx8KHVbZV09dFtlXSk7cmV0dXJuIGZ1bmN0aW9uKG4pe2ZvcihlIGluIHIpdVtlXT1yW2VdKG4pO3JldHVybiB1fX1mdW5jdGlvbiBtcihuLHQpe3JldHVybiBuPStuLHQ9K3QsZnVuY3Rpb24oZSl7cmV0dXJuIG4qKDEtZSkrdCplfX1mdW5jdGlvbiB5cihuLHQpe3ZhciBlLHIsdSxpPWhsLmxhc3RJbmRleD1nbC5sYXN0SW5kZXg9MCxhPS0xLG89W10sbD1bXTtmb3Iobis9XCJcIix0Kz1cIlwiOyhlPWhsLmV4ZWMobikpJiYocj1nbC5leGVjKHQpKTspKHU9ci5pbmRleCk+aSYmKHU9dC5zbGljZShpLHUpLG9bYV0/b1thXSs9dTpvWysrYV09dSksKGU9ZVswXSk9PT0ocj1yWzBdKT9vW2FdP29bYV0rPXI6b1srK2FdPXI6KG9bKythXT1udWxsLGwucHVzaCh7aTphLHg6bXIoZSxyKX0pKSxpPWdsLmxhc3RJbmRleDtyZXR1cm4gaTx0Lmxlbmd0aCYmKHU9dC5zbGljZShpKSxvW2FdP29bYV0rPXU6b1srK2FdPXUpLG8ubGVuZ3RoPDI/bFswXT8odD1sWzBdLngsZnVuY3Rpb24obil7cmV0dXJuIHQobikrXCJcIn0pOmZ1bmN0aW9uKCl7cmV0dXJuIHR9Oih0PWwubGVuZ3RoLGZ1bmN0aW9uKG4pe2Zvcih2YXIgZSxyPTA7dD5yOysrcilvWyhlPWxbcl0pLmldPWUueChuKTtyZXR1cm4gby5qb2luKFwiXCIpfSl9ZnVuY3Rpb24gTXIobix0KXtmb3IodmFyIGUscj1vYS5pbnRlcnBvbGF0b3JzLmxlbmd0aDstLXI+PTAmJiEoZT1vYS5pbnRlcnBvbGF0b3JzW3JdKG4sdCkpOyk7cmV0dXJuIGV9ZnVuY3Rpb24geHIobix0KXt2YXIgZSxyPVtdLHU9W10saT1uLmxlbmd0aCxhPXQubGVuZ3RoLG89TWF0aC5taW4obi5sZW5ndGgsdC5sZW5ndGgpO2ZvcihlPTA7bz5lOysrZSlyLnB1c2goTXIobltlXSx0W2VdKSk7Zm9yKDtpPmU7KytlKXVbZV09bltlXTtmb3IoO2E+ZTsrK2UpdVtlXT10W2VdO3JldHVybiBmdW5jdGlvbihuKXtmb3IoZT0wO28+ZTsrK2UpdVtlXT1yW2VdKG4pO3JldHVybiB1fX1mdW5jdGlvbiBicihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA+PXQ/MDp0Pj0xPzE6bih0KX19ZnVuY3Rpb24gX3Iobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAxLW4oMS10KX19ZnVuY3Rpb24gd3Iobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi41KiguNT50P24oMip0KToyLW4oMi0yKnQpKX19ZnVuY3Rpb24gU3Iobil7cmV0dXJuIG4qbn1mdW5jdGlvbiBrcihuKXtyZXR1cm4gbipuKm59ZnVuY3Rpb24gTnIobil7aWYoMD49bilyZXR1cm4gMDtpZihuPj0xKXJldHVybiAxO3ZhciB0PW4qbixlPXQqbjtyZXR1cm4gNCooLjU+bj9lOjMqKG4tdCkrZS0uNzUpfWZ1bmN0aW9uIEVyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxuKX19ZnVuY3Rpb24gQXIobil7cmV0dXJuIDEtTWF0aC5jb3MobipPYSl9ZnVuY3Rpb24gQ3Iobil7cmV0dXJuIE1hdGgucG93KDIsMTAqKG4tMSkpfWZ1bmN0aW9uIHpyKG4pe3JldHVybiAxLU1hdGguc3FydCgxLW4qbil9ZnVuY3Rpb24gTHIobix0KXt2YXIgZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD0uNDUpLGFyZ3VtZW50cy5sZW5ndGg/ZT10L0ZhKk1hdGguYXNpbigxL24pOihuPTEsZT10LzQpLGZ1bmN0aW9uKHIpe3JldHVybiAxK24qTWF0aC5wb3coMiwtMTAqcikqTWF0aC5zaW4oKHItZSkqRmEvdCl9fWZ1bmN0aW9uIHFyKG4pe3JldHVybiBufHwobj0xLjcwMTU4KSxmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigobisxKSp0LW4pfX1mdW5jdGlvbiBUcihuKXtyZXR1cm4gMS8yLjc1Pm4/Ny41NjI1Km4qbjoyLzIuNzU+bj83LjU2MjUqKG4tPTEuNS8yLjc1KSpuKy43NToyLjUvMi43NT5uPzcuNTYyNSoobi09Mi4yNS8yLjc1KSpuKy45Mzc1OjcuNTYyNSoobi09Mi42MjUvMi43NSkqbisuOTg0Mzc1fWZ1bmN0aW9uIFJyKG4sdCl7bj1vYS5oY2wobiksdD1vYS5oY2wodCk7dmFyIGU9bi5oLHI9bi5jLHU9bi5sLGk9dC5oLWUsYT10LmMtcixvPXQubC11O3JldHVybiBpc05hTihhKSYmKGE9MCxyPWlzTmFOKHIpP3QuYzpyKSxpc05hTihpKT8oaT0wLGU9aXNOYU4oZSk/dC5oOmUpOmk+MTgwP2ktPTM2MDotMTgwPmkmJihpKz0zNjApLGZ1bmN0aW9uKG4pe3JldHVybiBmbihlK2kqbixyK2Eqbix1K28qbikrXCJcIn19ZnVuY3Rpb24gRHIobix0KXtuPW9hLmhzbChuKSx0PW9hLmhzbCh0KTt2YXIgZT1uLmgscj1uLnMsdT1uLmwsaT10LmgtZSxhPXQucy1yLG89dC5sLXU7cmV0dXJuIGlzTmFOKGEpJiYoYT0wLHI9aXNOYU4ocik/dC5zOnIpLGlzTmFOKGkpPyhpPTAsZT1pc05hTihlKT90Lmg6ZSk6aT4xODA/aS09MzYwOi0xODA+aSYmKGkrPTM2MCksZnVuY3Rpb24obil7cmV0dXJuIGNuKGUraSpuLHIrYSpuLHUrbypuKStcIlwifX1mdW5jdGlvbiBQcihuLHQpe249b2EubGFiKG4pLHQ9b2EubGFiKHQpO3ZhciBlPW4ubCxyPW4uYSx1PW4uYixpPXQubC1lLGE9dC5hLXIsbz10LmItdTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGduKGUraSpuLHIrYSpuLHUrbypuKStcIlwifX1mdW5jdGlvbiBVcihuLHQpe3JldHVybiB0LT1uLGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnJvdW5kKG4rdCplKX19ZnVuY3Rpb24ganIobil7dmFyIHQ9W24uYSxuLmJdLGU9W24uYyxuLmRdLHI9SHIodCksdT1Gcih0LGUpLGk9SHIoT3IoZSx0LC11KSl8fDA7dFswXSplWzFdPGVbMF0qdFsxXSYmKHRbMF0qPS0xLHRbMV0qPS0xLHIqPS0xLHUqPS0xKSx0aGlzLnJvdGF0ZT0ocj9NYXRoLmF0YW4yKHRbMV0sdFswXSk6TWF0aC5hdGFuMigtZVswXSxlWzFdKSkqWWEsdGhpcy50cmFuc2xhdGU9W24uZSxuLmZdLHRoaXMuc2NhbGU9W3IsaV0sdGhpcy5za2V3PWk/TWF0aC5hdGFuMih1LGkpKllhOjB9ZnVuY3Rpb24gRnIobix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXX1mdW5jdGlvbiBIcihuKXt2YXIgdD1NYXRoLnNxcnQoRnIobixuKSk7cmV0dXJuIHQmJihuWzBdLz10LG5bMV0vPXQpLHR9ZnVuY3Rpb24gT3Iobix0LGUpe3JldHVybiBuWzBdKz1lKnRbMF0sblsxXSs9ZSp0WzFdLG59ZnVuY3Rpb24gSXIobil7cmV0dXJuIG4ubGVuZ3RoP24ucG9wKCkrXCIsXCI6XCJcIn1mdW5jdGlvbiBZcihuLHQsZSxyKXtpZihuWzBdIT09dFswXXx8blsxXSE9PXRbMV0pe3ZhciB1PWUucHVzaChcInRyYW5zbGF0ZShcIixudWxsLFwiLFwiLG51bGwsXCIpXCIpO3IucHVzaCh7aTp1LTQseDptcihuWzBdLHRbMF0pfSx7aTp1LTIseDptcihuWzFdLHRbMV0pfSl9ZWxzZSh0WzBdfHx0WzFdKSYmZS5wdXNoKFwidHJhbnNsYXRlKFwiK3QrXCIpXCIpfWZ1bmN0aW9uIFpyKG4sdCxlLHIpe24hPT10PyhuLXQ+MTgwP3QrPTM2MDp0LW4+MTgwJiYobis9MzYwKSxyLnB1c2goe2k6ZS5wdXNoKElyKGUpK1wicm90YXRlKFwiLG51bGwsXCIpXCIpLTIseDptcihuLHQpfSkpOnQmJmUucHVzaChJcihlKStcInJvdGF0ZShcIit0K1wiKVwiKX1mdW5jdGlvbiBWcihuLHQsZSxyKXtuIT09dD9yLnB1c2goe2k6ZS5wdXNoKElyKGUpK1wic2tld1goXCIsbnVsbCxcIilcIiktMix4Om1yKG4sdCl9KTp0JiZlLnB1c2goSXIoZSkrXCJza2V3WChcIit0K1wiKVwiKX1mdW5jdGlvbiBYcihuLHQsZSxyKXtpZihuWzBdIT09dFswXXx8blsxXSE9PXRbMV0pe3ZhciB1PWUucHVzaChJcihlKStcInNjYWxlKFwiLG51bGwsXCIsXCIsbnVsbCxcIilcIik7ci5wdXNoKHtpOnUtNCx4Om1yKG5bMF0sdFswXSl9LHtpOnUtMix4Om1yKG5bMV0sdFsxXSl9KX1lbHNlKDEhPT10WzBdfHwxIT09dFsxXSkmJmUucHVzaChJcihlKStcInNjYWxlKFwiK3QrXCIpXCIpfWZ1bmN0aW9uICRyKG4sdCl7dmFyIGU9W10scj1bXTtyZXR1cm4gbj1vYS50cmFuc2Zvcm0obiksdD1vYS50cmFuc2Zvcm0odCksWXIobi50cmFuc2xhdGUsdC50cmFuc2xhdGUsZSxyKSxacihuLnJvdGF0ZSx0LnJvdGF0ZSxlLHIpLFZyKG4uc2tldyx0LnNrZXcsZSxyKSxYcihuLnNjYWxlLHQuc2NhbGUsZSxyKSxuPXQ9bnVsbCxmdW5jdGlvbihuKXtmb3IodmFyIHQsdT0tMSxpPXIubGVuZ3RoOysrdTxpOyllWyh0PXJbdV0pLmldPXQueChuKTtyZXR1cm4gZS5qb2luKFwiXCIpfX1mdW5jdGlvbiBCcihuLHQpe3JldHVybiB0PSh0LT1uPStuKXx8MS90LGZ1bmN0aW9uKGUpe3JldHVybihlLW4pL3R9fWZ1bmN0aW9uIFdyKG4sdCl7cmV0dXJuIHQ9KHQtPW49K24pfHwxL3QsZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoZS1uKS90KSl9fWZ1bmN0aW9uIEpyKG4pe2Zvcih2YXIgdD1uLnNvdXJjZSxlPW4udGFyZ2V0LHI9S3IodCxlKSx1PVt0XTt0IT09cjspdD10LnBhcmVudCx1LnB1c2godCk7Zm9yKHZhciBpPXUubGVuZ3RoO2UhPT1yOyl1LnNwbGljZShpLDAsZSksZT1lLnBhcmVudDtyZXR1cm4gdX1mdW5jdGlvbiBHcihuKXtmb3IodmFyIHQ9W10sZT1uLnBhcmVudDtudWxsIT1lOyl0LnB1c2gobiksbj1lLGU9ZS5wYXJlbnQ7cmV0dXJuIHQucHVzaChuKSx0fWZ1bmN0aW9uIEtyKG4sdCl7aWYobj09PXQpcmV0dXJuIG47Zm9yKHZhciBlPUdyKG4pLHI9R3IodCksdT1lLnBvcCgpLGk9ci5wb3AoKSxhPW51bGw7dT09PWk7KWE9dSx1PWUucG9wKCksaT1yLnBvcCgpO3JldHVybiBhfWZ1bmN0aW9uIFFyKG4pe24uZml4ZWR8PTJ9ZnVuY3Rpb24gbnUobil7bi5maXhlZCY9LTd9ZnVuY3Rpb24gdHUobil7bi5maXhlZHw9NCxuLnB4PW4ueCxuLnB5PW4ueX1mdW5jdGlvbiBldShuKXtuLmZpeGVkJj0tNX1mdW5jdGlvbiBydShuLHQsZSl7dmFyIHI9MCx1PTA7aWYobi5jaGFyZ2U9MCwhbi5sZWFmKWZvcih2YXIgaSxhPW4ubm9kZXMsbz1hLmxlbmd0aCxsPS0xOysrbDxvOylpPWFbbF0sbnVsbCE9aSYmKHJ1KGksdCxlKSxuLmNoYXJnZSs9aS5jaGFyZ2Uscis9aS5jaGFyZ2UqaS5jeCx1Kz1pLmNoYXJnZSppLmN5KTtpZihuLnBvaW50KXtuLmxlYWZ8fChuLnBvaW50LngrPU1hdGgucmFuZG9tKCktLjUsbi5wb2ludC55Kz1NYXRoLnJhbmRvbSgpLS41KTt2YXIgYz10KmVbbi5wb2ludC5pbmRleF07bi5jaGFyZ2UrPW4ucG9pbnRDaGFyZ2U9YyxyKz1jKm4ucG9pbnQueCx1Kz1jKm4ucG9pbnQueX1uLmN4PXIvbi5jaGFyZ2Usbi5jeT11L24uY2hhcmdlfWZ1bmN0aW9uIHV1KG4sdCl7cmV0dXJuIG9hLnJlYmluZChuLHQsXCJzb3J0XCIsXCJjaGlsZHJlblwiLFwidmFsdWVcIiksbi5ub2Rlcz1uLG4ubGlua3M9c3Usbn1mdW5jdGlvbiBpdShuLHQpe2Zvcih2YXIgZT1bbl07bnVsbCE9KG49ZS5wb3AoKSk7KWlmKHQobiksKHU9bi5jaGlsZHJlbikmJihyPXUubGVuZ3RoKSlmb3IodmFyIHIsdTstLXI+PTA7KWUucHVzaCh1W3JdKX1mdW5jdGlvbiBhdShuLHQpe2Zvcih2YXIgZT1bbl0scj1bXTtudWxsIT0obj1lLnBvcCgpKTspaWYoci5wdXNoKG4pLChpPW4uY2hpbGRyZW4pJiYodT1pLmxlbmd0aCkpZm9yKHZhciB1LGksYT0tMTsrK2E8dTspZS5wdXNoKGlbYV0pO2Zvcig7bnVsbCE9KG49ci5wb3AoKSk7KXQobil9ZnVuY3Rpb24gb3Uobil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gbHUobil7cmV0dXJuIG4udmFsdWV9ZnVuY3Rpb24gY3Uobix0KXtyZXR1cm4gdC52YWx1ZS1uLnZhbHVlfWZ1bmN0aW9uIHN1KG4pe3JldHVybiBvYS5tZXJnZShuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi5jaGlsZHJlbnx8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOm4sdGFyZ2V0OnR9fSl9KSl9ZnVuY3Rpb24gZnUobil7cmV0dXJuIG4ueH1mdW5jdGlvbiBodShuKXtyZXR1cm4gbi55fWZ1bmN0aW9uIGd1KG4sdCxlKXtuLnkwPXQsbi55PWV9ZnVuY3Rpb24gcHUobil7cmV0dXJuIG9hLnJhbmdlKG4ubGVuZ3RoKX1mdW5jdGlvbiB2dShuKXtmb3IodmFyIHQ9LTEsZT1uWzBdLmxlbmd0aCxyPVtdOysrdDxlOylyW3RdPTA7cmV0dXJuIHJ9ZnVuY3Rpb24gZHUobil7Zm9yKHZhciB0LGU9MSxyPTAsdT1uWzBdWzFdLGk9bi5sZW5ndGg7aT5lOysrZSkodD1uW2VdWzFdKT51JiYocj1lLHU9dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gbXUobil7cmV0dXJuIG4ucmVkdWNlKHl1LDApfWZ1bmN0aW9uIHl1KG4sdCl7cmV0dXJuIG4rdFsxXX1mdW5jdGlvbiBNdShuLHQpe3JldHVybiB4dShuLE1hdGguY2VpbChNYXRoLmxvZyh0Lmxlbmd0aCkvTWF0aC5MTjIrMSkpfWZ1bmN0aW9uIHh1KG4sdCl7Zm9yKHZhciBlPS0xLHI9K25bMF0sdT0oblsxXS1yKS90LGk9W107KytlPD10OylpW2VdPXUqZStyO3JldHVybiBpfWZ1bmN0aW9uIGJ1KG4pe3JldHVybltvYS5taW4obiksb2EubWF4KG4pXX1mdW5jdGlvbiBfdShuLHQpe3JldHVybiBuLnZhbHVlLXQudmFsdWV9ZnVuY3Rpb24gd3Uobix0KXt2YXIgZT1uLl9wYWNrX25leHQ7bi5fcGFja19uZXh0PXQsdC5fcGFja19wcmV2PW4sdC5fcGFja19uZXh0PWUsZS5fcGFja19wcmV2PXR9ZnVuY3Rpb24gU3Uobix0KXtuLl9wYWNrX25leHQ9dCx0Ll9wYWNrX3ByZXY9bn1mdW5jdGlvbiBrdShuLHQpe3ZhciBlPXQueC1uLngscj10Lnktbi55LHU9bi5yK3QucjtyZXR1cm4uOTk5KnUqdT5lKmUrcipyfWZ1bmN0aW9uIE51KG4pe2Z1bmN0aW9uIHQobil7cz1NYXRoLm1pbihuLngtbi5yLHMpLGY9TWF0aC5tYXgobi54K24ucixmKSxoPU1hdGgubWluKG4ueS1uLnIsaCksZz1NYXRoLm1heChuLnkrbi5yLGcpfWlmKChlPW4uY2hpbGRyZW4pJiYoYz1lLmxlbmd0aCkpe3ZhciBlLHIsdSxpLGEsbyxsLGMscz0xLzAsZj0tKDEvMCksaD0xLzAsZz0tKDEvMCk7aWYoZS5mb3JFYWNoKEV1KSxyPWVbMF0sci54PS1yLnIsci55PTAsdChyKSxjPjEmJih1PWVbMV0sdS54PXUucix1Lnk9MCx0KHUpLGM+MikpZm9yKGk9ZVsyXSx6dShyLHUsaSksdChpKSx3dShyLGkpLHIuX3BhY2tfcHJldj1pLHd1KGksdSksdT1yLl9wYWNrX25leHQsYT0zO2M+YTthKyspe3p1KHIsdSxpPWVbYV0pO3ZhciBwPTAsdj0xLGQ9MTtmb3Iobz11Ll9wYWNrX25leHQ7byE9PXU7bz1vLl9wYWNrX25leHQsdisrKWlmKGt1KG8saSkpe3A9MTticmVha31pZigxPT1wKWZvcihsPXIuX3BhY2tfcHJldjtsIT09by5fcGFja19wcmV2JiYha3UobCxpKTtsPWwuX3BhY2tfcHJldixkKyspO3A/KGQ+dnx8dj09ZCYmdS5yPHIucj9TdShyLHU9byk6U3Uocj1sLHUpLGEtLSk6KHd1KHIsaSksdT1pLHQoaSkpfXZhciBtPShzK2YpLzIseT0oaCtnKS8yLE09MDtmb3IoYT0wO2M+YTthKyspaT1lW2FdLGkueC09bSxpLnktPXksTT1NYXRoLm1heChNLGkucitNYXRoLnNxcnQoaS54KmkueCtpLnkqaS55KSk7bi5yPU0sZS5mb3JFYWNoKEF1KX19ZnVuY3Rpb24gRXUobil7bi5fcGFja19uZXh0PW4uX3BhY2tfcHJldj1ufWZ1bmN0aW9uIEF1KG4pe2RlbGV0ZSBuLl9wYWNrX25leHQsZGVsZXRlIG4uX3BhY2tfcHJldn1mdW5jdGlvbiBDdShuLHQsZSxyKXt2YXIgdT1uLmNoaWxkcmVuO2lmKG4ueD10Kz1yKm4ueCxuLnk9ZSs9cipuLnksbi5yKj1yLHUpZm9yKHZhciBpPS0xLGE9dS5sZW5ndGg7KytpPGE7KUN1KHVbaV0sdCxlLHIpfWZ1bmN0aW9uIHp1KG4sdCxlKXt2YXIgcj1uLnIrZS5yLHU9dC54LW4ueCxpPXQueS1uLnk7aWYociYmKHV8fGkpKXt2YXIgYT10LnIrZS5yLG89dSp1K2kqaTthKj1hLHIqPXI7dmFyIGw9LjUrKHItYSkvKDIqbyksYz1NYXRoLnNxcnQoTWF0aC5tYXgoMCwyKmEqKHIrbyktKHItPW8pKnItYSphKSkvKDIqbyk7ZS54PW4ueCtsKnUrYyppLGUueT1uLnkrbCppLWMqdX1lbHNlIGUueD1uLngrcixlLnk9bi55fWZ1bmN0aW9uIEx1KG4sdCl7cmV0dXJuIG4ucGFyZW50PT10LnBhcmVudD8xOjJ9ZnVuY3Rpb24gcXUobil7dmFyIHQ9bi5jaGlsZHJlbjtyZXR1cm4gdC5sZW5ndGg/dFswXTpuLnR9ZnVuY3Rpb24gVHUobil7dmFyIHQsZT1uLmNoaWxkcmVuO3JldHVybih0PWUubGVuZ3RoKT9lW3QtMV06bi50fWZ1bmN0aW9uIFJ1KG4sdCxlKXt2YXIgcj1lLyh0Lmktbi5pKTt0LmMtPXIsdC5zKz1lLG4uYys9cix0LnorPWUsdC5tKz1lfWZ1bmN0aW9uIER1KG4pe2Zvcih2YXIgdCxlPTAscj0wLHU9bi5jaGlsZHJlbixpPXUubGVuZ3RoOy0taT49MDspdD11W2ldLHQueis9ZSx0Lm0rPWUsZSs9dC5zKyhyKz10LmMpfWZ1bmN0aW9uIFB1KG4sdCxlKXtyZXR1cm4gbi5hLnBhcmVudD09PXQucGFyZW50P24uYTplfWZ1bmN0aW9uIFV1KG4pe3JldHVybiAxK29hLm1heChuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnl9KX1mdW5jdGlvbiBqdShuKXtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4gbit0Lnh9LDApL24ubGVuZ3RofWZ1bmN0aW9uIEZ1KG4pe3ZhciB0PW4uY2hpbGRyZW47cmV0dXJuIHQmJnQubGVuZ3RoP0Z1KHRbMF0pOm59ZnVuY3Rpb24gSHUobil7dmFyIHQsZT1uLmNoaWxkcmVuO3JldHVybiBlJiYodD1lLmxlbmd0aCk/SHUoZVt0LTFdKTpufWZ1bmN0aW9uIE91KG4pe3JldHVybnt4Om4ueCx5Om4ueSxkeDpuLmR4LGR5Om4uZHl9fWZ1bmN0aW9uIEl1KG4sdCl7dmFyIGU9bi54K3RbM10scj1uLnkrdFswXSx1PW4uZHgtdFsxXS10WzNdLGk9bi5keS10WzBdLXRbMl07cmV0dXJuIDA+dSYmKGUrPXUvMix1PTApLDA+aSYmKHIrPWkvMixpPTApLHt4OmUseTpyLGR4OnUsZHk6aX19ZnVuY3Rpb24gWXUobil7dmFyIHQ9blswXSxlPW5bbi5sZW5ndGgtMV07cmV0dXJuIGU+dD9bdCxlXTpbZSx0XX1mdW5jdGlvbiBadShuKXtyZXR1cm4gbi5yYW5nZUV4dGVudD9uLnJhbmdlRXh0ZW50KCk6WXUobi5yYW5nZSgpKX1mdW5jdGlvbiBWdShuLHQsZSxyKXt2YXIgdT1lKG5bMF0sblsxXSksaT1yKHRbMF0sdFsxXSk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBpKHUobikpfX1mdW5jdGlvbiBYdShuLHQpe3ZhciBlLHI9MCx1PW4ubGVuZ3RoLTEsaT1uW3JdLGE9blt1XTtyZXR1cm4gaT5hJiYoZT1yLHI9dSx1PWUsZT1pLGk9YSxhPWUpLG5bcl09dC5mbG9vcihpKSxuW3VdPXQuY2VpbChhKSxufWZ1bmN0aW9uICR1KG4pe3JldHVybiBuP3tmbG9vcjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0L24pKm59LGNlaWw6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguY2VpbCh0L24pKm59fTpTbH1mdW5jdGlvbiBCdShuLHQsZSxyKXt2YXIgdT1bXSxpPVtdLGE9MCxvPU1hdGgubWluKG4ubGVuZ3RoLHQubGVuZ3RoKS0xO2ZvcihuW29dPG5bMF0mJihuPW4uc2xpY2UoKS5yZXZlcnNlKCksdD10LnNsaWNlKCkucmV2ZXJzZSgpKTsrK2E8PW87KXUucHVzaChlKG5bYS0xXSxuW2FdKSksaS5wdXNoKHIodFthLTFdLHRbYV0pKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGU9b2EuYmlzZWN0KG4sdCwxLG8pLTE7cmV0dXJuIGlbZV0odVtlXSh0KSl9fWZ1bmN0aW9uIFd1KG4sdCxlLHIpe2Z1bmN0aW9uIHUoKXt2YXIgdT1NYXRoLm1pbihuLmxlbmd0aCx0Lmxlbmd0aCk+Mj9CdTpWdSxsPXI/V3I6QnI7cmV0dXJuIGE9dShuLHQsbCxlKSxvPXUodCxuLGwsTXIpLGl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gYShuKX12YXIgYSxvO3JldHVybiBpLmludmVydD1mdW5jdGlvbihuKXtyZXR1cm4gbyhuKX0saS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dC5tYXAoTnVtYmVyKSx1KCkpOm59LGkucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bix1KCkpOnR9LGkucmFuZ2VSb3VuZD1mdW5jdGlvbihuKXtyZXR1cm4gaS5yYW5nZShuKS5pbnRlcnBvbGF0ZShVcil9LGkuY2xhbXA9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bix1KCkpOnJ9LGkuaW50ZXJwb2xhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix1KCkpOmV9LGkudGlja3M9ZnVuY3Rpb24odCl7cmV0dXJuIFF1KG4sdCl9LGkudGlja0Zvcm1hdD1mdW5jdGlvbih0LGUpe3JldHVybiBuaShuLHQsZSl9LGkubmljZT1mdW5jdGlvbih0KXtyZXR1cm4gR3Uobix0KSx1KCl9LGkuY29weT1mdW5jdGlvbigpe3JldHVybiBXdShuLHQsZSxyKX0sdSgpfWZ1bmN0aW9uIEp1KG4sdCl7cmV0dXJuIG9hLnJlYmluZChuLHQsXCJyYW5nZVwiLFwicmFuZ2VSb3VuZFwiLFwiaW50ZXJwb2xhdGVcIixcImNsYW1wXCIpfWZ1bmN0aW9uIEd1KG4sdCl7cmV0dXJuIFh1KG4sJHUoS3Uobix0KVsyXSkpLFh1KG4sJHUoS3Uobix0KVsyXSkpLG59ZnVuY3Rpb24gS3Uobix0KXtudWxsPT10JiYodD0xMCk7dmFyIGU9WXUobikscj1lWzFdLWVbMF0sdT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHIvdCkvTWF0aC5MTjEwKSksaT10L3IqdTtyZXR1cm4uMTU+PWk/dSo9MTA6LjM1Pj1pP3UqPTU6Ljc1Pj1pJiYodSo9MiksZVswXT1NYXRoLmNlaWwoZVswXS91KSp1LGVbMV09TWF0aC5mbG9vcihlWzFdL3UpKnUrLjUqdSxlWzJdPXUsZX1mdW5jdGlvbiBRdShuLHQpe3JldHVybiBvYS5yYW5nZS5hcHBseShvYSxLdShuLHQpKX1mdW5jdGlvbiBuaShuLHQsZSl7dmFyIHI9S3Uobix0KTtpZihlKXt2YXIgdT1mby5leGVjKGUpO2lmKHUuc2hpZnQoKSxcInNcIj09PXVbOF0pe3ZhciBpPW9hLmZvcm1hdFByZWZpeChNYXRoLm1heChNYShyWzBdKSxNYShyWzFdKSkpO3JldHVybiB1WzddfHwodVs3XT1cIi5cIit0aShpLnNjYWxlKHJbMl0pKSksdVs4XT1cImZcIixlPW9hLmZvcm1hdCh1LmpvaW4oXCJcIikpLGZ1bmN0aW9uKG4pe3JldHVybiBlKGkuc2NhbGUobikpK2kuc3ltYm9sfX11WzddfHwodVs3XT1cIi5cIitlaSh1WzhdLHIpKSxlPXUuam9pbihcIlwiKX1lbHNlIGU9XCIsLlwiK3RpKHJbMl0pK1wiZlwiO3JldHVybiBvYS5mb3JtYXQoZSl9ZnVuY3Rpb24gdGkobil7cmV0dXJuLU1hdGguZmxvb3IoTWF0aC5sb2cobikvTWF0aC5MTjEwKy4wMSl9ZnVuY3Rpb24gZWkobix0KXt2YXIgZT10aSh0WzJdKTtyZXR1cm4gbiBpbiBrbD9NYXRoLmFicyhlLXRpKE1hdGgubWF4KE1hKHRbMF0pLE1hKHRbMV0pKSkpKyArKFwiZVwiIT09bik6ZS0yKihcIiVcIj09PW4pfWZ1bmN0aW9uIHJpKG4sdCxlLHIpe2Z1bmN0aW9uIHUobil7cmV0dXJuKGU/TWF0aC5sb2coMD5uPzA6bik6LU1hdGgubG9nKG4+MD8wOi1uKSkvTWF0aC5sb2codCl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gZT9NYXRoLnBvdyh0LG4pOi1NYXRoLnBvdyh0LC1uKX1mdW5jdGlvbiBhKHQpe3JldHVybiBuKHUodCkpfXJldHVybiBhLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gaShuLmludmVydCh0KSl9LGEuZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXRbMF0+PTAsbi5kb21haW4oKHI9dC5tYXAoTnVtYmVyKSkubWFwKHUpKSxhKTpyfSxhLmJhc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9K2Usbi5kb21haW4oci5tYXAodSkpLGEpOnR9LGEubmljZT1mdW5jdGlvbigpe3ZhciB0PVh1KHIubWFwKHUpLGU/TWF0aDpFbCk7cmV0dXJuIG4uZG9tYWluKHQpLHI9dC5tYXAoaSksYX0sYS50aWNrcz1mdW5jdGlvbigpe3ZhciBuPVl1KHIpLGE9W10sbz1uWzBdLGw9blsxXSxjPU1hdGguZmxvb3IodShvKSkscz1NYXRoLmNlaWwodShsKSksZj10JTE/Mjp0O2lmKGlzRmluaXRlKHMtYykpe2lmKGUpe2Zvcig7cz5jO2MrKylmb3IodmFyIGg9MTtmPmg7aCsrKWEucHVzaChpKGMpKmgpO2EucHVzaChpKGMpKX1lbHNlIGZvcihhLnB1c2goaShjKSk7YysrPHM7KWZvcih2YXIgaD1mLTE7aD4wO2gtLSlhLnB1c2goaShjKSpoKTtmb3IoYz0wO2FbY108bztjKyspO2ZvcihzPWEubGVuZ3RoO2Fbcy0xXT5sO3MtLSk7YT1hLnNsaWNlKGMscyl9cmV0dXJuIGF9LGEudGlja0Zvcm1hdD1mdW5jdGlvbihuLGUpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBObDthcmd1bWVudHMubGVuZ3RoPDI/ZT1ObDpcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1vYS5mb3JtYXQoZSkpO3ZhciByPU1hdGgubWF4KDEsdCpuL2EudGlja3MoKS5sZW5ndGgpO3JldHVybiBmdW5jdGlvbihuKXt2YXIgYT1uL2koTWF0aC5yb3VuZCh1KG4pKSk7cmV0dXJuIHQtLjU+YSp0JiYoYSo9dCkscj49YT9lKG4pOlwiXCJ9fSxhLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gcmkobi5jb3B5KCksdCxlLHIpfSxKdShhLG4pfWZ1bmN0aW9uIHVpKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBuKHUodCkpfXZhciB1PWlpKHQpLGk9aWkoMS90KTtyZXR1cm4gci5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGkobi5pbnZlcnQodCkpfSxyLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obi5kb21haW4oKGU9dC5tYXAoTnVtYmVyKSkubWFwKHUpKSxyKTplfSxyLnRpY2tzPWZ1bmN0aW9uKG4pe3JldHVybiBRdShlLG4pfSxyLnRpY2tGb3JtYXQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gbmkoZSxuLHQpfSxyLm5pY2U9ZnVuY3Rpb24obil7cmV0dXJuIHIuZG9tYWluKEd1KGUsbikpfSxyLmV4cG9uZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PWlpKHQ9YSksaT1paSgxL3QpLG4uZG9tYWluKGUubWFwKHUpKSxyKTp0fSxyLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdWkobi5jb3B5KCksdCxlKX0sSnUocixuKX1mdW5jdGlvbiBpaShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA+dD8tTWF0aC5wb3coLXQsbik6TWF0aC5wb3codCxuKX19ZnVuY3Rpb24gYWkobix0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBpWygodS5nZXQoZSl8fChcInJhbmdlXCI9PT10LnQ/dS5zZXQoZSxuLnB1c2goZSkpOk5hTikpLTEpJWkubGVuZ3RoXX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIG9hLnJhbmdlKG4ubGVuZ3RoKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQrZSpufSl9dmFyIHUsaSxhO3JldHVybiBlLmRvbWFpbj1mdW5jdGlvbihyKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbjtuPVtdLHU9bmV3IGM7Zm9yKHZhciBpLGE9LTEsbz1yLmxlbmd0aDsrK2E8bzspdS5oYXMoaT1yW2FdKXx8dS5zZXQoaSxuLnB1c2goaSkpO3JldHVybiBlW3QudF0uYXBwbHkoZSx0LmEpfSxlLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPW4sYT0wLHQ9e3Q6XCJyYW5nZVwiLGE6YXJndW1lbnRzfSxlKTppfSxlLnJhbmdlUG9pbnRzPWZ1bmN0aW9uKHUsbyl7YXJndW1lbnRzLmxlbmd0aDwyJiYobz0wKTt2YXIgbD11WzBdLGM9dVsxXSxzPW4ubGVuZ3RoPDI/KGw9KGwrYykvMiwwKTooYy1sKS8obi5sZW5ndGgtMStvKTtyZXR1cm4gaT1yKGwrcypvLzIscyksYT0wLHQ9e3Q6XCJyYW5nZVBvaW50c1wiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlUm91bmRQb2ludHM9ZnVuY3Rpb24odSxvKXthcmd1bWVudHMubGVuZ3RoPDImJihvPTApO3ZhciBsPXVbMF0sYz11WzFdLHM9bi5sZW5ndGg8Mj8obD1jPU1hdGgucm91bmQoKGwrYykvMiksMCk6KGMtbCkvKG4ubGVuZ3RoLTErbyl8MDtyZXR1cm4gaT1yKGwrTWF0aC5yb3VuZChzKm8vMisoYy1sLShuLmxlbmd0aC0xK28pKnMpLzIpLHMpLGE9MCx0PXt0OlwicmFuZ2VSb3VuZFBvaW50c1wiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlQmFuZHM9ZnVuY3Rpb24odSxvLGwpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKG89MCksYXJndW1lbnRzLmxlbmd0aDwzJiYobD1vKTt2YXIgYz11WzFdPHVbMF0scz11W2MtMF0sZj11WzEtY10saD0oZi1zKS8obi5sZW5ndGgtbysyKmwpO3JldHVybiBpPXIocytoKmwsaCksYyYmaS5yZXZlcnNlKCksYT1oKigxLW8pLHQ9e3Q6XCJyYW5nZUJhbmRzXCIsYTphcmd1bWVudHN9LGV9LGUucmFuZ2VSb3VuZEJhbmRzPWZ1bmN0aW9uKHUsbyxsKXthcmd1bWVudHMubGVuZ3RoPDImJihvPTApLGFyZ3VtZW50cy5sZW5ndGg8MyYmKGw9byk7dmFyIGM9dVsxXTx1WzBdLHM9dVtjLTBdLGY9dVsxLWNdLGg9TWF0aC5mbG9vcigoZi1zKS8obi5sZW5ndGgtbysyKmwpKTtyZXR1cm4gaT1yKHMrTWF0aC5yb3VuZCgoZi1zLShuLmxlbmd0aC1vKSpoKS8yKSxoKSxjJiZpLnJldmVyc2UoKSxhPU1hdGgucm91bmQoaCooMS1vKSksdD17dDpcInJhbmdlUm91bmRCYW5kc1wiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlQmFuZD1mdW5jdGlvbigpe3JldHVybiBhfSxlLnJhbmdlRXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIFl1KHQuYVswXSl9LGUuY29weT1mdW5jdGlvbigpe3JldHVybiBhaShuLHQpfSxlLmRvbWFpbihuKX1mdW5jdGlvbiBvaShuLHQpe2Z1bmN0aW9uIGkoKXt2YXIgZT0wLHI9dC5sZW5ndGg7Zm9yKG89W107KytlPHI7KW9bZS0xXT1vYS5xdWFudGlsZShuLGUvcik7cmV0dXJuIGF9ZnVuY3Rpb24gYShuKXtyZXR1cm4gaXNOYU4obj0rbik/dm9pZCAwOnRbb2EuYmlzZWN0KG8sbildfXZhciBvO3JldHVybiBhLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10Lm1hcChyKS5maWx0ZXIodSkuc29ydChlKSxpKCkpOm59LGEucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bixpKCkpOnR9LGEucXVhbnRpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGEuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuaW5kZXhPZihlKSwwPmU/W05hTixOYU5dOltlPjA/b1tlLTFdOm5bMF0sZTxvLmxlbmd0aD9vW2VdOm5bbi5sZW5ndGgtMV1dfSxhLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gb2kobix0KX0saSgpfWZ1bmN0aW9uIGxpKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBlW01hdGgubWF4KDAsTWF0aC5taW4oYSxNYXRoLmZsb29yKGkqKHQtbikpKSldfWZ1bmN0aW9uIHUoKXtyZXR1cm4gaT1lLmxlbmd0aC8odC1uKSxhPWUubGVuZ3RoLTEscn12YXIgaSxhO3JldHVybiByLmRvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj0rZVswXSx0PStlW2UubGVuZ3RoLTFdLHUoKSk6W24sdF19LHIucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix1KCkpOmV9LHIuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0PWUuaW5kZXhPZih0KSx0PTA+dD9OYU46dC9pK24sW3QsdCsxL2ldfSxyLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbGkobix0LGUpfSx1KCl9ZnVuY3Rpb24gY2kobix0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBlPj1lP3Rbb2EuYmlzZWN0KG4sZSldOnZvaWQgMH1yZXR1cm4gZS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dCxlKTpufSxlLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW4sZSk6dH0sZS5pbnZlcnRFeHRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dC5pbmRleE9mKGUpLFtuW2UtMV0sbltlXV19LGUuY29weT1mdW5jdGlvbigpe3JldHVybiBjaShuLHQpfSxlfWZ1bmN0aW9uIHNpKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuK259cmV0dXJuIHQuaW52ZXJ0PXQsdC5kb21haW49dC5yYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1lLm1hcCh0KSx0KTpufSx0LnRpY2tzPWZ1bmN0aW9uKHQpe3JldHVybiBRdShuLHQpfSx0LnRpY2tGb3JtYXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmkobix0LGUpfSx0LmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gc2kobil9LHR9ZnVuY3Rpb24gZmkoKXtyZXR1cm4gMH1mdW5jdGlvbiBoaShuKXtyZXR1cm4gbi5pbm5lclJhZGl1c31mdW5jdGlvbiBnaShuKXtyZXR1cm4gbi5vdXRlclJhZGl1c31mdW5jdGlvbiBwaShuKXtyZXR1cm4gbi5zdGFydEFuZ2xlfWZ1bmN0aW9uIHZpKG4pe3JldHVybiBuLmVuZEFuZ2xlfWZ1bmN0aW9uIGRpKG4pe3JldHVybiBuJiZuLnBhZEFuZ2xlfWZ1bmN0aW9uIG1pKG4sdCxlLHIpe3JldHVybihuLWUpKnQtKHQtcikqbj4wPzA6MX1mdW5jdGlvbiB5aShuLHQsZSxyLHUpe3ZhciBpPW5bMF0tdFswXSxhPW5bMV0tdFsxXSxvPSh1P3I6LXIpL01hdGguc3FydChpKmkrYSphKSxsPW8qYSxjPS1vKmkscz1uWzBdK2wsZj1uWzFdK2MsaD10WzBdK2wsZz10WzFdK2MscD0ocytoKS8yLHY9KGYrZykvMixkPWgtcyxtPWctZix5PWQqZCttKm0sTT1lLXIseD1zKmctaCpmLGI9KDA+bT8tMToxKSpNYXRoLnNxcnQoTWF0aC5tYXgoMCxNKk0qeS14KngpKSxfPSh4Km0tZCpiKS95LHc9KC14KmQtbSpiKS95LFM9KHgqbStkKmIpL3ksaz0oLXgqZCttKmIpL3ksTj1fLXAsRT13LXYsQT1TLXAsQz1rLXY7cmV0dXJuIE4qTitFKkU+QSpBK0MqQyYmKF89Uyx3PWspLFtbXy1sLHctY10sW18qZS9NLHcqZS9NXV19ZnVuY3Rpb24gTWkobil7ZnVuY3Rpb24gdCh0KXtmdW5jdGlvbiBhKCl7Yy5wdXNoKFwiTVwiLGkobihzKSxvKSl9Zm9yKHZhciBsLGM9W10scz1bXSxmPS0xLGg9dC5sZW5ndGgsZz1FbihlKSxwPUVuKHIpOysrZjxoOyl1LmNhbGwodGhpcyxsPXRbZl0sZik/cy5wdXNoKFsrZy5jYWxsKHRoaXMsbCxmKSwrcC5jYWxsKHRoaXMsbCxmKV0pOnMubGVuZ3RoJiYoYSgpLHM9W10pO3JldHVybiBzLmxlbmd0aCYmYSgpLGMubGVuZ3RoP2Muam9pbihcIlwiKTpudWxsfXZhciBlPUNlLHI9emUsdT16dCxpPXhpLGE9aS5rZXksbz0uNztyZXR1cm4gdC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW4sdCk6ZX0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW4sdCk6cn0sdC5kZWZpbmVkPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW4sdCk6dX0sdC5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2k9bjooaT1UbC5nZXQobil8fHhpKS5rZXksdCk6YX0sdC50ZW5zaW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPW4sdCk6b30sdH1mdW5jdGlvbiB4aShuKXtyZXR1cm4gbi5sZW5ndGg+MT9uLmpvaW4oXCJMXCIpOm4rXCJaXCJ9ZnVuY3Rpb24gYmkobil7cmV0dXJuIG4uam9pbihcIkxcIikrXCJaXCJ9ZnVuY3Rpb24gX2kobil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1bclswXSxcIixcIixyWzFdXTsrK3Q8ZTspdS5wdXNoKFwiSFwiLChyWzBdKyhyPW5bdF0pWzBdKS8yLFwiVlwiLHJbMV0pO3JldHVybiBlPjEmJnUucHVzaChcIkhcIixyWzBdKSx1LmpvaW4oXCJcIil9ZnVuY3Rpb24gd2kobil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1bclswXSxcIixcIixyWzFdXTsrK3Q8ZTspdS5wdXNoKFwiVlwiLChyPW5bdF0pWzFdLFwiSFwiLHJbMF0pO3JldHVybiB1LmpvaW4oXCJcIil9ZnVuY3Rpb24gU2kobil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1bclswXSxcIixcIixyWzFdXTsrK3Q8ZTspdS5wdXNoKFwiSFwiLChyPW5bdF0pWzBdLFwiVlwiLHJbMV0pO3JldHVybiB1LmpvaW4oXCJcIil9ZnVuY3Rpb24ga2kobix0KXtyZXR1cm4gbi5sZW5ndGg8ND94aShuKTpuWzFdK0FpKG4uc2xpY2UoMSwtMSksQ2kobix0KSl9ZnVuY3Rpb24gTmkobix0KXtyZXR1cm4gbi5sZW5ndGg8Mz9iaShuKTpuWzBdK0FpKChuLnB1c2goblswXSksbiksQ2koW25bbi5sZW5ndGgtMl1dLmNvbmNhdChuLFtuWzFdXSksdCkpfWZ1bmN0aW9uIEVpKG4sdCl7cmV0dXJuIG4ubGVuZ3RoPDM/eGkobik6blswXStBaShuLENpKG4sdCkpfWZ1bmN0aW9uIEFpKG4sdCl7aWYodC5sZW5ndGg8MXx8bi5sZW5ndGghPXQubGVuZ3RoJiZuLmxlbmd0aCE9dC5sZW5ndGgrMilyZXR1cm4geGkobik7dmFyIGU9bi5sZW5ndGghPXQubGVuZ3RoLHI9XCJcIix1PW5bMF0saT1uWzFdLGE9dFswXSxvPWEsbD0xO2lmKGUmJihyKz1cIlFcIisoaVswXS0yKmFbMF0vMykrXCIsXCIrKGlbMV0tMiphWzFdLzMpK1wiLFwiK2lbMF0rXCIsXCIraVsxXSx1PW5bMV0sbD0yKSx0Lmxlbmd0aD4xKXtvPXRbMV0saT1uW2xdLGwrKyxyKz1cIkNcIisodVswXSthWzBdKStcIixcIisodVsxXSthWzFdKStcIixcIisoaVswXS1vWzBdKStcIixcIisoaVsxXS1vWzFdKStcIixcIitpWzBdK1wiLFwiK2lbMV07Zm9yKHZhciBjPTI7Yzx0Lmxlbmd0aDtjKyssbCsrKWk9bltsXSxvPXRbY10scis9XCJTXCIrKGlbMF0tb1swXSkrXCIsXCIrKGlbMV0tb1sxXSkrXCIsXCIraVswXStcIixcIitpWzFdfWlmKGUpe3ZhciBzPW5bbF07cis9XCJRXCIrKGlbMF0rMipvWzBdLzMpK1wiLFwiKyhpWzFdKzIqb1sxXS8zKStcIixcIitzWzBdK1wiLFwiK3NbMV19cmV0dXJuIHJ9ZnVuY3Rpb24gQ2kobix0KXtmb3IodmFyIGUscj1bXSx1PSgxLXQpLzIsaT1uWzBdLGE9blsxXSxvPTEsbD1uLmxlbmd0aDsrK288bDspZT1pLGk9YSxhPW5bb10sci5wdXNoKFt1KihhWzBdLWVbMF0pLHUqKGFbMV0tZVsxXSldKTtyZXR1cm4gcn1mdW5jdGlvbiB6aShuKXtpZihuLmxlbmd0aDwzKXJldHVybiB4aShuKTt2YXIgdD0xLGU9bi5sZW5ndGgscj1uWzBdLHU9clswXSxpPXJbMV0sYT1bdSx1LHUsKHI9blsxXSlbMF1dLG89W2ksaSxpLHJbMV1dLGw9W3UsXCIsXCIsaSxcIkxcIixSaShQbCxhKSxcIixcIixSaShQbCxvKV07Zm9yKG4ucHVzaChuW2UtMV0pOysrdDw9ZTspcj1uW3RdLGEuc2hpZnQoKSxhLnB1c2goclswXSksby5zaGlmdCgpLG8ucHVzaChyWzFdKSxEaShsLGEsbyk7cmV0dXJuIG4ucG9wKCksbC5wdXNoKFwiTFwiLHIpLGwuam9pbihcIlwiKX1mdW5jdGlvbiBMaShuKXtpZihuLmxlbmd0aDw0KXJldHVybiB4aShuKTtmb3IodmFyIHQsZT1bXSxyPS0xLHU9bi5sZW5ndGgsaT1bMF0sYT1bMF07KytyPDM7KXQ9bltyXSxpLnB1c2godFswXSksYS5wdXNoKHRbMV0pO2ZvcihlLnB1c2goUmkoUGwsaSkrXCIsXCIrUmkoUGwsYSkpLC0tcjsrK3I8dTspdD1uW3JdLGkuc2hpZnQoKSxpLnB1c2godFswXSksYS5zaGlmdCgpLGEucHVzaCh0WzFdKSxEaShlLGksYSk7cmV0dXJuIGUuam9pbihcIlwiKX1mdW5jdGlvbiBxaShuKXtmb3IodmFyIHQsZSxyPS0xLHU9bi5sZW5ndGgsaT11KzQsYT1bXSxvPVtdOysrcjw0OyllPW5bciV1XSxhLnB1c2goZVswXSksby5wdXNoKGVbMV0pO2Zvcih0PVtSaShQbCxhKSxcIixcIixSaShQbCxvKV0sLS1yOysrcjxpOyllPW5bciV1XSxhLnNoaWZ0KCksYS5wdXNoKGVbMF0pLG8uc2hpZnQoKSxvLnB1c2goZVsxXSksRGkodCxhLG8pO3JldHVybiB0LmpvaW4oXCJcIil9ZnVuY3Rpb24gVGkobix0KXt2YXIgZT1uLmxlbmd0aC0xO2lmKGUpZm9yKHZhciByLHUsaT1uWzBdWzBdLGE9blswXVsxXSxvPW5bZV1bMF0taSxsPW5bZV1bMV0tYSxjPS0xOysrYzw9ZTspcj1uW2NdLHU9Yy9lLHJbMF09dCpyWzBdKygxLXQpKihpK3UqbyksclsxXT10KnJbMV0rKDEtdCkqKGErdSpsKTtyZXR1cm4gemkobil9ZnVuY3Rpb24gUmkobix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXStuWzJdKnRbMl0rblszXSp0WzNdfWZ1bmN0aW9uIERpKG4sdCxlKXtuLnB1c2goXCJDXCIsUmkoUmwsdCksXCIsXCIsUmkoUmwsZSksXCIsXCIsUmkoRGwsdCksXCIsXCIsUmkoRGwsZSksXCIsXCIsUmkoUGwsdCksXCIsXCIsUmkoUGwsZSkpfWZ1bmN0aW9uIFBpKG4sdCl7cmV0dXJuKHRbMV0tblsxXSkvKHRbMF0tblswXSl9ZnVuY3Rpb24gVWkobil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aC0xLHI9W10sdT1uWzBdLGk9blsxXSxhPXJbMF09UGkodSxpKTsrK3Q8ZTspclt0XT0oYSsoYT1QaSh1PWksaT1uW3QrMV0pKSkvMjtyZXR1cm4gclt0XT1hLHJ9ZnVuY3Rpb24gamkobil7Zm9yKHZhciB0LGUscix1LGk9W10sYT1VaShuKSxvPS0xLGw9bi5sZW5ndGgtMTsrK288bDspdD1QaShuW29dLG5bbysxXSksTWEodCk8UGE/YVtvXT1hW28rMV09MDooZT1hW29dL3Qscj1hW28rMV0vdCx1PWUqZStyKnIsdT45JiYodT0zKnQvTWF0aC5zcXJ0KHUpLGFbb109dSplLGFbbysxXT11KnIpKTtmb3Iobz0tMTsrK288PWw7KXU9KG5bTWF0aC5taW4obCxvKzEpXVswXS1uW01hdGgubWF4KDAsby0xKV1bMF0pLyg2KigxK2Fbb10qYVtvXSkpLGkucHVzaChbdXx8MCxhW29dKnV8fDBdKTtyZXR1cm4gaX1mdW5jdGlvbiBGaShuKXtyZXR1cm4gbi5sZW5ndGg8Mz94aShuKTpuWzBdK0FpKG4samkobikpfWZ1bmN0aW9uIEhpKG4pe2Zvcih2YXIgdCxlLHIsdT0tMSxpPW4ubGVuZ3RoOysrdTxpOyl0PW5bdV0sZT10WzBdLHI9dFsxXS1PYSx0WzBdPWUqTWF0aC5jb3MociksdFsxXT1lKk1hdGguc2luKHIpO3JldHVybiBufWZ1bmN0aW9uIE9pKG4pe2Z1bmN0aW9uIHQodCl7ZnVuY3Rpb24gbCgpe3YucHVzaChcIk1cIixvKG4obSksZikscyxjKG4oZC5yZXZlcnNlKCkpLGYpLFwiWlwiKX1mb3IodmFyIGgsZyxwLHY9W10sZD1bXSxtPVtdLHk9LTEsTT10Lmxlbmd0aCx4PUVuKGUpLGI9RW4odSksXz1lPT09cj9mdW5jdGlvbigpe1xucmV0dXJuIGd9OkVuKHIpLHc9dT09PWk/ZnVuY3Rpb24oKXtyZXR1cm4gcH06RW4oaSk7Kyt5PE07KWEuY2FsbCh0aGlzLGg9dFt5XSx5KT8oZC5wdXNoKFtnPSt4LmNhbGwodGhpcyxoLHkpLHA9K2IuY2FsbCh0aGlzLGgseSldKSxtLnB1c2goWytfLmNhbGwodGhpcyxoLHkpLCt3LmNhbGwodGhpcyxoLHkpXSkpOmQubGVuZ3RoJiYobCgpLGQ9W10sbT1bXSk7cmV0dXJuIGQubGVuZ3RoJiZsKCksdi5sZW5ndGg/di5qb2luKFwiXCIpOm51bGx9dmFyIGU9Q2Uscj1DZSx1PTAsaT16ZSxhPXp0LG89eGksbD1vLmtleSxjPW8scz1cIkxcIixmPS43O3JldHVybiB0Lng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9cj1uLHQpOnJ9LHQueDA9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix0KTplfSx0LngxPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW4sdCk6cn0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PWk9bix0KTppfSx0LnkwPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW4sdCk6dX0sdC55MT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1uLHQpOml9LHQuZGVmaW5lZD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1uLHQpOmF9LHQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9vPW46KG89VGwuZ2V0KG4pfHx4aSkua2V5LGM9by5yZXZlcnNlfHxvLHM9by5jbG9zZWQ/XCJNXCI6XCJMXCIsdCk6bH0sdC50ZW5zaW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPW4sdCk6Zn0sdH1mdW5jdGlvbiBJaShuKXtyZXR1cm4gbi5yYWRpdXN9ZnVuY3Rpb24gWWkobil7cmV0dXJuW24ueCxuLnldfWZ1bmN0aW9uIFppKG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9dFswXSxyPXRbMV0tT2E7cmV0dXJuW2UqTWF0aC5jb3MociksZSpNYXRoLnNpbihyKV19fWZ1bmN0aW9uIFZpKCl7cmV0dXJuIDY0fWZ1bmN0aW9uIFhpKCl7cmV0dXJuXCJjaXJjbGVcIn1mdW5jdGlvbiAkaShuKXt2YXIgdD1NYXRoLnNxcnQobi9qYSk7cmV0dXJuXCJNMCxcIit0K1wiQVwiK3QrXCIsXCIrdCtcIiAwIDEsMSAwLFwiKy10K1wiQVwiK3QrXCIsXCIrdCtcIiAwIDEsMSAwLFwiK3QrXCJaXCJ9ZnVuY3Rpb24gQmkobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZSxyOyh0PXRoaXNbbl0pJiYocj10W2U9dC5hY3RpdmVdKSYmKHIudGltZXIuYz1udWxsLHIudGltZXIudD1OYU4sLS10LmNvdW50P2RlbGV0ZSB0W2VdOmRlbGV0ZSB0aGlzW25dLHQuYWN0aXZlKz0uNSxyLmV2ZW50JiZyLmV2ZW50LmludGVycnVwdC5jYWxsKHRoaXMsdGhpcy5fX2RhdGFfXyxyLmluZGV4KSl9fWZ1bmN0aW9uIFdpKG4sdCxlKXtyZXR1cm4gU2EobixZbCksbi5uYW1lc3BhY2U9dCxuLmlkPWUsbn1mdW5jdGlvbiBKaShuLHQsZSxyKXt2YXIgdT1uLmlkLGk9bi5uYW1lc3BhY2U7cmV0dXJuIFkobixcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2Z1bmN0aW9uKG4sYSxvKXtuW2ldW3VdLnR3ZWVuLnNldCh0LHIoZS5jYWxsKG4sbi5fX2RhdGFfXyxhLG8pKSl9OihlPXIoZSksZnVuY3Rpb24obil7bltpXVt1XS50d2Vlbi5zZXQodCxlKX0pKX1mdW5jdGlvbiBHaShuKXtyZXR1cm4gbnVsbD09biYmKG49XCJcIiksZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50PW59fWZ1bmN0aW9uIEtpKG4pe3JldHVybiBudWxsPT1uP1wiX190cmFuc2l0aW9uX19cIjpcIl9fdHJhbnNpdGlvbl9cIituK1wiX19cIn1mdW5jdGlvbiBRaShuLHQsZSxyLHUpe2Z1bmN0aW9uIGkobil7dmFyIHQ9di5kZWxheTtyZXR1cm4gcy50PXQrbCxuPj10P2Eobi10KTp2b2lkKHMuYz1hKX1mdW5jdGlvbiBhKGUpe3ZhciB1PXAuYWN0aXZlLGk9cFt1XTtpJiYoaS50aW1lci5jPW51bGwsaS50aW1lci50PU5hTiwtLXAuY291bnQsZGVsZXRlIHBbdV0saS5ldmVudCYmaS5ldmVudC5pbnRlcnJ1cHQuY2FsbChuLG4uX19kYXRhX18saS5pbmRleCkpO2Zvcih2YXIgYSBpbiBwKWlmKHI+K2Epe3ZhciBjPXBbYV07Yy50aW1lci5jPW51bGwsYy50aW1lci50PU5hTiwtLXAuY291bnQsZGVsZXRlIHBbYV19cy5jPW8scW4oZnVuY3Rpb24oKXtyZXR1cm4gcy5jJiZvKGV8fDEpJiYocy5jPW51bGwscy50PU5hTiksMX0sMCxsKSxwLmFjdGl2ZT1yLHYuZXZlbnQmJnYuZXZlbnQuc3RhcnQuY2FsbChuLG4uX19kYXRhX18sdCksZz1bXSx2LnR3ZWVuLmZvckVhY2goZnVuY3Rpb24oZSxyKXsocj1yLmNhbGwobixuLl9fZGF0YV9fLHQpKSYmZy5wdXNoKHIpfSksaD12LmVhc2UsZj12LmR1cmF0aW9ufWZ1bmN0aW9uIG8odSl7Zm9yKHZhciBpPXUvZixhPWgoaSksbz1nLmxlbmd0aDtvPjA7KWdbLS1vXS5jYWxsKG4sYSk7cmV0dXJuIGk+PTE/KHYuZXZlbnQmJnYuZXZlbnQuZW5kLmNhbGwobixuLl9fZGF0YV9fLHQpLC0tcC5jb3VudD9kZWxldGUgcFtyXTpkZWxldGUgbltlXSwxKTp2b2lkIDB9dmFyIGwscyxmLGgsZyxwPW5bZV18fChuW2VdPXthY3RpdmU6MCxjb3VudDowfSksdj1wW3JdO3Z8fChsPXUudGltZSxzPXFuKGksMCxsKSx2PXBbcl09e3R3ZWVuOm5ldyBjLHRpbWU6bCx0aW1lcjpzLGRlbGF5OnUuZGVsYXksZHVyYXRpb246dS5kdXJhdGlvbixlYXNlOnUuZWFzZSxpbmRleDp0fSx1PW51bGwsKytwLmNvdW50KX1mdW5jdGlvbiBuYShuLHQsZSl7bi5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24obil7dmFyIHI9dChuKTtyZXR1cm5cInRyYW5zbGF0ZShcIisoaXNGaW5pdGUocik/cjplKG4pKStcIiwwKVwifSl9ZnVuY3Rpb24gdGEobix0LGUpe24uYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKG4pe3ZhciByPXQobik7cmV0dXJuXCJ0cmFuc2xhdGUoMCxcIisoaXNGaW5pdGUocik/cjplKG4pKStcIilcIn0pfWZ1bmN0aW9uIGVhKG4pe3JldHVybiBuLnRvSVNPU3RyaW5nKCl9ZnVuY3Rpb24gcmEobix0LGUpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIG4odCl9ZnVuY3Rpb24gdShuLGUpe3ZhciByPW5bMV0tblswXSx1PXIvZSxpPW9hLmJpc2VjdChLbCx1KTtyZXR1cm4gaT09S2wubGVuZ3RoP1t0LnllYXIsS3Uobi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4vMzE1MzZlNn0pLGUpWzJdXTppP3RbdS9LbFtpLTFdPEtsW2ldL3U/aS0xOmldOlt0YyxLdShuLGUpWzJdXX1yZXR1cm4gci5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHVhKG4uaW52ZXJ0KHQpKX0sci5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG4uZG9tYWluKHQpLHIpOm4uZG9tYWluKCkubWFwKHVhKX0sci5uaWNlPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4haXNOYU4oZSkmJiFuLnJhbmdlKGUsdWEoK2UrMSksdCkubGVuZ3RofXZhciBpPXIuZG9tYWluKCksYT1ZdShpKSxvPW51bGw9PW4/dShhLDEwKTpcIm51bWJlclwiPT10eXBlb2YgbiYmdShhLG4pO3JldHVybiBvJiYobj1vWzBdLHQ9b1sxXSksci5kb21haW4oWHUoaSx0PjE/e2Zsb29yOmZ1bmN0aW9uKHQpe2Zvcig7ZSh0PW4uZmxvb3IodCkpOyl0PXVhKHQtMSk7cmV0dXJuIHR9LGNlaWw6ZnVuY3Rpb24odCl7Zm9yKDtlKHQ9bi5jZWlsKHQpKTspdD11YSgrdCsxKTtyZXR1cm4gdH19Om4pKX0sci50aWNrcz1mdW5jdGlvbihuLHQpe3ZhciBlPVl1KHIuZG9tYWluKCkpLGk9bnVsbD09bj91KGUsMTApOlwibnVtYmVyXCI9PXR5cGVvZiBuP3UoZSxuKTohbi5yYW5nZSYmW3tyYW5nZTpufSx0XTtyZXR1cm4gaSYmKG49aVswXSx0PWlbMV0pLG4ucmFuZ2UoZVswXSx1YSgrZVsxXSsxKSwxPnQ/MTp0KX0sci50aWNrRm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHIuY29weT1mdW5jdGlvbigpe3JldHVybiByYShuLmNvcHkoKSx0LGUpfSxKdShyLG4pfWZ1bmN0aW9uIHVhKG4pe3JldHVybiBuZXcgRGF0ZShuKX1mdW5jdGlvbiBpYShuKXtyZXR1cm4gSlNPTi5wYXJzZShuLnJlc3BvbnNlVGV4dCl9ZnVuY3Rpb24gYWEobil7dmFyIHQ9c2EuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gdC5zZWxlY3ROb2RlKHNhLmJvZHkpLHQuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KG4ucmVzcG9uc2VUZXh0KX12YXIgb2E9e3ZlcnNpb246XCIzLjUuMTZcIn0sbGE9W10uc2xpY2UsY2E9ZnVuY3Rpb24obil7cmV0dXJuIGxhLmNhbGwobil9LHNhPXRoaXMuZG9jdW1lbnQ7aWYoc2EpdHJ5e2NhKHNhLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzKVswXS5ub2RlVHlwZX1jYXRjaChmYSl7Y2E9ZnVuY3Rpb24obil7Zm9yKHZhciB0PW4ubGVuZ3RoLGU9bmV3IEFycmF5KHQpO3QtLTspZVt0XT1uW3RdO3JldHVybiBlfX1pZihEYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSksc2EpdHJ5e3NhLmNyZWF0ZUVsZW1lbnQoXCJESVZcIikuc3R5bGUuc2V0UHJvcGVydHkoXCJvcGFjaXR5XCIsMCxcIlwiKX1jYXRjaChoYSl7dmFyIGdhPXRoaXMuRWxlbWVudC5wcm90b3R5cGUscGE9Z2Euc2V0QXR0cmlidXRlLHZhPWdhLnNldEF0dHJpYnV0ZU5TLGRhPXRoaXMuQ1NTU3R5bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUsbWE9ZGEuc2V0UHJvcGVydHk7Z2Euc2V0QXR0cmlidXRlPWZ1bmN0aW9uKG4sdCl7cGEuY2FsbCh0aGlzLG4sdCtcIlwiKX0sZ2Euc2V0QXR0cmlidXRlTlM9ZnVuY3Rpb24obix0LGUpe3ZhLmNhbGwodGhpcyxuLHQsZStcIlwiKX0sZGEuc2V0UHJvcGVydHk9ZnVuY3Rpb24obix0LGUpe21hLmNhbGwodGhpcyxuLHQrXCJcIixlKX19b2EuYXNjZW5kaW5nPWUsb2EuZGVzY2VuZGluZz1mdW5jdGlvbihuLHQpe3JldHVybiBuPnQ/LTE6dD5uPzE6dD49bj8wOk5hTn0sb2EubWluPWZ1bmN0aW9uKG4sdCl7dmFyIGUscix1PS0xLGk9bi5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcig7Kyt1PGk7KWlmKG51bGwhPShyPW5bdV0pJiZyPj1yKXtlPXI7YnJlYWt9Zm9yKDsrK3U8aTspbnVsbCE9KHI9blt1XSkmJmU+ciYmKGU9cil9ZWxzZXtmb3IoOysrdTxpOylpZihudWxsIT0ocj10LmNhbGwobixuW3VdLHUpKSYmcj49cil7ZT1yO2JyZWFrfWZvcig7Kyt1PGk7KW51bGwhPShyPXQuY2FsbChuLG5bdV0sdSkpJiZlPnImJihlPXIpfXJldHVybiBlfSxvYS5tYXg9ZnVuY3Rpb24obix0KXt2YXIgZSxyLHU9LTEsaT1uLmxlbmd0aDtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKDsrK3U8aTspaWYobnVsbCE9KHI9blt1XSkmJnI+PXIpe2U9cjticmVha31mb3IoOysrdTxpOyludWxsIT0ocj1uW3VdKSYmcj5lJiYoZT1yKX1lbHNle2Zvcig7Kyt1PGk7KWlmKG51bGwhPShyPXQuY2FsbChuLG5bdV0sdSkpJiZyPj1yKXtlPXI7YnJlYWt9Zm9yKDsrK3U8aTspbnVsbCE9KHI9dC5jYWxsKG4sblt1XSx1KSkmJnI+ZSYmKGU9cil9cmV0dXJuIGV9LG9hLmV4dGVudD1mdW5jdGlvbihuLHQpe3ZhciBlLHIsdSxpPS0xLGE9bi5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcig7KytpPGE7KWlmKG51bGwhPShyPW5baV0pJiZyPj1yKXtlPXU9cjticmVha31mb3IoOysraTxhOyludWxsIT0ocj1uW2ldKSYmKGU+ciYmKGU9cikscj51JiYodT1yKSl9ZWxzZXtmb3IoOysraTxhOylpZihudWxsIT0ocj10LmNhbGwobixuW2ldLGkpKSYmcj49cil7ZT11PXI7YnJlYWt9Zm9yKDsrK2k8YTspbnVsbCE9KHI9dC5jYWxsKG4sbltpXSxpKSkmJihlPnImJihlPXIpLHI+dSYmKHU9cikpfXJldHVybltlLHVdfSxvYS5zdW09ZnVuY3Rpb24obix0KXt2YXIgZSxyPTAsaT1uLmxlbmd0aCxhPS0xO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KythPGk7KXUoZT0rblthXSkmJihyKz1lKTtlbHNlIGZvcig7KythPGk7KXUoZT0rdC5jYWxsKG4sblthXSxhKSkmJihyKz1lKTtyZXR1cm4gcn0sb2EubWVhbj1mdW5jdGlvbihuLHQpe3ZhciBlLGk9MCxhPW4ubGVuZ3RoLG89LTEsbD1hO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytvPGE7KXUoZT1yKG5bb10pKT9pKz1lOi0tbDtlbHNlIGZvcig7KytvPGE7KXUoZT1yKHQuY2FsbChuLG5bb10sbykpKT9pKz1lOi0tbDtyZXR1cm4gbD9pL2w6dm9pZCAwfSxvYS5xdWFudGlsZT1mdW5jdGlvbihuLHQpe3ZhciBlPShuLmxlbmd0aC0xKSp0KzEscj1NYXRoLmZsb29yKGUpLHU9K25bci0xXSxpPWUtcjtyZXR1cm4gaT91K2kqKG5bcl0tdSk6dX0sb2EubWVkaWFuPWZ1bmN0aW9uKG4sdCl7dmFyIGksYT1bXSxvPW4ubGVuZ3RoLGw9LTE7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDsrK2w8bzspdShpPXIobltsXSkpJiZhLnB1c2goaSk7ZWxzZSBmb3IoOysrbDxvOyl1KGk9cih0LmNhbGwobixuW2xdLGwpKSkmJmEucHVzaChpKTtyZXR1cm4gYS5sZW5ndGg/b2EucXVhbnRpbGUoYS5zb3J0KGUpLC41KTp2b2lkIDB9LG9hLnZhcmlhbmNlPWZ1bmN0aW9uKG4sdCl7dmFyIGUsaSxhPW4ubGVuZ3RoLG89MCxsPTAsYz0tMSxzPTA7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDsrK2M8YTspdShlPXIobltjXSkpJiYoaT1lLW8sbys9aS8rK3MsbCs9aSooZS1vKSk7ZWxzZSBmb3IoOysrYzxhOyl1KGU9cih0LmNhbGwobixuW2NdLGMpKSkmJihpPWUtbyxvKz1pLysrcyxsKz1pKihlLW8pKTtyZXR1cm4gcz4xP2wvKHMtMSk6dm9pZCAwfSxvYS5kZXZpYXRpb249ZnVuY3Rpb24oKXt2YXIgbj1vYS52YXJpYW5jZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4/TWF0aC5zcXJ0KG4pOm59O3ZhciB5YT1pKGUpO29hLmJpc2VjdExlZnQ9eWEubGVmdCxvYS5iaXNlY3Q9b2EuYmlzZWN0UmlnaHQ9eWEucmlnaHQsb2EuYmlzZWN0b3I9ZnVuY3Rpb24obil7cmV0dXJuIGkoMT09PW4ubGVuZ3RoP2Z1bmN0aW9uKHQscil7cmV0dXJuIGUobih0KSxyKX06bil9LG9hLnNodWZmbGU9ZnVuY3Rpb24obix0LGUpeyhpPWFyZ3VtZW50cy5sZW5ndGgpPDMmJihlPW4ubGVuZ3RoLDI+aSYmKHQ9MCkpO2Zvcih2YXIgcix1LGk9ZS10O2k7KXU9TWF0aC5yYW5kb20oKSppLS18MCxyPW5baSt0XSxuW2krdF09blt1K3RdLG5bdSt0XT1yO3JldHVybiBufSxvYS5wZXJtdXRlPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPXQubGVuZ3RoLHI9bmV3IEFycmF5KGUpO2UtLTspcltlXT1uW3RbZV1dO3JldHVybiByfSxvYS5wYWlycz1mdW5jdGlvbihuKXtmb3IodmFyIHQsZT0wLHI9bi5sZW5ndGgtMSx1PW5bMF0saT1uZXcgQXJyYXkoMD5yPzA6cik7cj5lOylpW2VdPVt0PXUsdT1uWysrZV1dO3JldHVybiBpfSxvYS50cmFuc3Bvc2U9ZnVuY3Rpb24obil7aWYoISh1PW4ubGVuZ3RoKSlyZXR1cm5bXTtmb3IodmFyIHQ9LTEsZT1vYS5taW4obixhKSxyPW5ldyBBcnJheShlKTsrK3Q8ZTspZm9yKHZhciB1LGk9LTEsbz1yW3RdPW5ldyBBcnJheSh1KTsrK2k8dTspb1tpXT1uW2ldW3RdO3JldHVybiByfSxvYS56aXA9ZnVuY3Rpb24oKXtyZXR1cm4gb2EudHJhbnNwb3NlKGFyZ3VtZW50cyl9LG9hLmtleXM9ZnVuY3Rpb24obil7dmFyIHQ9W107Zm9yKHZhciBlIGluIG4pdC5wdXNoKGUpO3JldHVybiB0fSxvYS52YWx1ZXM9ZnVuY3Rpb24obil7dmFyIHQ9W107Zm9yKHZhciBlIGluIG4pdC5wdXNoKG5bZV0pO3JldHVybiB0fSxvYS5lbnRyaWVzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiBuKXQucHVzaCh7a2V5OmUsdmFsdWU6bltlXX0pO3JldHVybiB0fSxvYS5tZXJnZT1mdW5jdGlvbihuKXtmb3IodmFyIHQsZSxyLHU9bi5sZW5ndGgsaT0tMSxhPTA7KytpPHU7KWErPW5baV0ubGVuZ3RoO2ZvcihlPW5ldyBBcnJheShhKTstLXU+PTA7KWZvcihyPW5bdV0sdD1yLmxlbmd0aDstLXQ+PTA7KWVbLS1hXT1yW3RdO3JldHVybiBlfTt2YXIgTWE9TWF0aC5hYnM7b2EucmFuZ2U9ZnVuY3Rpb24obix0LGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg8MyYmKGU9MSxhcmd1bWVudHMubGVuZ3RoPDImJih0PW4sbj0wKSksKHQtbikvZT09PTEvMCl0aHJvdyBuZXcgRXJyb3IoXCJpbmZpbml0ZSByYW5nZVwiKTt2YXIgcix1PVtdLGk9byhNYShlKSksYT0tMTtpZihuKj1pLHQqPWksZSo9aSwwPmUpZm9yKDsocj1uK2UqKythKT50Oyl1LnB1c2goci9pKTtlbHNlIGZvcig7KHI9bitlKisrYSk8dDspdS5wdXNoKHIvaSk7cmV0dXJuIHV9LG9hLm1hcD1mdW5jdGlvbihuLHQpe3ZhciBlPW5ldyBjO2lmKG4gaW5zdGFuY2VvZiBjKW4uZm9yRWFjaChmdW5jdGlvbihuLHQpe2Uuc2V0KG4sdCl9KTtlbHNlIGlmKEFycmF5LmlzQXJyYXkobikpe3ZhciByLHU9LTEsaT1uLmxlbmd0aDtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOysrdTxpOyllLnNldCh1LG5bdV0pO2Vsc2UgZm9yKDsrK3U8aTspZS5zZXQodC5jYWxsKG4scj1uW3VdLHUpLHIpfWVsc2UgZm9yKHZhciBhIGluIG4pZS5zZXQoYSxuW2FdKTtyZXR1cm4gZX07dmFyIHhhPVwiX19wcm90b19fXCIsYmE9XCJcXHgwMFwiO2woYyx7aGFzOmgsZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9bcyhuKV19LHNldDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9bcyhuKV09dH0scmVtb3ZlOmcsa2V5czpwLHZhbHVlczpmdW5jdGlvbigpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl8pbi5wdXNoKHRoaXMuX1t0XSk7cmV0dXJuIG59LGVudHJpZXM6ZnVuY3Rpb24oKXt2YXIgbj1bXTtmb3IodmFyIHQgaW4gdGhpcy5fKW4ucHVzaCh7a2V5OmYodCksdmFsdWU6dGhpcy5fW3RdfSk7cmV0dXJuIG59LHNpemU6dixlbXB0eTpkLGZvckVhY2g6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIHRoaXMuXyluLmNhbGwodGhpcyxmKHQpLHRoaXMuX1t0XSl9fSksb2EubmVzdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxhLG8pe2lmKG8+PWkubGVuZ3RoKXJldHVybiByP3IuY2FsbCh1LGEpOmU/YS5zb3J0KGUpOmE7Zm9yKHZhciBsLHMsZixoLGc9LTEscD1hLmxlbmd0aCx2PWlbbysrXSxkPW5ldyBjOysrZzxwOykoaD1kLmdldChsPXYocz1hW2ddKSkpP2gucHVzaChzKTpkLnNldChsLFtzXSk7cmV0dXJuIHQ/KHM9dCgpLGY9ZnVuY3Rpb24oZSxyKXtzLnNldChlLG4odCxyLG8pKX0pOihzPXt9LGY9ZnVuY3Rpb24oZSxyKXtzW2VdPW4odCxyLG8pfSksZC5mb3JFYWNoKGYpLHN9ZnVuY3Rpb24gdChuLGUpe2lmKGU+PWkubGVuZ3RoKXJldHVybiBuO3ZhciByPVtdLHU9YVtlKytdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24obix1KXtyLnB1c2goe2tleTpuLHZhbHVlczp0KHUsZSl9KX0pLHU/ci5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHUobi5rZXksdC5rZXkpfSk6cn12YXIgZSxyLHU9e30saT1bXSxhPVtdO3JldHVybiB1Lm1hcD1mdW5jdGlvbih0LGUpe3JldHVybiBuKGUsdCwwKX0sdS5lbnRyaWVzPWZ1bmN0aW9uKGUpe3JldHVybiB0KG4ob2EubWFwLGUsMCksMCl9LHUua2V5PWZ1bmN0aW9uKG4pe3JldHVybiBpLnB1c2gobiksdX0sdS5zb3J0S2V5cz1mdW5jdGlvbihuKXtyZXR1cm4gYVtpLmxlbmd0aC0xXT1uLHV9LHUuc29ydFZhbHVlcz1mdW5jdGlvbihuKXtyZXR1cm4gZT1uLHV9LHUucm9sbHVwPWZ1bmN0aW9uKG4pe3JldHVybiByPW4sdX0sdX0sb2Euc2V0PWZ1bmN0aW9uKG4pe3ZhciB0PW5ldyBtO2lmKG4pZm9yKHZhciBlPTAscj1uLmxlbmd0aDtyPmU7KytlKXQuYWRkKG5bZV0pO3JldHVybiB0fSxsKG0se2hhczpoLGFkZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fW3Mobis9XCJcIildPSEwLG59LHJlbW92ZTpnLHZhbHVlczpwLHNpemU6dixlbXB0eTpkLGZvckVhY2g6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIHRoaXMuXyluLmNhbGwodGhpcyxmKHQpKX19KSxvYS5iZWhhdmlvcj17fSxvYS5yZWJpbmQ9ZnVuY3Rpb24obix0KXtmb3IodmFyIGUscj0xLHU9YXJndW1lbnRzLmxlbmd0aDsrK3I8dTspbltlPWFyZ3VtZW50c1tyXV09TShuLHQsdFtlXSk7cmV0dXJuIG59O3ZhciBfYT1bXCJ3ZWJraXRcIixcIm1zXCIsXCJtb3pcIixcIk1velwiLFwib1wiLFwiT1wiXTtvYS5kaXNwYXRjaD1mdW5jdGlvbigpe2Zvcih2YXIgbj1uZXcgXyx0PS0xLGU9YXJndW1lbnRzLmxlbmd0aDsrK3Q8ZTspblthcmd1bWVudHNbdF1dPXcobik7cmV0dXJuIG59LF8ucHJvdG90eXBlLm9uPWZ1bmN0aW9uKG4sdCl7dmFyIGU9bi5pbmRleE9mKFwiLlwiKSxyPVwiXCI7aWYoZT49MCYmKHI9bi5zbGljZShlKzEpLG49bi5zbGljZSgwLGUpKSxuKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/dGhpc1tuXS5vbihyKTp0aGlzW25dLm9uKHIsdCk7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKG51bGw9PXQpZm9yKG4gaW4gdGhpcyl0aGlzLmhhc093blByb3BlcnR5KG4pJiZ0aGlzW25dLm9uKHIsbnVsbCk7cmV0dXJuIHRoaXN9fSxvYS5ldmVudD1udWxsLG9hLnJlcXVvdGU9ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSh3YSxcIlxcXFwkJlwiKX07dmFyIHdhPS9bXFxcXFxcXlxcJFxcKlxcK1xcP1xcfFxcW1xcXVxcKFxcKVxcLlxce1xcfV0vZyxTYT17fS5fX3Byb3RvX18/ZnVuY3Rpb24obix0KXtuLl9fcHJvdG9fXz10fTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSBpbiB0KW5bZV09dFtlXX0sa2E9ZnVuY3Rpb24obix0KXtyZXR1cm4gdC5xdWVyeVNlbGVjdG9yKG4pfSxOYT1mdW5jdGlvbihuLHQpe3JldHVybiB0LnF1ZXJ5U2VsZWN0b3JBbGwobil9LEVhPWZ1bmN0aW9uKG4sdCl7dmFyIGU9bi5tYXRjaGVzfHxuW3gobixcIm1hdGNoZXNTZWxlY3RvclwiKV07cmV0dXJuKEVhPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGUuY2FsbChuLHQpfSkobix0KX07XCJmdW5jdGlvblwiPT10eXBlb2YgU2l6emxlJiYoa2E9ZnVuY3Rpb24obix0KXtyZXR1cm4gU2l6emxlKG4sdClbMF18fG51bGx9LE5hPVNpenpsZSxFYT1TaXp6bGUubWF0Y2hlc1NlbGVjdG9yKSxvYS5zZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gb2Euc2VsZWN0KHNhLmRvY3VtZW50RWxlbWVudCl9O3ZhciBBYT1vYS5zZWxlY3Rpb24ucHJvdG90eXBlPVtdO0FhLnNlbGVjdD1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdSxpPVtdO249QShuKTtmb3IodmFyIGE9LTEsbz10aGlzLmxlbmd0aDsrK2E8bzspe2kucHVzaCh0PVtdKSx0LnBhcmVudE5vZGU9KHI9dGhpc1thXSkucGFyZW50Tm9kZTtmb3IodmFyIGw9LTEsYz1yLmxlbmd0aDsrK2w8YzspKHU9cltsXSk/KHQucHVzaChlPW4uY2FsbCh1LHUuX19kYXRhX18sbCxhKSksZSYmXCJfX2RhdGFfX1wiaW4gdSYmKGUuX19kYXRhX189dS5fX2RhdGFfXykpOnQucHVzaChudWxsKX1yZXR1cm4gRShpKX0sQWEuc2VsZWN0QWxsPWZ1bmN0aW9uKG4pe3ZhciB0LGUscj1bXTtuPUMobik7Zm9yKHZhciB1PS0xLGk9dGhpcy5sZW5ndGg7Kyt1PGk7KWZvcih2YXIgYT10aGlzW3VdLG89LTEsbD1hLmxlbmd0aDsrK288bDspKGU9YVtvXSkmJihyLnB1c2godD1jYShuLmNhbGwoZSxlLl9fZGF0YV9fLG8sdSkpKSx0LnBhcmVudE5vZGU9ZSk7cmV0dXJuIEUocil9O3ZhciBDYT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIix6YT17c3ZnOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix4aHRtbDpDYSx4bGluazpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIix4bWw6XCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIix4bWxuczpcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCJ9O29hLm5zPXtwcmVmaXg6emEscXVhbGlmeTpmdW5jdGlvbihuKXt2YXIgdD1uLmluZGV4T2YoXCI6XCIpLGU9bjtyZXR1cm4gdD49MCYmXCJ4bWxuc1wiIT09KGU9bi5zbGljZSgwLHQpKSYmKG49bi5zbGljZSh0KzEpKSx6YS5oYXNPd25Qcm9wZXJ0eShlKT97c3BhY2U6emFbZV0sbG9jYWw6bn06bn19LEFhLmF0dHI9ZnVuY3Rpb24obix0KXtpZihhcmd1bWVudHMubGVuZ3RoPDIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXt2YXIgZT10aGlzLm5vZGUoKTtyZXR1cm4gbj1vYS5ucy5xdWFsaWZ5KG4pLG4ubG9jYWw/ZS5nZXRBdHRyaWJ1dGVOUyhuLnNwYWNlLG4ubG9jYWwpOmUuZ2V0QXR0cmlidXRlKG4pfWZvcih0IGluIG4pdGhpcy5lYWNoKHoodCxuW3RdKSk7cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXMuZWFjaCh6KG4sdCkpfSxBYS5jbGFzc2VkPWZ1bmN0aW9uKG4sdCl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygbil7dmFyIGU9dGhpcy5ub2RlKCkscj0obj1UKG4pKS5sZW5ndGgsdT0tMTtpZih0PWUuY2xhc3NMaXN0KXtmb3IoOysrdTxyOylpZighdC5jb250YWlucyhuW3VdKSlyZXR1cm4hMX1lbHNlIGZvcih0PWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7Kyt1PHI7KWlmKCFxKG5bdV0pLnRlc3QodCkpcmV0dXJuITE7cmV0dXJuITB9Zm9yKHQgaW4gbil0aGlzLmVhY2goUih0LG5bdF0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKFIobix0KSl9LEFhLnN0eWxlPWZ1bmN0aW9uKG4sZSxyKXt2YXIgdT1hcmd1bWVudHMubGVuZ3RoO2lmKDM+dSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4pezI+dSYmKGU9XCJcIik7Zm9yKHIgaW4gbil0aGlzLmVhY2goUChyLG5bcl0sZSkpO3JldHVybiB0aGlzfWlmKDI+dSl7dmFyIGk9dGhpcy5ub2RlKCk7cmV0dXJuIHQoaSkuZ2V0Q29tcHV0ZWRTdHlsZShpLG51bGwpLmdldFByb3BlcnR5VmFsdWUobil9cj1cIlwifXJldHVybiB0aGlzLmVhY2goUChuLGUscikpfSxBYS5wcm9wZXJ0eT1mdW5jdGlvbihuLHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pcmV0dXJuIHRoaXMubm9kZSgpW25dO2Zvcih0IGluIG4pdGhpcy5lYWNoKFUodCxuW3RdKSk7cmV0dXJuIHRoaXN9cmV0dXJuIHRoaXMuZWFjaChVKG4sdCkpfSxBYS50ZXh0PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2Z1bmN0aW9uKCl7dmFyIHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy50ZXh0Q29udGVudD1udWxsPT10P1wiXCI6dH06bnVsbD09bj9mdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnQ9XCJcIn06ZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50PW59KTp0aGlzLm5vZGUoKS50ZXh0Q29udGVudH0sQWEuaHRtbD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmVhY2goXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9mdW5jdGlvbigpe3ZhciB0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaW5uZXJIVE1MPW51bGw9PXQ/XCJcIjp0fTpudWxsPT1uP2Z1bmN0aW9uKCl7dGhpcy5pbm5lckhUTUw9XCJcIn06ZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1ufSk6dGhpcy5ub2RlKCkuaW5uZXJIVE1MfSxBYS5hcHBlbmQ9ZnVuY3Rpb24obil7cmV0dXJuIG49aihuKSx0aGlzLnNlbGVjdChmdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcGVuZENoaWxkKG4uYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pfSxBYS5pbnNlcnQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1qKG4pLHQ9QSh0KSx0aGlzLnNlbGVjdChmdW5jdGlvbigpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8bnVsbCl9KX0sQWEucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChGKX0sQWEuZGF0YT1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobixlKXt2YXIgcix1LGksYT1uLmxlbmd0aCxmPWUubGVuZ3RoLGg9TWF0aC5taW4oYSxmKSxnPW5ldyBBcnJheShmKSxwPW5ldyBBcnJheShmKSx2PW5ldyBBcnJheShhKTtpZih0KXt2YXIgZCxtPW5ldyBjLHk9bmV3IEFycmF5KGEpO2ZvcihyPS0xOysrcjxhOykodT1uW3JdKSYmKG0uaGFzKGQ9dC5jYWxsKHUsdS5fX2RhdGFfXyxyKSk/dltyXT11Om0uc2V0KGQsdSkseVtyXT1kKTtmb3Iocj0tMTsrK3I8ZjspKHU9bS5nZXQoZD10LmNhbGwoZSxpPWVbcl0scikpKT91IT09ITAmJihnW3JdPXUsdS5fX2RhdGFfXz1pKTpwW3JdPUgoaSksbS5zZXQoZCwhMCk7Zm9yKHI9LTE7KytyPGE7KXIgaW4geSYmbS5nZXQoeVtyXSkhPT0hMCYmKHZbcl09bltyXSl9ZWxzZXtmb3Iocj0tMTsrK3I8aDspdT1uW3JdLGk9ZVtyXSx1Pyh1Ll9fZGF0YV9fPWksZ1tyXT11KTpwW3JdPUgoaSk7Zm9yKDtmPnI7KytyKXBbcl09SChlW3JdKTtmb3IoO2E+cjsrK3IpdltyXT1uW3JdfXAudXBkYXRlPWcscC5wYXJlbnROb2RlPWcucGFyZW50Tm9kZT12LnBhcmVudE5vZGU9bi5wYXJlbnROb2RlLG8ucHVzaChwKSxsLnB1c2goZykscy5wdXNoKHYpfXZhciByLHUsaT0tMSxhPXRoaXMubGVuZ3RoO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtmb3Iobj1uZXcgQXJyYXkoYT0ocj10aGlzWzBdKS5sZW5ndGgpOysraTxhOykodT1yW2ldKSYmKG5baV09dS5fX2RhdGFfXyk7cmV0dXJuIG59dmFyIG89WihbXSksbD1FKFtdKSxzPUUoW10pO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pZm9yKDsrK2k8YTspZShyPXRoaXNbaV0sbi5jYWxsKHIsci5wYXJlbnROb2RlLl9fZGF0YV9fLGkpKTtlbHNlIGZvcig7KytpPGE7KWUocj10aGlzW2ldLG4pO3JldHVybiBsLmVudGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGwuZXhpdD1mdW5jdGlvbigpe3JldHVybiBzfSxsfSxBYS5kYXR1bT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIixuKTp0aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIil9LEFhLmZpbHRlcj1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdT1bXTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiYobj1PKG4pKTtmb3IodmFyIGk9MCxhPXRoaXMubGVuZ3RoO2E+aTtpKyspe3UucHVzaCh0PVtdKSx0LnBhcmVudE5vZGU9KGU9dGhpc1tpXSkucGFyZW50Tm9kZTtmb3IodmFyIG89MCxsPWUubGVuZ3RoO2w+bztvKyspKHI9ZVtvXSkmJm4uY2FsbChyLHIuX19kYXRhX18sbyxpKSYmdC5wdXNoKHIpfXJldHVybiBFKHUpfSxBYS5vcmRlcj1mdW5jdGlvbigpe2Zvcih2YXIgbj0tMSx0PXRoaXMubGVuZ3RoOysrbjx0Oylmb3IodmFyIGUscj10aGlzW25dLHU9ci5sZW5ndGgtMSxpPXJbdV07LS11Pj0wOykoZT1yW3VdKSYmKGkmJmkhPT1lLm5leHRTaWJsaW5nJiZpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsaSksaT1lKTtyZXR1cm4gdGhpc30sQWEuc29ydD1mdW5jdGlvbihuKXtuPUkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgdD0tMSxlPXRoaXMubGVuZ3RoOysrdDxlOyl0aGlzW3RdLnNvcnQobik7cmV0dXJuIHRoaXMub3JkZXIoKX0sQWEuZWFjaD1mdW5jdGlvbihuKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKHQsZSxyKXtuLmNhbGwodCx0Ll9fZGF0YV9fLGUscil9KX0sQWEuY2FsbD1mdW5jdGlvbihuKXt2YXIgdD1jYShhcmd1bWVudHMpO3JldHVybiBuLmFwcGx5KHRbMF09dGhpcyx0KSx0aGlzfSxBYS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLm5vZGUoKX0sQWEubm9kZT1mdW5jdGlvbigpe2Zvcih2YXIgbj0wLHQ9dGhpcy5sZW5ndGg7dD5uO24rKylmb3IodmFyIGU9dGhpc1tuXSxyPTAsdT1lLmxlbmd0aDt1PnI7cisrKXt2YXIgaT1lW3JdO2lmKGkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LEFhLnNpemU9ZnVuY3Rpb24oKXt2YXIgbj0wO3JldHVybiBZKHRoaXMsZnVuY3Rpb24oKXsrK259KSxufTt2YXIgTGE9W107b2Euc2VsZWN0aW9uLmVudGVyPVosb2Euc2VsZWN0aW9uLmVudGVyLnByb3RvdHlwZT1MYSxMYS5hcHBlbmQ9QWEuYXBwZW5kLExhLmVtcHR5PUFhLmVtcHR5LExhLm5vZGU9QWEubm9kZSxMYS5jYWxsPUFhLmNhbGwsTGEuc2l6ZT1BYS5zaXplLExhLnNlbGVjdD1mdW5jdGlvbihuKXtmb3IodmFyIHQsZSxyLHUsaSxhPVtdLG89LTEsbD10aGlzLmxlbmd0aDsrK288bDspe3I9KHU9dGhpc1tvXSkudXBkYXRlLGEucHVzaCh0PVtdKSx0LnBhcmVudE5vZGU9dS5wYXJlbnROb2RlO2Zvcih2YXIgYz0tMSxzPXUubGVuZ3RoOysrYzxzOykoaT11W2NdKT8odC5wdXNoKHJbY109ZT1uLmNhbGwodS5wYXJlbnROb2RlLGkuX19kYXRhX18sYyxvKSksZS5fX2RhdGFfXz1pLl9fZGF0YV9fKTp0LnB1c2gobnVsbCl9cmV0dXJuIEUoYSl9LExhLmluc2VydD1mdW5jdGlvbihuLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDImJih0PVYodGhpcykpLEFhLmluc2VydC5jYWxsKHRoaXMsbix0KX0sb2Euc2VsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0PyhlPVtrYSh0LHNhKV0sZS5wYXJlbnROb2RlPXNhLmRvY3VtZW50RWxlbWVudCk6KGU9W3RdLGUucGFyZW50Tm9kZT1uKHQpKSxFKFtlXSl9LG9hLnNlbGVjdEFsbD1mdW5jdGlvbihuKXt2YXIgdDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2Ygbj8odD1jYShOYShuLHNhKSksdC5wYXJlbnROb2RlPXNhLmRvY3VtZW50RWxlbWVudCk6KHQ9Y2EobiksdC5wYXJlbnROb2RlPW51bGwpLEUoW3RdKX0sQWEub249ZnVuY3Rpb24obix0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg7aWYoMz5yKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil7Mj5yJiYodD0hMSk7Zm9yKGUgaW4gbil0aGlzLmVhY2goWChlLG5bZV0sdCkpO3JldHVybiB0aGlzfWlmKDI+cilyZXR1cm4ocj10aGlzLm5vZGUoKVtcIl9fb25cIituXSkmJnIuXztlPSExfXJldHVybiB0aGlzLmVhY2goWChuLHQsZSkpfTt2YXIgcWE9b2EubWFwKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCJ9KTtzYSYmcWEuZm9yRWFjaChmdW5jdGlvbihuKXtcIm9uXCIrbiBpbiBzYSYmcWEucmVtb3ZlKG4pfSk7dmFyIFRhLFJhPTA7b2EubW91c2U9ZnVuY3Rpb24obil7cmV0dXJuIEoobixrKCkpfTt2YXIgRGE9dGhpcy5uYXZpZ2F0b3ImJi9XZWJLaXQvLnRlc3QodGhpcy5uYXZpZ2F0b3IudXNlckFnZW50KT8tMTowO29hLnRvdWNoPWZ1bmN0aW9uKG4sdCxlKXtpZihhcmd1bWVudHMubGVuZ3RoPDMmJihlPXQsdD1rKCkuY2hhbmdlZFRvdWNoZXMpLHQpZm9yKHZhciByLHU9MCxpPXQubGVuZ3RoO2k+dTsrK3UpaWYoKHI9dFt1XSkuaWRlbnRpZmllcj09PWUpcmV0dXJuIEoobixyKX0sb2EuYmVoYXZpb3IuZHJhZz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt0aGlzLm9uKFwibW91c2Vkb3duLmRyYWdcIixpKS5vbihcInRvdWNoc3RhcnQuZHJhZ1wiLGEpfWZ1bmN0aW9uIGUobix0LGUsaSxhKXtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBvKCl7dmFyIG4sZSxyPXQoaCx2KTtyJiYobj1yWzBdLU1bMF0sZT1yWzFdLU1bMV0scHw9bnxlLE09cixnKHt0eXBlOlwiZHJhZ1wiLHg6clswXStjWzBdLHk6clsxXStjWzFdLGR4Om4sZHk6ZX0pKX1mdW5jdGlvbiBsKCl7dChoLHYpJiYobS5vbihpK2QsbnVsbCkub24oYStkLG51bGwpLHkocCksZyh7dHlwZTpcImRyYWdlbmRcIn0pKX12YXIgYyxzPXRoaXMsZj1vYS5ldmVudC50YXJnZXQuY29ycmVzcG9uZGluZ0VsZW1lbnR8fG9hLmV2ZW50LnRhcmdldCxoPXMucGFyZW50Tm9kZSxnPXIub2Yocyxhcmd1bWVudHMpLHA9MCx2PW4oKSxkPVwiLmRyYWdcIisobnVsbD09dj9cIlwiOlwiLVwiK3YpLG09b2Euc2VsZWN0KGUoZikpLm9uKGkrZCxvKS5vbihhK2QsbCkseT1XKGYpLE09dChoLHYpO3U/KGM9dS5hcHBseShzLGFyZ3VtZW50cyksYz1bYy54LU1bMF0sYy55LU1bMV1dKTpjPVswLDBdLGcoe3R5cGU6XCJkcmFnc3RhcnRcIn0pfX12YXIgcj1OKG4sXCJkcmFnXCIsXCJkcmFnc3RhcnRcIixcImRyYWdlbmRcIiksdT1udWxsLGk9ZShiLG9hLm1vdXNlLHQsXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIiksYT1lKEcsb2EudG91Y2gseSxcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIik7cmV0dXJuIG4ub3JpZ2luPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsbik6dX0sb2EucmViaW5kKG4scixcIm9uXCIpfSxvYS50b3VjaGVzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9aygpLnRvdWNoZXMpLHQ/Y2EodCkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPUoobix0KTtyZXR1cm4gZS5pZGVudGlmaWVyPXQuaWRlbnRpZmllcixlfSk6W119O3ZhciBQYT0xZS02LFVhPVBhKlBhLGphPU1hdGguUEksRmE9MipqYSxIYT1GYS1QYSxPYT1qYS8yLElhPWphLzE4MCxZYT0xODAvamEsWmE9TWF0aC5TUVJUMixWYT0yLFhhPTQ7b2EuaW50ZXJwb2xhdGVab29tPWZ1bmN0aW9uKG4sdCl7dmFyIGUscix1PW5bMF0saT1uWzFdLGE9blsyXSxvPXRbMF0sbD10WzFdLGM9dFsyXSxzPW8tdSxmPWwtaSxoPXMqcytmKmY7aWYoVWE+aClyPU1hdGgubG9nKGMvYSkvWmEsZT1mdW5jdGlvbihuKXtyZXR1cm5bdStuKnMsaStuKmYsYSpNYXRoLmV4cChaYSpuKnIpXX07ZWxzZXt2YXIgZz1NYXRoLnNxcnQoaCkscD0oYypjLWEqYStYYSpoKS8oMiphKlZhKmcpLHY9KGMqYy1hKmEtWGEqaCkvKDIqYypWYSpnKSxkPU1hdGgubG9nKE1hdGguc3FydChwKnArMSktcCksbT1NYXRoLmxvZyhNYXRoLnNxcnQodip2KzEpLXYpO3I9KG0tZCkvWmEsZT1mdW5jdGlvbihuKXt2YXIgdD1uKnIsZT1ybihkKSxvPWEvKFZhKmcpKihlKnVuKFphKnQrZCktZW4oZCkpO3JldHVyblt1K28qcyxpK28qZixhKmUvcm4oWmEqdCtkKV19fXJldHVybiBlLmR1cmF0aW9uPTFlMypyLGV9LG9hLmJlaGF2aW9yLnpvb209ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe24ub24oTCxmKS5vbihCYStcIi56b29tXCIsZykub24oXCJkYmxjbGljay56b29tXCIscCkub24oUixoKX1mdW5jdGlvbiBlKG4pe3JldHVyblsoblswXS1rLngpL2suaywoblsxXS1rLnkpL2sua119ZnVuY3Rpb24gcihuKXtyZXR1cm5bblswXSprLmsray54LG5bMV0qay5rK2sueV19ZnVuY3Rpb24gdShuKXtrLms9TWF0aC5tYXgoQVswXSxNYXRoLm1pbihBWzFdLG4pKX1mdW5jdGlvbiBpKG4sdCl7dD1yKHQpLGsueCs9blswXS10WzBdLGsueSs9blsxXS10WzFdfWZ1bmN0aW9uIGEodCxlLHIsYSl7dC5fX2NoYXJ0X189e3g6ay54LHk6ay55LGs6ay5rfSx1KE1hdGgucG93KDIsYSkpLGkoZD1lLHIpLHQ9b2Euc2VsZWN0KHQpLEM+MCYmKHQ9dC50cmFuc2l0aW9uKCkuZHVyYXRpb24oQykpLHQuY2FsbChuLmV2ZW50KX1mdW5jdGlvbiBvKCl7YiYmYi5kb21haW4oeC5yYW5nZSgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi1rLngpL2sua30pLm1hcCh4LmludmVydCkpLHcmJncuZG9tYWluKF8ucmFuZ2UoKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuKG4tay55KS9rLmt9KS5tYXAoXy5pbnZlcnQpKX1mdW5jdGlvbiBsKG4pe3orK3x8bih7dHlwZTpcInpvb21zdGFydFwifSl9ZnVuY3Rpb24gYyhuKXtvKCksbih7dHlwZTpcInpvb21cIixzY2FsZTprLmssdHJhbnNsYXRlOltrLngsay55XX0pfWZ1bmN0aW9uIHMobil7LS16fHwobih7dHlwZTpcInpvb21lbmRcIn0pLGQ9bnVsbCl9ZnVuY3Rpb24gZigpe2Z1bmN0aW9uIG4oKXtvPTEsaShvYS5tb3VzZSh1KSxoKSxjKGEpfWZ1bmN0aW9uIHIoKXtmLm9uKHEsbnVsbCkub24oVCxudWxsKSxnKG8pLHMoYSl9dmFyIHU9dGhpcyxhPUQub2YodSxhcmd1bWVudHMpLG89MCxmPW9hLnNlbGVjdCh0KHUpKS5vbihxLG4pLm9uKFQsciksaD1lKG9hLm1vdXNlKHUpKSxnPVcodSk7SWwuY2FsbCh1KSxsKGEpfWZ1bmN0aW9uIGgoKXtmdW5jdGlvbiBuKCl7dmFyIG49b2EudG91Y2hlcyhwKTtyZXR1cm4gZz1rLmssbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uaWRlbnRpZmllciBpbiBkJiYoZFtuLmlkZW50aWZpZXJdPWUobikpfSksbn1mdW5jdGlvbiB0KCl7dmFyIHQ9b2EuZXZlbnQudGFyZ2V0O29hLnNlbGVjdCh0KS5vbih4LHIpLm9uKGIsbyksXy5wdXNoKHQpO2Zvcih2YXIgZT1vYS5ldmVudC5jaGFuZ2VkVG91Y2hlcyx1PTAsaT1lLmxlbmd0aDtpPnU7Kyt1KWRbZVt1XS5pZGVudGlmaWVyXT1udWxsO3ZhciBsPW4oKSxjPURhdGUubm93KCk7aWYoMT09PWwubGVuZ3RoKXtpZig1MDA+Yy1NKXt2YXIgcz1sWzBdO2EocCxzLGRbcy5pZGVudGlmaWVyXSxNYXRoLmZsb29yKE1hdGgubG9nKGsuaykvTWF0aC5MTjIpKzEpLFMoKX1NPWN9ZWxzZSBpZihsLmxlbmd0aD4xKXt2YXIgcz1sWzBdLGY9bFsxXSxoPXNbMF0tZlswXSxnPXNbMV0tZlsxXTttPWgqaCtnKmd9fWZ1bmN0aW9uIHIoKXt2YXIgbix0LGUscixhPW9hLnRvdWNoZXMocCk7SWwuY2FsbChwKTtmb3IodmFyIG89MCxsPWEubGVuZ3RoO2w+bzsrK28scj1udWxsKWlmKGU9YVtvXSxyPWRbZS5pZGVudGlmaWVyXSl7aWYodClicmVhaztuPWUsdD1yfWlmKHIpe3ZhciBzPShzPWVbMF0tblswXSkqcysocz1lWzFdLW5bMV0pKnMsZj1tJiZNYXRoLnNxcnQocy9tKTtuPVsoblswXStlWzBdKS8yLChuWzFdK2VbMV0pLzJdLHQ9Wyh0WzBdK3JbMF0pLzIsKHRbMV0rclsxXSkvMl0sdShmKmcpfU09bnVsbCxpKG4sdCksYyh2KX1mdW5jdGlvbiBvKCl7aWYob2EuZXZlbnQudG91Y2hlcy5sZW5ndGgpe2Zvcih2YXIgdD1vYS5ldmVudC5jaGFuZ2VkVG91Y2hlcyxlPTAscj10Lmxlbmd0aDtyPmU7KytlKWRlbGV0ZSBkW3RbZV0uaWRlbnRpZmllcl07Zm9yKHZhciB1IGluIGQpcmV0dXJuIHZvaWQgbigpfW9hLnNlbGVjdEFsbChfKS5vbih5LG51bGwpLHcub24oTCxmKS5vbihSLGgpLE4oKSxzKHYpfXZhciBnLHA9dGhpcyx2PUQub2YocCxhcmd1bWVudHMpLGQ9e30sbT0wLHk9XCIuem9vbS1cIitvYS5ldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyLHg9XCJ0b3VjaG1vdmVcIit5LGI9XCJ0b3VjaGVuZFwiK3ksXz1bXSx3PW9hLnNlbGVjdChwKSxOPVcocCk7dCgpLGwodiksdy5vbihMLG51bGwpLm9uKFIsdCl9ZnVuY3Rpb24gZygpe3ZhciBuPUQub2YodGhpcyxhcmd1bWVudHMpO3k/Y2xlYXJUaW1lb3V0KHkpOihJbC5jYWxsKHRoaXMpLHY9ZShkPW18fG9hLm1vdXNlKHRoaXMpKSxsKG4pKSx5PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt5PW51bGwscyhuKX0sNTApLFMoKSx1KE1hdGgucG93KDIsLjAwMiokYSgpKSprLmspLGkoZCx2KSxjKG4pfWZ1bmN0aW9uIHAoKXt2YXIgbj1vYS5tb3VzZSh0aGlzKSx0PU1hdGgubG9nKGsuaykvTWF0aC5MTjI7YSh0aGlzLG4sZShuKSxvYS5ldmVudC5zaGlmdEtleT9NYXRoLmNlaWwodCktMTpNYXRoLmZsb29yKHQpKzEpfXZhciB2LGQsbSx5LE0seCxiLF8sdyxrPXt4OjAseTowLGs6MX0sRT1bOTYwLDUwMF0sQT1XYSxDPTI1MCx6PTAsTD1cIm1vdXNlZG93bi56b29tXCIscT1cIm1vdXNlbW92ZS56b29tXCIsVD1cIm1vdXNldXAuem9vbVwiLFI9XCJ0b3VjaHN0YXJ0Lnpvb21cIixEPU4obixcInpvb21zdGFydFwiLFwiem9vbVwiLFwiem9vbWVuZFwiKTtyZXR1cm4gQmF8fChCYT1cIm9ud2hlZWxcImluIHNhPygkYT1mdW5jdGlvbigpe3JldHVybi1vYS5ldmVudC5kZWx0YVkqKG9hLmV2ZW50LmRlbHRhTW9kZT8xMjA6MSl9LFwid2hlZWxcIik6XCJvbm1vdXNld2hlZWxcImluIHNhPygkYT1mdW5jdGlvbigpe3JldHVybiBvYS5ldmVudC53aGVlbERlbHRhfSxcIm1vdXNld2hlZWxcIik6KCRhPWZ1bmN0aW9uKCl7cmV0dXJuLW9hLmV2ZW50LmRldGFpbH0sXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCIpKSxuLmV2ZW50PWZ1bmN0aW9uKG4pe24uZWFjaChmdW5jdGlvbigpe3ZhciBuPUQub2YodGhpcyxhcmd1bWVudHMpLHQ9aztIbD9vYS5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmVhY2goXCJzdGFydC56b29tXCIsZnVuY3Rpb24oKXtrPXRoaXMuX19jaGFydF9ffHx7eDowLHk6MCxrOjF9LGwobil9KS50d2VlbihcInpvb206em9vbVwiLGZ1bmN0aW9uKCl7dmFyIGU9RVswXSxyPUVbMV0sdT1kP2RbMF06ZS8yLGk9ZD9kWzFdOnIvMixhPW9hLmludGVycG9sYXRlWm9vbShbKHUtay54KS9rLmssKGktay55KS9rLmssZS9rLmtdLFsodS10LngpL3QuaywoaS10LnkpL3QuayxlL3Qua10pO3JldHVybiBmdW5jdGlvbih0KXt2YXIgcj1hKHQpLG89ZS9yWzJdO3RoaXMuX19jaGFydF9fPWs9e3g6dS1yWzBdKm8seTppLXJbMV0qbyxrOm99LGMobil9fSkuZWFjaChcImludGVycnVwdC56b29tXCIsZnVuY3Rpb24oKXtzKG4pfSkuZWFjaChcImVuZC56b29tXCIsZnVuY3Rpb24oKXtzKG4pfSk6KHRoaXMuX19jaGFydF9fPWssbChuKSxjKG4pLHMobikpfSl9LG4udHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrPXt4Oit0WzBdLHk6K3RbMV0sazprLmt9LG8oKSxuKTpbay54LGsueV19LG4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9e3g6ay54LHk6ay55LGs6bnVsbH0sdSgrdCksbygpLG4pOmsua30sbi5zY2FsZUV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oQT1udWxsPT10P1dhOlsrdFswXSwrdFsxXV0sbik6QX0sbi5jZW50ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG09dCYmWyt0WzBdLCt0WzFdXSxuKTptfSxuLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KEU9dCYmWyt0WzBdLCt0WzFdXSxuKTpFfSxuLmR1cmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhDPSt0LG4pOkN9LG4ueD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj10LHg9dC5jb3B5KCksaz17eDowLHk6MCxrOjF9LG4pOmJ9LG4ueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odz10LF89dC5jb3B5KCksaz17eDowLHk6MCxrOjF9LG4pOnd9LG9hLnJlYmluZChuLEQsXCJvblwiKX07dmFyICRhLEJhLFdhPVswLDEvMF07b2EuY29sb3I9b24sb24ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmdiKCkrXCJcIn0sb2EuaHNsPWxuO3ZhciBKYT1sbi5wcm90b3R5cGU9bmV3IG9uO0phLmJyaWdodGVyPWZ1bmN0aW9uKG4pe3JldHVybiBuPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/bjoxKSxuZXcgbG4odGhpcy5oLHRoaXMucyx0aGlzLmwvbil9LEphLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1cm4gbj1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP246MSksbmV3IGxuKHRoaXMuaCx0aGlzLnMsbip0aGlzLmwpfSxKYS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gY24odGhpcy5oLHRoaXMucyx0aGlzLmwpfSxvYS5oY2w9c247dmFyIEdhPXNuLnByb3RvdHlwZT1uZXcgb247R2EuYnJpZ2h0ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBzbih0aGlzLmgsdGhpcy5jLE1hdGgubWluKDEwMCx0aGlzLmwrS2EqKGFyZ3VtZW50cy5sZW5ndGg/bjoxKSkpfSxHYS5kYXJrZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBzbih0aGlzLmgsdGhpcy5jLE1hdGgubWF4KDAsdGhpcy5sLUthKihhcmd1bWVudHMubGVuZ3RoP246MSkpKX0sR2EucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGZuKHRoaXMuaCx0aGlzLmMsdGhpcy5sKS5yZ2IoKX0sb2EubGFiPWhuO3ZhciBLYT0xOCxRYT0uOTUwNDcsbm89MSx0bz0xLjA4ODgzLGVvPWhuLnByb3RvdHlwZT1uZXcgb247ZW8uYnJpZ2h0ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBobihNYXRoLm1pbigxMDAsdGhpcy5sK0thKihhcmd1bWVudHMubGVuZ3RoP246MSkpLHRoaXMuYSx0aGlzLmIpfSxlby5kYXJrZXI9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBobihNYXRoLm1heCgwLHRoaXMubC1LYSooYXJndW1lbnRzLmxlbmd0aD9uOjEpKSx0aGlzLmEsdGhpcy5iKX0sZW8ucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGduKHRoaXMubCx0aGlzLmEsdGhpcy5iKX0sb2EucmdiPXluO3ZhciBybz15bi5wcm90b3R5cGU9bmV3IG9uO3JvLmJyaWdodGVyPWZ1bmN0aW9uKG4pe249TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9uOjEpO3ZhciB0PXRoaXMucixlPXRoaXMuZyxyPXRoaXMuYix1PTMwO3JldHVybiB0fHxlfHxyPyh0JiZ1PnQmJih0PXUpLGUmJnU+ZSYmKGU9dSksciYmdT5yJiYocj11KSxuZXcgeW4oTWF0aC5taW4oMjU1LHQvbiksTWF0aC5taW4oMjU1LGUvbiksTWF0aC5taW4oMjU1LHIvbikpKTpuZXcgeW4odSx1LHUpfSxyby5kYXJrZXI9ZnVuY3Rpb24obil7cmV0dXJuIG49TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9uOjEpLG5ldyB5bihuKnRoaXMucixuKnRoaXMuZyxuKnRoaXMuYil9LHJvLmhzbD1mdW5jdGlvbigpe3JldHVybiB3bih0aGlzLnIsdGhpcy5nLHRoaXMuYil9LHJvLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIjXCIrYm4odGhpcy5yKStibih0aGlzLmcpK2JuKHRoaXMuYil9O3ZhciB1bz1vYS5tYXAoe2FsaWNlYmx1ZToxNTc5MjM4MyxhbnRpcXVld2hpdGU6MTY0NDQzNzUsYXF1YTo2NTUzNSxhcXVhbWFyaW5lOjgzODg1NjQsYXp1cmU6MTU3OTQxNzUsYmVpZ2U6MTYxMTkyNjAsYmlzcXVlOjE2NzcwMjQ0LGJsYWNrOjAsYmxhbmNoZWRhbG1vbmQ6MTY3NzIwNDUsYmx1ZToyNTUsYmx1ZXZpb2xldDo5MDU1MjAyLGJyb3duOjEwODI0MjM0LGJ1cmx5d29vZDoxNDU5NjIzMSxjYWRldGJsdWU6NjI2NjUyOCxjaGFydHJldXNlOjgzODgzNTIsY2hvY29sYXRlOjEzNzg5NDcwLGNvcmFsOjE2NzQ0MjcyLGNvcm5mbG93ZXJibHVlOjY1OTE5ODEsY29ybnNpbGs6MTY3NzUzODgsY3JpbXNvbjoxNDQyMzEwMCxjeWFuOjY1NTM1LGRhcmtibHVlOjEzOSxkYXJrY3lhbjozNTcyMyxkYXJrZ29sZGVucm9kOjEyMDkyOTM5LGRhcmtncmF5OjExMTE5MDE3LGRhcmtncmVlbjoyNTYwMCxkYXJrZ3JleToxMTExOTAxNyxkYXJra2hha2k6MTI0MzMyNTksZGFya21hZ2VudGE6OTEwOTY0MyxkYXJrb2xpdmVncmVlbjo1NTk3OTk5LGRhcmtvcmFuZ2U6MTY3NDc1MjAsZGFya29yY2hpZDoxMDA0MDAxMixkYXJrcmVkOjkxMDk1MDQsZGFya3NhbG1vbjoxNTMwODQxMCxkYXJrc2VhZ3JlZW46OTQxOTkxOSxkYXJrc2xhdGVibHVlOjQ3MzQzNDcsZGFya3NsYXRlZ3JheTozMTAwNDk1LGRhcmtzbGF0ZWdyZXk6MzEwMDQ5NSxkYXJrdHVycXVvaXNlOjUyOTQ1LGRhcmt2aW9sZXQ6OTY5OTUzOSxkZWVwcGluazoxNjcxNjk0NyxkZWVwc2t5Ymx1ZTo0OTE1MSxkaW1ncmF5OjY5MDgyNjUsZGltZ3JleTo2OTA4MjY1LGRvZGdlcmJsdWU6MjAwMzE5OSxmaXJlYnJpY2s6MTE2NzQxNDYsZmxvcmFsd2hpdGU6MTY3NzU5MjAsZm9yZXN0Z3JlZW46MjI2Mzg0MixmdWNoc2lhOjE2NzExOTM1LGdhaW5zYm9ybzoxNDQ3NDQ2MCxnaG9zdHdoaXRlOjE2MzE2NjcxLGdvbGQ6MTY3NjY3MjAsZ29sZGVucm9kOjE0MzI5MTIwLGdyYXk6ODQyMTUwNCxncmVlbjozMjc2OCxncmVlbnllbGxvdzoxMTQwMzA1NSxncmV5Ojg0MjE1MDQsaG9uZXlkZXc6MTU3OTQxNjAsaG90cGluazoxNjczODc0MCxpbmRpYW5yZWQ6MTM0NTg1MjQsaW5kaWdvOjQ5MTUzMzAsaXZvcnk6MTY3NzcyMDAsa2hha2k6MTU3ODc2NjAsbGF2ZW5kZXI6MTUxMzI0MTAsbGF2ZW5kZXJibHVzaDoxNjc3MzM2NSxsYXduZ3JlZW46ODE5MDk3NixsZW1vbmNoaWZmb246MTY3NzU4ODUsbGlnaHRibHVlOjExMzkzMjU0LGxpZ2h0Y29yYWw6MTU3NjE1MzYsbGlnaHRjeWFuOjE0NzQ1NTk5LGxpZ2h0Z29sZGVucm9keWVsbG93OjE2NDQ4MjEwLGxpZ2h0Z3JheToxMzg4MjMyMyxsaWdodGdyZWVuOjk0OTgyNTYsbGlnaHRncmV5OjEzODgyMzIzLGxpZ2h0cGluazoxNjc1ODQ2NSxsaWdodHNhbG1vbjoxNjc1Mjc2MixsaWdodHNlYWdyZWVuOjIxNDI4OTAsbGlnaHRza3libHVlOjg5MDAzNDYsbGlnaHRzbGF0ZWdyYXk6NzgzMzc1MyxsaWdodHNsYXRlZ3JleTo3ODMzNzUzLGxpZ2h0c3RlZWxibHVlOjExNTg0NzM0LGxpZ2h0eWVsbG93OjE2Nzc3MTg0LGxpbWU6NjUyODAsbGltZWdyZWVuOjMzMjkzMzAsbGluZW46MTY0NDU2NzAsbWFnZW50YToxNjcxMTkzNSxtYXJvb246ODM4ODYwOCxtZWRpdW1hcXVhbWFyaW5lOjY3MzczMjIsbWVkaXVtYmx1ZToyMDUsbWVkaXVtb3JjaGlkOjEyMjExNjY3LG1lZGl1bXB1cnBsZTo5NjYyNjgzLG1lZGl1bXNlYWdyZWVuOjM5NzgwOTcsbWVkaXVtc2xhdGVibHVlOjgwODc3OTAsbWVkaXVtc3ByaW5nZ3JlZW46NjQxNTQsbWVkaXVtdHVycXVvaXNlOjQ3NzIzMDAsbWVkaXVtdmlvbGV0cmVkOjEzMDQ3MTczLG1pZG5pZ2h0Ymx1ZToxNjQ0OTEyLG1pbnRjcmVhbToxNjEyMTg1MCxtaXN0eXJvc2U6MTY3NzAyNzMsbW9jY2FzaW46MTY3NzAyMjksbmF2YWpvd2hpdGU6MTY3Njg2ODUsbmF2eToxMjgsb2xkbGFjZToxNjY0MzU1OCxvbGl2ZTo4NDIxMzc2LG9saXZlZHJhYjo3MDQ4NzM5LG9yYW5nZToxNjc1MzkyMCxvcmFuZ2VyZWQ6MTY3MjkzNDQsb3JjaGlkOjE0MzE1NzM0LHBhbGVnb2xkZW5yb2Q6MTU2NTcxMzAscGFsZWdyZWVuOjEwMDI1ODgwLHBhbGV0dXJxdW9pc2U6MTE1Mjk5NjYscGFsZXZpb2xldHJlZDoxNDM4MTIwMyxwYXBheWF3aGlwOjE2NzczMDc3LHBlYWNocHVmZjoxNjc2NzY3MyxwZXJ1OjEzNDY4OTkxLHBpbms6MTY3NjEwMzUscGx1bToxNDUyNDYzNyxwb3dkZXJibHVlOjExNTkxOTEwLHB1cnBsZTo4Mzg4NzM2LHJlYmVjY2FwdXJwbGU6NjY5Nzg4MSxyZWQ6MTY3MTE2ODAscm9zeWJyb3duOjEyMzU3NTE5LHJveWFsYmx1ZTo0Mjg2OTQ1LHNhZGRsZWJyb3duOjkxMjcxODcsc2FsbW9uOjE2NDE2ODgyLHNhbmR5YnJvd246MTYwMzI4NjQsc2VhZ3JlZW46MzA1MDMyNyxzZWFzaGVsbDoxNjc3NDYzOCxzaWVubmE6MTA1MDY3OTcsc2lsdmVyOjEyNjMyMjU2LHNreWJsdWU6ODkwMDMzMSxzbGF0ZWJsdWU6Njk3MDA2MSxzbGF0ZWdyYXk6NzM3Mjk0NCxzbGF0ZWdyZXk6NzM3Mjk0NCxzbm93OjE2Nzc1OTMwLHNwcmluZ2dyZWVuOjY1NDA3LHN0ZWVsYmx1ZTo0NjIwOTgwLHRhbjoxMzgwODc4MCx0ZWFsOjMyODk2LHRoaXN0bGU6MTQyMDQ4ODgsdG9tYXRvOjE2NzM3MDk1LHR1cnF1b2lzZTo0MjUxODU2LHZpb2xldDoxNTYzMTA4Nix3aGVhdDoxNjExMzMzMSx3aGl0ZToxNjc3NzIxNSx3aGl0ZXNtb2tlOjE2MTE5Mjg1LHllbGxvdzoxNjc3Njk2MCx5ZWxsb3dncmVlbjoxMDE0NTA3NH0pO3VvLmZvckVhY2goZnVuY3Rpb24obix0KXt1by5zZXQobixNbih0KSl9KSxvYS5mdW5jdG9yPUVuLG9hLnhocj1Bbih5KSxvYS5kc3Y9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKG4sZSxpKXthcmd1bWVudHMubGVuZ3RoPDMmJihpPWUsZT1udWxsKTt2YXIgYT1DbihuLHQsbnVsbD09ZT9yOnUoZSksaSk7cmV0dXJuIGEucm93PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2EucmVzcG9uc2UobnVsbD09KGU9bik/cjp1KG4pKTplfSxhfWZ1bmN0aW9uIHIobil7cmV0dXJuIGUucGFyc2Uobi5yZXNwb25zZVRleHQpfWZ1bmN0aW9uIHUobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLnBhcnNlKHQucmVzcG9uc2VUZXh0LG4pfX1mdW5jdGlvbiBpKHQpe3JldHVybiB0Lm1hcChhKS5qb2luKG4pfWZ1bmN0aW9uIGEobil7cmV0dXJuIG8udGVzdChuKT8nXCInK24ucmVwbGFjZSgvXFxcIi9nLCdcIlwiJykrJ1wiJzpufXZhciBvPW5ldyBSZWdFeHAoJ1tcIicrbitcIlxcbl1cIiksbD1uLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGUucGFyc2U9ZnVuY3Rpb24obix0KXt2YXIgcjtyZXR1cm4gZS5wYXJzZVJvd3MobixmdW5jdGlvbihuLGUpe2lmKHIpcmV0dXJuIHIobixlLTEpO3ZhciB1PW5ldyBGdW5jdGlvbihcImRcIixcInJldHVybiB7XCIrbi5tYXAoZnVuY3Rpb24obix0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkobikrXCI6IGRbXCIrdCtcIl1cIn0pLmpvaW4oXCIsXCIpK1wifVwiKTtyPXQ/ZnVuY3Rpb24obixlKXtyZXR1cm4gdCh1KG4pLGUpfTp1fSl9LGUucGFyc2VSb3dzPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gZSgpe2lmKHM+PWMpcmV0dXJuIGE7aWYodSlyZXR1cm4gdT0hMSxpO3ZhciB0PXM7aWYoMzQ9PT1uLmNoYXJDb2RlQXQodCkpe2Zvcih2YXIgZT10O2UrKzxjOylpZigzND09PW4uY2hhckNvZGVBdChlKSl7aWYoMzQhPT1uLmNoYXJDb2RlQXQoZSsxKSlicmVhazsrK2V9cz1lKzI7dmFyIHI9bi5jaGFyQ29kZUF0KGUrMSk7cmV0dXJuIDEzPT09cj8odT0hMCwxMD09PW4uY2hhckNvZGVBdChlKzIpJiYrK3MpOjEwPT09ciYmKHU9ITApLG4uc2xpY2UodCsxLGUpLnJlcGxhY2UoL1wiXCIvZywnXCInKX1mb3IoO2M+czspe3ZhciByPW4uY2hhckNvZGVBdChzKyspLG89MTtpZigxMD09PXIpdT0hMDtlbHNlIGlmKDEzPT09cil1PSEwLDEwPT09bi5jaGFyQ29kZUF0KHMpJiYoKytzLCsrbyk7ZWxzZSBpZihyIT09bCljb250aW51ZTtyZXR1cm4gbi5zbGljZSh0LHMtbyl9cmV0dXJuIG4uc2xpY2UodCl9Zm9yKHZhciByLHUsaT17fSxhPXt9LG89W10sYz1uLmxlbmd0aCxzPTAsZj0wOyhyPWUoKSkhPT1hOyl7Zm9yKHZhciBoPVtdO3IhPT1pJiZyIT09YTspaC5wdXNoKHIpLHI9ZSgpO3QmJm51bGw9PShoPXQoaCxmKyspKXx8by5wdXNoKGgpfXJldHVybiBvfSxlLmZvcm1hdD1mdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHRbMF0pKXJldHVybiBlLmZvcm1hdFJvd3ModCk7dmFyIHI9bmV3IG0sdT1bXTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXIuaGFzKHQpfHx1LnB1c2goci5hZGQodCkpfSksW3UubWFwKGEpLmpvaW4obildLmNvbmNhdCh0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGEodFtuXSl9KS5qb2luKG4pfSkpLmpvaW4oXCJcXG5cIil9LGUuZm9ybWF0Um93cz1mdW5jdGlvbihuKXtyZXR1cm4gbi5tYXAoaSkuam9pbihcIlxcblwiKX0sZX0sb2EuY3N2PW9hLmRzdihcIixcIixcInRleHQvY3N2XCIpLG9hLnRzdj1vYS5kc3YoXCIgICAgXCIsXCJ0ZXh0L3RhYi1zZXBhcmF0ZWQtdmFsdWVzXCIpO3ZhciBpbyxhbyxvbyxsbyxjbz10aGlzW3godGhpcyxcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiKV18fGZ1bmN0aW9uKG4pe3NldFRpbWVvdXQobiwxNyl9O29hLnRpbWVyPWZ1bmN0aW9uKCl7cW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvYS50aW1lci5mbHVzaD1mdW5jdGlvbigpe1JuKCksRG4oKX0sb2Eucm91bmQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD9NYXRoLnJvdW5kKG4qKHQ9TWF0aC5wb3coMTAsdCkpKS90Ok1hdGgucm91bmQobil9O3ZhciBzbz1bXCJ5XCIsXCJ6XCIsXCJhXCIsXCJmXCIsXCJwXCIsXCJuXCIsXCJcXHhiNVwiLFwibVwiLFwiXCIsXCJrXCIsXCJNXCIsXCJHXCIsXCJUXCIsXCJQXCIsXCJFXCIsXCJaXCIsXCJZXCJdLm1hcChVbik7b2EuZm9ybWF0UHJlZml4PWZ1bmN0aW9uKG4sdCl7dmFyIGU9MDtyZXR1cm4obj0rbikmJigwPm4mJihuKj0tMSksdCYmKG49b2Eucm91bmQobixQbihuLHQpKSksZT0xK01hdGguZmxvb3IoMWUtMTIrTWF0aC5sb2cobikvTWF0aC5MTjEwKSxlPU1hdGgubWF4KC0yNCxNYXRoLm1pbigyNCwzKk1hdGguZmxvb3IoKGUtMSkvMykpKSksc29bOCtlLzNdfTt2YXIgZm89Lyg/OihbXntdKT8oWzw+PV5dKSk/KFsrXFwtIF0pPyhbJCNdKT8oMCk/KFxcZCspPygsKT8oXFwuLT9cXGQrKT8oW2EteiVdKT8vaSxobz1vYS5tYXAoe2I6ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoMil9LGM6ZnVuY3Rpb24obil7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobil9LG86ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoOCl9LHg6ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoMTYpfSxYOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSxnOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4udG9QcmVjaXNpb24odCl9LGU6ZnVuY3Rpb24obix0KXtyZXR1cm4gbi50b0V4cG9uZW50aWFsKHQpfSxmOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4udG9GaXhlZCh0KX0scjpmdW5jdGlvbihuLHQpe3JldHVybihuPW9hLnJvdW5kKG4sUG4obix0KSkpLnRvRml4ZWQoTWF0aC5tYXgoMCxNYXRoLm1pbigyMCxQbihuKigxKzFlLTE1KSx0KSkpKX19KSxnbz1vYS50aW1lPXt9LHBvPURhdGU7SG4ucHJvdG90eXBlPXtnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENEYXRlKCl9LGdldERheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDRGF5KCl9LGdldEZ1bGxZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENGdWxsWWVhcigpfSxnZXRIb3VyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDSG91cnMoKX0sZ2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaWxsaXNlY29uZHMoKX0sZ2V0TWludXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTWludXRlcygpfSxnZXRNb250aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTW9udGgoKX0sZ2V0U2Vjb25kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDU2Vjb25kcygpfSxnZXRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRUaW1lKCl9LGdldFRpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlT2YoKX0sc2V0RGF0ZTpmdW5jdGlvbigpe3ZvLnNldFVUQ0RhdGUuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldERheTpmdW5jdGlvbigpe3ZvLnNldFVUQ0RheS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RnVsbFllYXI6ZnVuY3Rpb24oKXt2by5zZXRVVENGdWxsWWVhci5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0SG91cnM6ZnVuY3Rpb24oKXt2by5zZXRVVENIb3Vycy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7dm8uc2V0VVRDTWlsbGlzZWNvbmRzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaW51dGVzOmZ1bmN0aW9uKCl7dm8uc2V0VVRDTWludXRlcy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TW9udGg6ZnVuY3Rpb24oKXt2by5zZXRVVENNb250aC5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0U2Vjb25kczpmdW5jdGlvbigpe3ZvLnNldFVUQ1NlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldFRpbWU6ZnVuY3Rpb24oKXt2by5zZXRUaW1lLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfX07dmFyIHZvPURhdGUucHJvdG90eXBlO2dvLnllYXI9T24oZnVuY3Rpb24obil7cmV0dXJuIG49Z28uZGF5KG4pLG4uc2V0TW9udGgoMCwxKSxufSxmdW5jdGlvbihuLHQpe24uc2V0RnVsbFllYXIobi5nZXRGdWxsWWVhcigpK3QpfSxmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRGdWxsWWVhcigpfSksZ28ueWVhcnM9Z28ueWVhci5yYW5nZSxnby55ZWFycy51dGM9Z28ueWVhci51dGMucmFuZ2UsZ28uZGF5PU9uKGZ1bmN0aW9uKG4pe3ZhciB0PW5ldyBwbygyZTMsMCk7cmV0dXJuIHQuc2V0RnVsbFllYXIobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSksdH0sZnVuY3Rpb24obix0KXtuLnNldERhdGUobi5nZXREYXRlKCkrdCl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldERhdGUoKS0xfSksZ28uZGF5cz1nby5kYXkucmFuZ2UsZ28uZGF5cy51dGM9Z28uZGF5LnV0Yy5yYW5nZSxnby5kYXlPZlllYXI9ZnVuY3Rpb24obil7dmFyIHQ9Z28ueWVhcihuKTtyZXR1cm4gTWF0aC5mbG9vcigobi10LTZlNCoobi5nZXRUaW1lem9uZU9mZnNldCgpLXQuZ2V0VGltZXpvbmVPZmZzZXQoKSkpLzg2NGU1KX0sW1wic3VuZGF5XCIsXCJtb25kYXlcIixcInR1ZXNkYXlcIixcIndlZG5lc2RheVwiLFwidGh1cnNkYXlcIixcImZyaWRheVwiLFwic2F0dXJkYXlcIl0uZm9yRWFjaChmdW5jdGlvbihuLHQpe3Q9Ny10O3ZhciBlPWdvW25dPU9uKGZ1bmN0aW9uKG4pe3JldHVybihuPWdvLmRheShuKSkuc2V0RGF0ZShuLmdldERhdGUoKS0obi5nZXREYXkoKSt0KSU3KSxufSxmdW5jdGlvbihuLHQpe24uc2V0RGF0ZShuLmdldERhdGUoKSs3Kk1hdGguZmxvb3IodCkpfSxmdW5jdGlvbihuKXt2YXIgZT1nby55ZWFyKG4pLmdldERheSgpO3JldHVybiBNYXRoLmZsb29yKChnby5kYXlPZlllYXIobikrKGUrdCklNykvNyktKGUhPT10KX0pO2dvW24rXCJzXCJdPWUucmFuZ2UsZ29bbitcInNcIl0udXRjPWUudXRjLnJhbmdlLGdvW24rXCJPZlllYXJcIl09ZnVuY3Rpb24obil7dmFyIGU9Z28ueWVhcihuKS5nZXREYXkoKTtyZXR1cm4gTWF0aC5mbG9vcigoZ28uZGF5T2ZZZWFyKG4pKyhlK3QpJTcpLzcpfX0pLGdvLndlZWs9Z28uc3VuZGF5LGdvLndlZWtzPWdvLnN1bmRheS5yYW5nZSxnby53ZWVrcy51dGM9Z28uc3VuZGF5LnV0Yy5yYW5nZSxnby53ZWVrT2ZZZWFyPWdvLnN1bmRheU9mWWVhcjt2YXIgbW89e1wiLVwiOlwiXCIsXzpcIiBcIiwwOlwiMFwifSx5bz0vXlxccypcXGQrLyxNbz0vXiUvO29hLmxvY2FsZT1mdW5jdGlvbihuKXtyZXR1cm57bnVtYmVyRm9ybWF0OmpuKG4pLHRpbWVGb3JtYXQ6WW4obil9fTt2YXIgeG89b2EubG9jYWxlKHtkZWNpbWFsOlwiLlwiLHRob3VzYW5kczpcIixcIixncm91cGluZzpbM10sY3VycmVuY3k6W1wiJFwiLFwiXCJdLGRhdGVUaW1lOlwiJWEgJWIgJWUgJVggJVlcIixkYXRlOlwiJW0vJWQvJVlcIix0aW1lOlwiJUg6JU06JVNcIixwZXJpb2RzOltcIkFNXCIsXCJQTVwiXSxkYXlzOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLFxuc2hvcnREYXlzOltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxtb250aHM6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdLHNob3J0TW9udGhzOltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl19KTtvYS5mb3JtYXQ9eG8ubnVtYmVyRm9ybWF0LG9hLmdlbz17fSxzdC5wcm90b3R5cGU9e3M6MCx0OjAsYWRkOmZ1bmN0aW9uKG4pe2Z0KG4sdGhpcy50LGJvKSxmdChiby5zLHRoaXMucyx0aGlzKSx0aGlzLnM/dGhpcy50Kz1iby50OnRoaXMucz1iby50fSxyZXNldDpmdW5jdGlvbigpe3RoaXMucz10aGlzLnQ9MH0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN9fTt2YXIgYm89bmV3IHN0O29hLmdlby5zdHJlYW09ZnVuY3Rpb24obix0KXtuJiZfby5oYXNPd25Qcm9wZXJ0eShuLnR5cGUpP19vW24udHlwZV0obix0KTpodChuLHQpfTt2YXIgX289e0ZlYXR1cmU6ZnVuY3Rpb24obix0KXtodChuLmdlb21ldHJ5LHQpfSxGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmZlYXR1cmVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspaHQoZVtyXS5nZW9tZXRyeSx0KX19LHdvPXtTcGhlcmU6ZnVuY3Rpb24obix0KXt0LnNwaGVyZSgpfSxQb2ludDpmdW5jdGlvbihuLHQpe249bi5jb29yZGluYXRlcyx0LnBvaW50KG5bMF0sblsxXSxuWzJdKX0sTXVsdGlQb2ludDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmNvb3JkaW5hdGVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspbj1lW3JdLHQucG9pbnQoblswXSxuWzFdLG5bMl0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKG4sdCl7Z3Qobi5jb29yZGluYXRlcyx0LDApfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24obix0KXtmb3IodmFyIGU9bi5jb29yZGluYXRlcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KWd0KGVbcl0sdCwwKX0sUG9seWdvbjpmdW5jdGlvbihuLHQpe3B0KG4uY29vcmRpbmF0ZXMsdCl9LE11bHRpUG9seWdvbjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmNvb3JkaW5hdGVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspcHQoZVtyXSx0KX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4uZ2VvbWV0cmllcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KWh0KGVbcl0sdCl9fTtvYS5nZW8uYXJlYT1mdW5jdGlvbihuKXtyZXR1cm4gU289MCxvYS5nZW8uc3RyZWFtKG4sTm8pLFNvfTt2YXIgU28sa289bmV3IHN0LE5vPXtzcGhlcmU6ZnVuY3Rpb24oKXtTbys9NCpqYX0scG9pbnQ6YixsaW5lU3RhcnQ6YixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7a28ucmVzZXQoKSxOby5saW5lU3RhcnQ9dnR9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt2YXIgbj0yKmtvO1NvKz0wPm4/NCpqYStuOm4sTm8ubGluZVN0YXJ0PU5vLmxpbmVFbmQ9Tm8ucG9pbnQ9Yn19O29hLmdlby5ib3VuZHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7TS5wdXNoKHg9W3M9bixoPW5dKSxmPnQmJihmPXQpLHQ+ZyYmKGc9dCl9ZnVuY3Rpb24gdCh0LGUpe3ZhciByPWR0KFt0KklhLGUqSWFdKTtpZihtKXt2YXIgdT15dChtLHIpLGk9W3VbMV0sLXVbMF0sMF0sYT15dChpLHUpO2J0KGEpLGE9X3QoYSk7dmFyIGw9dC1wLGM9bD4wPzE6LTEsdj1hWzBdKllhKmMsZD1NYShsKT4xODA7aWYoZF4odj5jKnAmJmMqdD52KSl7dmFyIHk9YVsxXSpZYTt5PmcmJihnPXkpfWVsc2UgaWYodj0odiszNjApJTM2MC0xODAsZF4odj5jKnAmJmMqdD52KSl7dmFyIHk9LWFbMV0qWWE7Zj55JiYoZj15KX1lbHNlIGY+ZSYmKGY9ZSksZT5nJiYoZz1lKTtkP3A+dD9vKHMsdCk+byhzLGgpJiYoaD10KTpvKHQsaCk+byhzLGgpJiYocz10KTpoPj1zPyhzPnQmJihzPXQpLHQ+aCYmKGg9dCkpOnQ+cD9vKHMsdCk+byhzLGgpJiYoaD10KTpvKHQsaCk+byhzLGgpJiYocz10KX1lbHNlIG4odCxlKTttPXIscD10fWZ1bmN0aW9uIGUoKXtiLnBvaW50PXR9ZnVuY3Rpb24gcigpe3hbMF09cyx4WzFdPWgsYi5wb2ludD1uLG09bnVsbH1mdW5jdGlvbiB1KG4sZSl7aWYobSl7dmFyIHI9bi1wO3krPU1hKHIpPjE4MD9yKyhyPjA/MzYwOi0zNjApOnJ9ZWxzZSB2PW4sZD1lO05vLnBvaW50KG4sZSksdChuLGUpfWZ1bmN0aW9uIGkoKXtOby5saW5lU3RhcnQoKX1mdW5jdGlvbiBhKCl7dSh2LGQpLE5vLmxpbmVFbmQoKSxNYSh5KT5QYSYmKHM9LShoPTE4MCkpLHhbMF09cyx4WzFdPWgsbT1udWxsfWZ1bmN0aW9uIG8obix0KXtyZXR1cm4odC09bik8MD90KzM2MDp0fWZ1bmN0aW9uIGwobix0KXtyZXR1cm4gblswXS10WzBdfWZ1bmN0aW9uIGMobix0KXtyZXR1cm4gdFswXTw9dFsxXT90WzBdPD1uJiZuPD10WzFdOm48dFswXXx8dFsxXTxufXZhciBzLGYsaCxnLHAsdixkLG0seSxNLHgsYj17cG9pbnQ6bixsaW5lU3RhcnQ6ZSxsaW5lRW5kOnIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7Yi5wb2ludD11LGIubGluZVN0YXJ0PWksYi5saW5lRW5kPWEseT0wLE5vLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7Tm8ucG9seWdvbkVuZCgpLGIucG9pbnQ9bixiLmxpbmVTdGFydD1lLGIubGluZUVuZD1yLDA+a28/KHM9LShoPTE4MCksZj0tKGc9OTApKTp5PlBhP2c9OTA6LVBhPnkmJihmPS05MCkseFswXT1zLHhbMV09aH19O3JldHVybiBmdW5jdGlvbihuKXtnPWg9LShzPWY9MS8wKSxNPVtdLG9hLmdlby5zdHJlYW0obixiKTt2YXIgdD1NLmxlbmd0aDtpZih0KXtNLnNvcnQobCk7Zm9yKHZhciBlLHI9MSx1PU1bMF0saT1bdV07dD5yOysrcillPU1bcl0sYyhlWzBdLHUpfHxjKGVbMV0sdSk/KG8odVswXSxlWzFdKT5vKHVbMF0sdVsxXSkmJih1WzFdPWVbMV0pLG8oZVswXSx1WzFdKT5vKHVbMF0sdVsxXSkmJih1WzBdPWVbMF0pKTppLnB1c2godT1lKTtmb3IodmFyIGEsZSxwPS0oMS8wKSx0PWkubGVuZ3RoLTEscj0wLHU9aVt0XTt0Pj1yO3U9ZSwrK3IpZT1pW3JdLChhPW8odVsxXSxlWzBdKSk+cCYmKHA9YSxzPWVbMF0saD11WzFdKX1yZXR1cm4gTT14PW51bGwscz09PTEvMHx8Zj09PTEvMD9bW05hTixOYU5dLFtOYU4sTmFOXV06W1tzLGZdLFtoLGddXX19KCksb2EuZ2VvLmNlbnRyb2lkPWZ1bmN0aW9uKG4pe0VvPUFvPUNvPXpvPUxvPXFvPVRvPVJvPURvPVBvPVVvPTAsb2EuZ2VvLnN0cmVhbShuLGpvKTt2YXIgdD1EbyxlPVBvLHI9VW8sdT10KnQrZSplK3IqcjtyZXR1cm4gVWE+dSYmKHQ9cW8sZT1UbyxyPVJvLFBhPkFvJiYodD1DbyxlPXpvLHI9TG8pLHU9dCp0K2UqZStyKnIsVWE+dSk/W05hTixOYU5dOltNYXRoLmF0YW4yKGUsdCkqWWEsdG4oci9NYXRoLnNxcnQodSkpKllhXX07dmFyIEVvLEFvLENvLHpvLExvLHFvLFRvLFJvLERvLFBvLFVvLGpvPXtzcGhlcmU6Yixwb2ludDpTdCxsaW5lU3RhcnQ6TnQsbGluZUVuZDpFdCxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtqby5saW5lU3RhcnQ9QXR9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtqby5saW5lU3RhcnQ9TnR9fSxGbz1SdCh6dCxqdCxIdCxbLWphLC1qYS8yXSksSG89MWU5O29hLmdlby5jbGlwRXh0ZW50PWZ1bmN0aW9uKCl7dmFyIG4sdCxlLHIsdSxpLGE9e3N0cmVhbTpmdW5jdGlvbihuKXtyZXR1cm4gdSYmKHUudmFsaWQ9ITEpLHU9aShuKSx1LnZhbGlkPSEwLHV9LGV4dGVudDpmdW5jdGlvbihvKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1adChuPStvWzBdWzBdLHQ9K29bMF1bMV0sZT0rb1sxXVswXSxyPStvWzFdWzFdKSx1JiYodS52YWxpZD0hMSx1PW51bGwpLGEpOltbbix0XSxbZSxyXV19fTtyZXR1cm4gYS5leHRlbnQoW1swLDBdLFs5NjAsNTAwXV0pfSwob2EuZ2VvLmNvbmljRXF1YWxBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIFZ0KFh0KX0pLnJhdz1YdCxvYS5nZW8uYWxiZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIG9hLmdlby5jb25pY0VxdWFsQXJlYSgpLnJvdGF0ZShbOTYsMF0pLmNlbnRlcihbLS42LDM4LjddKS5wYXJhbGxlbHMoWzI5LjUsNDUuNV0pLnNjYWxlKDEwNzApfSxvYS5nZW8uYWxiZXJzVXNhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXt2YXIgaT1uWzBdLGE9blsxXTtyZXR1cm4gdD1udWxsLGUoaSxhKSx0fHwocihpLGEpLHQpfHx1KGksYSksdH12YXIgdCxlLHIsdSxpPW9hLmdlby5hbGJlcnMoKSxhPW9hLmdlby5jb25pY0VxdWFsQXJlYSgpLnJvdGF0ZShbMTU0LDBdKS5jZW50ZXIoWy0yLDU4LjVdKS5wYXJhbGxlbHMoWzU1LDY1XSksbz1vYS5nZW8uY29uaWNFcXVhbEFyZWEoKS5yb3RhdGUoWzE1NywwXSkuY2VudGVyKFstMywxOS45XSkucGFyYWxsZWxzKFs4LDE4XSksbD17cG9pbnQ6ZnVuY3Rpb24obixlKXt0PVtuLGVdfX07cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKG4pe3ZhciB0PWkuc2NhbGUoKSxlPWkudHJhbnNsYXRlKCkscj0oblswXS1lWzBdKS90LHU9KG5bMV0tZVsxXSkvdDtyZXR1cm4odT49LjEyJiYuMjM0PnUmJnI+PS0uNDI1JiYtLjIxND5yP2E6dT49LjE2NiYmLjIzND51JiZyPj0tLjIxNCYmLS4xMTU+cj9vOmkpLmludmVydChuKX0sbi5zdHJlYW09ZnVuY3Rpb24obil7dmFyIHQ9aS5zdHJlYW0obiksZT1hLnN0cmVhbShuKSxyPW8uc3RyZWFtKG4pO3JldHVybntwb2ludDpmdW5jdGlvbihuLHUpe3QucG9pbnQobix1KSxlLnBvaW50KG4sdSksci5wb2ludChuLHUpfSxzcGhlcmU6ZnVuY3Rpb24oKXt0LnNwaGVyZSgpLGUuc3BoZXJlKCksci5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dC5saW5lU3RhcnQoKSxlLmxpbmVTdGFydCgpLHIubGluZVN0YXJ0KCl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt0LmxpbmVFbmQoKSxlLmxpbmVFbmQoKSxyLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dC5wb2x5Z29uU3RhcnQoKSxlLnBvbHlnb25TdGFydCgpLHIucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0LnBvbHlnb25FbmQoKSxlLnBvbHlnb25FbmQoKSxyLnBvbHlnb25FbmQoKX19fSxuLnByZWNpc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaS5wcmVjaXNpb24odCksYS5wcmVjaXNpb24odCksby5wcmVjaXNpb24odCksbik6aS5wcmVjaXNpb24oKX0sbi5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaS5zY2FsZSh0KSxhLnNjYWxlKC4zNSp0KSxvLnNjYWxlKHQpLG4udHJhbnNsYXRlKGkudHJhbnNsYXRlKCkpKTppLnNjYWxlKCl9LG4udHJhbnNsYXRlPWZ1bmN0aW9uKHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBpLnRyYW5zbGF0ZSgpO3ZhciBjPWkuc2NhbGUoKSxzPSt0WzBdLGY9K3RbMV07cmV0dXJuIGU9aS50cmFuc2xhdGUodCkuY2xpcEV4dGVudChbW3MtLjQ1NSpjLGYtLjIzOCpjXSxbcysuNDU1KmMsZisuMjM4KmNdXSkuc3RyZWFtKGwpLnBvaW50LHI9YS50cmFuc2xhdGUoW3MtLjMwNypjLGYrLjIwMSpjXSkuY2xpcEV4dGVudChbW3MtLjQyNSpjK1BhLGYrLjEyKmMrUGFdLFtzLS4yMTQqYy1QYSxmKy4yMzQqYy1QYV1dKS5zdHJlYW0obCkucG9pbnQsdT1vLnRyYW5zbGF0ZShbcy0uMjA1KmMsZisuMjEyKmNdKS5jbGlwRXh0ZW50KFtbcy0uMjE0KmMrUGEsZisuMTY2KmMrUGFdLFtzLS4xMTUqYy1QYSxmKy4yMzQqYy1QYV1dKS5zdHJlYW0obCkucG9pbnQsbn0sbi5zY2FsZSgxMDcwKX07dmFyIE9vLElvLFlvLFpvLFZvLFhvLCRvPXtwb2ludDpiLGxpbmVTdGFydDpiLGxpbmVFbmQ6Yixwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtJbz0wLCRvLmxpbmVTdGFydD0kdH0scG9seWdvbkVuZDpmdW5jdGlvbigpeyRvLmxpbmVTdGFydD0kby5saW5lRW5kPSRvLnBvaW50PWIsT28rPU1hKElvLzIpfX0sQm89e3BvaW50OkJ0LGxpbmVTdGFydDpiLGxpbmVFbmQ6Yixwb2x5Z29uU3RhcnQ6Yixwb2x5Z29uRW5kOmJ9LFdvPXtwb2ludDpHdCxsaW5lU3RhcnQ6S3QsbGluZUVuZDpRdCxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtXby5saW5lU3RhcnQ9bmV9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtXby5wb2ludD1HdCxXby5saW5lU3RhcnQ9S3QsV28ubGluZUVuZD1RdH19O29hLmdlby5wYXRoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbiYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8mJmkucG9pbnRSYWRpdXMoK28uYXBwbHkodGhpcyxhcmd1bWVudHMpKSxhJiZhLnZhbGlkfHwoYT11KGkpKSxvYS5nZW8uc3RyZWFtKG4sYSkpLGkucmVzdWx0KCl9ZnVuY3Rpb24gdCgpe3JldHVybiBhPW51bGwsbn12YXIgZSxyLHUsaSxhLG89NC41O3JldHVybiBuLmFyZWE9ZnVuY3Rpb24obil7cmV0dXJuIE9vPTAsb2EuZ2VvLnN0cmVhbShuLHUoJG8pKSxPb30sbi5jZW50cm9pZD1mdW5jdGlvbihuKXtyZXR1cm4gQ289em89TG89cW89VG89Um89RG89UG89VW89MCxvYS5nZW8uc3RyZWFtKG4sdShXbykpLFVvP1tEby9VbyxQby9Vb106Um8/W3FvL1JvLFRvL1JvXTpMbz9bQ28vTG8sem8vTG9dOltOYU4sTmFOXX0sbi5ib3VuZHM9ZnVuY3Rpb24obil7cmV0dXJuIFZvPVhvPS0oWW89Wm89MS8wKSxvYS5nZW8uc3RyZWFtKG4sdShCbykpLFtbWW8sWm9dLFtWbyxYb11dfSxuLnByb2plY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9KGU9bik/bi5zdHJlYW18fHJlKG4pOnksdCgpKTplfSxuLmNvbnRleHQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9bnVsbD09KHI9bik/bmV3IFd0Om5ldyB0ZShuKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBvJiZpLnBvaW50UmFkaXVzKG8pLHQoKSk6cn0sbi5wb2ludFJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6KGkucG9pbnRSYWRpdXMoK3QpLCt0KSxuKTpvfSxuLnByb2plY3Rpb24ob2EuZ2VvLmFsYmVyc1VzYSgpKS5jb250ZXh0KG51bGwpfSxvYS5nZW8udHJhbnNmb3JtPWZ1bmN0aW9uKG4pe3JldHVybntzdHJlYW06ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHVlKHQpO2Zvcih2YXIgciBpbiBuKWVbcl09bltyXTtyZXR1cm4gZX19fSx1ZS5wcm90b3R5cGU9e3BvaW50OmZ1bmN0aW9uKG4sdCl7dGhpcy5zdHJlYW0ucG9pbnQobix0KX0sc3BoZXJlOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0uc3BoZXJlKCl9LGxpbmVTdGFydDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ubGluZUVuZCgpfSxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5wb2x5Z29uU3RhcnQoKX0scG9seWdvbkVuZDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnBvbHlnb25FbmQoKX19LG9hLmdlby5wcm9qZWN0aW9uPWFlLG9hLmdlby5wcm9qZWN0aW9uTXV0YXRvcj1vZSwob2EuZ2VvLmVxdWlyZWN0YW5ndWxhcj1mdW5jdGlvbigpe3JldHVybiBhZShjZSl9KS5yYXc9Y2UuaW52ZXJ0PWNlLG9hLmdlby5yb3RhdGlvbj1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0PW4odFswXSpJYSx0WzFdKklhKSx0WzBdKj1ZYSx0WzFdKj1ZYSx0fXJldHVybiBuPWZlKG5bMF0lMzYwKklhLG5bMV0qSWEsbi5sZW5ndGg+Mj9uWzJdKklhOjApLHQuaW52ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0PW4uaW52ZXJ0KHRbMF0qSWEsdFsxXSpJYSksdFswXSo9WWEsdFsxXSo9WWEsdH0sdH0sc2UuaW52ZXJ0PWNlLG9hLmdlby5jaXJjbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpyLHQ9ZmUoLW5bMF0qSWEsLW5bMV0qSWEsMCkuaW52ZXJ0LHU9W107cmV0dXJuIGUobnVsbCxudWxsLDEse3BvaW50OmZ1bmN0aW9uKG4sZSl7dS5wdXNoKG49dChuLGUpKSxuWzBdKj1ZYSxuWzFdKj1ZYX19KSx7dHlwZTpcIlBvbHlnb25cIixjb29yZGluYXRlczpbdV19fXZhciB0LGUscj1bMCwwXSx1PTY7cmV0dXJuIG4ub3JpZ2luPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6cn0sbi5hbmdsZT1mdW5jdGlvbihyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT12ZSgodD0rcikqSWEsdSpJYSksbik6dH0sbi5wcmVjaXNpb249ZnVuY3Rpb24ocil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dmUodCpJYSwodT0rcikqSWEpLG4pOnV9LG4uYW5nbGUoOTApfSxvYS5nZW8uZGlzdGFuY2U9ZnVuY3Rpb24obix0KXt2YXIgZSxyPSh0WzBdLW5bMF0pKklhLHU9blsxXSpJYSxpPXRbMV0qSWEsYT1NYXRoLnNpbihyKSxvPU1hdGguY29zKHIpLGw9TWF0aC5zaW4odSksYz1NYXRoLmNvcyh1KSxzPU1hdGguc2luKGkpLGY9TWF0aC5jb3MoaSk7cmV0dXJuIE1hdGguYXRhbjIoTWF0aC5zcXJ0KChlPWYqYSkqZSsoZT1jKnMtbCpmKm8pKmUpLGwqcytjKmYqbyl9LG9hLmdlby5ncmF0aWN1bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7cmV0dXJue3R5cGU6XCJNdWx0aUxpbmVTdHJpbmdcIixjb29yZGluYXRlczp0KCl9fWZ1bmN0aW9uIHQoKXtyZXR1cm4gb2EucmFuZ2UoTWF0aC5jZWlsKGkvZCkqZCx1LGQpLm1hcChoKS5jb25jYXQob2EucmFuZ2UoTWF0aC5jZWlsKGMvbSkqbSxsLG0pLm1hcChnKSkuY29uY2F0KG9hLnJhbmdlKE1hdGguY2VpbChyL3ApKnAsZSxwKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIE1hKG4lZCk+UGF9KS5tYXAocykpLmNvbmNhdChvYS5yYW5nZShNYXRoLmNlaWwoby92KSp2LGEsdikuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBNYShuJW0pPlBhfSkubWFwKGYpKX12YXIgZSxyLHUsaSxhLG8sbCxjLHMsZixoLGcscD0xMCx2PXAsZD05MCxtPTM2MCx5PTIuNTtyZXR1cm4gbi5saW5lcz1mdW5jdGlvbigpe3JldHVybiB0KCkubWFwKGZ1bmN0aW9uKG4pe3JldHVybnt0eXBlOlwiTGluZVN0cmluZ1wiLGNvb3JkaW5hdGVzOm59fSl9LG4ub3V0bGluZT1mdW5jdGlvbigpe3JldHVybnt0eXBlOlwiUG9seWdvblwiLGNvb3JkaW5hdGVzOltoKGkpLmNvbmNhdChnKGwpLnNsaWNlKDEpLGgodSkucmV2ZXJzZSgpLnNsaWNlKDEpLGcoYykucmV2ZXJzZSgpLnNsaWNlKDEpKV19fSxuLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uLm1ham9yRXh0ZW50KHQpLm1pbm9yRXh0ZW50KHQpOm4ubWlub3JFeHRlbnQoKX0sbi5tYWpvckV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0rdFswXVswXSx1PSt0WzFdWzBdLGM9K3RbMF1bMV0sbD0rdFsxXVsxXSxpPnUmJih0PWksaT11LHU9dCksYz5sJiYodD1jLGM9bCxsPXQpLG4ucHJlY2lzaW9uKHkpKTpbW2ksY10sW3UsbF1dfSxuLm1pbm9yRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSt0WzBdWzBdLGU9K3RbMV1bMF0sbz0rdFswXVsxXSxhPSt0WzFdWzFdLHI+ZSYmKHQ9cixyPWUsZT10KSxvPmEmJih0PW8sbz1hLGE9dCksbi5wcmVjaXNpb24oeSkpOltbcixvXSxbZSxhXV19LG4uc3RlcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uLm1ham9yU3RlcCh0KS5taW5vclN0ZXAodCk6bi5taW5vclN0ZXAoKX0sbi5tYWpvclN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9K3RbMF0sbT0rdFsxXSxuKTpbZCxtXX0sbi5taW5vclN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9K3RbMF0sdj0rdFsxXSxuKTpbcCx2XX0sbi5wcmVjaXNpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9K3Qscz1tZShvLGEsOTApLGY9eWUocixlLHkpLGg9bWUoYyxsLDkwKSxnPXllKGksdSx5KSxuKTp5fSxuLm1ham9yRXh0ZW50KFtbLTE4MCwtOTArUGFdLFsxODAsOTAtUGFdXSkubWlub3JFeHRlbnQoW1stMTgwLC04MC1QYV0sWzE4MCw4MCtQYV1dKX0sb2EuZ2VvLmdyZWF0QXJjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybnt0eXBlOlwiTGluZVN0cmluZ1wiLGNvb3JkaW5hdGVzOlt0fHxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlfHx1LmFwcGx5KHRoaXMsYXJndW1lbnRzKV19fXZhciB0LGUscj1NZSx1PXhlO3JldHVybiBuLmRpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIG9hLmdlby5kaXN0YW5jZSh0fHxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlfHx1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LG4uc291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPWUsdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP251bGw6ZSxuKTpyfSxuLnRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT10LGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdD9udWxsOnQsbik6dX0sbi5wcmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uOjB9LG59LG9hLmdlby5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuLHQpe3JldHVybiBiZShuWzBdKklhLG5bMV0qSWEsdFswXSpJYSx0WzFdKklhKX0sb2EuZ2VvLmxlbmd0aD1mdW5jdGlvbihuKXtyZXR1cm4gSm89MCxvYS5nZW8uc3RyZWFtKG4sR28pLEpvfTt2YXIgSm8sR289e3NwaGVyZTpiLHBvaW50OmIsbGluZVN0YXJ0Ol9lLGxpbmVFbmQ6Yixwb2x5Z29uU3RhcnQ6Yixwb2x5Z29uRW5kOmJ9LEtvPXdlKGZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnNxcnQoMi8oMStuKSl9LGZ1bmN0aW9uKG4pe3JldHVybiAyKk1hdGguYXNpbihuLzIpfSk7KG9hLmdlby5hemltdXRoYWxFcXVhbEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gYWUoS28pfSkucmF3PUtvO3ZhciBRbz13ZShmdW5jdGlvbihuKXt2YXIgdD1NYXRoLmFjb3Mobik7cmV0dXJuIHQmJnQvTWF0aC5zaW4odCl9LHkpOyhvYS5nZW8uYXppbXV0aGFsRXF1aWRpc3RhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gYWUoUW8pfSkucmF3PVFvLChvYS5nZW8uY29uaWNDb25mb3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gVnQoU2UpfSkucmF3PVNlLChvYS5nZW8uY29uaWNFcXVpZGlzdGFudD1mdW5jdGlvbigpe3JldHVybiBWdChrZSl9KS5yYXc9a2U7dmFyIG5sPXdlKGZ1bmN0aW9uKG4pe3JldHVybiAxL259LE1hdGguYXRhbik7KG9hLmdlby5nbm9tb25pYz1mdW5jdGlvbigpe3JldHVybiBhZShubCl9KS5yYXc9bmwsTmUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuW24sMipNYXRoLmF0YW4oTWF0aC5leHAodCkpLU9hXX0sKG9hLmdlby5tZXJjYXRvcj1mdW5jdGlvbigpe3JldHVybiBFZShOZSl9KS5yYXc9TmU7dmFyIHRsPXdlKGZ1bmN0aW9uKCl7cmV0dXJuIDF9LE1hdGguYXNpbik7KG9hLmdlby5vcnRob2dyYXBoaWM9ZnVuY3Rpb24oKXtyZXR1cm4gYWUodGwpfSkucmF3PXRsO3ZhciBlbD13ZShmdW5jdGlvbihuKXtyZXR1cm4gMS8oMStuKX0sZnVuY3Rpb24obil7cmV0dXJuIDIqTWF0aC5hdGFuKG4pfSk7KG9hLmdlby5zdGVyZW9ncmFwaGljPWZ1bmN0aW9uKCl7cmV0dXJuIGFlKGVsKX0pLnJhdz1lbCxBZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXtyZXR1cm5bLXQsMipNYXRoLmF0YW4oTWF0aC5leHAobikpLU9hXX0sKG9hLmdlby50cmFuc3ZlcnNlTWVyY2F0b3I9ZnVuY3Rpb24oKXt2YXIgbj1FZShBZSksdD1uLmNlbnRlcixlPW4ucm90YXRlO3JldHVybiBuLmNlbnRlcj1mdW5jdGlvbihuKXtyZXR1cm4gbj90KFstblsxXSxuWzBdXSk6KG49dCgpLFtuWzFdLC1uWzBdXSl9LG4ucm90YXRlPWZ1bmN0aW9uKG4pe3JldHVybiBuP2UoW25bMF0sblsxXSxuLmxlbmd0aD4yP25bMl0rOTA6OTBdKToobj1lKCksW25bMF0sblsxXSxuWzJdLTkwXSl9LGUoWzAsMCw5MF0pfSkucmF3PUFlLG9hLmdlb209e30sb2EuZ2VvbS5odWxsPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7aWYobi5sZW5ndGg8MylyZXR1cm5bXTt2YXIgdCx1PUVuKGUpLGk9RW4ociksYT1uLmxlbmd0aCxvPVtdLGw9W107Zm9yKHQ9MDthPnQ7dCsrKW8ucHVzaChbK3UuY2FsbCh0aGlzLG5bdF0sdCksK2kuY2FsbCh0aGlzLG5bdF0sdCksdF0pO2ZvcihvLnNvcnQocWUpLHQ9MDthPnQ7dCsrKWwucHVzaChbb1t0XVswXSwtb1t0XVsxXV0pO3ZhciBjPUxlKG8pLHM9TGUobCksZj1zWzBdPT09Y1swXSxoPXNbcy5sZW5ndGgtMV09PT1jW2MubGVuZ3RoLTFdLGc9W107Zm9yKHQ9Yy5sZW5ndGgtMTt0Pj0wOy0tdClnLnB1c2gobltvW2NbdF1dWzJdXSk7Zm9yKHQ9K2Y7dDxzLmxlbmd0aC1oOysrdClnLnB1c2gobltvW3NbdF1dWzJdXSk7cmV0dXJuIGd9dmFyIGU9Q2Uscj16ZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90KG4pOih0Lng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix0KTplfSx0Lnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9bix0KTpyfSx0KX0sb2EuZ2VvbS5wb2x5Z29uPWZ1bmN0aW9uKG4pe3JldHVybiBTYShuLHJsKSxufTt2YXIgcmw9b2EuZ2VvbS5wb2x5Z29uLnByb3RvdHlwZT1bXTtybC5hcmVhPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQ9LTEsZT10aGlzLmxlbmd0aCxyPXRoaXNbZS0xXSx1PTA7Kyt0PGU7KW49cixyPXRoaXNbdF0sdSs9blsxXSpyWzBdLW5bMF0qclsxXTtyZXR1cm4uNSp1fSxybC5jZW50cm9pZD1mdW5jdGlvbihuKXt2YXIgdCxlLHI9LTEsdT10aGlzLmxlbmd0aCxpPTAsYT0wLG89dGhpc1t1LTFdO2Zvcihhcmd1bWVudHMubGVuZ3RofHwobj0tMS8oNip0aGlzLmFyZWEoKSkpOysrcjx1Oyl0PW8sbz10aGlzW3JdLGU9dFswXSpvWzFdLW9bMF0qdFsxXSxpKz0odFswXStvWzBdKSplLGErPSh0WzFdK29bMV0pKmU7cmV0dXJuW2kqbixhKm5dfSxybC5jbGlwPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHIsdSxpLGEsbz1EZShuKSxsPS0xLGM9dGhpcy5sZW5ndGgtRGUodGhpcykscz10aGlzW2MtMV07KytsPGM7KXtmb3IodD1uLnNsaWNlKCksbi5sZW5ndGg9MCx1PXRoaXNbbF0saT10WyhyPXQubGVuZ3RoLW8pLTFdLGU9LTE7KytlPHI7KWE9dFtlXSxUZShhLHMsdSk/KFRlKGkscyx1KXx8bi5wdXNoKFJlKGksYSxzLHUpKSxuLnB1c2goYSkpOlRlKGkscyx1KSYmbi5wdXNoKFJlKGksYSxzLHUpKSxpPWE7byYmbi5wdXNoKG5bMF0pLHM9dX1yZXR1cm4gbn07dmFyIHVsLGlsLGFsLG9sLGxsLGNsPVtdLHNsPVtdO1llLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQ9dGhpcy5lZGdlcyxlPXQubGVuZ3RoO2UtLTspbj10W2VdLmVkZ2Usbi5iJiZuLmF8fHQuc3BsaWNlKGUsMSk7cmV0dXJuIHQuc29ydChWZSksdC5sZW5ndGh9LHRyLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlLmw9PT10aGlzLnNpdGU/dGhpcy5lZGdlLmE6dGhpcy5lZGdlLmJ9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2UubD09PXRoaXMuc2l0ZT90aGlzLmVkZ2UuYjp0aGlzLmVkZ2UuYX19LGVyLnByb3RvdHlwZT17aW5zZXJ0OmZ1bmN0aW9uKG4sdCl7dmFyIGUscix1O2lmKG4pe2lmKHQuUD1uLHQuTj1uLk4sbi5OJiYobi5OLlA9dCksbi5OPXQsbi5SKXtmb3Iobj1uLlI7bi5MOyluPW4uTDtuLkw9dH1lbHNlIG4uUj10O2U9bn1lbHNlIHRoaXMuXz8obj1hcih0aGlzLl8pLHQuUD1udWxsLHQuTj1uLG4uUD1uLkw9dCxlPW4pOih0LlA9dC5OPW51bGwsdGhpcy5fPXQsZT1udWxsKTtmb3IodC5MPXQuUj1udWxsLHQuVT1lLHQuQz0hMCxuPXQ7ZSYmZS5DOylyPWUuVSxlPT09ci5MPyh1PXIuUix1JiZ1LkM/KGUuQz11LkM9ITEsci5DPSEwLG49cik6KG49PT1lLlImJih1cih0aGlzLGUpLG49ZSxlPW4uVSksZS5DPSExLHIuQz0hMCxpcih0aGlzLHIpKSk6KHU9ci5MLHUmJnUuQz8oZS5DPXUuQz0hMSxyLkM9ITAsbj1yKToobj09PWUuTCYmKGlyKHRoaXMsZSksbj1lLGU9bi5VKSxlLkM9ITEsci5DPSEwLHVyKHRoaXMscikpKSxlPW4uVTt0aGlzLl8uQz0hMX0scmVtb3ZlOmZ1bmN0aW9uKG4pe24uTiYmKG4uTi5QPW4uUCksbi5QJiYobi5QLk49bi5OKSxuLk49bi5QPW51bGw7dmFyIHQsZSxyLHU9bi5VLGk9bi5MLGE9bi5SO2lmKGU9aT9hP2FyKGEpOmk6YSx1P3UuTD09PW4/dS5MPWU6dS5SPWU6dGhpcy5fPWUsaSYmYT8ocj1lLkMsZS5DPW4uQyxlLkw9aSxpLlU9ZSxlIT09YT8odT1lLlUsZS5VPW4uVSxuPWUuUix1Lkw9bixlLlI9YSxhLlU9ZSk6KGUuVT11LHU9ZSxuPWUuUikpOihyPW4uQyxuPWUpLG4mJihuLlU9dSksIXIpe2lmKG4mJm4uQylyZXR1cm4gdm9pZChuLkM9ITEpO2Rve2lmKG49PT10aGlzLl8pYnJlYWs7aWYobj09PXUuTCl7aWYodD11LlIsdC5DJiYodC5DPSExLHUuQz0hMCx1cih0aGlzLHUpLHQ9dS5SKSx0LkwmJnQuTC5DfHx0LlImJnQuUi5DKXt0LlImJnQuUi5DfHwodC5MLkM9ITEsdC5DPSEwLGlyKHRoaXMsdCksdD11LlIpLHQuQz11LkMsdS5DPXQuUi5DPSExLHVyKHRoaXMsdSksbj10aGlzLl87YnJlYWt9fWVsc2UgaWYodD11LkwsdC5DJiYodC5DPSExLHUuQz0hMCxpcih0aGlzLHUpLHQ9dS5MKSx0LkwmJnQuTC5DfHx0LlImJnQuUi5DKXt0LkwmJnQuTC5DfHwodC5SLkM9ITEsdC5DPSEwLHVyKHRoaXMsdCksdD11LkwpLHQuQz11LkMsdS5DPXQuTC5DPSExLGlyKHRoaXMsdSksbj10aGlzLl87YnJlYWt9dC5DPSEwLG49dSx1PXUuVX13aGlsZSghbi5DKTtuJiYobi5DPSExKX19fSxvYS5nZW9tLnZvcm9ub2k9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdChuKXt2YXIgdD1uZXcgQXJyYXkobi5sZW5ndGgpLHI9b1swXVswXSx1PW9bMF1bMV0saT1vWzFdWzBdLGE9b1sxXVsxXTtyZXR1cm4gb3IoZShuKSxvKS5jZWxscy5mb3JFYWNoKGZ1bmN0aW9uKGUsbyl7dmFyIGw9ZS5lZGdlcyxjPWUuc2l0ZSxzPXRbb109bC5sZW5ndGg/bC5tYXAoZnVuY3Rpb24obil7dmFyIHQ9bi5zdGFydCgpO3JldHVyblt0LngsdC55XX0pOmMueD49ciYmYy54PD1pJiZjLnk+PXUmJmMueTw9YT9bW3IsYV0sW2ksYV0sW2ksdV0sW3IsdV1dOltdO3MucG9pbnQ9bltvXX0pLHR9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5tYXAoZnVuY3Rpb24obix0KXtyZXR1cm57eDpNYXRoLnJvdW5kKGkobix0KS9QYSkqUGEseTpNYXRoLnJvdW5kKGEobix0KS9QYSkqUGEsaTp0fX0pfXZhciByPUNlLHU9emUsaT1yLGE9dSxvPWZsO3JldHVybiBuP3Qobik6KHQubGlua3M9ZnVuY3Rpb24obil7cmV0dXJuIG9yKGUobikpLmVkZ2VzLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbi5sJiZuLnJ9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue3NvdXJjZTpuW3QubC5pXSx0YXJnZXQ6blt0LnIuaV19fSl9LHQudHJpYW5nbGVzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO3JldHVybiBvcihlKG4pKS5jZWxscy5mb3JFYWNoKGZ1bmN0aW9uKGUscil7Zm9yKHZhciB1LGksYT1lLnNpdGUsbz1lLmVkZ2VzLnNvcnQoVmUpLGw9LTEsYz1vLmxlbmd0aCxzPW9bYy0xXS5lZGdlLGY9cy5sPT09YT9zLnI6cy5sOysrbDxjOyl1PXMsaT1mLHM9b1tsXS5lZGdlLGY9cy5sPT09YT9zLnI6cy5sLHI8aS5pJiZyPGYuaSYmY3IoYSxpLGYpPDAmJnQucHVzaChbbltyXSxuW2kuaV0sbltmLmldXSl9KSx0fSx0Lng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9RW4ocj1uKSx0KTpyfSx0Lnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9RW4odT1uKSx0KTp1fSx0LmNsaXBFeHRlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bnVsbD09bj9mbDpuLHQpOm89PT1mbD9udWxsOm99LHQuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90LmNsaXBFeHRlbnQobiYmW1swLDBdLG5dKTpvPT09Zmw/bnVsbDpvJiZvWzFdfSx0KX07dmFyIGZsPVtbLTFlNiwtMWU2XSxbMWU2LDFlNl1dO29hLmdlb20uZGVsYXVuYXk9ZnVuY3Rpb24obil7cmV0dXJuIG9hLmdlb20udm9yb25vaSgpLnRyaWFuZ2xlcyhuKX0sb2EuZ2VvbS5xdWFkdHJlZT1mdW5jdGlvbihuLHQsZSxyLHUpe2Z1bmN0aW9uIGkobil7ZnVuY3Rpb24gaShuLHQsZSxyLHUsaSxhLG8pe2lmKCFpc05hTihlKSYmIWlzTmFOKHIpKWlmKG4ubGVhZil7dmFyIGw9bi54LHM9bi55O2lmKG51bGwhPWwpaWYoTWEobC1lKStNYShzLXIpPC4wMSljKG4sdCxlLHIsdSxpLGEsbyk7ZWxzZXt2YXIgZj1uLnBvaW50O24ueD1uLnk9bi5wb2ludD1udWxsLGMobixmLGwscyx1LGksYSxvKSxjKG4sdCxlLHIsdSxpLGEsbyl9ZWxzZSBuLng9ZSxuLnk9cixuLnBvaW50PXR9ZWxzZSBjKG4sdCxlLHIsdSxpLGEsbyl9ZnVuY3Rpb24gYyhuLHQsZSxyLHUsYSxvLGwpe3ZhciBjPS41Kih1K28pLHM9LjUqKGErbCksZj1lPj1jLGg9cj49cyxnPWg8PDF8ZjtuLmxlYWY9ITEsbj1uLm5vZGVzW2ddfHwobi5ub2Rlc1tnXT1ocigpKSxmP3U9YzpvPWMsaD9hPXM6bD1zLGkobix0LGUscix1LGEsbyxsKX12YXIgcyxmLGgsZyxwLHYsZCxtLHksTT1FbihvKSx4PUVuKGwpO2lmKG51bGwhPXQpdj10LGQ9ZSxtPXIseT11O2Vsc2UgaWYobT15PS0odj1kPTEvMCksZj1bXSxoPVtdLHA9bi5sZW5ndGgsYSlmb3IoZz0wO3A+ZzsrK2cpcz1uW2ddLHMueDx2JiYodj1zLngpLHMueTxkJiYoZD1zLnkpLHMueD5tJiYobT1zLngpLHMueT55JiYoeT1zLnkpLGYucHVzaChzLngpLGgucHVzaChzLnkpO2Vsc2UgZm9yKGc9MDtwPmc7KytnKXt2YXIgYj0rTShzPW5bZ10sZyksXz0reChzLGcpO3Y+YiYmKHY9YiksZD5fJiYoZD1fKSxiPm0mJihtPWIpLF8+eSYmKHk9XyksZi5wdXNoKGIpLGgucHVzaChfKX12YXIgdz1tLXYsUz15LWQ7dz5TP3k9ZCt3Om09ditTO3ZhciBrPWhyKCk7aWYoay5hZGQ9ZnVuY3Rpb24obil7aShrLG4sK00obiwrK2cpLCt4KG4sZyksdixkLG0seSl9LGsudmlzaXQ9ZnVuY3Rpb24obil7Z3IobixrLHYsZCxtLHkpfSxrLmZpbmQ9ZnVuY3Rpb24obil7cmV0dXJuIHByKGssblswXSxuWzFdLHYsZCxtLHkpfSxnPS0xLG51bGw9PXQpe2Zvcig7KytnPHA7KWkoayxuW2ddLGZbZ10saFtnXSx2LGQsbSx5KTstLWd9ZWxzZSBuLmZvckVhY2goay5hZGQpO3JldHVybiBmPWg9bj1zPW51bGwsa312YXIgYSxvPUNlLGw9emU7cmV0dXJuKGE9YXJndW1lbnRzLmxlbmd0aCk/KG89c3IsbD1mciwzPT09YSYmKHU9ZSxyPXQsZT10PTApLGkobikpOihpLng9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bixpKTpvfSxpLnk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9bixpKTpsfSxpLmV4dGVudD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obnVsbD09bj90PWU9cj11PW51bGw6KHQ9K25bMF1bMF0sZT0rblswXVsxXSxyPStuWzFdWzBdLHU9K25bMV1bMV0pLGkpOm51bGw9PXQ/bnVsbDpbW3QsZV0sW3IsdV1dfSxpLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG51bGw9PW4/dD1lPXI9dT1udWxsOih0PWU9MCxyPStuWzBdLHU9K25bMV0pLGkpOm51bGw9PXQ/bnVsbDpbci10LHUtZV19LGkpfSxvYS5pbnRlcnBvbGF0ZVJnYj12cixvYS5pbnRlcnBvbGF0ZU9iamVjdD1kcixvYS5pbnRlcnBvbGF0ZU51bWJlcj1tcixvYS5pbnRlcnBvbGF0ZVN0cmluZz15cjt2YXIgaGw9L1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLGdsPW5ldyBSZWdFeHAoaGwuc291cmNlLFwiZ1wiKTtvYS5pbnRlcnBvbGF0ZT1NcixvYS5pbnRlcnBvbGF0b3JzPVtmdW5jdGlvbihuLHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybihcInN0cmluZ1wiPT09ZT91by5oYXModC50b0xvd2VyQ2FzZSgpKXx8L14oI3xyZ2JcXCh8aHNsXFwoKS9pLnRlc3QodCk/dnI6eXI6dCBpbnN0YW5jZW9mIG9uP3ZyOkFycmF5LmlzQXJyYXkodCk/eHI6XCJvYmplY3RcIj09PWUmJmlzTmFOKHQpP2RyOm1yKShuLHQpfV0sb2EuaW50ZXJwb2xhdGVBcnJheT14cjt2YXIgcGw9ZnVuY3Rpb24oKXtyZXR1cm4geX0sdmw9b2EubWFwKHtsaW5lYXI6cGwscG9seTpFcixxdWFkOmZ1bmN0aW9uKCl7cmV0dXJuIFNyfSxjdWJpYzpmdW5jdGlvbigpe3JldHVybiBrcn0sc2luOmZ1bmN0aW9uKCl7cmV0dXJuIEFyfSxleHA6ZnVuY3Rpb24oKXtyZXR1cm4gQ3J9LGNpcmNsZTpmdW5jdGlvbigpe3JldHVybiB6cn0sZWxhc3RpYzpMcixiYWNrOnFyLGJvdW5jZTpmdW5jdGlvbigpe3JldHVybiBUcn19KSxkbD1vYS5tYXAoe1wiaW5cIjp5LG91dDpfcixcImluLW91dFwiOndyLFwib3V0LWluXCI6ZnVuY3Rpb24obil7cmV0dXJuIHdyKF9yKG4pKX19KTtvYS5lYXNlPWZ1bmN0aW9uKG4pe3ZhciB0PW4uaW5kZXhPZihcIi1cIiksZT10Pj0wP24uc2xpY2UoMCx0KTpuLHI9dD49MD9uLnNsaWNlKHQrMSk6XCJpblwiO3JldHVybiBlPXZsLmdldChlKXx8cGwscj1kbC5nZXQocil8fHksYnIocihlLmFwcGx5KG51bGwsbGEuY2FsbChhcmd1bWVudHMsMSkpKSl9LG9hLmludGVycG9sYXRlSGNsPVJyLG9hLmludGVycG9sYXRlSHNsPURyLG9hLmludGVycG9sYXRlTGFiPVByLG9hLmludGVycG9sYXRlUm91bmQ9VXIsb2EudHJhbnNmb3JtPWZ1bmN0aW9uKG4pe3ZhciB0PXNhLmNyZWF0ZUVsZW1lbnROUyhvYS5ucy5wcmVmaXguc3ZnLFwiZ1wiKTtyZXR1cm4ob2EudHJhbnNmb3JtPWZ1bmN0aW9uKG4pe2lmKG51bGwhPW4pe3Quc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsbik7dmFyIGU9dC50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpfXJldHVybiBuZXcganIoZT9lLm1hdHJpeDptbCl9KShuKX0sanIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ0cmFuc2xhdGUoXCIrdGhpcy50cmFuc2xhdGUrXCIpcm90YXRlKFwiK3RoaXMucm90YXRlK1wiKXNrZXdYKFwiK3RoaXMuc2tldytcIilzY2FsZShcIit0aGlzLnNjYWxlK1wiKVwifTt2YXIgbWw9e2E6MSxiOjAsYzowLGQ6MSxlOjAsZjowfTtvYS5pbnRlcnBvbGF0ZVRyYW5zZm9ybT0kcixvYS5sYXlvdXQ9e30sb2EubGF5b3V0LmJ1bmRsZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtmb3IodmFyIHQ9W10sZT0tMSxyPW4ubGVuZ3RoOysrZTxyOyl0LnB1c2goSnIobltlXSkpO3JldHVybiB0fX0sb2EubGF5b3V0LmNob3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuLGMsZixoLGcscD17fSx2PVtdLGQ9b2EucmFuZ2UoaSksbT1bXTtmb3IoZT1bXSxyPVtdLG49MCxoPS0xOysraDxpOyl7Zm9yKGM9MCxnPS0xOysrZzxpOyljKz11W2hdW2ddO3YucHVzaChjKSxtLnB1c2gob2EucmFuZ2UoaSkpLG4rPWN9Zm9yKGEmJmQuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBhKHZbbl0sdlt0XSl9KSxvJiZtLmZvckVhY2goZnVuY3Rpb24obix0KXtuLnNvcnQoZnVuY3Rpb24obixlKXtyZXR1cm4gbyh1W3RdW25dLHVbdF1bZV0pfSl9KSxuPShGYS1zKmkpL24sYz0wLGg9LTE7KytoPGk7KXtmb3IoZj1jLGc9LTE7KytnPGk7KXt2YXIgeT1kW2hdLE09bVt5XVtnXSx4PXVbeV1bTV0sYj1jLF89Yys9eCpuO3BbeStcIi1cIitNXT17aW5kZXg6eSxzdWJpbmRleDpNLHN0YXJ0QW5nbGU6YixlbmRBbmdsZTpfLHZhbHVlOnh9fXJbeV09e2luZGV4Onksc3RhcnRBbmdsZTpmLGVuZEFuZ2xlOmMsdmFsdWU6dlt5XX0sYys9c31mb3IoaD0tMTsrK2g8aTspZm9yKGc9aC0xOysrZzxpOyl7dmFyIHc9cFtoK1wiLVwiK2ddLFM9cFtnK1wiLVwiK2hdOyh3LnZhbHVlfHxTLnZhbHVlKSYmZS5wdXNoKHcudmFsdWU8Uy52YWx1ZT97c291cmNlOlMsdGFyZ2V0Ond9Ontzb3VyY2U6dyx0YXJnZXQ6U30pfWwmJnQoKX1mdW5jdGlvbiB0KCl7ZS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGwoKG4uc291cmNlLnZhbHVlK24udGFyZ2V0LnZhbHVlKS8yLCh0LnNvdXJjZS52YWx1ZSt0LnRhcmdldC52YWx1ZSkvMil9KX12YXIgZSxyLHUsaSxhLG8sbCxjPXt9LHM9MDtyZXR1cm4gYy5tYXRyaXg9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9KHU9bikmJnUubGVuZ3RoLGU9cj1udWxsLGMpOnV9LGMucGFkZGluZz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz1uLGU9cj1udWxsLGMpOnN9LGMuc29ydEdyb3Vwcz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1uLGU9cj1udWxsLGMpOmF9LGMuc29ydFN1Ymdyb3Vwcz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1uLGU9bnVsbCxjKTpvfSxjLnNvcnRDaG9yZHM9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9bixlJiZ0KCksYyk6bH0sYy5jaG9yZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZXx8bigpLGV9LGMuZ3JvdXBzPWZ1bmN0aW9uKCl7cmV0dXJuIHJ8fG4oKSxyfSxjfSxvYS5sYXlvdXQuZm9yY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe3JldHVybiBmdW5jdGlvbih0LGUscix1KXtpZih0LnBvaW50IT09bil7dmFyIGk9dC5jeC1uLngsYT10LmN5LW4ueSxvPXUtZSxsPWkqaSthKmE7aWYobD5vKm8vbSl7aWYodj5sKXt2YXIgYz10LmNoYXJnZS9sO24ucHgtPWkqYyxuLnB5LT1hKmN9cmV0dXJuITB9aWYodC5wb2ludCYmbCYmdj5sKXt2YXIgYz10LnBvaW50Q2hhcmdlL2w7bi5weC09aSpjLG4ucHktPWEqY319cmV0dXJuIXQuY2hhcmdlfX1mdW5jdGlvbiB0KG4pe24ucHg9b2EuZXZlbnQueCxuLnB5PW9hLmV2ZW50LnksbC5yZXN1bWUoKX12YXIgZSxyLHUsaSxhLG8sbD17fSxjPW9hLmRpc3BhdGNoKFwic3RhcnRcIixcInRpY2tcIixcImVuZFwiKSxzPVsxLDFdLGY9LjksaD15bCxnPU1sLHA9LTMwLHY9eGwsZD0uMSxtPS42NCxNPVtdLHg9W107cmV0dXJuIGwudGljaz1mdW5jdGlvbigpe2lmKCh1Kj0uOTkpPC4wMDUpcmV0dXJuIGU9bnVsbCxjLmVuZCh7dHlwZTpcImVuZFwiLGFscGhhOnU9MH0pLCEwO3ZhciB0LHIsbCxoLGcsdixtLHksYixfPU0ubGVuZ3RoLHc9eC5sZW5ndGg7Zm9yKHI9MDt3PnI7KytyKWw9eFtyXSxoPWwuc291cmNlLGc9bC50YXJnZXQseT1nLngtaC54LGI9Zy55LWgueSwodj15KnkrYipiKSYmKHY9dSphW3JdKigodj1NYXRoLnNxcnQodikpLWlbcl0pL3YseSo9dixiKj12LGcueC09eSoobT1oLndlaWdodCtnLndlaWdodD9oLndlaWdodC8oaC53ZWlnaHQrZy53ZWlnaHQpOi41KSxnLnktPWIqbSxoLngrPXkqKG09MS1tKSxoLnkrPWIqbSk7aWYoKG09dSpkKSYmKHk9c1swXS8yLGI9c1sxXS8yLHI9LTEsbSkpZm9yKDsrK3I8XzspbD1NW3JdLGwueCs9KHktbC54KSptLGwueSs9KGItbC55KSptO2lmKHApZm9yKHJ1KHQ9b2EuZ2VvbS5xdWFkdHJlZShNKSx1LG8pLHI9LTE7KytyPF87KShsPU1bcl0pLmZpeGVkfHx0LnZpc2l0KG4obCkpO2ZvcihyPS0xOysrcjxfOylsPU1bcl0sbC5maXhlZD8obC54PWwucHgsbC55PWwucHkpOihsLngtPShsLnB4LShsLnB4PWwueCkpKmYsbC55LT0obC5weS0obC5weT1sLnkpKSpmKTtjLnRpY2soe3R5cGU6XCJ0aWNrXCIsYWxwaGE6dX0pfSxsLm5vZGVzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhNPW4sbCk6TX0sbC5saW5rcz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oeD1uLGwpOnh9LGwuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz1uLGwpOnN9LGwubGlua0Rpc3RhbmNlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjorbixsKTpofSxsLmRpc3RhbmNlPWwubGlua0Rpc3RhbmNlLGwubGlua1N0cmVuZ3RoPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjorbixsKTpnfSxsLmZyaWN0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPStuLGwpOmZ9LGwuY2hhcmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjorbixsKTpwfSxsLmNoYXJnZURpc3RhbmNlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh2PW4qbixsKTpNYXRoLnNxcnQodil9LGwuZ3Jhdml0eT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD0rbixsKTpkfSxsLnRoZXRhPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhtPW4qbixsKTpNYXRoLnNxcnQobSl9LGwuYWxwaGE9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49K24sdT9uPjA/dT1uOihlLmM9bnVsbCxlLnQ9TmFOLGU9bnVsbCxjLmVuZCh7dHlwZTpcImVuZFwiLGFscGhhOnU9MH0pKTpuPjAmJihjLnN0YXJ0KHt0eXBlOlwic3RhcnRcIixhbHBoYTp1PW59KSxlPXFuKGwudGljaykpLGwpOnV9LGwuc3RhcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7aWYoIWUpe2ZvcihlPW5ldyBBcnJheSh1KSxsPTA7dT5sOysrbCllW2xdPVtdO2ZvcihsPTA7Yz5sOysrbCl7dmFyIGk9eFtsXTtlW2kuc291cmNlLmluZGV4XS5wdXNoKGkudGFyZ2V0KSxlW2kudGFyZ2V0LmluZGV4XS5wdXNoKGkuc291cmNlKX19Zm9yKHZhciBhLG89ZVt0XSxsPS0xLHM9by5sZW5ndGg7KytsPHM7KWlmKCFpc05hTihhPW9bbF1bbl0pKXJldHVybiBhO3JldHVybiBNYXRoLnJhbmRvbSgpKnJ9dmFyIHQsZSxyLHU9TS5sZW5ndGgsYz14Lmxlbmd0aCxmPXNbMF0sdj1zWzFdO2Zvcih0PTA7dT50OysrdCkocj1NW3RdKS5pbmRleD10LHIud2VpZ2h0PTA7Zm9yKHQ9MDtjPnQ7Kyt0KXI9eFt0XSxcIm51bWJlclwiPT10eXBlb2Ygci5zb3VyY2UmJihyLnNvdXJjZT1NW3Iuc291cmNlXSksXCJudW1iZXJcIj09dHlwZW9mIHIudGFyZ2V0JiYoci50YXJnZXQ9TVtyLnRhcmdldF0pLCsrci5zb3VyY2Uud2VpZ2h0LCsrci50YXJnZXQud2VpZ2h0O2Zvcih0PTA7dT50OysrdClyPU1bdF0saXNOYU4oci54KSYmKHIueD1uKFwieFwiLGYpKSxpc05hTihyLnkpJiYoci55PW4oXCJ5XCIsdikpLGlzTmFOKHIucHgpJiYoci5weD1yLngpLGlzTmFOKHIucHkpJiYoci5weT1yLnkpO2lmKGk9W10sXCJmdW5jdGlvblwiPT10eXBlb2YgaClmb3IodD0wO2M+dDsrK3QpaVt0XT0raC5jYWxsKHRoaXMseFt0XSx0KTtlbHNlIGZvcih0PTA7Yz50OysrdClpW3RdPWg7aWYoYT1bXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBnKWZvcih0PTA7Yz50OysrdClhW3RdPStnLmNhbGwodGhpcyx4W3RdLHQpO2Vsc2UgZm9yKHQ9MDtjPnQ7Kyt0KWFbdF09ZztpZihvPVtdLFwiZnVuY3Rpb25cIj09dHlwZW9mIHApZm9yKHQ9MDt1PnQ7Kyt0KW9bdF09K3AuY2FsbCh0aGlzLE1bdF0sdCk7ZWxzZSBmb3IodD0wO3U+dDsrK3Qpb1t0XT1wO3JldHVybiBsLnJlc3VtZSgpfSxsLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBsLmFscGhhKC4xKX0sbC5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGwuYWxwaGEoMCl9LGwuZHJhZz1mdW5jdGlvbigpe3JldHVybiByfHwocj1vYS5iZWhhdmlvci5kcmFnKCkub3JpZ2luKHkpLm9uKFwiZHJhZ3N0YXJ0LmZvcmNlXCIsUXIpLm9uKFwiZHJhZy5mb3JjZVwiLHQpLm9uKFwiZHJhZ2VuZC5mb3JjZVwiLG51KSksYXJndW1lbnRzLmxlbmd0aD92b2lkIHRoaXMub24oXCJtb3VzZW92ZXIuZm9yY2VcIix0dSkub24oXCJtb3VzZW91dC5mb3JjZVwiLGV1KS5jYWxsKHIpOnJ9LG9hLnJlYmluZChsLGMsXCJvblwiKX07dmFyIHlsPTIwLE1sPTEseGw9MS8wO29hLmxheW91dC5oaWVyYXJjaHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHUpe3ZhciBpLGE9W3VdLG89W107Zm9yKHUuZGVwdGg9MDtudWxsIT0oaT1hLnBvcCgpKTspaWYoby5wdXNoKGkpLChjPWUuY2FsbChuLGksaS5kZXB0aCkpJiYobD1jLmxlbmd0aCkpe2Zvcih2YXIgbCxjLHM7LS1sPj0wOylhLnB1c2gocz1jW2xdKSxzLnBhcmVudD1pLHMuZGVwdGg9aS5kZXB0aCsxO3ImJihpLnZhbHVlPTApLGkuY2hpbGRyZW49Y31lbHNlIHImJihpLnZhbHVlPStyLmNhbGwobixpLGkuZGVwdGgpfHwwKSxkZWxldGUgaS5jaGlsZHJlbjtyZXR1cm4gYXUodSxmdW5jdGlvbihuKXt2YXIgZSx1O3QmJihlPW4uY2hpbGRyZW4pJiZlLnNvcnQodCksciYmKHU9bi5wYXJlbnQpJiYodS52YWx1ZSs9bi52YWx1ZSl9KSxvfXZhciB0PWN1LGU9b3Uscj1sdTtyZXR1cm4gbi5zb3J0PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWUsbik6dH0sbi5jaGlsZHJlbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4udmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCxuKTpyfSxuLnJldmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHImJihpdSh0LGZ1bmN0aW9uKG4pe24uY2hpbGRyZW4mJihuLnZhbHVlPTApfSksYXUodCxmdW5jdGlvbih0KXt2YXIgZTt0LmNoaWxkcmVufHwodC52YWx1ZT0rci5jYWxsKG4sdCx0LmRlcHRoKXx8MCksKGU9dC5wYXJlbnQpJiYoZS52YWx1ZSs9dC52YWx1ZSl9KSksdH0sbn0sb2EubGF5b3V0LnBhcnRpdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxlLHIsdSl7dmFyIGk9dC5jaGlsZHJlbjtpZih0Lng9ZSx0Lnk9dC5kZXB0aCp1LHQuZHg9cix0LmR5PXUsaSYmKGE9aS5sZW5ndGgpKXt2YXIgYSxvLGwsYz0tMTtmb3Iocj10LnZhbHVlP3IvdC52YWx1ZTowOysrYzxhOyluKG89aVtjXSxlLGw9by52YWx1ZSpyLHUpLGUrPWx9fWZ1bmN0aW9uIHQobil7dmFyIGU9bi5jaGlsZHJlbixyPTA7aWYoZSYmKHU9ZS5sZW5ndGgpKWZvcih2YXIgdSxpPS0xOysraTx1OylyPU1hdGgubWF4KHIsdChlW2ldKSk7cmV0dXJuIDErcn1mdW5jdGlvbiBlKGUsaSl7dmFyIGE9ci5jYWxsKHRoaXMsZSxpKTtyZXR1cm4gbihhWzBdLDAsdVswXSx1WzFdL3QoYVswXSkpLGF9dmFyIHI9b2EubGF5b3V0LmhpZXJhcmNoeSgpLHU9WzEsMV07cmV0dXJuIGUuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1uLGUpOnV9LHV1KGUscil9LG9hLmxheW91dC5waWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGEpe3ZhciBvLGw9YS5sZW5ndGgsYz1hLm1hcChmdW5jdGlvbihlLHIpe3JldHVybit0LmNhbGwobixlLHIpfSkscz0rKFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ciksZj0oXCJmdW5jdGlvblwiPT10eXBlb2YgdT91LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp1KS1zLGg9TWF0aC5taW4oTWF0aC5hYnMoZikvbCwrKFwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6aSkpLGc9aCooMD5mPy0xOjEpLHA9b2Euc3VtKGMpLHY9cD8oZi1sKmcpL3A6MCxkPW9hLnJhbmdlKGwpLG09W107cmV0dXJuIG51bGwhPWUmJmQuc29ydChlPT09Ymw/ZnVuY3Rpb24obix0KXtyZXR1cm4gY1t0XS1jW25dfTpmdW5jdGlvbihuLHQpe3JldHVybiBlKGFbbl0sYVt0XSl9KSxkLmZvckVhY2goZnVuY3Rpb24obil7bVtuXT17ZGF0YTphW25dLHZhbHVlOm89Y1tuXSxzdGFydEFuZ2xlOnMsZW5kQW5nbGU6cys9byp2K2cscGFkQW5nbGU6aH19KSxtfXZhciB0PU51bWJlcixlPWJsLHI9MCx1PUZhLGk9MDtyZXR1cm4gbi52YWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1lLG4pOnR9LG4uc29ydD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4uc3RhcnRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10LG4pOnJ9LG4uZW5kQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxuKTp1fSxuLnBhZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPXQsbik6aX0sbn07dmFyIGJsPXt9O29hLmxheW91dC5zdGFjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obyxsKXtpZighKGg9by5sZW5ndGgpKXJldHVybiBvO3ZhciBjPW8ubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbChuLGUscil9KSxzPWMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbih0LGUpe3JldHVybltpLmNhbGwobix0LGUpLGEuY2FsbChuLHQsZSldfSl9KSxmPWUuY2FsbChuLHMsbCk7Yz1vYS5wZXJtdXRlKGMsZikscz1vYS5wZXJtdXRlKHMsZik7dmFyIGgsZyxwLHYsZD1yLmNhbGwobixzLGwpLG09Y1swXS5sZW5ndGg7Zm9yKHA9MDttPnA7KytwKWZvcih1LmNhbGwobixjWzBdW3BdLHY9ZFtwXSxzWzBdW3BdWzFdKSxnPTE7aD5nOysrZyl1LmNhbGwobixjW2ddW3BdLHYrPXNbZy0xXVtwXVsxXSxzW2ddW3BdWzFdKTtyZXR1cm4gb312YXIgdD15LGU9cHUscj12dSx1PWd1LGk9ZnUsYT1odTtyZXR1cm4gbi52YWx1ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ZSxuKTp0fSxuLm9yZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpfbC5nZXQodCl8fHB1LG4pOmV9LG4ub2Zmc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDp3bC5nZXQodCl8fHZ1LG4pOnJ9LG4ueD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT10LG4pOml9LG4ueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT10LG4pOmF9LG4ub3V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsbik6dX0sbn07dmFyIF9sPW9hLm1hcCh7XCJpbnNpZGUtb3V0XCI6ZnVuY3Rpb24obil7dmFyIHQsZSxyPW4ubGVuZ3RoLHU9bi5tYXAoZHUpLGk9bi5tYXAobXUpLGE9b2EucmFuZ2Uocikuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiB1W25dLXVbdF19KSxvPTAsbD0wLGM9W10scz1bXTtmb3IodD0wO3I+dDsrK3QpZT1hW3RdLGw+bz8obys9aVtlXSxjLnB1c2goZSkpOihsKz1pW2VdLHMucHVzaChlKSk7cmV0dXJuIHMucmV2ZXJzZSgpLmNvbmNhdChjKX0scmV2ZXJzZTpmdW5jdGlvbihuKXtyZXR1cm4gb2EucmFuZ2Uobi5sZW5ndGgpLnJldmVyc2UoKX0sXCJkZWZhdWx0XCI6cHV9KSx3bD1vYS5tYXAoe3NpbGhvdWV0dGU6ZnVuY3Rpb24obil7dmFyIHQsZSxyLHU9bi5sZW5ndGgsaT1uWzBdLmxlbmd0aCxhPVtdLG89MCxsPVtdO2ZvcihlPTA7aT5lOysrZSl7Zm9yKHQ9MCxyPTA7dT50O3QrKylyKz1uW3RdW2VdWzFdO3I+byYmKG89ciksYS5wdXNoKHIpfWZvcihlPTA7aT5lOysrZSlsW2VdPShvLWFbZV0pLzI7cmV0dXJuIGx9LHdpZ2dsZTpmdW5jdGlvbihuKXt2YXIgdCxlLHIsdSxpLGEsbyxsLGMscz1uLmxlbmd0aCxmPW5bMF0saD1mLmxlbmd0aCxnPVtdO2ZvcihnWzBdPWw9Yz0wLGU9MTtoPmU7KytlKXtmb3IodD0wLHU9MDtzPnQ7Kyt0KXUrPW5bdF1bZV1bMV07Zm9yKHQ9MCxpPTAsbz1mW2VdWzBdLWZbZS0xXVswXTtzPnQ7Kyt0KXtmb3Iocj0wLGE9KG5bdF1bZV1bMV0tblt0XVtlLTFdWzFdKS8oMipvKTt0PnI7KytyKWErPShuW3JdW2VdWzFdLW5bcl1bZS0xXVsxXSkvbztpKz1hKm5bdF1bZV1bMV19Z1tlXT1sLT11P2kvdSpvOjAsYz5sJiYoYz1sKX1mb3IoZT0wO2g+ZTsrK2UpZ1tlXS09YztyZXR1cm4gZ30sZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PW4ubGVuZ3RoLGk9blswXS5sZW5ndGgsYT0xL3Usbz1bXTtmb3IoZT0wO2k+ZTsrK2Upe2Zvcih0PTAscj0wO3U+dDt0Kyspcis9blt0XVtlXVsxXTtpZihyKWZvcih0PTA7dT50O3QrKyluW3RdW2VdWzFdLz1yO2Vsc2UgZm9yKHQ9MDt1PnQ7dCsrKW5bdF1bZV1bMV09YX1mb3IoZT0wO2k+ZTsrK2Upb1tlXT0wO3JldHVybiBvfSx6ZXJvOnZ1fSk7b2EubGF5b3V0Lmhpc3RvZ3JhbT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixpKXtmb3IodmFyIGEsbyxsPVtdLGM9bi5tYXAoZSx0aGlzKSxzPXIuY2FsbCh0aGlzLGMsaSksZj11LmNhbGwodGhpcyxzLGMsaSksaT0tMSxoPWMubGVuZ3RoLGc9Zi5sZW5ndGgtMSxwPXQ/MToxL2g7KytpPGc7KWE9bFtpXT1bXSxhLmR4PWZbaSsxXS0oYS54PWZbaV0pLGEueT0wO2lmKGc+MClmb3IoaT0tMTsrK2k8aDspbz1jW2ldLG8+PXNbMF0mJm88PXNbMV0mJihhPWxbb2EuYmlzZWN0KGYsbywxLGcpLTFdLGEueSs9cCxhLnB1c2gobltpXSkpO3JldHVybiBsfXZhciB0PSEwLGU9TnVtYmVyLHI9YnUsdT1NdTtyZXR1cm4gbi52YWx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4ucmFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9RW4odCksbik6cn0sbi5iaW5zPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PVwibnVtYmVyXCI9PXR5cGVvZiB0P2Z1bmN0aW9uKG4pe3JldHVybiB4dShuLHQpfTpFbih0KSxuKTp1fSxuLmZyZXF1ZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD0hIWUsbik6dH0sbn0sb2EubGF5b3V0LnBhY2s9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4saSl7dmFyIGE9ZS5jYWxsKHRoaXMsbixpKSxvPWFbMF0sbD11WzBdLGM9dVsxXSxzPW51bGw9PXQ/TWF0aC5zcXJ0OlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDpmdW5jdGlvbigpe3JldHVybiB0fTtpZihvLng9by55PTAsYXUobyxmdW5jdGlvbihuKXtuLnI9K3Mobi52YWx1ZSl9KSxhdShvLE51KSxyKXt2YXIgZj1yKih0PzE6TWF0aC5tYXgoMipvLnIvbCwyKm8uci9jKSkvMjthdShvLGZ1bmN0aW9uKG4pe24ucis9Zn0pLGF1KG8sTnUpLGF1KG8sZnVuY3Rpb24obil7bi5yLT1mfSl9cmV0dXJuIEN1KG8sbC8yLGMvMix0PzE6MS9NYXRoLm1heCgyKm8uci9sLDIqby5yL2MpKSxhfXZhciB0LGU9b2EubGF5b3V0LmhpZXJhcmNoeSgpLnNvcnQoX3UpLHI9MCx1PVsxLDFdO3JldHVybiBuLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxuKTp1fSxuLnJhZGl1cz1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1udWxsPT1lfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6K2Usbik6dH0sbi5wYWRkaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPSt0LG4pOnJ9LHV1KG4sZSl9LG9hLmxheW91dC50cmVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHUpe3ZhciBzPWEuY2FsbCh0aGlzLG4sdSksZj1zWzBdLGg9dChmKTtpZihhdShoLGUpLGgucGFyZW50Lm09LWgueixpdShoLHIpLGMpaXUoZixpKTtlbHNle3ZhciBnPWYscD1mLHY9ZjtpdShmLGZ1bmN0aW9uKG4pe24ueDxnLngmJihnPW4pLG4ueD5wLngmJihwPW4pLG4uZGVwdGg+di5kZXB0aCYmKHY9bil9KTt2YXIgZD1vKGcscCkvMi1nLngsbT1sWzBdLyhwLngrbyhwLGcpLzIrZCkseT1sWzFdLyh2LmRlcHRofHwxKTtpdShmLGZ1bmN0aW9uKG4pe24ueD0obi54K2QpKm0sbi55PW4uZGVwdGgqeX0pfXJldHVybiBzfWZ1bmN0aW9uIHQobil7Zm9yKHZhciB0LGU9e0E6bnVsbCxjaGlsZHJlbjpbbl19LHI9W2VdO251bGwhPSh0PXIucG9wKCkpOylmb3IodmFyIHUsaT10LmNoaWxkcmVuLGE9MCxvPWkubGVuZ3RoO28+YTsrK2Epci5wdXNoKChpW2FdPXU9e186aVthXSxwYXJlbnQ6dCxjaGlsZHJlbjoodT1pW2FdLmNoaWxkcmVuKSYmdS5zbGljZSgpfHxbXSxBOm51bGwsYTpudWxsLHo6MCxtOjAsYzowLHM6MCx0Om51bGwsaTphfSkuYT11KTtyZXR1cm4gZS5jaGlsZHJlblswXX1mdW5jdGlvbiBlKG4pe3ZhciB0PW4uY2hpbGRyZW4sZT1uLnBhcmVudC5jaGlsZHJlbixyPW4uaT9lW24uaS0xXTpudWxsO2lmKHQubGVuZ3RoKXtEdShuKTt2YXIgaT0odFswXS56K3RbdC5sZW5ndGgtMV0ueikvMjtyPyhuLno9ci56K28obi5fLHIuXyksbi5tPW4uei1pKTpuLno9aX1lbHNlIHImJihuLno9ci56K28obi5fLHIuXykpO24ucGFyZW50LkE9dShuLHIsbi5wYXJlbnQuQXx8ZVswXSl9ZnVuY3Rpb24gcihuKXtuLl8ueD1uLnorbi5wYXJlbnQubSxuLm0rPW4ucGFyZW50Lm19ZnVuY3Rpb24gdShuLHQsZSl7aWYodCl7Zm9yKHZhciByLHU9bixpPW4sYT10LGw9dS5wYXJlbnQuY2hpbGRyZW5bMF0sYz11Lm0scz1pLm0sZj1hLm0saD1sLm07YT1UdShhKSx1PXF1KHUpLGEmJnU7KWw9cXUobCksaT1UdShpKSxpLmE9bixyPWEueitmLXUuei1jK28oYS5fLHUuXykscj4wJiYoUnUoUHUoYSxuLGUpLG4sciksYys9cixzKz1yKSxmKz1hLm0sYys9dS5tLGgrPWwubSxzKz1pLm07YSYmIVR1KGkpJiYoaS50PWEsaS5tKz1mLXMpLHUmJiFxdShsKSYmKGwudD11LGwubSs9Yy1oLGU9bil9cmV0dXJuIGV9ZnVuY3Rpb24gaShuKXtuLngqPWxbMF0sbi55PW4uZGVwdGgqbFsxXX12YXIgYT1vYS5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChudWxsKS52YWx1ZShudWxsKSxvPUx1LGw9WzEsMV0sYz1udWxsO3JldHVybiBuLnNlcGFyYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89dCxuKTpvfSxuLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9bnVsbD09KGw9dCk/aTpudWxsLG4pOmM/bnVsbDpsfSxuLm5vZGVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPW51bGw9PShsPXQpP251bGw6aSxuKTpjP2w6bnVsbH0sdXUobixhKX0sb2EubGF5b3V0LmNsdXN0ZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4saSl7dmFyIGEsbz10LmNhbGwodGhpcyxuLGkpLGw9b1swXSxjPTA7YXUobCxmdW5jdGlvbihuKXt2YXIgdD1uLmNoaWxkcmVuO3QmJnQubGVuZ3RoPyhuLng9anUodCksbi55PVV1KHQpKToobi54PWE/Yys9ZShuLGEpOjAsbi55PTAsYT1uKX0pO3ZhciBzPUZ1KGwpLGY9SHUobCksaD1zLngtZShzLGYpLzIsZz1mLngrZShmLHMpLzI7cmV0dXJuIGF1KGwsdT9mdW5jdGlvbihuKXtuLng9KG4ueC1sLngpKnJbMF0sbi55PShsLnktbi55KSpyWzFdfTpmdW5jdGlvbihuKXtuLng9KG4ueC1oKS8oZy1oKSpyWzBdLG4ueT0oMS0obC55P24ueS9sLnk6MSkpKnJbMV19KSxvfXZhciB0PW9hLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KG51bGwpLnZhbHVlKG51bGwpLGU9THUscj1bMSwxXSx1PSExO3JldHVybiBuLnNlcGFyYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9bnVsbD09KHI9dCksbik6dT9udWxsOnJ9LG4ubm9kZVNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9bnVsbCE9KHI9dCksbik6dT9yOm51bGx9LHV1KG4sdCl9LG9hLmxheW91dC50cmVlbWFwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe2Zvcih2YXIgZSxyLHU9LTEsaT1uLmxlbmd0aDsrK3U8aTspcj0oZT1uW3VdKS52YWx1ZSooMD50PzA6dCksZS5hcmVhPWlzTmFOKHIpfHwwPj1yPzA6cn1mdW5jdGlvbiB0KGUpe3ZhciBpPWUuY2hpbGRyZW47aWYoaSYmaS5sZW5ndGgpe3ZhciBhLG8sbCxjPWYoZSkscz1bXSxoPWkuc2xpY2UoKSxwPTEvMCx2PVwic2xpY2VcIj09PWc/Yy5keDpcImRpY2VcIj09PWc/Yy5keTpcInNsaWNlLWRpY2VcIj09PWc/MSZlLmRlcHRoP2MuZHk6Yy5keDpNYXRoLm1pbihjLmR4LGMuZHkpO2ZvcihuKGgsYy5keCpjLmR5L2UudmFsdWUpLHMuYXJlYT0wOyhsPWgubGVuZ3RoKT4wOylzLnB1c2goYT1oW2wtMV0pLHMuYXJlYSs9YS5hcmVhLFwic3F1YXJpZnlcIiE9PWd8fChvPXIocyx2KSk8PXA/KGgucG9wKCkscD1vKToocy5hcmVhLT1zLnBvcCgpLmFyZWEsdShzLHYsYywhMSksdj1NYXRoLm1pbihjLmR4LGMuZHkpLHMubGVuZ3RoPXMuYXJlYT0wLHA9MS8wKTtzLmxlbmd0aCYmKHUocyx2LGMsITApLHMubGVuZ3RoPXMuYXJlYT0wKSxpLmZvckVhY2godCl9fWZ1bmN0aW9uIGUodCl7dmFyIHI9dC5jaGlsZHJlbjtpZihyJiZyLmxlbmd0aCl7dmFyIGksYT1mKHQpLG89ci5zbGljZSgpLGw9W107Zm9yKG4obyxhLmR4KmEuZHkvdC52YWx1ZSksbC5hcmVhPTA7aT1vLnBvcCgpOylsLnB1c2goaSksbC5hcmVhKz1pLmFyZWEsbnVsbCE9aS56JiYodShsLGkuej9hLmR4OmEuZHksYSwhby5sZW5ndGgpLGwubGVuZ3RoPWwuYXJlYT0wKTtyLmZvckVhY2goZSl9fWZ1bmN0aW9uIHIobix0KXtmb3IodmFyIGUscj1uLmFyZWEsdT0wLGk9MS8wLGE9LTEsbz1uLmxlbmd0aDsrK2E8bzspKGU9blthXS5hcmVhKSYmKGk+ZSYmKGk9ZSksZT51JiYodT1lKSk7cmV0dXJuIHIqPXIsdCo9dCxyP01hdGgubWF4KHQqdSpwL3Isci8odCppKnApKToxLzB9ZnVuY3Rpb24gdShuLHQsZSxyKXt2YXIgdSxpPS0xLGE9bi5sZW5ndGgsbz1lLngsYz1lLnkscz10P2wobi5hcmVhL3QpOjA7XG5pZih0PT1lLmR4KXtmb3IoKHJ8fHM+ZS5keSkmJihzPWUuZHkpOysraTxhOyl1PW5baV0sdS54PW8sdS55PWMsdS5keT1zLG8rPXUuZHg9TWF0aC5taW4oZS54K2UuZHgtbyxzP2wodS5hcmVhL3MpOjApO3Uuej0hMCx1LmR4Kz1lLngrZS5keC1vLGUueSs9cyxlLmR5LT1zfWVsc2V7Zm9yKChyfHxzPmUuZHgpJiYocz1lLmR4KTsrK2k8YTspdT1uW2ldLHUueD1vLHUueT1jLHUuZHg9cyxjKz11LmR5PU1hdGgubWluKGUueStlLmR5LWMscz9sKHUuYXJlYS9zKTowKTt1Lno9ITEsdS5keSs9ZS55K2UuZHktYyxlLngrPXMsZS5keC09c319ZnVuY3Rpb24gaShyKXt2YXIgdT1hfHxvKHIpLGk9dVswXTtyZXR1cm4gaS54PWkueT0wLGkudmFsdWU/KGkuZHg9Y1swXSxpLmR5PWNbMV0pOmkuZHg9aS5keT0wLGEmJm8ucmV2YWx1ZShpKSxuKFtpXSxpLmR4KmkuZHkvaS52YWx1ZSksKGE/ZTp0KShpKSxoJiYoYT11KSx1fXZhciBhLG89b2EubGF5b3V0LmhpZXJhcmNoeSgpLGw9TWF0aC5yb3VuZCxjPVsxLDFdLHM9bnVsbCxmPU91LGg9ITEsZz1cInNxdWFyaWZ5XCIscD0uNSooMStNYXRoLnNxcnQoNSkpO3JldHVybiBpLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9bixpKTpjfSxpLnBhZGRpbmc9ZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXt2YXIgZT1uLmNhbGwoaSx0LHQuZGVwdGgpO3JldHVybiBudWxsPT1lP091KHQpOkl1KHQsXCJudW1iZXJcIj09dHlwZW9mIGU/W2UsZSxlLGVdOmUpfWZ1bmN0aW9uIGUodCl7cmV0dXJuIEl1KHQsbil9aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHM7dmFyIHI7cmV0dXJuIGY9bnVsbD09KHM9bik/T3U6XCJmdW5jdGlvblwiPT0ocj10eXBlb2Ygbik/dDpcIm51bWJlclwiPT09cj8obj1bbixuLG4sbl0sZSk6ZSxpfSxpLnJvdW5kPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW4/TWF0aC5yb3VuZDpOdW1iZXIsaSk6bCE9TnVtYmVyfSxpLnN0aWNreT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1uLGE9bnVsbCxpKTpofSxpLnJhdGlvPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwPW4saSk6cH0saS5tb2RlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPW4rXCJcIixpKTpnfSx1dShpLG8pfSxvYS5yYW5kb209e25vcm1hbDpmdW5jdGlvbihuLHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIDI+ZSYmKHQ9MSksMT5lJiYobj0wKSxmdW5jdGlvbigpe3ZhciBlLHIsdTtkbyBlPTIqTWF0aC5yYW5kb20oKS0xLHI9MipNYXRoLnJhbmRvbSgpLTEsdT1lKmUrcipyO3doaWxlKCF1fHx1PjEpO3JldHVybiBuK3QqZSpNYXRoLnNxcnQoLTIqTWF0aC5sb2codSkvdSl9fSxsb2dOb3JtYWw6ZnVuY3Rpb24oKXt2YXIgbj1vYS5yYW5kb20ubm9ybWFsLmFwcGx5KG9hLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZXhwKG4oKSl9fSxiYXRlczpmdW5jdGlvbihuKXt2YXIgdD1vYS5yYW5kb20uaXJ3aW5IYWxsKG4pO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KCkvbn19LGlyd2luSGFsbDpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7bj5lO2UrKyl0Kz1NYXRoLnJhbmRvbSgpO3JldHVybiB0fX19LG9hLnNjYWxlPXt9O3ZhciBTbD17Zmxvb3I6eSxjZWlsOnl9O29hLnNjYWxlLmxpbmVhcj1mdW5jdGlvbigpe3JldHVybiBXdShbMCwxXSxbMCwxXSxNciwhMSl9O3ZhciBrbD17czoxLGc6MSxwOjEscjoxLGU6MX07b2Euc2NhbGUubG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHJpKG9hLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCwxXSksMTAsITAsWzEsMTBdKX07dmFyIE5sPW9hLmZvcm1hdChcIi4wZVwiKSxFbD17Zmxvb3I6ZnVuY3Rpb24obil7cmV0dXJuLU1hdGguY2VpbCgtbil9LGNlaWw6ZnVuY3Rpb24obil7cmV0dXJuLU1hdGguZmxvb3IoLW4pfX07b2Euc2NhbGUucG93PWZ1bmN0aW9uKCl7cmV0dXJuIHVpKG9hLnNjYWxlLmxpbmVhcigpLDEsWzAsMV0pfSxvYS5zY2FsZS5zcXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG9hLnNjYWxlLnBvdygpLmV4cG9uZW50KC41KX0sb2Euc2NhbGUub3JkaW5hbD1mdW5jdGlvbigpe3JldHVybiBhaShbXSx7dDpcInJhbmdlXCIsYTpbW11dfSl9LG9hLnNjYWxlLmNhdGVnb3J5MTA9ZnVuY3Rpb24oKXtyZXR1cm4gb2Euc2NhbGUub3JkaW5hbCgpLnJhbmdlKEFsKX0sb2Euc2NhbGUuY2F0ZWdvcnkyMD1mdW5jdGlvbigpe3JldHVybiBvYS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoQ2wpfSxvYS5zY2FsZS5jYXRlZ29yeTIwYj1mdW5jdGlvbigpe3JldHVybiBvYS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoemwpfSxvYS5zY2FsZS5jYXRlZ29yeTIwYz1mdW5jdGlvbigpe3JldHVybiBvYS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoTGwpfTt2YXIgQWw9WzIwNjIyNjAsMTY3NDQyMDYsMjkyNDU4OCwxNDAzNDcyOCw5NzI1ODg1LDkxOTcxMzEsMTQ5MDczMzAsODM1NTcxMSwxMjM2OTE4NiwxNTU2MTc1XS5tYXAoeG4pLENsPVsyMDYyMjYwLDExNDU0NDQwLDE2NzQ0MjA2LDE2NzU5NjcyLDI5MjQ1ODgsMTAwMTg2OTgsMTQwMzQ3MjgsMTY3NTA3NDIsOTcyNTg4NSwxMjk1NTg2MSw5MTk3MTMxLDEyODg1MTQwLDE0OTA3MzMwLDE2MjM0MTk0LDgzNTU3MTEsMTMwOTI4MDcsMTIzNjkxODYsMTQ0MDg1ODksMTU1NjE3NSwxMDQxMDcyNV0ubWFwKHhuKSx6bD1bMzc1MDc3Nyw1Mzk1NjE5LDcwNDA3MTksMTAyNjQyODYsNjUxOTA5Nyw5MjE2NTk0LDExOTE1MTE1LDEzNTU2NjM2LDkyMDI5OTMsMTI0MjY4MDksMTUxODY1MTQsMTUxOTA5MzIsODY2NjE2OSwxMTM1NjQ5MCwxNDA0OTY0MywxNTE3NzM3Miw4MDc3NjgzLDEwODM0MzI0LDEzNTI4NTA5LDE0NTg5NjU0XS5tYXAoeG4pLExsPVszMjQ0NzMzLDcwNTcxMTAsMTA0MDY2MjUsMTMwMzI0MzEsMTUwOTUwNTMsMTY2MTY3NjQsMTY2MjUyNTksMTY2MzQwMTgsMzI1MzA3Niw3NjUyNDcwLDEwNjA3MDAzLDEzMTAxNTA0LDc2OTUyODEsMTAzOTQzMTIsMTIzNjkzNzIsMTQzNDI4OTEsNjUxMzUwNyw5ODY4OTUwLDEyNDM0ODc3LDE0Mjc3MDgxXS5tYXAoeG4pO29hLnNjYWxlLnF1YW50aWxlPWZ1bmN0aW9uKCl7cmV0dXJuIG9pKFtdLFtdKX0sb2Euc2NhbGUucXVhbnRpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbGkoMCwxLFswLDFdKX0sb2Euc2NhbGUudGhyZXNob2xkPWZ1bmN0aW9uKCl7cmV0dXJuIGNpKFsuNV0sWzAsMV0pfSxvYS5zY2FsZS5pZGVudGl0eT1mdW5jdGlvbigpe3JldHVybiBzaShbMCwxXSl9LG9hLnN2Zz17fSxvYS5zdmcuYXJjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuPU1hdGgubWF4KDAsK2UuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxjPU1hdGgubWF4KDAsK3IuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxzPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpLU9hLGY9by5hcHBseSh0aGlzLGFyZ3VtZW50cyktT2EsaD1NYXRoLmFicyhmLXMpLGc9cz5mPzA6MTtpZihuPmMmJihwPWMsYz1uLG49cCksaD49SGEpcmV0dXJuIHQoYyxnKSsobj90KG4sMS1nKTpcIlwiKStcIlpcIjt2YXIgcCx2LGQsbSx5LE0seCxiLF8sdyxTLGssTj0wLEU9MCxBPVtdO2lmKChtPSgrbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDApLzIpJiYoZD1pPT09cWw/TWF0aC5zcXJ0KG4qbitjKmMpOitpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxnfHwoRSo9LTEpLGMmJihFPXRuKGQvYypNYXRoLnNpbihtKSkpLG4mJihOPXRuKGQvbipNYXRoLnNpbihtKSkpKSxjKXt5PWMqTWF0aC5jb3MocytFKSxNPWMqTWF0aC5zaW4ocytFKSx4PWMqTWF0aC5jb3MoZi1FKSxiPWMqTWF0aC5zaW4oZi1FKTt2YXIgQz1NYXRoLmFicyhmLXMtMipFKTw9amE/MDoxO2lmKEUmJm1pKHksTSx4LGIpPT09Z15DKXt2YXIgej0ocytmKS8yO3k9YypNYXRoLmNvcyh6KSxNPWMqTWF0aC5zaW4oeikseD1iPW51bGx9fWVsc2UgeT1NPTA7aWYobil7Xz1uKk1hdGguY29zKGYtTiksdz1uKk1hdGguc2luKGYtTiksUz1uKk1hdGguY29zKHMrTiksaz1uKk1hdGguc2luKHMrTik7dmFyIEw9TWF0aC5hYnMocy1mKzIqTik8PWphPzA6MTtpZihOJiZtaShfLHcsUyxrKT09PTEtZ15MKXt2YXIgcT0ocytmKS8yO189bipNYXRoLmNvcyhxKSx3PW4qTWF0aC5zaW4ocSksUz1rPW51bGx9fWVsc2UgXz13PTA7aWYoaD5QYSYmKHA9TWF0aC5taW4oTWF0aC5hYnMoYy1uKS8yLCt1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpPi4wMDEpe3Y9Yz5uXmc/MDoxO3ZhciBUPXAsUj1wO2lmKGphPmgpe3ZhciBEPW51bGw9PVM/W18sd106bnVsbD09eD9beSxNXTpSZShbeSxNXSxbUyxrXSxbeCxiXSxbXyx3XSksUD15LURbMF0sVT1NLURbMV0saj14LURbMF0sRj1iLURbMV0sSD0xL01hdGguc2luKE1hdGguYWNvcygoUCpqK1UqRikvKE1hdGguc3FydChQKlArVSpVKSpNYXRoLnNxcnQoaipqK0YqRikpKS8yKSxPPU1hdGguc3FydChEWzBdKkRbMF0rRFsxXSpEWzFdKTtSPU1hdGgubWluKHAsKG4tTykvKEgtMSkpLFQ9TWF0aC5taW4ocCwoYy1PKS8oSCsxKSl9aWYobnVsbCE9eCl7dmFyIEk9eWkobnVsbD09Uz9bXyx3XTpbUyxrXSxbeSxNXSxjLFQsZyksWT15aShbeCxiXSxbXyx3XSxjLFQsZyk7cD09PVQ/QS5wdXNoKFwiTVwiLElbMF0sXCJBXCIsVCxcIixcIixULFwiIDAgMCxcIix2LFwiIFwiLElbMV0sXCJBXCIsYyxcIixcIixjLFwiIDAgXCIsMS1nXm1pKElbMV1bMF0sSVsxXVsxXSxZWzFdWzBdLFlbMV1bMV0pLFwiLFwiLGcsXCIgXCIsWVsxXSxcIkFcIixULFwiLFwiLFQsXCIgMCAwLFwiLHYsXCIgXCIsWVswXSk6QS5wdXNoKFwiTVwiLElbMF0sXCJBXCIsVCxcIixcIixULFwiIDAgMSxcIix2LFwiIFwiLFlbMF0pfWVsc2UgQS5wdXNoKFwiTVwiLHksXCIsXCIsTSk7aWYobnVsbCE9Uyl7dmFyIFo9eWkoW3ksTV0sW1Msa10sbiwtUixnKSxWPXlpKFtfLHddLG51bGw9PXg/W3ksTV06W3gsYl0sbiwtUixnKTtwPT09Uj9BLnB1c2goXCJMXCIsVlswXSxcIkFcIixSLFwiLFwiLFIsXCIgMCAwLFwiLHYsXCIgXCIsVlsxXSxcIkFcIixuLFwiLFwiLG4sXCIgMCBcIixnXm1pKFZbMV1bMF0sVlsxXVsxXSxaWzFdWzBdLFpbMV1bMV0pLFwiLFwiLDEtZyxcIiBcIixaWzFdLFwiQVwiLFIsXCIsXCIsUixcIiAwIDAsXCIsdixcIiBcIixaWzBdKTpBLnB1c2goXCJMXCIsVlswXSxcIkFcIixSLFwiLFwiLFIsXCIgMCAwLFwiLHYsXCIgXCIsWlswXSl9ZWxzZSBBLnB1c2goXCJMXCIsXyxcIixcIix3KX1lbHNlIEEucHVzaChcIk1cIix5LFwiLFwiLE0pLG51bGwhPXgmJkEucHVzaChcIkFcIixjLFwiLFwiLGMsXCIgMCBcIixDLFwiLFwiLGcsXCIgXCIseCxcIixcIixiKSxBLnB1c2goXCJMXCIsXyxcIixcIix3KSxudWxsIT1TJiZBLnB1c2goXCJBXCIsbixcIixcIixuLFwiIDAgXCIsTCxcIixcIiwxLWcsXCIgXCIsUyxcIixcIixrKTtyZXR1cm4gQS5wdXNoKFwiWlwiKSxBLmpvaW4oXCJcIil9ZnVuY3Rpb24gdChuLHQpe3JldHVyblwiTTAsXCIrbitcIkFcIituK1wiLFwiK24rXCIgMCAxLFwiK3QrXCIgMCxcIistbitcIkFcIituK1wiLFwiK24rXCIgMCAxLFwiK3QrXCIgMCxcIitufXZhciBlPWhpLHI9Z2ksdT1maSxpPXFsLGE9cGksbz12aSxsPWRpO3JldHVybiBuLmlubmVyUmFkaXVzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPUVuKHQpLG4pOmV9LG4ub3V0ZXJSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9RW4odCksbik6cn0sbi5jb3JuZXJSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9RW4odCksbik6dX0sbi5wYWRSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9dD09cWw/cWw6RW4odCksbik6aX0sbi5zdGFydEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPUVuKHQpLG4pOmF9LG4uZW5kQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89RW4odCksbik6b30sbi5wYWRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1Fbih0KSxuKTpsfSxuLmNlbnRyb2lkPWZ1bmN0aW9uKCl7dmFyIG49KCtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSsgK3IuYXBwbHkodGhpcyxhcmd1bWVudHMpKS8yLHQ9KCthLmFwcGx5KHRoaXMsYXJndW1lbnRzKSsgK28uYXBwbHkodGhpcyxhcmd1bWVudHMpKS8yLU9hO3JldHVybltNYXRoLmNvcyh0KSpuLE1hdGguc2luKHQpKm5dfSxufTt2YXIgcWw9XCJhdXRvXCI7b2Euc3ZnLmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gTWkoeSl9O3ZhciBUbD1vYS5tYXAoe2xpbmVhcjp4aSxcImxpbmVhci1jbG9zZWRcIjpiaSxzdGVwOl9pLFwic3RlcC1iZWZvcmVcIjp3aSxcInN0ZXAtYWZ0ZXJcIjpTaSxiYXNpczp6aSxcImJhc2lzLW9wZW5cIjpMaSxcImJhc2lzLWNsb3NlZFwiOnFpLGJ1bmRsZTpUaSxjYXJkaW5hbDpFaSxcImNhcmRpbmFsLW9wZW5cIjpraSxcImNhcmRpbmFsLWNsb3NlZFwiOk5pLG1vbm90b25lOkZpfSk7VGwuZm9yRWFjaChmdW5jdGlvbihuLHQpe3Qua2V5PW4sdC5jbG9zZWQ9Ly1jbG9zZWQkLy50ZXN0KG4pfSk7dmFyIFJsPVswLDIvMywxLzMsMF0sRGw9WzAsMS8zLDIvMywwXSxQbD1bMCwxLzYsMi8zLDEvNl07b2Euc3ZnLmxpbmUucmFkaWFsPWZ1bmN0aW9uKCl7dmFyIG49TWkoSGkpO3JldHVybiBuLnJhZGl1cz1uLngsZGVsZXRlIG4ueCxuLmFuZ2xlPW4ueSxkZWxldGUgbi55LG59LHdpLnJldmVyc2U9U2ksU2kucmV2ZXJzZT13aSxvYS5zdmcuYXJlYT1mdW5jdGlvbigpe3JldHVybiBPaSh5KX0sb2Euc3ZnLmFyZWEucmFkaWFsPWZ1bmN0aW9uKCl7dmFyIG49T2koSGkpO3JldHVybiBuLnJhZGl1cz1uLngsZGVsZXRlIG4ueCxuLmlubmVyUmFkaXVzPW4ueDAsZGVsZXRlIG4ueDAsbi5vdXRlclJhZGl1cz1uLngxLGRlbGV0ZSBuLngxLG4uYW5nbGU9bi55LGRlbGV0ZSBuLnksbi5zdGFydEFuZ2xlPW4ueTAsZGVsZXRlIG4ueTAsbi5lbmRBbmdsZT1uLnkxLGRlbGV0ZSBuLnkxLG59LG9hLnN2Zy5jaG9yZD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obixvKXt2YXIgbD10KHRoaXMsaSxuLG8pLGM9dCh0aGlzLGEsbixvKTtyZXR1cm5cIk1cIitsLnAwK3IobC5yLGwucDEsbC5hMS1sLmEwKSsoZShsLGMpP3UobC5yLGwucDEsbC5yLGwucDApOnUobC5yLGwucDEsYy5yLGMucDApK3IoYy5yLGMucDEsYy5hMS1jLmEwKSt1KGMucixjLnAxLGwucixsLnAwKSkrXCJaXCJ9ZnVuY3Rpb24gdChuLHQsZSxyKXt2YXIgdT10LmNhbGwobixlLHIpLGk9by5jYWxsKG4sdSxyKSxhPWwuY2FsbChuLHUsciktT2Escz1jLmNhbGwobix1LHIpLU9hO3JldHVybntyOmksYTA6YSxhMTpzLHAwOltpKk1hdGguY29zKGEpLGkqTWF0aC5zaW4oYSldLHAxOltpKk1hdGguY29zKHMpLGkqTWF0aC5zaW4ocyldfX1mdW5jdGlvbiBlKG4sdCl7cmV0dXJuIG4uYTA9PXQuYTAmJm4uYTE9PXQuYTF9ZnVuY3Rpb24gcihuLHQsZSl7cmV0dXJuXCJBXCIrbitcIixcIituK1wiIDAgXCIrICsoZT5qYSkrXCIsMSBcIit0fWZ1bmN0aW9uIHUobix0LGUscil7cmV0dXJuXCJRIDAsMCBcIityfXZhciBpPU1lLGE9eGUsbz1JaSxsPXBpLGM9dmk7cmV0dXJuIG4ucmFkaXVzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPUVuKHQpLG4pOm99LG4uc291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPUVuKHQpLG4pOml9LG4udGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPUVuKHQpLG4pOmF9LG4uc3RhcnRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1Fbih0KSxuKTpsfSxuLmVuZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPUVuKHQpLG4pOmN9LG59LG9hLnN2Zy5kaWFnb25hbD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix1KXt2YXIgaT10LmNhbGwodGhpcyxuLHUpLGE9ZS5jYWxsKHRoaXMsbix1KSxvPShpLnkrYS55KS8yLGw9W2kse3g6aS54LHk6b30se3g6YS54LHk6b30sYV07cmV0dXJuIGw9bC5tYXAociksXCJNXCIrbFswXStcIkNcIitsWzFdK1wiIFwiK2xbMl0rXCIgXCIrbFszXX12YXIgdD1NZSxlPXhlLHI9WWk7cmV0dXJuIG4uc291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PUVuKGUpLG4pOnR9LG4udGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPUVuKHQpLG4pOmV9LG4ucHJvamVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10LG4pOnJ9LG59LG9hLnN2Zy5kaWFnb25hbC5yYWRpYWw9ZnVuY3Rpb24oKXt2YXIgbj1vYS5zdmcuZGlhZ29uYWwoKSx0PVlpLGU9bi5wcm9qZWN0aW9uO3JldHVybiBuLnByb2plY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/ZShaaSh0PW4pKTp0fSxufSxvYS5zdmcuc3ltYm9sPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHIpe3JldHVybihVbC5nZXQodC5jYWxsKHRoaXMsbixyKSl8fCRpKShlLmNhbGwodGhpcyxuLHIpKX12YXIgdD1YaSxlPVZpO3JldHVybiBuLnR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9RW4oZSksbik6dH0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPUVuKHQpLG4pOmV9LG59O3ZhciBVbD1vYS5tYXAoe2NpcmNsZTokaSxjcm9zczpmdW5jdGlvbihuKXt2YXIgdD1NYXRoLnNxcnQobi81KS8yO3JldHVyblwiTVwiKy0zKnQrXCIsXCIrLXQrXCJIXCIrLXQrXCJWXCIrLTMqdCtcIkhcIit0K1wiVlwiKy10K1wiSFwiKzMqdCtcIlZcIit0K1wiSFwiK3QrXCJWXCIrMyp0K1wiSFwiKy10K1wiVlwiK3QrXCJIXCIrLTMqdCtcIlpcIn0sZGlhbW9uZDpmdW5jdGlvbihuKXt2YXIgdD1NYXRoLnNxcnQobi8oMipGbCkpLGU9dCpGbDtyZXR1cm5cIk0wLFwiKy10K1wiTFwiK2UrXCIsMCAwLFwiK3QrXCIgXCIrLWUrXCIsMFpcIn0sc3F1YXJlOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuKS8yO3JldHVyblwiTVwiKy10K1wiLFwiKy10K1wiTFwiK3QrXCIsXCIrLXQrXCIgXCIrdCtcIixcIit0K1wiIFwiKy10K1wiLFwiK3QrXCJaXCJ9LFwidHJpYW5nbGUtZG93blwiOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuL2psKSxlPXQqamwvMjtyZXR1cm5cIk0wLFwiK2UrXCJMXCIrdCtcIixcIistZStcIiBcIistdCtcIixcIistZStcIlpcIn0sXCJ0cmlhbmdsZS11cFwiOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuL2psKSxlPXQqamwvMjtyZXR1cm5cIk0wLFwiKy1lK1wiTFwiK3QrXCIsXCIrZStcIiBcIistdCtcIixcIitlK1wiWlwifX0pO29hLnN2Zy5zeW1ib2xUeXBlcz1VbC5rZXlzKCk7dmFyIGpsPU1hdGguc3FydCgzKSxGbD1NYXRoLnRhbigzMCpJYSk7QWEudHJhbnNpdGlvbj1mdW5jdGlvbihuKXtmb3IodmFyIHQsZSxyPUhsfHwrK1psLHU9S2kobiksaT1bXSxhPU9sfHx7dGltZTpEYXRlLm5vdygpLGVhc2U6TnIsZGVsYXk6MCxkdXJhdGlvbjoyNTB9LG89LTEsbD10aGlzLmxlbmd0aDsrK288bDspe2kucHVzaCh0PVtdKTtmb3IodmFyIGM9dGhpc1tvXSxzPS0xLGY9Yy5sZW5ndGg7KytzPGY7KShlPWNbc10pJiZRaShlLHMsdSxyLGEpLHQucHVzaChlKX1yZXR1cm4gV2koaSx1LHIpfSxBYS5pbnRlcnJ1cHQ9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChudWxsPT1uP0lsOkJpKEtpKG4pKSl9O3ZhciBIbCxPbCxJbD1CaShLaSgpKSxZbD1bXSxabD0wO1lsLmNhbGw9QWEuY2FsbCxZbC5lbXB0eT1BYS5lbXB0eSxZbC5ub2RlPUFhLm5vZGUsWWwuc2l6ZT1BYS5zaXplLG9hLnRyYW5zaXRpb249ZnVuY3Rpb24obix0KXtyZXR1cm4gbiYmbi50cmFuc2l0aW9uP0hsP24udHJhbnNpdGlvbih0KTpuOm9hLnNlbGVjdGlvbigpLnRyYW5zaXRpb24obil9LG9hLnRyYW5zaXRpb24ucHJvdG90eXBlPVlsLFlsLnNlbGVjdD1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdT10aGlzLmlkLGk9dGhpcy5uYW1lc3BhY2UsYT1bXTtuPUEobik7Zm9yKHZhciBvPS0xLGw9dGhpcy5sZW5ndGg7KytvPGw7KXthLnB1c2godD1bXSk7Zm9yKHZhciBjPXRoaXNbb10scz0tMSxmPWMubGVuZ3RoOysrczxmOykocj1jW3NdKSYmKGU9bi5jYWxsKHIsci5fX2RhdGFfXyxzLG8pKT8oXCJfX2RhdGFfX1wiaW4gciYmKGUuX19kYXRhX189ci5fX2RhdGFfXyksUWkoZSxzLGksdSxyW2ldW3VdKSx0LnB1c2goZSkpOnQucHVzaChudWxsKX1yZXR1cm4gV2koYSxpLHUpfSxZbC5zZWxlY3RBbGw9ZnVuY3Rpb24obil7dmFyIHQsZSxyLHUsaSxhPXRoaXMuaWQsbz10aGlzLm5hbWVzcGFjZSxsPVtdO249QyhuKTtmb3IodmFyIGM9LTEscz10aGlzLmxlbmd0aDsrK2M8czspZm9yKHZhciBmPXRoaXNbY10saD0tMSxnPWYubGVuZ3RoOysraDxnOylpZihyPWZbaF0pe2k9cltvXVthXSxlPW4uY2FsbChyLHIuX19kYXRhX18saCxjKSxsLnB1c2godD1bXSk7Zm9yKHZhciBwPS0xLHY9ZS5sZW5ndGg7KytwPHY7KSh1PWVbcF0pJiZRaSh1LHAsbyxhLGkpLHQucHVzaCh1KX1yZXR1cm4gV2kobCxvLGEpfSxZbC5maWx0ZXI9ZnVuY3Rpb24obil7dmFyIHQsZSxyLHU9W107XCJmdW5jdGlvblwiIT10eXBlb2YgbiYmKG49TyhuKSk7Zm9yKHZhciBpPTAsYT10aGlzLmxlbmd0aDthPmk7aSsrKXt1LnB1c2godD1bXSk7Zm9yKHZhciBlPXRoaXNbaV0sbz0wLGw9ZS5sZW5ndGg7bD5vO28rKykocj1lW29dKSYmbi5jYWxsKHIsci5fX2RhdGFfXyxvLGkpJiZ0LnB1c2gocil9cmV0dXJuIFdpKHUsdGhpcy5uYW1lc3BhY2UsdGhpcy5pZCl9LFlsLnR3ZWVuPWZ1bmN0aW9uKG4sdCl7dmFyIGU9dGhpcy5pZCxyPXRoaXMubmFtZXNwYWNlO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/dGhpcy5ub2RlKClbcl1bZV0udHdlZW4uZ2V0KG4pOlkodGhpcyxudWxsPT10P2Z1bmN0aW9uKHQpe3Rbcl1bZV0udHdlZW4ucmVtb3ZlKG4pfTpmdW5jdGlvbih1KXt1W3JdW2VdLnR3ZWVuLnNldChuLHQpfSl9LFlsLmF0dHI9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGUobyl9ZnVuY3Rpb24gcigpe3RoaXMucmVtb3ZlQXR0cmlidXRlTlMoby5zcGFjZSxvLmxvY2FsKX1mdW5jdGlvbiB1KG4pe3JldHVybiBudWxsPT1uP2U6KG4rPVwiXCIsZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZ2V0QXR0cmlidXRlKG8pO3JldHVybiBlIT09biYmKHQ9YShlLG4pLGZ1bmN0aW9uKG4pe3RoaXMuc2V0QXR0cmlidXRlKG8sdChuKSl9KX0pfWZ1bmN0aW9uIGkobil7cmV0dXJuIG51bGw9PW4/cjoobis9XCJcIixmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5nZXRBdHRyaWJ1dGVOUyhvLnNwYWNlLG8ubG9jYWwpO3JldHVybiBlIT09biYmKHQ9YShlLG4pLGZ1bmN0aW9uKG4pe3RoaXMuc2V0QXR0cmlidXRlTlMoby5zcGFjZSxvLmxvY2FsLHQobikpfSl9KX1pZihhcmd1bWVudHMubGVuZ3RoPDIpe2Zvcih0IGluIG4pdGhpcy5hdHRyKHQsblt0XSk7cmV0dXJuIHRoaXN9dmFyIGE9XCJ0cmFuc2Zvcm1cIj09bj8kcjpNcixvPW9hLm5zLnF1YWxpZnkobik7cmV0dXJuIEppKHRoaXMsXCJhdHRyLlwiK24sdCxvLmxvY2FsP2k6dSl9LFlsLmF0dHJUd2Vlbj1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobixlKXt2YXIgcj10LmNhbGwodGhpcyxuLGUsdGhpcy5nZXRBdHRyaWJ1dGUodSkpO3JldHVybiByJiZmdW5jdGlvbihuKXt0aGlzLnNldEF0dHJpYnV0ZSh1LHIobikpfX1mdW5jdGlvbiByKG4sZSl7dmFyIHI9dC5jYWxsKHRoaXMsbixlLHRoaXMuZ2V0QXR0cmlidXRlTlModS5zcGFjZSx1LmxvY2FsKSk7cmV0dXJuIHImJmZ1bmN0aW9uKG4pe3RoaXMuc2V0QXR0cmlidXRlTlModS5zcGFjZSx1LmxvY2FsLHIobikpfX12YXIgdT1vYS5ucy5xdWFsaWZ5KG4pO3JldHVybiB0aGlzLnR3ZWVuKFwiYXR0ci5cIituLHUubG9jYWw/cjplKX0sWWwuc3R5bGU9ZnVuY3Rpb24obixlLHIpe2Z1bmN0aW9uIHUoKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG4pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIG51bGw9PWU/dTooZSs9XCJcIixmdW5jdGlvbigpe3ZhciB1LGk9dCh0aGlzKS5nZXRDb21wdXRlZFN0eWxlKHRoaXMsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuKTtyZXR1cm4gaSE9PWUmJih1PU1yKGksZSksZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLHUodCkscil9KX0pfXZhciBhPWFyZ3VtZW50cy5sZW5ndGg7aWYoMz5hKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil7Mj5hJiYoZT1cIlwiKTtmb3IociBpbiBuKXRoaXMuc3R5bGUocixuW3JdLGUpO3JldHVybiB0aGlzfXI9XCJcIn1yZXR1cm4gSmkodGhpcyxcInN0eWxlLlwiK24sZSxpKX0sWWwuc3R5bGVUd2Vlbj1mdW5jdGlvbihuLGUscil7ZnVuY3Rpb24gdSh1LGkpe3ZhciBhPWUuY2FsbCh0aGlzLHUsaSx0KHRoaXMpLmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG4pKTtyZXR1cm4gYSYmZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLGEodCkscil9fXJldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihyPVwiXCIpLHRoaXMudHdlZW4oXCJzdHlsZS5cIituLHUpfSxZbC50ZXh0PWZ1bmN0aW9uKG4pe3JldHVybiBKaSh0aGlzLFwidGV4dFwiLG4sR2kpfSxZbC5yZW1vdmU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm5hbWVzcGFjZTtyZXR1cm4gdGhpcy5lYWNoKFwiZW5kLnRyYW5zaXRpb25cIixmdW5jdGlvbigpe3ZhciB0O3RoaXNbbl0uY291bnQ8MiYmKHQ9dGhpcy5wYXJlbnROb2RlKSYmdC5yZW1vdmVDaGlsZCh0aGlzKX0pfSxZbC5lYXNlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuaWQsZT10aGlzLm5hbWVzcGFjZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpW2VdW3RdLmVhc2U6KFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJihuPW9hLmVhc2UuYXBwbHkob2EsYXJndW1lbnRzKSksWSh0aGlzLGZ1bmN0aW9uKHIpe3JbZV1bdF0uZWFzZT1ufSkpfSxZbC5kZWxheT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLmlkLGU9dGhpcy5uYW1lc3BhY2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MT90aGlzLm5vZGUoKVtlXVt0XS5kZWxheTpZKHRoaXMsXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9mdW5jdGlvbihyLHUsaSl7cltlXVt0XS5kZWxheT0rbi5jYWxsKHIsci5fX2RhdGFfXyx1LGkpfToobj0rbixmdW5jdGlvbihyKXtyW2VdW3RdLmRlbGF5PW59KSl9LFlsLmR1cmF0aW9uPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuaWQsZT10aGlzLm5hbWVzcGFjZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpW2VdW3RdLmR1cmF0aW9uOlkodGhpcyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2Z1bmN0aW9uKHIsdSxpKXtyW2VdW3RdLmR1cmF0aW9uPU1hdGgubWF4KDEsbi5jYWxsKHIsci5fX2RhdGFfXyx1LGkpKX06KG49TWF0aC5tYXgoMSxuKSxmdW5jdGlvbihyKXtyW2VdW3RdLmR1cmF0aW9uPW59KSl9LFlsLmVhY2g9ZnVuY3Rpb24obix0KXt2YXIgZT10aGlzLmlkLHI9dGhpcy5uYW1lc3BhY2U7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXt2YXIgdT1PbCxpPUhsO3RyeXtIbD1lLFkodGhpcyxmdW5jdGlvbih0LHUsaSl7T2w9dFtyXVtlXSxuLmNhbGwodCx0Ll9fZGF0YV9fLHUsaSl9KX1maW5hbGx5e09sPXUsSGw9aX19ZWxzZSBZKHRoaXMsZnVuY3Rpb24odSl7dmFyIGk9dVtyXVtlXTsoaS5ldmVudHx8KGkuZXZlbnQ9b2EuZGlzcGF0Y2goXCJzdGFydFwiLFwiZW5kXCIsXCJpbnRlcnJ1cHRcIikpKS5vbihuLHQpfSk7cmV0dXJuIHRoaXN9LFlsLnRyYW5zaXRpb249ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlLHIsdT10aGlzLmlkLGk9KytabCxhPXRoaXMubmFtZXNwYWNlLG89W10sbD0wLGM9dGhpcy5sZW5ndGg7Yz5sO2wrKyl7by5wdXNoKG49W10pO2Zvcih2YXIgdD10aGlzW2xdLHM9MCxmPXQubGVuZ3RoO2Y+cztzKyspKGU9dFtzXSkmJihyPWVbYV1bdV0sUWkoZSxzLGEsaSx7dGltZTpyLnRpbWUsZWFzZTpyLmVhc2UsZGVsYXk6ci5kZWxheStyLmR1cmF0aW9uLGR1cmF0aW9uOnIuZHVyYXRpb259KSksbi5wdXNoKGUpfXJldHVybiBXaShvLGEsaSl9LG9hLnN2Zy5heGlzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtuLmVhY2goZnVuY3Rpb24oKXt2YXIgbixjPW9hLnNlbGVjdCh0aGlzKSxzPXRoaXMuX19jaGFydF9ffHxlLGY9dGhpcy5fX2NoYXJ0X189ZS5jb3B5KCksaD1udWxsPT1sP2YudGlja3M/Zi50aWNrcy5hcHBseShmLG8pOmYuZG9tYWluKCk6bCxnPW51bGw9PXQ/Zi50aWNrRm9ybWF0P2YudGlja0Zvcm1hdC5hcHBseShmLG8pOnk6dCxwPWMuc2VsZWN0QWxsKFwiLnRpY2tcIikuZGF0YShoLGYpLHY9cC5lbnRlcigpLmluc2VydChcImdcIixcIi5kb21haW5cIikuYXR0cihcImNsYXNzXCIsXCJ0aWNrXCIpLnN0eWxlKFwib3BhY2l0eVwiLFBhKSxkPW9hLnRyYW5zaXRpb24ocC5leGl0KCkpLnN0eWxlKFwib3BhY2l0eVwiLFBhKS5yZW1vdmUoKSxtPW9hLnRyYW5zaXRpb24ocC5vcmRlcigpKS5zdHlsZShcIm9wYWNpdHlcIiwxKSxNPU1hdGgubWF4KHUsMCkrYSx4PVp1KGYpLGI9Yy5zZWxlY3RBbGwoXCIuZG9tYWluXCIpLmRhdGEoWzBdKSxfPShiLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixcImRvbWFpblwiKSxvYS50cmFuc2l0aW9uKGIpKTt2LmFwcGVuZChcImxpbmVcIiksdi5hcHBlbmQoXCJ0ZXh0XCIpO3ZhciB3LFMsayxOLEU9di5zZWxlY3QoXCJsaW5lXCIpLEE9bS5zZWxlY3QoXCJsaW5lXCIpLEM9cC5zZWxlY3QoXCJ0ZXh0XCIpLnRleHQoZyksej12LnNlbGVjdChcInRleHRcIiksTD1tLnNlbGVjdChcInRleHRcIikscT1cInRvcFwiPT09cnx8XCJsZWZ0XCI9PT1yPy0xOjE7aWYoXCJib3R0b21cIj09PXJ8fFwidG9wXCI9PT1yPyhuPW5hLHc9XCJ4XCIsaz1cInlcIixTPVwieDJcIixOPVwieTJcIixDLmF0dHIoXCJkeVwiLDA+cT9cIjBlbVwiOlwiLjcxZW1cIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLF8uYXR0cihcImRcIixcIk1cIit4WzBdK1wiLFwiK3EqaStcIlYwSFwiK3hbMV0rXCJWXCIrcSppKSk6KG49dGEsdz1cInlcIixrPVwieFwiLFM9XCJ5MlwiLE49XCJ4MlwiLEMuYXR0cihcImR5XCIsXCIuMzJlbVwiKS5zdHlsZShcInRleHQtYW5jaG9yXCIsMD5xP1wiZW5kXCI6XCJzdGFydFwiKSxfLmF0dHIoXCJkXCIsXCJNXCIrcSppK1wiLFwiK3hbMF0rXCJIMFZcIit4WzFdK1wiSFwiK3EqaSkpLEUuYXR0cihOLHEqdSksei5hdHRyKGsscSpNKSxBLmF0dHIoUywwKS5hdHRyKE4scSp1KSxMLmF0dHIodywwKS5hdHRyKGsscSpNKSxmLnJhbmdlQmFuZCl7dmFyIFQ9ZixSPVQucmFuZ2VCYW5kKCkvMjtzPWY9ZnVuY3Rpb24obil7cmV0dXJuIFQobikrUn19ZWxzZSBzLnJhbmdlQmFuZD9zPWY6ZC5jYWxsKG4sZixzKTt2LmNhbGwobixzLGYpLG0uY2FsbChuLGYsZil9KX12YXIgdCxlPW9hLnNjYWxlLmxpbmVhcigpLHI9VmwsdT02LGk9NixhPTMsbz1bMTBdLGw9bnVsbDtyZXR1cm4gbi5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4ub3JpZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQgaW4gWGw/dCtcIlwiOlZsLG4pOnJ9LG4udGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1jYShhcmd1bWVudHMpLG4pOm99LG4udGlja1ZhbHVlcz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD10LG4pOmx9LG4udGlja0Zvcm1hdD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1lLG4pOnR9LG4udGlja1NpemU9ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gZT8odT0rdCxpPSthcmd1bWVudHNbZS0xXSxuKTp1fSxuLmlubmVyVGlja1NpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9K3Qsbik6dX0sbi5vdXRlclRpY2tTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSt0LG4pOml9LG4udGlja1BhZGRpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9K3Qsbik6YX0sbi50aWNrU3ViZGl2aWRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJm59LG59O3ZhciBWbD1cImJvdHRvbVwiLFhsPXt0b3A6MSxyaWdodDoxLGJvdHRvbToxLGxlZnQ6MX07b2Euc3ZnLmJydXNoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt0LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1vYS5zZWxlY3QodGhpcykuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwiYWxsXCIpLnN0eWxlKFwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCIsXCJyZ2JhKDAsMCwwLDApXCIpLm9uKFwibW91c2Vkb3duLmJydXNoXCIsaSkub24oXCJ0b3VjaHN0YXJ0LmJydXNoXCIsaSksYT10LnNlbGVjdEFsbChcIi5iYWNrZ3JvdW5kXCIpLmRhdGEoWzBdKTthLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixcImJhY2tncm91bmRcIikuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikuc3R5bGUoXCJjdXJzb3JcIixcImNyb3NzaGFpclwiKSx0LnNlbGVjdEFsbChcIi5leHRlbnRcIikuZGF0YShbMF0pLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixcImV4dGVudFwiKS5zdHlsZShcImN1cnNvclwiLFwibW92ZVwiKTt2YXIgbz10LnNlbGVjdEFsbChcIi5yZXNpemVcIikuZGF0YSh2LHkpO28uZXhpdCgpLnJlbW92ZSgpLG8uZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKG4pe3JldHVyblwicmVzaXplIFwiK259KS5zdHlsZShcImN1cnNvclwiLGZ1bmN0aW9uKG4pe3JldHVybiAkbFtuXX0pLmFwcGVuZChcInJlY3RcIikuYXR0cihcInhcIixmdW5jdGlvbihuKXtyZXR1cm4vW2V3XSQvLnRlc3Qobik/LTM6bnVsbH0pLmF0dHIoXCJ5XCIsZnVuY3Rpb24obil7cmV0dXJuL15bbnNdLy50ZXN0KG4pPy0zOm51bGx9KS5hdHRyKFwid2lkdGhcIiw2KS5hdHRyKFwiaGVpZ2h0XCIsNikuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksby5zdHlsZShcImRpc3BsYXlcIixuLmVtcHR5KCk/XCJub25lXCI6bnVsbCk7dmFyIGwsZj1vYS50cmFuc2l0aW9uKHQpLGg9b2EudHJhbnNpdGlvbihhKTtjJiYobD1adShjKSxoLmF0dHIoXCJ4XCIsbFswXSkuYXR0cihcIndpZHRoXCIsbFsxXS1sWzBdKSxyKGYpKSxzJiYobD1adShzKSxoLmF0dHIoXCJ5XCIsbFswXSkuYXR0cihcImhlaWdodFwiLGxbMV0tbFswXSksdShmKSksZShmKX0pfWZ1bmN0aW9uIGUobil7bi5zZWxlY3RBbGwoXCIucmVzaXplXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihuKXtyZXR1cm5cInRyYW5zbGF0ZShcIitmWysvZSQvLnRlc3QobildK1wiLFwiK2hbKy9ecy8udGVzdChuKV0rXCIpXCJ9KX1mdW5jdGlvbiByKG4pe24uc2VsZWN0KFwiLmV4dGVudFwiKS5hdHRyKFwieFwiLGZbMF0pLG4uc2VsZWN0QWxsKFwiLmV4dGVudCwubj5yZWN0LC5zPnJlY3RcIikuYXR0cihcIndpZHRoXCIsZlsxXS1mWzBdKX1mdW5jdGlvbiB1KG4pe24uc2VsZWN0KFwiLmV4dGVudFwiKS5hdHRyKFwieVwiLGhbMF0pLG4uc2VsZWN0QWxsKFwiLmV4dGVudCwuZT5yZWN0LC53PnJlY3RcIikuYXR0cihcImhlaWdodFwiLGhbMV0taFswXSl9ZnVuY3Rpb24gaSgpe2Z1bmN0aW9uIGkoKXszMj09b2EuZXZlbnQua2V5Q29kZSYmKEN8fChNPW51bGwsTFswXS09ZlsxXSxMWzFdLT1oWzFdLEM9MiksUygpKX1mdW5jdGlvbiB2KCl7MzI9PW9hLmV2ZW50LmtleUNvZGUmJjI9PUMmJihMWzBdKz1mWzFdLExbMV0rPWhbMV0sQz0wLFMoKSl9ZnVuY3Rpb24gZCgpe3ZhciBuPW9hLm1vdXNlKGIpLHQ9ITE7eCYmKG5bMF0rPXhbMF0sblsxXSs9eFsxXSksQ3x8KG9hLmV2ZW50LmFsdEtleT8oTXx8KE09WyhmWzBdK2ZbMV0pLzIsKGhbMF0raFsxXSkvMl0pLExbMF09ZlsrKG5bMF08TVswXSldLExbMV09aFsrKG5bMV08TVsxXSldKTpNPW51bGwpLEUmJm0obixjLDApJiYocihrKSx0PSEwKSxBJiZtKG4scywxKSYmKHUoayksdD0hMCksdCYmKGUoayksdyh7dHlwZTpcImJydXNoXCIsbW9kZTpDP1wibW92ZVwiOlwicmVzaXplXCJ9KSl9ZnVuY3Rpb24gbShuLHQsZSl7dmFyIHIsdSxpPVp1KHQpLGw9aVswXSxjPWlbMV0scz1MW2VdLHY9ZT9oOmYsZD12WzFdLXZbMF07cmV0dXJuIEMmJihsLT1zLGMtPWQrcykscj0oZT9wOmcpP01hdGgubWF4KGwsTWF0aC5taW4oYyxuW2VdKSk6bltlXSxDP3U9KHIrPXMpK2Q6KE0mJihzPU1hdGgubWF4KGwsTWF0aC5taW4oYywyKk1bZV0tcikpKSxyPnM/KHU9cixyPXMpOnU9cyksdlswXSE9cnx8dlsxXSE9dT8oZT9vPW51bGw6YT1udWxsLHZbMF09cix2WzFdPXUsITApOnZvaWQgMH1mdW5jdGlvbiB5KCl7ZCgpLGsuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwiYWxsXCIpLnNlbGVjdEFsbChcIi5yZXNpemVcIikuc3R5bGUoXCJkaXNwbGF5XCIsbi5lbXB0eSgpP1wibm9uZVwiOm51bGwpLG9hLnNlbGVjdChcImJvZHlcIikuc3R5bGUoXCJjdXJzb3JcIixudWxsKSxxLm9uKFwibW91c2Vtb3ZlLmJydXNoXCIsbnVsbCkub24oXCJtb3VzZXVwLmJydXNoXCIsbnVsbCkub24oXCJ0b3VjaG1vdmUuYnJ1c2hcIixudWxsKS5vbihcInRvdWNoZW5kLmJydXNoXCIsbnVsbCkub24oXCJrZXlkb3duLmJydXNoXCIsbnVsbCkub24oXCJrZXl1cC5icnVzaFwiLG51bGwpLHooKSx3KHt0eXBlOlwiYnJ1c2hlbmRcIn0pfXZhciBNLHgsYj10aGlzLF89b2Euc2VsZWN0KG9hLmV2ZW50LnRhcmdldCksdz1sLm9mKGIsYXJndW1lbnRzKSxrPW9hLnNlbGVjdChiKSxOPV8uZGF0dW0oKSxFPSEvXihufHMpJC8udGVzdChOKSYmYyxBPSEvXihlfHcpJC8udGVzdChOKSYmcyxDPV8uY2xhc3NlZChcImV4dGVudFwiKSx6PVcoYiksTD1vYS5tb3VzZShiKSxxPW9hLnNlbGVjdCh0KGIpKS5vbihcImtleWRvd24uYnJ1c2hcIixpKS5vbihcImtleXVwLmJydXNoXCIsdik7aWYob2EuZXZlbnQuY2hhbmdlZFRvdWNoZXM/cS5vbihcInRvdWNobW92ZS5icnVzaFwiLGQpLm9uKFwidG91Y2hlbmQuYnJ1c2hcIix5KTpxLm9uKFwibW91c2Vtb3ZlLmJydXNoXCIsZCkub24oXCJtb3VzZXVwLmJydXNoXCIseSksay5pbnRlcnJ1cHQoKS5zZWxlY3RBbGwoXCIqXCIpLmludGVycnVwdCgpLEMpTFswXT1mWzBdLUxbMF0sTFsxXT1oWzBdLUxbMV07ZWxzZSBpZihOKXt2YXIgVD0rL3ckLy50ZXN0KE4pLFI9Ky9ebi8udGVzdChOKTt4PVtmWzEtVF0tTFswXSxoWzEtUl0tTFsxXV0sTFswXT1mW1RdLExbMV09aFtSXX1lbHNlIG9hLmV2ZW50LmFsdEtleSYmKE09TC5zbGljZSgpKTtrLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIikuc2VsZWN0QWxsKFwiLnJlc2l6ZVwiKS5zdHlsZShcImRpc3BsYXlcIixudWxsKSxvYS5zZWxlY3QoXCJib2R5XCIpLnN0eWxlKFwiY3Vyc29yXCIsXy5zdHlsZShcImN1cnNvclwiKSksdyh7dHlwZTpcImJydXNoc3RhcnRcIn0pLGQoKX12YXIgYSxvLGw9TihuLFwiYnJ1c2hzdGFydFwiLFwiYnJ1c2hcIixcImJydXNoZW5kXCIpLGM9bnVsbCxzPW51bGwsZj1bMCwwXSxoPVswLDBdLGc9ITAscD0hMCx2PUJsWzBdO3JldHVybiBuLmV2ZW50PWZ1bmN0aW9uKG4pe24uZWFjaChmdW5jdGlvbigpe3ZhciBuPWwub2YodGhpcyxhcmd1bWVudHMpLHQ9e3g6Zix5OmgsaTphLGo6b30sZT10aGlzLl9fY2hhcnRfX3x8dDt0aGlzLl9fY2hhcnRfXz10LEhsP29hLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKCkuZWFjaChcInN0YXJ0LmJydXNoXCIsZnVuY3Rpb24oKXthPWUuaSxvPWUuaixmPWUueCxoPWUueSxuKHt0eXBlOlwiYnJ1c2hzdGFydFwifSl9KS50d2VlbihcImJydXNoOmJydXNoXCIsZnVuY3Rpb24oKXt2YXIgZT14cihmLHQueCkscj14cihoLHQueSk7cmV0dXJuIGE9bz1udWxsLGZ1bmN0aW9uKHUpe2Y9dC54PWUodSksaD10Lnk9cih1KSxuKHt0eXBlOlwiYnJ1c2hcIixtb2RlOlwicmVzaXplXCJ9KX19KS5lYWNoKFwiZW5kLmJydXNoXCIsZnVuY3Rpb24oKXthPXQuaSxvPXQuaixuKHt0eXBlOlwiYnJ1c2hcIixtb2RlOlwicmVzaXplXCJ9KSxuKHt0eXBlOlwiYnJ1c2hlbmRcIn0pfSk6KG4oe3R5cGU6XCJicnVzaHN0YXJ0XCJ9KSxuKHt0eXBlOlwiYnJ1c2hcIixtb2RlOlwicmVzaXplXCJ9KSxuKHt0eXBlOlwiYnJ1c2hlbmRcIn0pKX0pfSxuLng9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9dCx2PUJsWyFjPDwxfCFzXSxuKTpjfSxuLnk9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHM9dCx2PUJsWyFjPDwxfCFzXSxuKTpzfSxuLmNsYW1wPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjJiZzPyhnPSEhdFswXSxwPSEhdFsxXSk6Yz9nPSEhdDpzJiYocD0hIXQpLG4pOmMmJnM/W2cscF06Yz9nOnM/cDpudWxsfSxuLmV4dGVudD1mdW5jdGlvbih0KXt2YXIgZSxyLHUsaSxsO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjJiYoZT10WzBdLHI9dFsxXSxzJiYoZT1lWzBdLHI9clswXSksYT1bZSxyXSxjLmludmVydCYmKGU9YyhlKSxyPWMocikpLGU+ciYmKGw9ZSxlPXIscj1sKSwoZSE9ZlswXXx8ciE9ZlsxXSkmJihmPVtlLHJdKSkscyYmKHU9dFswXSxpPXRbMV0sYyYmKHU9dVsxXSxpPWlbMV0pLG89W3UsaV0scy5pbnZlcnQmJih1PXModSksaT1zKGkpKSx1PmkmJihsPXUsdT1pLGk9bCksKHUhPWhbMF18fGkhPWhbMV0pJiYoaD1bdSxpXSkpLG4pOihjJiYoYT8oZT1hWzBdLHI9YVsxXSk6KGU9ZlswXSxyPWZbMV0sYy5pbnZlcnQmJihlPWMuaW52ZXJ0KGUpLHI9Yy5pbnZlcnQocikpLGU+ciYmKGw9ZSxlPXIscj1sKSkpLHMmJihvPyh1PW9bMF0saT1vWzFdKToodT1oWzBdLGk9aFsxXSxzLmludmVydCYmKHU9cy5pbnZlcnQodSksaT1zLmludmVydChpKSksdT5pJiYobD11LHU9aSxpPWwpKSksYyYmcz9bW2UsdV0sW3IsaV1dOmM/W2Uscl06cyYmW3UsaV0pfSxuLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZW1wdHkoKXx8KGY9WzAsMF0saD1bMCwwXSxhPW89bnVsbCksbn0sbi5lbXB0eT1mdW5jdGlvbigpe3JldHVybiEhYyYmZlswXT09ZlsxXXx8ISFzJiZoWzBdPT1oWzFdfSxvYS5yZWJpbmQobixsLFwib25cIil9O3ZhciAkbD17bjpcIm5zLXJlc2l6ZVwiLGU6XCJldy1yZXNpemVcIixzOlwibnMtcmVzaXplXCIsdzpcImV3LXJlc2l6ZVwiLG53OlwibndzZS1yZXNpemVcIixuZTpcIm5lc3ctcmVzaXplXCIsc2U6XCJud3NlLXJlc2l6ZVwiLHN3OlwibmVzdy1yZXNpemVcIn0sQmw9W1tcIm5cIixcImVcIixcInNcIixcIndcIixcIm53XCIsXCJuZVwiLFwic2VcIixcInN3XCJdLFtcImVcIixcIndcIl0sW1wiblwiLFwic1wiXSxbXV0sV2w9Z28uZm9ybWF0PXhvLnRpbWVGb3JtYXQsSmw9V2wudXRjLEdsPUpsKFwiJVktJW0tJWRUJUg6JU06JVMuJUxaXCIpO1dsLmlzbz1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyYmK25ldyBEYXRlKFwiMjAwMC0wMS0wMVQwMDowMDowMC4wMDBaXCIpP2VhOkdsLGVhLnBhcnNlPWZ1bmN0aW9uKG4pe3ZhciB0PW5ldyBEYXRlKG4pO3JldHVybiBpc05hTih0KT9udWxsOnR9LGVhLnRvU3RyaW5nPUdsLnRvU3RyaW5nLGdvLnNlY29uZD1PbihmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHBvKDFlMypNYXRoLmZsb29yKG4vMWUzKSl9LGZ1bmN0aW9uKG4sdCl7bi5zZXRUaW1lKG4uZ2V0VGltZSgpKzFlMypNYXRoLmZsb29yKHQpKX0sZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0U2Vjb25kcygpfSksZ28uc2Vjb25kcz1nby5zZWNvbmQucmFuZ2UsZ28uc2Vjb25kcy51dGM9Z28uc2Vjb25kLnV0Yy5yYW5nZSxnby5taW51dGU9T24oZnVuY3Rpb24obil7cmV0dXJuIG5ldyBwbyg2ZTQqTWF0aC5mbG9vcihuLzZlNCkpfSxmdW5jdGlvbihuLHQpe24uc2V0VGltZShuLmdldFRpbWUoKSs2ZTQqTWF0aC5mbG9vcih0KSl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1pbnV0ZXMoKX0pLGdvLm1pbnV0ZXM9Z28ubWludXRlLnJhbmdlLGdvLm1pbnV0ZXMudXRjPWdvLm1pbnV0ZS51dGMucmFuZ2UsZ28uaG91cj1PbihmdW5jdGlvbihuKXt2YXIgdD1uLmdldFRpbWV6b25lT2Zmc2V0KCkvNjA7cmV0dXJuIG5ldyBwbygzNmU1KihNYXRoLmZsb29yKG4vMzZlNS10KSt0KSl9LGZ1bmN0aW9uKG4sdCl7bi5zZXRUaW1lKG4uZ2V0VGltZSgpKzM2ZTUqTWF0aC5mbG9vcih0KSl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEhvdXJzKCl9KSxnby5ob3Vycz1nby5ob3VyLnJhbmdlLGdvLmhvdXJzLnV0Yz1nby5ob3VyLnV0Yy5yYW5nZSxnby5tb250aD1PbihmdW5jdGlvbihuKXtyZXR1cm4gbj1nby5kYXkobiksbi5zZXREYXRlKDEpLG59LGZ1bmN0aW9uKG4sdCl7bi5zZXRNb250aChuLmdldE1vbnRoKCkrdCl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1vbnRoKCl9KSxnby5tb250aHM9Z28ubW9udGgucmFuZ2UsZ28ubW9udGhzLnV0Yz1nby5tb250aC51dGMucmFuZ2U7dmFyIEtsPVsxZTMsNWUzLDE1ZTMsM2U0LDZlNCwzZTUsOWU1LDE4ZTUsMzZlNSwxMDhlNSwyMTZlNSw0MzJlNSw4NjRlNSwxNzI4ZTUsNjA0OGU1LDI1OTJlNiw3Nzc2ZTYsMzE1MzZlNl0sUWw9W1tnby5zZWNvbmQsMV0sW2dvLnNlY29uZCw1XSxbZ28uc2Vjb25kLDE1XSxbZ28uc2Vjb25kLDMwXSxbZ28ubWludXRlLDFdLFtnby5taW51dGUsNV0sW2dvLm1pbnV0ZSwxNV0sW2dvLm1pbnV0ZSwzMF0sW2dvLmhvdXIsMV0sW2dvLmhvdXIsM10sW2dvLmhvdXIsNl0sW2dvLmhvdXIsMTJdLFtnby5kYXksMV0sW2dvLmRheSwyXSxbZ28ud2VlaywxXSxbZ28ubW9udGgsMV0sW2dvLm1vbnRoLDNdLFtnby55ZWFyLDFdXSxuYz1XbC5tdWx0aShbW1wiLiVMXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0TWlsbGlzZWNvbmRzKCl9XSxbXCI6JVNcIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRTZWNvbmRzKCl9XSxbXCIlSTolTVwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1pbnV0ZXMoKX1dLFtcIiVJICVwXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0SG91cnMoKX1dLFtcIiVhICVkXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0RGF5KCkmJjEhPW4uZ2V0RGF0ZSgpfV0sW1wiJWIgJWRcIixmdW5jdGlvbihuKXtyZXR1cm4gMSE9bi5nZXREYXRlKCl9XSxbXCIlQlwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1vbnRoKCl9XSxbXCIlWVwiLHp0XV0pLHRjPXtyYW5nZTpmdW5jdGlvbihuLHQsZSl7cmV0dXJuIG9hLnJhbmdlKE1hdGguY2VpbChuL2UpKmUsK3QsZSkubWFwKHVhKX0sZmxvb3I6eSxjZWlsOnl9O1FsLnllYXI9Z28ueWVhcixnby5zY2FsZT1mdW5jdGlvbigpe3JldHVybiByYShvYS5zY2FsZS5saW5lYXIoKSxRbCxuYyl9O3ZhciBlYz1RbC5tYXAoZnVuY3Rpb24obil7cmV0dXJuW25bMF0udXRjLG5bMV1dfSkscmM9SmwubXVsdGkoW1tcIi4lTFwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ01pbGxpc2Vjb25kcygpfV0sW1wiOiVTXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0VVRDU2Vjb25kcygpfV0sW1wiJUk6JU1cIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENNaW51dGVzKCl9XSxbXCIlSSAlcFwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ0hvdXJzKCl9XSxbXCIlYSAlZFwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ0RheSgpJiYxIT1uLmdldFVUQ0RhdGUoKX1dLFtcIiViICVkXCIsZnVuY3Rpb24obil7cmV0dXJuIDEhPW4uZ2V0VVRDRGF0ZSgpfV0sW1wiJUJcIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENNb250aCgpfV0sW1wiJVlcIix6dF1dKTtlYy55ZWFyPWdvLnllYXIudXRjLGdvLnNjYWxlLnV0Yz1mdW5jdGlvbigpe3JldHVybiByYShvYS5zY2FsZS5saW5lYXIoKSxlYyxyYyl9LG9hLnRleHQ9QW4oZnVuY3Rpb24obil7cmV0dXJuIG4ucmVzcG9uc2VUZXh0fSksb2EuanNvbj1mdW5jdGlvbihuLHQpe3JldHVybiBDbihuLFwiYXBwbGljYXRpb24vanNvblwiLGlhLHQpfSxvYS5odG1sPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIENuKG4sXCJ0ZXh0L2h0bWxcIixhYSx0KX0sb2EueG1sPUFuKGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlc3BvbnNlWE1MfSksXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kPyh0aGlzLmQzPW9hLGRlZmluZShvYSkpOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW9hOnRoaXMuZDM9b2F9KCk7IiwiIWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbiYmKG4ub3duZXJEb2N1bWVudHx8bi5kb2N1bWVudHx8bikuZG9jdW1lbnRFbGVtZW50fWZ1bmN0aW9uIHQobil7cmV0dXJuIG4mJihuLm93bmVyRG9jdW1lbnQmJm4ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8bi5kb2N1bWVudCYmbnx8bi5kZWZhdWx0Vmlldyl9ZnVuY3Rpb24gZShuLHQpe3JldHVybiB0Pm4/LTE6bj50PzE6bj49dD8wOjAvMH1mdW5jdGlvbiByKG4pe3JldHVybiBudWxsPT09bj8wLzA6K259ZnVuY3Rpb24gdShuKXtyZXR1cm4haXNOYU4obil9ZnVuY3Rpb24gaShuKXtyZXR1cm57bGVmdDpmdW5jdGlvbih0LGUscix1KXtmb3IoYXJndW1lbnRzLmxlbmd0aDwzJiYocj0wKSxhcmd1bWVudHMubGVuZ3RoPDQmJih1PXQubGVuZ3RoKTt1PnI7KXt2YXIgaT1yK3U+Pj4xO24odFtpXSxlKTwwP3I9aSsxOnU9aX1yZXR1cm4gcn0scmlnaHQ6ZnVuY3Rpb24odCxlLHIsdSl7Zm9yKGFyZ3VtZW50cy5sZW5ndGg8MyYmKHI9MCksYXJndW1lbnRzLmxlbmd0aDw0JiYodT10Lmxlbmd0aCk7dT5yOyl7dmFyIGk9cit1Pj4+MTtuKHRbaV0sZSk+MD91PWk6cj1pKzF9cmV0dXJuIHJ9fX1mdW5jdGlvbiBvKG4pe3JldHVybiBuLmxlbmd0aH1mdW5jdGlvbiBhKG4pe2Zvcih2YXIgdD0xO24qdCUxOyl0Kj0xMDtyZXR1cm4gdH1mdW5jdGlvbiBjKG4sdCl7Zm9yKHZhciBlIGluIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLGUse3ZhbHVlOnRbZV0sZW51bWVyYWJsZTohMX0pfWZ1bmN0aW9uIGwoKXt0aGlzLl89T2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBzKG4pe3JldHVybihuKz1cIlwiKT09PXBhfHxuWzBdPT09dmE/dmErbjpufWZ1bmN0aW9uIGYobil7cmV0dXJuKG4rPVwiXCIpWzBdPT09dmE/bi5zbGljZSgxKTpufWZ1bmN0aW9uIGgobil7cmV0dXJuIHMobilpbiB0aGlzLl99ZnVuY3Rpb24gZyhuKXtyZXR1cm4obj1zKG4pKWluIHRoaXMuXyYmZGVsZXRlIHRoaXMuX1tuXX1mdW5jdGlvbiBwKCl7dmFyIG49W107Zm9yKHZhciB0IGluIHRoaXMuXyluLnB1c2goZih0KSk7cmV0dXJuIG59ZnVuY3Rpb24gdigpe3ZhciBuPTA7Zm9yKHZhciB0IGluIHRoaXMuXykrK247cmV0dXJuIG59ZnVuY3Rpb24gZCgpe2Zvcih2YXIgbiBpbiB0aGlzLl8pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gbSgpe3RoaXMuXz1PYmplY3QuY3JlYXRlKG51bGwpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG59ZnVuY3Rpb24gTShuLHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9ZS5hcHBseSh0LGFyZ3VtZW50cyk7cmV0dXJuIHI9PT10P246cn19ZnVuY3Rpb24geChuLHQpe2lmKHQgaW4gbilyZXR1cm4gdDt0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtmb3IodmFyIGU9MCxyPWRhLmxlbmd0aDtyPmU7KytlKXt2YXIgdT1kYVtlXSt0O2lmKHUgaW4gbilyZXR1cm4gdX19ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBfKCl7fWZ1bmN0aW9uIHcobil7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgdCxyPWUsdT0tMSxpPXIubGVuZ3RoOysrdTxpOykodD1yW3VdLm9uKSYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG59dmFyIGU9W10scj1uZXcgbDtyZXR1cm4gdC5vbj1mdW5jdGlvbih0LHUpe3ZhciBpLG89ci5nZXQodCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9vJiZvLm9uOihvJiYoby5vbj1udWxsLGU9ZS5zbGljZSgwLGk9ZS5pbmRleE9mKG8pKS5jb25jYXQoZS5zbGljZShpKzEpKSxyLnJlbW92ZSh0KSksdSYmZS5wdXNoKHIuc2V0KHQse29uOnV9KSksbil9LHR9ZnVuY3Rpb24gUygpe3RhLmV2ZW50LnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaygpe2Zvcih2YXIgbix0PXRhLmV2ZW50O249dC5zb3VyY2VFdmVudDspdD1uO3JldHVybiB0fWZ1bmN0aW9uIEUobil7Zm9yKHZhciB0PW5ldyBfLGU9MCxyPWFyZ3VtZW50cy5sZW5ndGg7KytlPHI7KXRbYXJndW1lbnRzW2VdXT13KHQpO3JldHVybiB0Lm9mPWZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKHUpe3RyeXt2YXIgaT11LnNvdXJjZUV2ZW50PXRhLmV2ZW50O3UudGFyZ2V0PW4sdGEuZXZlbnQ9dSx0W3UudHlwZV0uYXBwbHkoZSxyKX1maW5hbGx5e3RhLmV2ZW50PWl9fX0sdH1mdW5jdGlvbiBBKG4pe3JldHVybiB5YShuLF9hKSxufWZ1bmN0aW9uIE4obil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOmZ1bmN0aW9uKCl7cmV0dXJuIE1hKG4sdGhpcyl9fWZ1bmN0aW9uIEMobil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOmZ1bmN0aW9uKCl7cmV0dXJuIHhhKG4sdGhpcyl9fWZ1bmN0aW9uIHoobix0KXtmdW5jdGlvbiBlKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGUobil9ZnVuY3Rpb24gcigpe3RoaXMucmVtb3ZlQXR0cmlidXRlTlMobi5zcGFjZSxuLmxvY2FsKX1mdW5jdGlvbiB1KCl7dGhpcy5zZXRBdHRyaWJ1dGUobix0KX1mdW5jdGlvbiBpKCl7dGhpcy5zZXRBdHRyaWJ1dGVOUyhuLnNwYWNlLG4ubG9jYWwsdCl9ZnVuY3Rpb24gbygpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWU/dGhpcy5yZW1vdmVBdHRyaWJ1dGUobik6dGhpcy5zZXRBdHRyaWJ1dGUobixlKX1mdW5jdGlvbiBhKCl7dmFyIGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09ZT90aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKG4uc3BhY2Usbi5sb2NhbCk6dGhpcy5zZXRBdHRyaWJ1dGVOUyhuLnNwYWNlLG4ubG9jYWwsZSl9cmV0dXJuIG49dGEubnMucXVhbGlmeShuKSxudWxsPT10P24ubG9jYWw/cjplOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bi5sb2NhbD9hOm86bi5sb2NhbD9pOnV9ZnVuY3Rpb24gcShuKXtyZXR1cm4gbi50cmltKCkucmVwbGFjZSgvXFxzKy9nLFwiIFwiKX1mdW5jdGlvbiBMKG4pe3JldHVybiBuZXcgUmVnRXhwKFwiKD86XnxcXFxccyspXCIrdGEucmVxdW90ZShuKStcIig/OlxcXFxzK3wkKVwiLFwiZ1wiKX1mdW5jdGlvbiBUKG4pe3JldHVybihuK1wiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLyl9ZnVuY3Rpb24gUihuLHQpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGU9LTE7KytlPHU7KW5bZV0odGhpcyx0KX1mdW5jdGlvbiByKCl7Zm9yKHZhciBlPS0xLHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7KytlPHU7KW5bZV0odGhpcyxyKX1uPVQobikubWFwKEQpO3ZhciB1PW4ubGVuZ3RoO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/cjplfWZ1bmN0aW9uIEQobil7dmFyIHQ9TChuKTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtpZih1PWUuY2xhc3NMaXN0KXJldHVybiByP3UuYWRkKG4pOnUucmVtb3ZlKG4pO3ZhciB1PWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCI7cj8odC5sYXN0SW5kZXg9MCx0LnRlc3QodSl8fGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixxKHUrXCIgXCIrbikpKTplLnNldEF0dHJpYnV0ZShcImNsYXNzXCIscSh1LnJlcGxhY2UodCxcIiBcIikpKX19ZnVuY3Rpb24gUChuLHQsZSl7ZnVuY3Rpb24gcigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobil9ZnVuY3Rpb24gdSgpe3RoaXMuc3R5bGUuc2V0UHJvcGVydHkobix0LGUpfWZ1bmN0aW9uIGkoKXt2YXIgcj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1yP3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobik6dGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuLHIsZSl9cmV0dXJuIG51bGw9PXQ/cjpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2k6dX1mdW5jdGlvbiBVKG4sdCl7ZnVuY3Rpb24gZSgpe2RlbGV0ZSB0aGlzW25dfWZ1bmN0aW9uIHIoKXt0aGlzW25dPXR9ZnVuY3Rpb24gdSgpe3ZhciBlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWU/ZGVsZXRlIHRoaXNbbl06dGhpc1tuXT1lfXJldHVybiBudWxsPT10P2U6XCJmdW5jdGlvblwiPT10eXBlb2YgdD91OnJ9ZnVuY3Rpb24gaihuKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpcy5vd25lckRvY3VtZW50LGU9dGhpcy5uYW1lc3BhY2VVUkk7cmV0dXJuIGU/dC5jcmVhdGVFbGVtZW50TlMoZSxuKTp0LmNyZWF0ZUVsZW1lbnQobil9ZnVuY3Rpb24gZSgpe3JldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG4uc3BhY2Usbi5sb2NhbCl9cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOihuPXRhLm5zLnF1YWxpZnkobikpLmxvY2FsP2U6dH1mdW5jdGlvbiBGKCl7dmFyIG49dGhpcy5wYXJlbnROb2RlO24mJm4ucmVtb3ZlQ2hpbGQodGhpcyl9ZnVuY3Rpb24gSChuKXtyZXR1cm57X19kYXRhX186bn19ZnVuY3Rpb24gTyhuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYmEodGhpcyxuKX19ZnVuY3Rpb24gSShuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aHx8KG49ZSksZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZT9uKHQuX19kYXRhX18sZS5fX2RhdGFfXyk6IXQtIWV9fWZ1bmN0aW9uIFkobix0KXtmb3IodmFyIGU9MCxyPW4ubGVuZ3RoO3I+ZTtlKyspZm9yKHZhciB1LGk9bltlXSxvPTAsYT1pLmxlbmd0aDthPm87bysrKSh1PWlbb10pJiZ0KHUsbyxlKTtyZXR1cm4gbn1mdW5jdGlvbiBaKG4pe3JldHVybiB5YShuLFNhKSxufWZ1bmN0aW9uIFYobil7dmFyIHQsZTtyZXR1cm4gZnVuY3Rpb24ocix1LGkpe3ZhciBvLGE9bltpXS51cGRhdGUsYz1hLmxlbmd0aDtmb3IoaSE9ZSYmKGU9aSx0PTApLHU+PXQmJih0PXUrMSk7IShvPWFbdF0pJiYrK3Q8YzspO3JldHVybiBvfX1mdW5jdGlvbiBYKG4sdCxlKXtmdW5jdGlvbiByKCl7dmFyIHQ9dGhpc1tvXTt0JiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG4sdCx0LiQpLGRlbGV0ZSB0aGlzW29dKX1mdW5jdGlvbiB1KCl7dmFyIHU9Yyh0LHJhKGFyZ3VtZW50cykpO3IuY2FsbCh0aGlzKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIobix0aGlzW29dPXUsdS4kPWUpLHUuXz10fWZ1bmN0aW9uIGkoKXt2YXIgdCxlPW5ldyBSZWdFeHAoXCJeX19vbihbXi5dKylcIit0YS5yZXF1b3RlKG4pK1wiJFwiKTtmb3IodmFyIHIgaW4gdGhpcylpZih0PXIubWF0Y2goZSkpe3ZhciB1PXRoaXNbcl07dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHRbMV0sdSx1LiQpLGRlbGV0ZSB0aGlzW3JdfX12YXIgbz1cIl9fb25cIituLGE9bi5pbmRleE9mKFwiLlwiKSxjPSQ7YT4wJiYobj1uLnNsaWNlKDAsYSkpO3ZhciBsPWthLmdldChuKTtyZXR1cm4gbCYmKG49bCxjPUIpLGE/dD91OnI6dD9iOml9ZnVuY3Rpb24gJChuLHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj10YS5ldmVudDt0YS5ldmVudD1lLHRbMF09dGhpcy5fX2RhdGFfXzt0cnl7bi5hcHBseSh0aGlzLHQpfWZpbmFsbHl7dGEuZXZlbnQ9cn19fWZ1bmN0aW9uIEIobix0KXt2YXIgZT0kKG4sdCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMscj1uLnJlbGF0ZWRUYXJnZXQ7ciYmKHI9PT10fHw4JnIuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkpfHxlLmNhbGwodCxuKX19ZnVuY3Rpb24gVyhlKXt2YXIgcj1cIi5kcmFnc3VwcHJlc3MtXCIrICsrQWEsdT1cImNsaWNrXCIrcixpPXRhLnNlbGVjdCh0KGUpKS5vbihcInRvdWNobW92ZVwiK3IsUykub24oXCJkcmFnc3RhcnRcIityLFMpLm9uKFwic2VsZWN0c3RhcnRcIityLFMpO2lmKG51bGw9PUVhJiYoRWE9XCJvbnNlbGVjdHN0YXJ0XCJpbiBlPyExOngoZS5zdHlsZSxcInVzZXJTZWxlY3RcIikpLEVhKXt2YXIgbz1uKGUpLnN0eWxlLGE9b1tFYV07b1tFYV09XCJub25lXCJ9cmV0dXJuIGZ1bmN0aW9uKG4pe2lmKGkub24ocixudWxsKSxFYSYmKG9bRWFdPWEpLG4pe3ZhciB0PWZ1bmN0aW9uKCl7aS5vbih1LG51bGwpfTtpLm9uKHUsZnVuY3Rpb24oKXtTKCksdCgpfSwhMCksc2V0VGltZW91dCh0LDApfX19ZnVuY3Rpb24gSihuLGUpe2UuY2hhbmdlZFRvdWNoZXMmJihlPWUuY2hhbmdlZFRvdWNoZXNbMF0pO3ZhciByPW4ub3duZXJTVkdFbGVtZW50fHxuO2lmKHIuY3JlYXRlU1ZHUG9pbnQpe3ZhciB1PXIuY3JlYXRlU1ZHUG9pbnQoKTtpZigwPk5hKXt2YXIgaT10KG4pO2lmKGkuc2Nyb2xsWHx8aS5zY3JvbGxZKXtyPXRhLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwic3ZnXCIpLnN0eWxlKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLG1hcmdpbjowLHBhZGRpbmc6MCxib3JkZXI6XCJub25lXCJ9LFwiaW1wb3J0YW50XCIpO3ZhciBvPXJbMF1bMF0uZ2V0U2NyZWVuQ1RNKCk7TmE9IShvLmZ8fG8uZSksci5yZW1vdmUoKX19cmV0dXJuIE5hPyh1Lng9ZS5wYWdlWCx1Lnk9ZS5wYWdlWSk6KHUueD1lLmNsaWVudFgsdS55PWUuY2xpZW50WSksdT11Lm1hdHJpeFRyYW5zZm9ybShuLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSksW3UueCx1LnldfXZhciBhPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuW2UuY2xpZW50WC1hLmxlZnQtbi5jbGllbnRMZWZ0LGUuY2xpZW50WS1hLnRvcC1uLmNsaWVudFRvcF19ZnVuY3Rpb24gRygpe3JldHVybiB0YS5ldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyfWZ1bmN0aW9uIEsobil7cmV0dXJuIG4+MD8xOjA+bj8tMTowfWZ1bmN0aW9uIFEobix0LGUpe3JldHVybih0WzBdLW5bMF0pKihlWzFdLW5bMV0pLSh0WzFdLW5bMV0pKihlWzBdLW5bMF0pfWZ1bmN0aW9uIG50KG4pe3JldHVybiBuPjE/MDotMT5uP3FhOk1hdGguYWNvcyhuKX1mdW5jdGlvbiB0dChuKXtyZXR1cm4gbj4xP1JhOi0xPm4/LVJhOk1hdGguYXNpbihuKX1mdW5jdGlvbiBldChuKXtyZXR1cm4oKG49TWF0aC5leHAobikpLTEvbikvMn1mdW5jdGlvbiBydChuKXtyZXR1cm4oKG49TWF0aC5leHAobikpKzEvbikvMn1mdW5jdGlvbiB1dChuKXtyZXR1cm4oKG49TWF0aC5leHAoMipuKSktMSkvKG4rMSl9ZnVuY3Rpb24gaXQobil7cmV0dXJuKG49TWF0aC5zaW4obi8yKSkqbn1mdW5jdGlvbiBvdCgpe31mdW5jdGlvbiBhdChuLHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBhdD8odGhpcy5oPStuLHRoaXMucz0rdCx2b2lkKHRoaXMubD0rZSkpOmFyZ3VtZW50cy5sZW5ndGg8Mj9uIGluc3RhbmNlb2YgYXQ/bmV3IGF0KG4uaCxuLnMsbi5sKTpidChcIlwiK24sX3QsYXQpOm5ldyBhdChuLHQsZSl9ZnVuY3Rpb24gY3Qobix0LGUpe2Z1bmN0aW9uIHIobil7cmV0dXJuIG4+MzYwP24tPTM2MDowPm4mJihuKz0zNjApLDYwPm4/aSsoby1pKSpuLzYwOjE4MD5uP286MjQwPm4/aSsoby1pKSooMjQwLW4pLzYwOml9ZnVuY3Rpb24gdShuKXtyZXR1cm4gTWF0aC5yb3VuZCgyNTUqcihuKSl9dmFyIGksbztyZXR1cm4gbj1pc05hTihuKT8wOihuJT0zNjApPDA/biszNjA6bix0PWlzTmFOKHQpPzA6MD50PzA6dD4xPzE6dCxlPTA+ZT8wOmU+MT8xOmUsbz0uNT49ZT9lKigxK3QpOmUrdC1lKnQsaT0yKmUtbyxuZXcgbXQodShuKzEyMCksdShuKSx1KG4tMTIwKSl9ZnVuY3Rpb24gbHQobix0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbHQ/KHRoaXMuaD0rbix0aGlzLmM9K3Qsdm9pZCh0aGlzLmw9K2UpKTphcmd1bWVudHMubGVuZ3RoPDI/biBpbnN0YW5jZW9mIGx0P25ldyBsdChuLmgsbi5jLG4ubCk6biBpbnN0YW5jZW9mIGZ0P2d0KG4ubCxuLmEsbi5iKTpndCgobj13dCgobj10YS5yZ2IobikpLnIsbi5nLG4uYikpLmwsbi5hLG4uYik6bmV3IGx0KG4sdCxlKX1mdW5jdGlvbiBzdChuLHQsZSl7cmV0dXJuIGlzTmFOKG4pJiYobj0wKSxpc05hTih0KSYmKHQ9MCksbmV3IGZ0KGUsTWF0aC5jb3Mobio9RGEpKnQsTWF0aC5zaW4obikqdCl9ZnVuY3Rpb24gZnQobix0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgZnQ/KHRoaXMubD0rbix0aGlzLmE9K3Qsdm9pZCh0aGlzLmI9K2UpKTphcmd1bWVudHMubGVuZ3RoPDI/biBpbnN0YW5jZW9mIGZ0P25ldyBmdChuLmwsbi5hLG4uYik6biBpbnN0YW5jZW9mIGx0P3N0KG4uaCxuLmMsbi5sKTp3dCgobj1tdChuKSkucixuLmcsbi5iKTpuZXcgZnQobix0LGUpfWZ1bmN0aW9uIGh0KG4sdCxlKXt2YXIgcj0obisxNikvMTE2LHU9cit0LzUwMCxpPXItZS8yMDA7cmV0dXJuIHU9cHQodSkqWGEscj1wdChyKSokYSxpPXB0KGkpKkJhLG5ldyBtdChkdCgzLjI0MDQ1NDIqdS0xLjUzNzEzODUqci0uNDk4NTMxNCppKSxkdCgtLjk2OTI2Nip1KzEuODc2MDEwOCpyKy4wNDE1NTYqaSksZHQoLjA1NTY0MzQqdS0uMjA0MDI1OSpyKzEuMDU3MjI1MippKSl9ZnVuY3Rpb24gZ3Qobix0LGUpe3JldHVybiBuPjA/bmV3IGx0KE1hdGguYXRhbjIoZSx0KSpQYSxNYXRoLnNxcnQodCp0K2UqZSksbik6bmV3IGx0KDAvMCwwLzAsbil9ZnVuY3Rpb24gcHQobil7cmV0dXJuIG4+LjIwNjg5MzAzND9uKm4qbjoobi00LzI5KS83Ljc4NzAzN31mdW5jdGlvbiB2dChuKXtyZXR1cm4gbj4uMDA4ODU2P01hdGgucG93KG4sMS8zKTo3Ljc4NzAzNypuKzQvMjl9ZnVuY3Rpb24gZHQobil7cmV0dXJuIE1hdGgucm91bmQoMjU1KiguMDAzMDQ+PW4/MTIuOTIqbjoxLjA1NSpNYXRoLnBvdyhuLDEvMi40KS0uMDU1KSl9ZnVuY3Rpb24gbXQobix0LGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgbXQ/KHRoaXMucj1+fm4sdGhpcy5nPX5+dCx2b2lkKHRoaXMuYj1+fmUpKTphcmd1bWVudHMubGVuZ3RoPDI/biBpbnN0YW5jZW9mIG10P25ldyBtdChuLnIsbi5nLG4uYik6YnQoXCJcIituLG10LGN0KTpuZXcgbXQobix0LGUpfWZ1bmN0aW9uIHl0KG4pe3JldHVybiBuZXcgbXQobj4+MTYsbj4+OCYyNTUsMjU1Jm4pfWZ1bmN0aW9uIE10KG4pe3JldHVybiB5dChuKStcIlwifWZ1bmN0aW9uIHh0KG4pe3JldHVybiAxNj5uP1wiMFwiK01hdGgubWF4KDAsbikudG9TdHJpbmcoMTYpOk1hdGgubWluKDI1NSxuKS50b1N0cmluZygxNil9ZnVuY3Rpb24gYnQobix0LGUpe3ZhciByLHUsaSxvPTAsYT0wLGM9MDtpZihyPS8oW2Etel0rKVxcKCguKilcXCkvaS5leGVjKG4pKXN3aXRjaCh1PXJbMl0uc3BsaXQoXCIsXCIpLHJbMV0pe2Nhc2VcImhzbFwiOnJldHVybiBlKHBhcnNlRmxvYXQodVswXSkscGFyc2VGbG9hdCh1WzFdKS8xMDAscGFyc2VGbG9hdCh1WzJdKS8xMDApO2Nhc2VcInJnYlwiOnJldHVybiB0KGt0KHVbMF0pLGt0KHVbMV0pLGt0KHVbMl0pKX1yZXR1cm4oaT1HYS5nZXQobi50b0xvd2VyQ2FzZSgpKSk/dChpLnIsaS5nLGkuYik6KG51bGw9PW58fFwiI1wiIT09bi5jaGFyQXQoMCl8fGlzTmFOKGk9cGFyc2VJbnQobi5zbGljZSgxKSwxNikpfHwoND09PW4ubGVuZ3RoPyhvPSgzODQwJmkpPj40LG89bz4+NHxvLGE9MjQwJmksYT1hPj40fGEsYz0xNSZpLGM9Yzw8NHxjKTo3PT09bi5sZW5ndGgmJihvPSgxNjcxMTY4MCZpKT4+MTYsYT0oNjUyODAmaSk+PjgsYz0yNTUmaSkpLHQobyxhLGMpKX1mdW5jdGlvbiBfdChuLHQsZSl7dmFyIHIsdSxpPU1hdGgubWluKG4vPTI1NSx0Lz0yNTUsZS89MjU1KSxvPU1hdGgubWF4KG4sdCxlKSxhPW8taSxjPShvK2kpLzI7cmV0dXJuIGE/KHU9LjU+Yz9hLyhvK2kpOmEvKDItby1pKSxyPW49PW8/KHQtZSkvYSsoZT50PzY6MCk6dD09bz8oZS1uKS9hKzI6KG4tdCkvYSs0LHIqPTYwKToocj0wLzAsdT1jPjAmJjE+Yz8wOnIpLG5ldyBhdChyLHUsYyl9ZnVuY3Rpb24gd3Qobix0LGUpe249U3QobiksdD1TdCh0KSxlPVN0KGUpO3ZhciByPXZ0KCguNDEyNDU2NCpuKy4zNTc1NzYxKnQrLjE4MDQzNzUqZSkvWGEpLHU9dnQoKC4yMTI2NzI5Km4rLjcxNTE1MjIqdCsuMDcyMTc1KmUpLyRhKSxpPXZ0KCguMDE5MzMzOSpuKy4xMTkxOTIqdCsuOTUwMzA0MSplKS9CYSk7cmV0dXJuIGZ0KDExNip1LTE2LDUwMCooci11KSwyMDAqKHUtaSkpfWZ1bmN0aW9uIFN0KG4pe3JldHVybihuLz0yNTUpPD0uMDQwNDU/bi8xMi45MjpNYXRoLnBvdygobisuMDU1KS8xLjA1NSwyLjQpfWZ1bmN0aW9uIGt0KG4pe3ZhciB0PXBhcnNlRmxvYXQobik7cmV0dXJuXCIlXCI9PT1uLmNoYXJBdChuLmxlbmd0aC0xKT9NYXRoLnJvdW5kKDIuNTUqdCk6dH1mdW5jdGlvbiBFdChuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246ZnVuY3Rpb24oKXtyZXR1cm4gbn19ZnVuY3Rpb24gQXQobil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihyPWUsZT1udWxsKSxOdCh0LGUsbixyKX19ZnVuY3Rpb24gTnQobix0LGUscil7ZnVuY3Rpb24gdSgpe3ZhciBuLHQ9Yy5zdGF0dXM7aWYoIXQmJnp0KGMpfHx0Pj0yMDAmJjMwMD50fHwzMDQ9PT10KXt0cnl7bj1lLmNhbGwoaSxjKX1jYXRjaChyKXtyZXR1cm4gdm9pZCBvLmVycm9yLmNhbGwoaSxyKX1vLmxvYWQuY2FsbChpLG4pfWVsc2Ugby5lcnJvci5jYWxsKGksYyl9dmFyIGk9e30sbz10YS5kaXNwYXRjaChcImJlZm9yZXNlbmRcIixcInByb2dyZXNzXCIsXCJsb2FkXCIsXCJlcnJvclwiKSxhPXt9LGM9bmV3IFhNTEh0dHBSZXF1ZXN0LGw9bnVsbDtyZXR1cm4hdGhpcy5YRG9tYWluUmVxdWVzdHx8XCJ3aXRoQ3JlZGVudGlhbHNcImluIGN8fCEvXihodHRwKHMpPzopP1xcL1xcLy8udGVzdChuKXx8KGM9bmV3IFhEb21haW5SZXF1ZXN0KSxcIm9ubG9hZFwiaW4gYz9jLm9ubG9hZD1jLm9uZXJyb3I9dTpjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2MucmVhZHlTdGF0ZT4zJiZ1KCl9LGMub25wcm9ncmVzcz1mdW5jdGlvbihuKXt2YXIgdD10YS5ldmVudDt0YS5ldmVudD1uO3RyeXtvLnByb2dyZXNzLmNhbGwoaSxjKX1maW5hbGx5e3RhLmV2ZW50PXR9fSxpLmhlYWRlcj1mdW5jdGlvbihuLHQpe3JldHVybiBuPShuK1wiXCIpLnRvTG93ZXJDYXNlKCksYXJndW1lbnRzLmxlbmd0aDwyP2Fbbl06KG51bGw9PXQ/ZGVsZXRlIGFbbl06YVtuXT10K1wiXCIsaSl9LGkubWltZVR5cGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bnVsbD09bj9udWxsOm4rXCJcIixpKTp0fSxpLnJlc3BvbnNlVHlwZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1uLGkpOmx9LGkucmVzcG9uc2U9ZnVuY3Rpb24obil7cmV0dXJuIGU9bixpfSxbXCJnZXRcIixcInBvc3RcIl0uZm9yRWFjaChmdW5jdGlvbihuKXtpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGkuc2VuZC5hcHBseShpLFtuXS5jb25jYXQocmEoYXJndW1lbnRzKSkpfX0pLGkuc2VuZD1mdW5jdGlvbihlLHIsdSl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHImJih1PXIscj1udWxsKSxjLm9wZW4oZSxuLCEwKSxudWxsPT10fHxcImFjY2VwdFwiaW4gYXx8KGEuYWNjZXB0PXQrXCIsKi8qXCIpLGMuc2V0UmVxdWVzdEhlYWRlcilmb3IodmFyIHMgaW4gYSljLnNldFJlcXVlc3RIZWFkZXIocyxhW3NdKTtyZXR1cm4gbnVsbCE9dCYmYy5vdmVycmlkZU1pbWVUeXBlJiZjLm92ZXJyaWRlTWltZVR5cGUodCksbnVsbCE9bCYmKGMucmVzcG9uc2VUeXBlPWwpLG51bGwhPXUmJmkub24oXCJlcnJvclwiLHUpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKG4pe3UobnVsbCxuKX0pLG8uYmVmb3Jlc2VuZC5jYWxsKGksYyksYy5zZW5kKG51bGw9PXI/bnVsbDpyKSxpfSxpLmFib3J0PWZ1bmN0aW9uKCl7cmV0dXJuIGMuYWJvcnQoKSxpfSx0YS5yZWJpbmQoaSxvLFwib25cIiksbnVsbD09cj9pOmkuZ2V0KEN0KHIpKX1mdW5jdGlvbiBDdChuKXtyZXR1cm4gMT09PW4ubGVuZ3RoP2Z1bmN0aW9uKHQsZSl7bihudWxsPT10P2U6bnVsbCl9Om59ZnVuY3Rpb24genQobil7dmFyIHQ9bi5yZXNwb25zZVR5cGU7cmV0dXJuIHQmJlwidGV4dFwiIT09dD9uLnJlc3BvbnNlOm4ucmVzcG9uc2VUZXh0fWZ1bmN0aW9uIHF0KCl7dmFyIG49THQoKSx0PVR0KCktbjt0PjI0Pyhpc0Zpbml0ZSh0KSYmKGNsZWFyVGltZW91dCh0YyksdGM9c2V0VGltZW91dChxdCx0KSksbmM9MCk6KG5jPTEscmMocXQpKX1mdW5jdGlvbiBMdCgpe3ZhciBuPURhdGUubm93KCk7Zm9yKGVjPUthO2VjOyluPj1lYy50JiYoZWMuZj1lYy5jKG4tZWMudCkpLGVjPWVjLm47cmV0dXJuIG59ZnVuY3Rpb24gVHQoKXtmb3IodmFyIG4sdD1LYSxlPTEvMDt0Oyl0LmY/dD1uP24ubj10Lm46S2E9dC5uOih0LnQ8ZSYmKGU9dC50KSx0PShuPXQpLm4pO3JldHVybiBRYT1uLGV9ZnVuY3Rpb24gUnQobix0KXtyZXR1cm4gdC0obj9NYXRoLmNlaWwoTWF0aC5sb2cobikvTWF0aC5MTjEwKToxKX1mdW5jdGlvbiBEdChuLHQpe3ZhciBlPU1hdGgucG93KDEwLDMqZ2EoOC10KSk7cmV0dXJue3NjYWxlOnQ+OD9mdW5jdGlvbihuKXtyZXR1cm4gbi9lfTpmdW5jdGlvbihuKXtyZXR1cm4gbiplfSxzeW1ib2w6bn19ZnVuY3Rpb24gUHQobil7dmFyIHQ9bi5kZWNpbWFsLGU9bi50aG91c2FuZHMscj1uLmdyb3VwaW5nLHU9bi5jdXJyZW5jeSxpPXImJmU/ZnVuY3Rpb24obix0KXtmb3IodmFyIHU9bi5sZW5ndGgsaT1bXSxvPTAsYT1yWzBdLGM9MDt1PjAmJmE+MCYmKGMrYSsxPnQmJihhPU1hdGgubWF4KDEsdC1jKSksaS5wdXNoKG4uc3Vic3RyaW5nKHUtPWEsdSthKSksISgoYys9YSsxKT50KSk7KWE9cltvPShvKzEpJXIubGVuZ3RoXTtyZXR1cm4gaS5yZXZlcnNlKCkuam9pbihlKX06eTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGU9aWMuZXhlYyhuKSxyPWVbMV18fFwiIFwiLG89ZVsyXXx8XCI+XCIsYT1lWzNdfHxcIi1cIixjPWVbNF18fFwiXCIsbD1lWzVdLHM9K2VbNl0sZj1lWzddLGg9ZVs4XSxnPWVbOV0scD0xLHY9XCJcIixkPVwiXCIsbT0hMSx5PSEwO3N3aXRjaChoJiYoaD0raC5zdWJzdHJpbmcoMSkpLChsfHxcIjBcIj09PXImJlwiPVwiPT09bykmJihsPXI9XCIwXCIsbz1cIj1cIiksZyl7Y2FzZVwiblwiOmY9ITAsZz1cImdcIjticmVhaztjYXNlXCIlXCI6cD0xMDAsZD1cIiVcIixnPVwiZlwiO2JyZWFrO2Nhc2VcInBcIjpwPTEwMCxkPVwiJVwiLGc9XCJyXCI7YnJlYWs7Y2FzZVwiYlwiOmNhc2VcIm9cIjpjYXNlXCJ4XCI6Y2FzZVwiWFwiOlwiI1wiPT09YyYmKHY9XCIwXCIrZy50b0xvd2VyQ2FzZSgpKTtjYXNlXCJjXCI6eT0hMTtjYXNlXCJkXCI6bT0hMCxoPTA7YnJlYWs7Y2FzZVwic1wiOnA9LTEsZz1cInJcIn1cIiRcIj09PWMmJih2PXVbMF0sZD11WzFdKSxcInJcIiE9Z3x8aHx8KGc9XCJnXCIpLG51bGwhPWgmJihcImdcIj09Zz9oPU1hdGgubWF4KDEsTWF0aC5taW4oMjEsaCkpOihcImVcIj09Z3x8XCJmXCI9PWcpJiYoaD1NYXRoLm1heCgwLE1hdGgubWluKDIwLGgpKSkpLGc9b2MuZ2V0KGcpfHxVdDt2YXIgTT1sJiZmO3JldHVybiBmdW5jdGlvbihuKXt2YXIgZT1kO2lmKG0mJm4lMSlyZXR1cm5cIlwiO3ZhciB1PTA+bnx8MD09PW4mJjA+MS9uPyhuPS1uLFwiLVwiKTpcIi1cIj09PWE/XCJcIjphO2lmKDA+cCl7dmFyIGM9dGEuZm9ybWF0UHJlZml4KG4saCk7bj1jLnNjYWxlKG4pLGU9Yy5zeW1ib2wrZH1lbHNlIG4qPXA7bj1nKG4saCk7dmFyIHgsYixfPW4ubGFzdEluZGV4T2YoXCIuXCIpO2lmKDA+Xyl7dmFyIHc9eT9uLmxhc3RJbmRleE9mKFwiZVwiKTotMTswPnc/KHg9bixiPVwiXCIpOih4PW4uc3Vic3RyaW5nKDAsdyksYj1uLnN1YnN0cmluZyh3KSl9ZWxzZSB4PW4uc3Vic3RyaW5nKDAsXyksYj10K24uc3Vic3RyaW5nKF8rMSk7IWwmJmYmJih4PWkoeCwxLzApKTt2YXIgUz12Lmxlbmd0aCt4Lmxlbmd0aCtiLmxlbmd0aCsoTT8wOnUubGVuZ3RoKSxrPXM+Uz9uZXcgQXJyYXkoUz1zLVMrMSkuam9pbihyKTpcIlwiO3JldHVybiBNJiYoeD1pKGsreCxrLmxlbmd0aD9zLWIubGVuZ3RoOjEvMCkpLHUrPXYsbj14K2IsKFwiPFwiPT09bz91K24razpcIj5cIj09PW8/ayt1K246XCJeXCI9PT1vP2suc3Vic3RyaW5nKDAsUz4+PTEpK3UrbitrLnN1YnN0cmluZyhTKTp1KyhNP246aytuKSkrZX19fWZ1bmN0aW9uIFV0KG4pe3JldHVybiBuK1wiXCJ9ZnVuY3Rpb24ganQoKXt0aGlzLl89bmV3IERhdGUoYXJndW1lbnRzLmxlbmd0aD4xP0RhdGUuVVRDLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphcmd1bWVudHNbMF0pfWZ1bmN0aW9uIEZ0KG4sdCxlKXtmdW5jdGlvbiByKHQpe3ZhciBlPW4odCkscj1pKGUsMSk7cmV0dXJuIHItdD50LWU/ZTpyfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHQoZT1uKG5ldyBjYyhlLTEpKSwxKSxlfWZ1bmN0aW9uIGkobixlKXtyZXR1cm4gdChuPW5ldyBjYygrbiksZSksbn1mdW5jdGlvbiBvKG4scixpKXt2YXIgbz11KG4pLGE9W107aWYoaT4xKWZvcig7cj5vOyllKG8pJWl8fGEucHVzaChuZXcgRGF0ZSgrbykpLHQobywxKTtlbHNlIGZvcig7cj5vOylhLnB1c2gobmV3IERhdGUoK28pKSx0KG8sMSk7cmV0dXJuIGF9ZnVuY3Rpb24gYShuLHQsZSl7dHJ5e2NjPWp0O3ZhciByPW5ldyBqdDtyZXR1cm4gci5fPW4sbyhyLHQsZSl9ZmluYWxseXtjYz1EYXRlfX1uLmZsb29yPW4sbi5yb3VuZD1yLG4uY2VpbD11LG4ub2Zmc2V0PWksbi5yYW5nZT1vO3ZhciBjPW4udXRjPUh0KG4pO3JldHVybiBjLmZsb29yPWMsYy5yb3VuZD1IdChyKSxjLmNlaWw9SHQodSksYy5vZmZzZXQ9SHQoaSksYy5yYW5nZT1hLG59ZnVuY3Rpb24gSHQobil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dHJ5e2NjPWp0O3ZhciByPW5ldyBqdDtyZXR1cm4gci5fPXQsbihyLGUpLl99ZmluYWxseXtjYz1EYXRlfX19ZnVuY3Rpb24gT3Qobil7ZnVuY3Rpb24gdChuKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgZSx1LGksbz1bXSxhPS0xLGM9MDsrK2E8cjspMzc9PT1uLmNoYXJDb2RlQXQoYSkmJihvLnB1c2gobi5zbGljZShjLGEpKSxudWxsIT0odT1zY1tlPW4uY2hhckF0KCsrYSldKSYmKGU9bi5jaGFyQXQoKythKSksKGk9TltlXSkmJihlPWkodCxudWxsPT11P1wiZVwiPT09ZT9cIiBcIjpcIjBcIjp1KSksby5wdXNoKGUpLGM9YSsxKTtyZXR1cm4gby5wdXNoKG4uc2xpY2UoYyxhKSksby5qb2luKFwiXCIpfXZhciByPW4ubGVuZ3RoO3JldHVybiB0LnBhcnNlPWZ1bmN0aW9uKHQpe3ZhciByPXt5OjE5MDAsbTowLGQ6MSxIOjAsTTowLFM6MCxMOjAsWjpudWxsfSx1PWUocixuLHQsMCk7aWYodSE9dC5sZW5ndGgpcmV0dXJuIG51bGw7XCJwXCJpbiByJiYoci5IPXIuSCUxMisxMipyLnApO3ZhciBpPW51bGwhPXIuWiYmY2MhPT1qdCxvPW5ldyhpP2p0OmNjKTtyZXR1cm5cImpcImluIHI/by5zZXRGdWxsWWVhcihyLnksMCxyLmopOlwid1wiaW4gciYmKFwiV1wiaW4gcnx8XCJVXCJpbiByKT8oby5zZXRGdWxsWWVhcihyLnksMCwxKSxvLnNldEZ1bGxZZWFyKHIueSwwLFwiV1wiaW4gcj8oci53KzYpJTcrNypyLlctKG8uZ2V0RGF5KCkrNSklNzpyLncrNypyLlUtKG8uZ2V0RGF5KCkrNiklNykpOm8uc2V0RnVsbFllYXIoci55LHIubSxyLmQpLG8uc2V0SG91cnMoci5IKyhyLlovMTAwfDApLHIuTStyLlolMTAwLHIuUyxyLkwpLGk/by5fOm99LHQudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbn0sdH1mdW5jdGlvbiBlKG4sdCxlLHIpe2Zvcih2YXIgdSxpLG8sYT0wLGM9dC5sZW5ndGgsbD1lLmxlbmd0aDtjPmE7KXtpZihyPj1sKXJldHVybi0xO2lmKHU9dC5jaGFyQ29kZUF0KGErKyksMzc9PT11KXtpZihvPXQuY2hhckF0KGErKyksaT1DW28gaW4gc2M/dC5jaGFyQXQoYSsrKTpvXSwhaXx8KHI9aShuLGUscikpPDApcmV0dXJuLTF9ZWxzZSBpZih1IT1lLmNoYXJDb2RlQXQocisrKSlyZXR1cm4tMX1yZXR1cm4gcn1mdW5jdGlvbiByKG4sdCxlKXtfLmxhc3RJbmRleD0wO3ZhciByPV8uZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi53PXcuZ2V0KHJbMF0udG9Mb3dlckNhc2UoKSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gdShuLHQsZSl7eC5sYXN0SW5kZXg9MDt2YXIgcj14LmV4ZWModC5zbGljZShlKSk7cmV0dXJuIHI/KG4udz1iLmdldChyWzBdLnRvTG93ZXJDYXNlKCkpLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIGkobix0LGUpe0UubGFzdEluZGV4PTA7dmFyIHI9RS5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLm09QS5nZXQoclswXS50b0xvd2VyQ2FzZSgpKSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBvKG4sdCxlKXtTLmxhc3RJbmRleD0wO3ZhciByPVMuZXhlYyh0LnNsaWNlKGUpKTtyZXR1cm4gcj8obi5tPWsuZ2V0KHJbMF0udG9Mb3dlckNhc2UoKSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gYShuLHQscil7cmV0dXJuIGUobixOLmMudG9TdHJpbmcoKSx0LHIpfWZ1bmN0aW9uIGMobix0LHIpe3JldHVybiBlKG4sTi54LnRvU3RyaW5nKCksdCxyKX1mdW5jdGlvbiBsKG4sdCxyKXtyZXR1cm4gZShuLE4uWC50b1N0cmluZygpLHQscil9ZnVuY3Rpb24gcyhuLHQsZSl7dmFyIHI9TS5nZXQodC5zbGljZShlLGUrPTIpLnRvTG93ZXJDYXNlKCkpO3JldHVybiBudWxsPT1yPy0xOihuLnA9cixlKX12YXIgZj1uLmRhdGVUaW1lLGg9bi5kYXRlLGc9bi50aW1lLHA9bi5wZXJpb2RzLHY9bi5kYXlzLGQ9bi5zaG9ydERheXMsbT1uLm1vbnRocyx5PW4uc2hvcnRNb250aHM7dC51dGM9ZnVuY3Rpb24obil7ZnVuY3Rpb24gZShuKXt0cnl7Y2M9anQ7dmFyIHQ9bmV3IGNjO3JldHVybiB0Ll89bixyKHQpfWZpbmFsbHl7Y2M9RGF0ZX19dmFyIHI9dChuKTtyZXR1cm4gZS5wYXJzZT1mdW5jdGlvbihuKXt0cnl7Y2M9anQ7dmFyIHQ9ci5wYXJzZShuKTtyZXR1cm4gdCYmdC5ffWZpbmFsbHl7Y2M9RGF0ZX19LGUudG9TdHJpbmc9ci50b1N0cmluZyxlfSx0Lm11bHRpPXQudXRjLm11bHRpPWFlO3ZhciBNPXRhLm1hcCgpLHg9WXQodiksYj1adCh2KSxfPVl0KGQpLHc9WnQoZCksUz1ZdChtKSxrPVp0KG0pLEU9WXQoeSksQT1adCh5KTtwLmZvckVhY2goZnVuY3Rpb24obix0KXtNLnNldChuLnRvTG93ZXJDYXNlKCksdCl9KTt2YXIgTj17YTpmdW5jdGlvbihuKXtyZXR1cm4gZFtuLmdldERheSgpXX0sQTpmdW5jdGlvbihuKXtyZXR1cm4gdltuLmdldERheSgpXX0sYjpmdW5jdGlvbihuKXtyZXR1cm4geVtuLmdldE1vbnRoKCldfSxCOmZ1bmN0aW9uKG4pe3JldHVybiBtW24uZ2V0TW9udGgoKV19LGM6dChmKSxkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIEl0KG4uZ2V0RGF0ZSgpLHQsMil9LGU6ZnVuY3Rpb24obix0KXtyZXR1cm4gSXQobi5nZXREYXRlKCksdCwyKX0sSDpmdW5jdGlvbihuLHQpe3JldHVybiBJdChuLmdldEhvdXJzKCksdCwyKX0sSTpmdW5jdGlvbihuLHQpe3JldHVybiBJdChuLmdldEhvdXJzKCklMTJ8fDEyLHQsMil9LGo6ZnVuY3Rpb24obix0KXtyZXR1cm4gSXQoMSthYy5kYXlPZlllYXIobiksdCwzKX0sTDpmdW5jdGlvbihuLHQpe3JldHVybiBJdChuLmdldE1pbGxpc2Vjb25kcygpLHQsMyl9LG06ZnVuY3Rpb24obix0KXtyZXR1cm4gSXQobi5nZXRNb250aCgpKzEsdCwyKX0sTTpmdW5jdGlvbihuLHQpe3JldHVybiBJdChuLmdldE1pbnV0ZXMoKSx0LDIpfSxwOmZ1bmN0aW9uKG4pe3JldHVybiBwWysobi5nZXRIb3VycygpPj0xMildfSxTOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIEl0KG4uZ2V0U2Vjb25kcygpLHQsMil9LFU6ZnVuY3Rpb24obix0KXtyZXR1cm4gSXQoYWMuc3VuZGF5T2ZZZWFyKG4pLHQsMil9LHc6ZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0RGF5KCl9LFc6ZnVuY3Rpb24obix0KXtyZXR1cm4gSXQoYWMubW9uZGF5T2ZZZWFyKG4pLHQsMil9LHg6dChoKSxYOnQoZykseTpmdW5jdGlvbihuLHQpe3JldHVybiBJdChuLmdldEZ1bGxZZWFyKCklMTAwLHQsMil9LFk6ZnVuY3Rpb24obix0KXtyZXR1cm4gSXQobi5nZXRGdWxsWWVhcigpJTFlNCx0LDQpfSxaOmllLFwiJVwiOmZ1bmN0aW9uKCl7cmV0dXJuXCIlXCJ9fSxDPXthOnIsQTp1LGI6aSxCOm8sYzphLGQ6UXQsZTpRdCxIOnRlLEk6dGUsajpuZSxMOnVlLG06S3QsTTplZSxwOnMsUzpyZSxVOlh0LHc6VnQsVzokdCx4OmMsWDpsLHk6V3QsWTpCdCxaOkp0LFwiJVwiOm9lfTtyZXR1cm4gdH1mdW5jdGlvbiBJdChuLHQsZSl7dmFyIHI9MD5uP1wiLVwiOlwiXCIsdT0ocj8tbjpuKStcIlwiLGk9dS5sZW5ndGg7cmV0dXJuIHIrKGU+aT9uZXcgQXJyYXkoZS1pKzEpLmpvaW4odCkrdTp1KX1mdW5jdGlvbiBZdChuKXtyZXR1cm4gbmV3IFJlZ0V4cChcIl4oPzpcIituLm1hcCh0YS5yZXF1b3RlKS5qb2luKFwifFwiKStcIilcIixcImlcIil9ZnVuY3Rpb24gWnQobil7Zm9yKHZhciB0PW5ldyBsLGU9LTEscj1uLmxlbmd0aDsrK2U8cjspdC5zZXQobltlXS50b0xvd2VyQ2FzZSgpLGUpO3JldHVybiB0fWZ1bmN0aW9uIFZ0KG4sdCxlKXtmYy5sYXN0SW5kZXg9MDt2YXIgcj1mYy5leGVjKHQuc2xpY2UoZSxlKzEpKTtyZXR1cm4gcj8obi53PStyWzBdLGUrclswXS5sZW5ndGgpOi0xfWZ1bmN0aW9uIFh0KG4sdCxlKXtmYy5sYXN0SW5kZXg9MDt2YXIgcj1mYy5leGVjKHQuc2xpY2UoZSkpO3JldHVybiByPyhuLlU9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gJHQobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlKSk7cmV0dXJuIHI/KG4uVz0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBCdChuLHQsZSl7ZmMubGFzdEluZGV4PTA7dmFyIHI9ZmMuZXhlYyh0LnNsaWNlKGUsZSs0KSk7cmV0dXJuIHI/KG4ueT0rclswXSxlK3JbMF0ubGVuZ3RoKTotMX1mdW5jdGlvbiBXdChuLHQsZSl7ZmMubGFzdEluZGV4PTA7dmFyIHI9ZmMuZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4ueT1HdCgrclswXSksZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gSnQobix0LGUpe3JldHVybi9eWystXVxcZHs0fSQvLnRlc3QodD10LnNsaWNlKGUsZSs1KSk/KG4uWj0tdCxlKzUpOi0xfWZ1bmN0aW9uIEd0KG4pe3JldHVybiBuKyhuPjY4PzE5MDA6MmUzKX1mdW5jdGlvbiBLdChuLHQsZSl7ZmMubGFzdEluZGV4PTA7dmFyIHI9ZmMuZXhlYyh0LnNsaWNlKGUsZSsyKSk7cmV0dXJuIHI/KG4ubT1yWzBdLTEsZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gUXQobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLmQ9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gbmUobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlLGUrMykpO3JldHVybiByPyhuLmo9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gdGUobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLkg9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gZWUobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLk09K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gcmUobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlLGUrMikpO3JldHVybiByPyhuLlM9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gdWUobix0LGUpe2ZjLmxhc3RJbmRleD0wO3ZhciByPWZjLmV4ZWModC5zbGljZShlLGUrMykpO3JldHVybiByPyhuLkw9K3JbMF0sZStyWzBdLmxlbmd0aCk6LTF9ZnVuY3Rpb24gaWUobil7dmFyIHQ9bi5nZXRUaW1lem9uZU9mZnNldCgpLGU9dD4wP1wiLVwiOlwiK1wiLHI9Z2EodCkvNjB8MCx1PWdhKHQpJTYwO3JldHVybiBlK0l0KHIsXCIwXCIsMikrSXQodSxcIjBcIiwyKX1mdW5jdGlvbiBvZShuLHQsZSl7aGMubGFzdEluZGV4PTA7dmFyIHI9aGMuZXhlYyh0LnNsaWNlKGUsZSsxKSk7cmV0dXJuIHI/ZStyWzBdLmxlbmd0aDotMX1mdW5jdGlvbiBhZShuKXtmb3IodmFyIHQ9bi5sZW5ndGgsZT0tMTsrK2U8dDspbltlXVswXT10aGlzKG5bZV1bMF0pO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPW5bZV07IXJbMV0odCk7KXI9blsrK2VdO3JldHVybiByWzBdKHQpfX1mdW5jdGlvbiBjZSgpe31mdW5jdGlvbiBsZShuLHQsZSl7dmFyIHI9ZS5zPW4rdCx1PXItbixpPXItdTtlLnQ9bi1pKyh0LXUpfWZ1bmN0aW9uIHNlKG4sdCl7biYmZGMuaGFzT3duUHJvcGVydHkobi50eXBlKSYmZGNbbi50eXBlXShuLHQpfWZ1bmN0aW9uIGZlKG4sdCxlKXt2YXIgcix1PS0xLGk9bi5sZW5ndGgtZTtmb3IodC5saW5lU3RhcnQoKTsrK3U8aTspcj1uW3VdLHQucG9pbnQoclswXSxyWzFdLHJbMl0pO3QubGluZUVuZCgpfWZ1bmN0aW9uIGhlKG4sdCl7dmFyIGU9LTEscj1uLmxlbmd0aDtmb3IodC5wb2x5Z29uU3RhcnQoKTsrK2U8cjspZmUobltlXSx0LDEpO3QucG9seWdvbkVuZCgpfWZ1bmN0aW9uIGdlKCl7ZnVuY3Rpb24gbihuLHQpe24qPURhLHQ9dCpEYS8yK3FhLzQ7dmFyIGU9bi1yLG89ZT49MD8xOi0xLGE9byplLGM9TWF0aC5jb3ModCksbD1NYXRoLnNpbih0KSxzPWkqbCxmPXUqYytzKk1hdGguY29zKGEpLGg9cypvKk1hdGguc2luKGEpO3ljLmFkZChNYXRoLmF0YW4yKGgsZikpLHI9bix1PWMsaT1sfXZhciB0LGUscix1LGk7TWMucG9pbnQ9ZnVuY3Rpb24obyxhKXtNYy5wb2ludD1uLHI9KHQ9bykqRGEsdT1NYXRoLmNvcyhhPShlPWEpKkRhLzIrcWEvNCksaT1NYXRoLnNpbihhKX0sTWMubGluZUVuZD1mdW5jdGlvbigpe24odCxlKX19ZnVuY3Rpb24gcGUobil7dmFyIHQ9blswXSxlPW5bMV0scj1NYXRoLmNvcyhlKTtyZXR1cm5bcipNYXRoLmNvcyh0KSxyKk1hdGguc2luKHQpLE1hdGguc2luKGUpXX1mdW5jdGlvbiB2ZShuLHQpe3JldHVybiBuWzBdKnRbMF0rblsxXSp0WzFdK25bMl0qdFsyXX1mdW5jdGlvbiBkZShuLHQpe3JldHVybltuWzFdKnRbMl0tblsyXSp0WzFdLG5bMl0qdFswXS1uWzBdKnRbMl0sblswXSp0WzFdLW5bMV0qdFswXV19ZnVuY3Rpb24gbWUobix0KXtuWzBdKz10WzBdLG5bMV0rPXRbMV0sblsyXSs9dFsyXX1mdW5jdGlvbiB5ZShuLHQpe3JldHVybltuWzBdKnQsblsxXSp0LG5bMl0qdF19ZnVuY3Rpb24gTWUobil7dmFyIHQ9TWF0aC5zcXJ0KG5bMF0qblswXStuWzFdKm5bMV0rblsyXSpuWzJdKTtuWzBdLz10LG5bMV0vPXQsblsyXS89dH1mdW5jdGlvbiB4ZShuKXtyZXR1cm5bTWF0aC5hdGFuMihuWzFdLG5bMF0pLHR0KG5bMl0pXX1mdW5jdGlvbiBiZShuLHQpe3JldHVybiBnYShuWzBdLXRbMF0pPENhJiZnYShuWzFdLXRbMV0pPENhfWZ1bmN0aW9uIF9lKG4sdCl7bio9RGE7dmFyIGU9TWF0aC5jb3ModCo9RGEpO3dlKGUqTWF0aC5jb3MobiksZSpNYXRoLnNpbihuKSxNYXRoLnNpbih0KSl9ZnVuY3Rpb24gd2Uobix0LGUpeysreGMsX2MrPShuLV9jKS94Yyx3Yys9KHQtd2MpL3hjLFNjKz0oZS1TYykveGN9ZnVuY3Rpb24gU2UoKXtmdW5jdGlvbiBuKG4sdSl7bio9RGE7dmFyIGk9TWF0aC5jb3ModSo9RGEpLG89aSpNYXRoLmNvcyhuKSxhPWkqTWF0aC5zaW4obiksYz1NYXRoLnNpbih1KSxsPU1hdGguYXRhbjIoTWF0aC5zcXJ0KChsPWUqYy1yKmEpKmwrKGw9cipvLXQqYykqbCsobD10KmEtZSpvKSpsKSx0Km8rZSphK3IqYyk7YmMrPWwsa2MrPWwqKHQrKHQ9bykpLEVjKz1sKihlKyhlPWEpKSxBYys9bCoocisocj1jKSksd2UodCxlLHIpfXZhciB0LGUscjtxYy5wb2ludD1mdW5jdGlvbih1LGkpe3UqPURhO3ZhciBvPU1hdGguY29zKGkqPURhKTt0PW8qTWF0aC5jb3ModSksZT1vKk1hdGguc2luKHUpLHI9TWF0aC5zaW4oaSkscWMucG9pbnQ9bix3ZSh0LGUscil9fWZ1bmN0aW9uIGtlKCl7cWMucG9pbnQ9X2V9ZnVuY3Rpb24gRWUoKXtmdW5jdGlvbiBuKG4sdCl7bio9RGE7dmFyIGU9TWF0aC5jb3ModCo9RGEpLG89ZSpNYXRoLmNvcyhuKSxhPWUqTWF0aC5zaW4obiksYz1NYXRoLnNpbih0KSxsPXUqYy1pKmEscz1pKm8tcipjLGY9ciphLXUqbyxoPU1hdGguc3FydChsKmwrcypzK2YqZiksZz1yKm8rdSphK2kqYyxwPWgmJi1udChnKS9oLHY9TWF0aC5hdGFuMihoLGcpO05jKz1wKmwsQ2MrPXAqcyx6Yys9cCpmLGJjKz12LGtjKz12KihyKyhyPW8pKSxFYys9dioodSsodT1hKSksQWMrPXYqKGkrKGk9YykpLHdlKHIsdSxpKX12YXIgdCxlLHIsdSxpO3FjLnBvaW50PWZ1bmN0aW9uKG8sYSl7dD1vLGU9YSxxYy5wb2ludD1uLG8qPURhO3ZhciBjPU1hdGguY29zKGEqPURhKTtyPWMqTWF0aC5jb3MobyksdT1jKk1hdGguc2luKG8pLGk9TWF0aC5zaW4oYSksd2Uocix1LGkpfSxxYy5saW5lRW5kPWZ1bmN0aW9uKCl7bih0LGUpLHFjLmxpbmVFbmQ9a2UscWMucG9pbnQ9X2V9fWZ1bmN0aW9uIEFlKG4sdCl7ZnVuY3Rpb24gZShlLHIpe3JldHVybiBlPW4oZSxyKSx0KGVbMF0sZVsxXSl9cmV0dXJuIG4uaW52ZXJ0JiZ0LmludmVydCYmKGUuaW52ZXJ0PWZ1bmN0aW9uKGUscil7cmV0dXJuIGU9dC5pbnZlcnQoZSxyKSxlJiZuLmludmVydChlWzBdLGVbMV0pfSksZX1mdW5jdGlvbiBOZSgpe3JldHVybiEwfWZ1bmN0aW9uIENlKG4sdCxlLHIsdSl7dmFyIGk9W10sbz1bXTtpZihuLmZvckVhY2goZnVuY3Rpb24obil7aWYoISgodD1uLmxlbmd0aC0xKTw9MCkpe3ZhciB0LGU9blswXSxyPW5bdF07aWYoYmUoZSxyKSl7dS5saW5lU3RhcnQoKTtmb3IodmFyIGE9MDt0PmE7KythKXUucG9pbnQoKGU9blthXSlbMF0sZVsxXSk7cmV0dXJuIHZvaWQgdS5saW5lRW5kKCl9dmFyIGM9bmV3IHFlKGUsbixudWxsLCEwKSxsPW5ldyBxZShlLG51bGwsYywhMSk7Yy5vPWwsaS5wdXNoKGMpLG8ucHVzaChsKSxjPW5ldyBxZShyLG4sbnVsbCwhMSksbD1uZXcgcWUocixudWxsLGMsITApLGMubz1sLGkucHVzaChjKSxvLnB1c2gobCl9fSksby5zb3J0KHQpLHplKGkpLHplKG8pLGkubGVuZ3RoKXtmb3IodmFyIGE9MCxjPWUsbD1vLmxlbmd0aDtsPmE7KythKW9bYV0uZT1jPSFjO2Zvcih2YXIgcyxmLGg9aVswXTs7KXtmb3IodmFyIGc9aCxwPSEwO2cudjspaWYoKGc9Zy5uKT09PWgpcmV0dXJuO3M9Zy56LHUubGluZVN0YXJ0KCk7ZG97aWYoZy52PWcuby52PSEwLGcuZSl7aWYocClmb3IodmFyIGE9MCxsPXMubGVuZ3RoO2w+YTsrK2EpdS5wb2ludCgoZj1zW2FdKVswXSxmWzFdKTtlbHNlIHIoZy54LGcubi54LDEsdSk7Zz1nLm59ZWxzZXtpZihwKXtzPWcucC56O2Zvcih2YXIgYT1zLmxlbmd0aC0xO2E+PTA7LS1hKXUucG9pbnQoKGY9c1thXSlbMF0sZlsxXSl9ZWxzZSByKGcueCxnLnAueCwtMSx1KTtnPWcucH1nPWcubyxzPWcueixwPSFwfXdoaWxlKCFnLnYpO3UubGluZUVuZCgpfX19ZnVuY3Rpb24gemUobil7aWYodD1uLmxlbmd0aCl7Zm9yKHZhciB0LGUscj0wLHU9blswXTsrK3I8dDspdS5uPWU9bltyXSxlLnA9dSx1PWU7dS5uPWU9blswXSxlLnA9dX19ZnVuY3Rpb24gcWUobix0LGUscil7dGhpcy54PW4sdGhpcy56PXQsdGhpcy5vPWUsdGhpcy5lPXIsdGhpcy52PSExLHRoaXMubj10aGlzLnA9bnVsbH1mdW5jdGlvbiBMZShuLHQsZSxyKXtyZXR1cm4gZnVuY3Rpb24odSxpKXtmdW5jdGlvbiBvKHQsZSl7dmFyIHI9dSh0LGUpO24odD1yWzBdLGU9clsxXSkmJmkucG9pbnQodCxlKX1mdW5jdGlvbiBhKG4sdCl7dmFyIGU9dShuLHQpO2QucG9pbnQoZVswXSxlWzFdKX1mdW5jdGlvbiBjKCl7eS5wb2ludD1hLGQubGluZVN0YXJ0KCl9ZnVuY3Rpb24gbCgpe3kucG9pbnQ9byxkLmxpbmVFbmQoKX1mdW5jdGlvbiBzKG4sdCl7di5wdXNoKFtuLHRdKTt2YXIgZT11KG4sdCk7eC5wb2ludChlWzBdLGVbMV0pfWZ1bmN0aW9uIGYoKXt4LmxpbmVTdGFydCgpLHY9W119ZnVuY3Rpb24gaCgpe3ModlswXVswXSx2WzBdWzFdKSx4LmxpbmVFbmQoKTt2YXIgbix0PXguY2xlYW4oKSxlPU0uYnVmZmVyKCkscj1lLmxlbmd0aDtpZih2LnBvcCgpLHAucHVzaCh2KSx2PW51bGwscilpZigxJnQpe249ZVswXTt2YXIgdSxyPW4ubGVuZ3RoLTEsbz0tMTtpZihyPjApe2ZvcihifHwoaS5wb2x5Z29uU3RhcnQoKSxiPSEwKSxpLmxpbmVTdGFydCgpOysrbzxyOylpLnBvaW50KCh1PW5bb10pWzBdLHVbMV0pO2kubGluZUVuZCgpfX1lbHNlIHI+MSYmMiZ0JiZlLnB1c2goZS5wb3AoKS5jb25jYXQoZS5zaGlmdCgpKSksZy5wdXNoKGUuZmlsdGVyKFRlKSl9dmFyIGcscCx2LGQ9dChpKSxtPXUuaW52ZXJ0KHJbMF0sclsxXSkseT17cG9pbnQ6byxsaW5lU3RhcnQ6YyxsaW5lRW5kOmwscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7eS5wb2ludD1zLHkubGluZVN0YXJ0PWYseS5saW5lRW5kPWgsZz1bXSxwPVtdfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7eS5wb2ludD1vLHkubGluZVN0YXJ0PWMseS5saW5lRW5kPWwsZz10YS5tZXJnZShnKTt2YXIgbj1GZShtLHApO2cubGVuZ3RoPyhifHwoaS5wb2x5Z29uU3RhcnQoKSxiPSEwKSxDZShnLERlLG4sZSxpKSk6biYmKGJ8fChpLnBvbHlnb25TdGFydCgpLGI9ITApLGkubGluZVN0YXJ0KCksZShudWxsLG51bGwsMSxpKSxpLmxpbmVFbmQoKSksYiYmKGkucG9seWdvbkVuZCgpLGI9ITEpLGc9cD1udWxsfSxzcGhlcmU6ZnVuY3Rpb24oKXtpLnBvbHlnb25TdGFydCgpLGkubGluZVN0YXJ0KCksZShudWxsLG51bGwsMSxpKSxpLmxpbmVFbmQoKSxpLnBvbHlnb25FbmQoKX19LE09UmUoKSx4PXQoTSksYj0hMTtyZXR1cm4geX19ZnVuY3Rpb24gVGUobil7cmV0dXJuIG4ubGVuZ3RoPjF9ZnVuY3Rpb24gUmUoKXt2YXIgbix0PVtdO3JldHVybntsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0LnB1c2gobj1bXSl9LHBvaW50OmZ1bmN0aW9uKHQsZSl7bi5wdXNoKFt0LGVdKX0sbGluZUVuZDpiLGJ1ZmZlcjpmdW5jdGlvbigpe3ZhciBlPXQ7cmV0dXJuIHQ9W10sbj1udWxsLGV9LHJlam9pbjpmdW5jdGlvbigpe3QubGVuZ3RoPjEmJnQucHVzaCh0LnBvcCgpLmNvbmNhdCh0LnNoaWZ0KCkpKX19fWZ1bmN0aW9uIERlKG4sdCl7cmV0dXJuKChuPW4ueClbMF08MD9uWzFdLVJhLUNhOlJhLW5bMV0pLSgodD10LngpWzBdPDA/dFsxXS1SYS1DYTpSYS10WzFdKX1mdW5jdGlvbiBQZShuKXt2YXIgdCxlPTAvMCxyPTAvMCx1PTAvMDtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7bi5saW5lU3RhcnQoKSx0PTF9LHBvaW50OmZ1bmN0aW9uKGksbyl7dmFyIGE9aT4wP3FhOi1xYSxjPWdhKGktZSk7Z2EoYy1xYSk8Q2E/KG4ucG9pbnQoZSxyPShyK28pLzI+MD9SYTotUmEpLG4ucG9pbnQodSxyKSxuLmxpbmVFbmQoKSxuLmxpbmVTdGFydCgpLG4ucG9pbnQoYSxyKSxuLnBvaW50KGksciksdD0wKTp1IT09YSYmYz49cWEmJihnYShlLXUpPENhJiYoZS09dSpDYSksZ2EoaS1hKTxDYSYmKGktPWEqQ2EpLHI9VWUoZSxyLGksbyksbi5wb2ludCh1LHIpLG4ubGluZUVuZCgpLG4ubGluZVN0YXJ0KCksbi5wb2ludChhLHIpLHQ9MCksbi5wb2ludChlPWkscj1vKSx1PWF9LGxpbmVFbmQ6ZnVuY3Rpb24oKXtuLmxpbmVFbmQoKSxlPXI9MC8wfSxjbGVhbjpmdW5jdGlvbigpe3JldHVybiAyLXR9fX1mdW5jdGlvbiBVZShuLHQsZSxyKXt2YXIgdSxpLG89TWF0aC5zaW4obi1lKTtyZXR1cm4gZ2Eobyk+Q2E/TWF0aC5hdGFuKChNYXRoLnNpbih0KSooaT1NYXRoLmNvcyhyKSkqTWF0aC5zaW4oZSktTWF0aC5zaW4ocikqKHU9TWF0aC5jb3ModCkpKk1hdGguc2luKG4pKS8odSppKm8pKToodCtyKS8yfWZ1bmN0aW9uIGplKG4sdCxlLHIpe3ZhciB1O2lmKG51bGw9PW4pdT1lKlJhLHIucG9pbnQoLXFhLHUpLHIucG9pbnQoMCx1KSxyLnBvaW50KHFhLHUpLHIucG9pbnQocWEsMCksci5wb2ludChxYSwtdSksci5wb2ludCgwLC11KSxyLnBvaW50KC1xYSwtdSksci5wb2ludCgtcWEsMCksci5wb2ludCgtcWEsdSk7ZWxzZSBpZihnYShuWzBdLXRbMF0pPkNhKXt2YXIgaT1uWzBdPHRbMF0/cWE6LXFhO3U9ZSppLzIsci5wb2ludCgtaSx1KSxyLnBvaW50KDAsdSksci5wb2ludChpLHUpfWVsc2Ugci5wb2ludCh0WzBdLHRbMV0pfWZ1bmN0aW9uIEZlKG4sdCl7dmFyIGU9blswXSxyPW5bMV0sdT1bTWF0aC5zaW4oZSksLU1hdGguY29zKGUpLDBdLGk9MCxvPTA7eWMucmVzZXQoKTtmb3IodmFyIGE9MCxjPXQubGVuZ3RoO2M+YTsrK2Epe3ZhciBsPXRbYV0scz1sLmxlbmd0aDtpZihzKWZvcih2YXIgZj1sWzBdLGg9ZlswXSxnPWZbMV0vMitxYS80LHA9TWF0aC5zaW4oZyksdj1NYXRoLmNvcyhnKSxkPTE7Oyl7ZD09PXMmJihkPTApLG49bFtkXTt2YXIgbT1uWzBdLHk9blsxXS8yK3FhLzQsTT1NYXRoLnNpbih5KSx4PU1hdGguY29zKHkpLGI9bS1oLF89Yj49MD8xOi0xLHc9XypiLFM9dz5xYSxrPXAqTTtpZih5Yy5hZGQoTWF0aC5hdGFuMihrKl8qTWF0aC5zaW4odyksdip4K2sqTWF0aC5jb3ModykpKSxpKz1TP2IrXypMYTpiLFNeaD49ZV5tPj1lKXt2YXIgRT1kZShwZShmKSxwZShuKSk7TWUoRSk7dmFyIEE9ZGUodSxFKTtNZShBKTt2YXIgTj0oU15iPj0wPy0xOjEpKnR0KEFbMl0pOyhyPk58fHI9PT1OJiYoRVswXXx8RVsxXSkpJiYobys9U15iPj0wPzE6LTEpfWlmKCFkKyspYnJlYWs7aD1tLHA9TSx2PXgsZj1ufX1yZXR1cm4oLUNhPml8fENhPmkmJjA+eWMpXjEmb31mdW5jdGlvbiBIZShuKXtmdW5jdGlvbiB0KG4sdCl7cmV0dXJuIE1hdGguY29zKG4pKk1hdGguY29zKHQpPml9ZnVuY3Rpb24gZShuKXt2YXIgZSxpLGMsbCxzO3JldHVybntsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtsPWM9ITEscz0xfSxwb2ludDpmdW5jdGlvbihmLGgpe3ZhciBnLHA9W2YsaF0sdj10KGYsaCksZD1vP3Y/MDp1KGYsaCk6dj91KGYrKDA+Zj9xYTotcWEpLGgpOjA7aWYoIWUmJihsPWM9dikmJm4ubGluZVN0YXJ0KCksdiE9PWMmJihnPXIoZSxwKSwoYmUoZSxnKXx8YmUocCxnKSkmJihwWzBdKz1DYSxwWzFdKz1DYSx2PXQocFswXSxwWzFdKSkpLHYhPT1jKXM9MCx2PyhuLmxpbmVTdGFydCgpLGc9cihwLGUpLG4ucG9pbnQoZ1swXSxnWzFdKSk6KGc9cihlLHApLG4ucG9pbnQoZ1swXSxnWzFdKSxuLmxpbmVFbmQoKSksZT1nO2Vsc2UgaWYoYSYmZSYmb152KXt2YXIgbTtkJml8fCEobT1yKHAsZSwhMCkpfHwocz0wLG8/KG4ubGluZVN0YXJ0KCksbi5wb2ludChtWzBdWzBdLG1bMF1bMV0pLG4ucG9pbnQobVsxXVswXSxtWzFdWzFdKSxuLmxpbmVFbmQoKSk6KG4ucG9pbnQobVsxXVswXSxtWzFdWzFdKSxuLmxpbmVFbmQoKSxuLmxpbmVTdGFydCgpLG4ucG9pbnQobVswXVswXSxtWzBdWzFdKSkpfSF2fHxlJiZiZShlLHApfHxuLnBvaW50KHBbMF0scFsxXSksZT1wLGM9dixpPWR9LGxpbmVFbmQ6ZnVuY3Rpb24oKXtjJiZuLmxpbmVFbmQoKSxlPW51bGx9LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIHN8KGwmJmMpPDwxfX19ZnVuY3Rpb24gcihuLHQsZSl7dmFyIHI9cGUobiksdT1wZSh0KSxvPVsxLDAsMF0sYT1kZShyLHUpLGM9dmUoYSxhKSxsPWFbMF0scz1jLWwqbDtpZighcylyZXR1cm4hZSYmbjt2YXIgZj1pKmMvcyxoPS1pKmwvcyxnPWRlKG8sYSkscD15ZShvLGYpLHY9eWUoYSxoKTttZShwLHYpO3ZhciBkPWcsbT12ZShwLGQpLHk9dmUoZCxkKSxNPW0qbS15Kih2ZShwLHApLTEpO2lmKCEoMD5NKSl7dmFyIHg9TWF0aC5zcXJ0KE0pLGI9eWUoZCwoLW0teCkveSk7aWYobWUoYixwKSxiPXhlKGIpLCFlKXJldHVybiBiO3ZhciBfLHc9blswXSxTPXRbMF0saz1uWzFdLEU9dFsxXTt3PlMmJihfPXcsdz1TLFM9Xyk7dmFyIEE9Uy13LE49Z2EoQS1xYSk8Q2EsQz1OfHxDYT5BO2lmKCFOJiZrPkUmJihfPWssaz1FLEU9XyksQz9OP2srRT4wXmJbMV08KGdhKGJbMF0tdyk8Q2E/azpFKTprPD1iWzFdJiZiWzFdPD1FOkE+cWFeKHc8PWJbMF0mJmJbMF08PVMpKXt2YXIgej15ZShkLCgtbSt4KS95KTtyZXR1cm4gbWUoeixwKSxbYix4ZSh6KV19fX1mdW5jdGlvbiB1KHQsZSl7dmFyIHI9bz9uOnFhLW4sdT0wO3JldHVybi1yPnQ/dXw9MTp0PnImJih1fD0yKSwtcj5lP3V8PTQ6ZT5yJiYodXw9OCksdX12YXIgaT1NYXRoLmNvcyhuKSxvPWk+MCxhPWdhKGkpPkNhLGM9Z3Iobiw2KkRhKTtyZXR1cm4gTGUodCxlLGMsbz9bMCwtbl06Wy1xYSxuLXFhXSl9ZnVuY3Rpb24gT2Uobix0LGUscil7cmV0dXJuIGZ1bmN0aW9uKHUpe3ZhciBpLG89dS5hLGE9dS5iLGM9by54LGw9by55LHM9YS54LGY9YS55LGg9MCxnPTEscD1zLWMsdj1mLWw7aWYoaT1uLWMscHx8IShpPjApKXtpZihpLz1wLDA+cCl7aWYoaD5pKXJldHVybjtnPmkmJihnPWkpfWVsc2UgaWYocD4wKXtpZihpPmcpcmV0dXJuO2k+aCYmKGg9aSl9aWYoaT1lLWMscHx8ISgwPmkpKXtpZihpLz1wLDA+cCl7aWYoaT5nKXJldHVybjtpPmgmJihoPWkpfWVsc2UgaWYocD4wKXtpZihoPmkpcmV0dXJuO2c+aSYmKGc9aSl9aWYoaT10LWwsdnx8IShpPjApKXtpZihpLz12LDA+dil7aWYoaD5pKXJldHVybjtnPmkmJihnPWkpfWVsc2UgaWYodj4wKXtpZihpPmcpcmV0dXJuO2k+aCYmKGg9aSl9aWYoaT1yLWwsdnx8ISgwPmkpKXtpZihpLz12LDA+dil7aWYoaT5nKXJldHVybjtpPmgmJihoPWkpfWVsc2UgaWYodj4wKXtpZihoPmkpcmV0dXJuO2c+aSYmKGc9aSl9cmV0dXJuIGg+MCYmKHUuYT17eDpjK2gqcCx5OmwraCp2fSksMT5nJiYodS5iPXt4OmMrZypwLHk6bCtnKnZ9KSx1fX19fX19ZnVuY3Rpb24gSWUobix0LGUscil7ZnVuY3Rpb24gdShyLHUpe3JldHVybiBnYShyWzBdLW4pPENhP3U+MD8wOjM6Z2EoclswXS1lKTxDYT91PjA/MjoxOmdhKHJbMV0tdCk8Q2E/dT4wPzE6MDp1PjA/MzoyfWZ1bmN0aW9uIGkobix0KXtyZXR1cm4gbyhuLngsdC54KX1mdW5jdGlvbiBvKG4sdCl7dmFyIGU9dShuLDEpLHI9dSh0LDEpO3JldHVybiBlIT09cj9lLXI6MD09PWU/dFsxXS1uWzFdOjE9PT1lP25bMF0tdFswXToyPT09ZT9uWzFdLXRbMV06dFswXS1uWzBdfXJldHVybiBmdW5jdGlvbihhKXtmdW5jdGlvbiBjKG4pe2Zvcih2YXIgdD0wLGU9ZC5sZW5ndGgscj1uWzFdLHU9MDtlPnU7Kyt1KWZvcih2YXIgaSxvPTEsYT1kW3VdLGM9YS5sZW5ndGgsbD1hWzBdO2M+bzsrK28paT1hW29dLGxbMV08PXI/aVsxXT5yJiZRKGwsaSxuKT4wJiYrK3Q6aVsxXTw9ciYmUShsLGksbik8MCYmLS10LGw9aTtyZXR1cm4gMCE9PXR9ZnVuY3Rpb24gbChpLGEsYyxsKXt2YXIgcz0wLGY9MDtpZihudWxsPT1pfHwocz11KGksYykpIT09KGY9dShhLGMpKXx8byhpLGEpPDBeYz4wKXtkbyBsLnBvaW50KDA9PT1zfHwzPT09cz9uOmUscz4xP3I6dCk7d2hpbGUoKHM9KHMrYys0KSU0KSE9PWYpfWVsc2UgbC5wb2ludChhWzBdLGFbMV0pfWZ1bmN0aW9uIHModSxpKXtyZXR1cm4gdT49biYmZT49dSYmaT49dCYmcj49aX1mdW5jdGlvbiBmKG4sdCl7cyhuLHQpJiZhLnBvaW50KG4sdCl9ZnVuY3Rpb24gaCgpe0MucG9pbnQ9cCxkJiZkLnB1c2gobT1bXSksUz0hMCx3PSExLGI9Xz0wLzB9ZnVuY3Rpb24gZygpe3YmJihwKHksTSkseCYmdyYmQS5yZWpvaW4oKSx2LnB1c2goQS5idWZmZXIoKSkpLEMucG9pbnQ9Zix3JiZhLmxpbmVFbmQoKX1mdW5jdGlvbiBwKG4sdCl7bj1NYXRoLm1heCgtVGMsTWF0aC5taW4oVGMsbikpLHQ9TWF0aC5tYXgoLVRjLE1hdGgubWluKFRjLHQpKTt2YXIgZT1zKG4sdCk7aWYoZCYmbS5wdXNoKFtuLHRdKSxTKXk9bixNPXQseD1lLFM9ITEsZSYmKGEubGluZVN0YXJ0KCksYS5wb2ludChuLHQpKTtlbHNlIGlmKGUmJncpYS5wb2ludChuLHQpO2Vsc2V7dmFyIHI9e2E6e3g6Yix5Ol99LGI6e3g6bix5OnR9fTtOKHIpPyh3fHwoYS5saW5lU3RhcnQoKSxhLnBvaW50KHIuYS54LHIuYS55KSksYS5wb2ludChyLmIueCxyLmIueSksZXx8YS5saW5lRW5kKCksaz0hMSk6ZSYmKGEubGluZVN0YXJ0KCksYS5wb2ludChuLHQpLGs9ITEpfWI9bixfPXQsdz1lfXZhciB2LGQsbSx5LE0seCxiLF8sdyxTLGssRT1hLEE9UmUoKSxOPU9lKG4sdCxlLHIpLEM9e3BvaW50OmYsbGluZVN0YXJ0OmgsbGluZUVuZDpnLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2E9QSx2PVtdLGQ9W10saz0hMH0scG9seWdvbkVuZDpmdW5jdGlvbigpe2E9RSx2PXRhLm1lcmdlKHYpO3ZhciB0PWMoW24scl0pLGU9ayYmdCx1PXYubGVuZ3RoOyhlfHx1KSYmKGEucG9seWdvblN0YXJ0KCksZSYmKGEubGluZVN0YXJ0KCksbChudWxsLG51bGwsMSxhKSxhLmxpbmVFbmQoKSksdSYmQ2UodixpLHQsbCxhKSxhLnBvbHlnb25FbmQoKSksdj1kPW09bnVsbH19O3JldHVybiBDfX1mdW5jdGlvbiBZZShuKXt2YXIgdD0wLGU9cWEvMyxyPWlyKG4pLHU9cih0LGUpO3JldHVybiB1LnBhcmFsbGVscz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9yKHQ9blswXSpxYS8xODAsZT1uWzFdKnFhLzE4MCk6W3QvcWEqMTgwLGUvcWEqMTgwXX0sdX1mdW5jdGlvbiBaZShuLHQpe2Z1bmN0aW9uIGUobix0KXt2YXIgZT1NYXRoLnNxcnQoaS0yKnUqTWF0aC5zaW4odCkpL3U7cmV0dXJuW2UqTWF0aC5zaW4obio9dSksby1lKk1hdGguY29zKG4pXX12YXIgcj1NYXRoLnNpbihuKSx1PShyK01hdGguc2luKHQpKS8yLGk9MStyKigyKnUtciksbz1NYXRoLnNxcnQoaSkvdTtyZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1vLXQ7cmV0dXJuW01hdGguYXRhbjIobixlKS91LHR0KChpLShuKm4rZSplKSp1KnUpLygyKnUpKV19LGV9ZnVuY3Rpb24gVmUoKXtmdW5jdGlvbiBuKG4sdCl7RGMrPXUqbi1yKnQscj1uLHU9dH12YXIgdCxlLHIsdTtIYy5wb2ludD1mdW5jdGlvbihpLG8pe0hjLnBvaW50PW4sdD1yPWksZT11PW99LEhjLmxpbmVFbmQ9ZnVuY3Rpb24oKXtuKHQsZSl9fWZ1bmN0aW9uIFhlKG4sdCl7UGM+biYmKFBjPW4pLG4+amMmJihqYz1uKSxVYz50JiYoVWM9dCksdD5GYyYmKEZjPXQpfWZ1bmN0aW9uICRlKCl7ZnVuY3Rpb24gbihuLHQpe28ucHVzaChcIk1cIixuLFwiLFwiLHQsaSl9ZnVuY3Rpb24gdChuLHQpe28ucHVzaChcIk1cIixuLFwiLFwiLHQpLGEucG9pbnQ9ZX1mdW5jdGlvbiBlKG4sdCl7by5wdXNoKFwiTFwiLG4sXCIsXCIsdCl9ZnVuY3Rpb24gcigpe2EucG9pbnQ9bn1mdW5jdGlvbiB1KCl7by5wdXNoKFwiWlwiKX12YXIgaT1CZSg0LjUpLG89W10sYT17cG9pbnQ6bixsaW5lU3RhcnQ6ZnVuY3Rpb24oKXthLnBvaW50PXR9LGxpbmVFbmQ6cixwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXthLmxpbmVFbmQ9dX0scG9seWdvbkVuZDpmdW5jdGlvbigpe2EubGluZUVuZD1yLGEucG9pbnQ9bn0scG9pbnRSYWRpdXM6ZnVuY3Rpb24obil7cmV0dXJuIGk9QmUobiksYX0scmVzdWx0OmZ1bmN0aW9uKCl7aWYoby5sZW5ndGgpe3ZhciBuPW8uam9pbihcIlwiKTtyZXR1cm4gbz1bXSxufX19O3JldHVybiBhfWZ1bmN0aW9uIEJlKG4pe3JldHVyblwibTAsXCIrbitcImFcIituK1wiLFwiK24rXCIgMCAxLDEgMCxcIistMipuK1wiYVwiK24rXCIsXCIrbitcIiAwIDEsMSAwLFwiKzIqbitcInpcIn1mdW5jdGlvbiBXZShuLHQpe19jKz1uLHdjKz10LCsrU2N9ZnVuY3Rpb24gSmUoKXtmdW5jdGlvbiBuKG4scil7dmFyIHU9bi10LGk9ci1lLG89TWF0aC5zcXJ0KHUqdStpKmkpO2tjKz1vKih0K24pLzIsRWMrPW8qKGUrcikvMixBYys9byxXZSh0PW4sZT1yKX12YXIgdCxlO0ljLnBvaW50PWZ1bmN0aW9uKHIsdSl7SWMucG9pbnQ9bixXZSh0PXIsZT11KX19ZnVuY3Rpb24gR2UoKXtJYy5wb2ludD1XZX1mdW5jdGlvbiBLZSgpe2Z1bmN0aW9uIG4obix0KXt2YXIgZT1uLXIsaT10LXUsbz1NYXRoLnNxcnQoZSplK2kqaSk7a2MrPW8qKHIrbikvMixFYys9byoodSt0KS8yLEFjKz1vLG89dSpuLXIqdCxOYys9byoocituKSxDYys9byoodSt0KSx6Yys9MypvLFdlKHI9bix1PXQpfXZhciB0LGUscix1O0ljLnBvaW50PWZ1bmN0aW9uKGksbyl7SWMucG9pbnQ9bixXZSh0PXI9aSxlPXU9byl9LEljLmxpbmVFbmQ9ZnVuY3Rpb24oKXtuKHQsZSl9fWZ1bmN0aW9uIFFlKG4pe2Z1bmN0aW9uIHQodCxlKXtuLm1vdmVUbyh0K28sZSksbi5hcmModCxlLG8sMCxMYSl9ZnVuY3Rpb24gZSh0LGUpe24ubW92ZVRvKHQsZSksYS5wb2ludD1yfWZ1bmN0aW9uIHIodCxlKXtuLmxpbmVUbyh0LGUpfWZ1bmN0aW9uIHUoKXthLnBvaW50PXR9ZnVuY3Rpb24gaSgpe24uY2xvc2VQYXRoKCl9dmFyIG89NC41LGE9e3BvaW50OnQsbGluZVN0YXJ0OmZ1bmN0aW9uKCl7YS5wb2ludD1lfSxsaW5lRW5kOnUscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7YS5saW5lRW5kPWl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXthLmxpbmVFbmQ9dSxhLnBvaW50PXR9LHBvaW50UmFkaXVzOmZ1bmN0aW9uKG4pe3JldHVybiBvPW4sYX0scmVzdWx0OmJ9O3JldHVybiBhfWZ1bmN0aW9uIG5yKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuKGE/cjplKShuKX1mdW5jdGlvbiBlKHQpe3JldHVybiBycih0LGZ1bmN0aW9uKGUscil7ZT1uKGUsciksdC5wb2ludChlWzBdLGVbMV0pfSl9ZnVuY3Rpb24gcih0KXtmdW5jdGlvbiBlKGUscil7ZT1uKGUsciksdC5wb2ludChlWzBdLGVbMV0pfWZ1bmN0aW9uIHIoKXtNPTAvMCxTLnBvaW50PWksdC5saW5lU3RhcnQoKX1mdW5jdGlvbiBpKGUscil7dmFyIGk9cGUoW2Uscl0pLG89bihlLHIpO3UoTSx4LHksYixfLHcsTT1vWzBdLHg9b1sxXSx5PWUsYj1pWzBdLF89aVsxXSx3PWlbMl0sYSx0KSx0LnBvaW50KE0seCl9ZnVuY3Rpb24gbygpe1MucG9pbnQ9ZSx0LmxpbmVFbmQoKX1mdW5jdGlvbiBjKCl7cigpLFMucG9pbnQ9bCxTLmxpbmVFbmQ9c31mdW5jdGlvbiBsKG4sdCl7aShmPW4saD10KSxnPU0scD14LHY9YixkPV8sbT13LFMucG9pbnQ9aX1mdW5jdGlvbiBzKCl7dShNLHgseSxiLF8sdyxnLHAsZix2LGQsbSxhLHQpLFMubGluZUVuZD1vLG8oKX12YXIgZixoLGcscCx2LGQsbSx5LE0seCxiLF8sdyxTPXtwb2ludDplLGxpbmVTdGFydDpyLGxpbmVFbmQ6byxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXt0LnBvbHlnb25TdGFydCgpLFMubGluZVN0YXJ0PWNcbn0scG9seWdvbkVuZDpmdW5jdGlvbigpe3QucG9seWdvbkVuZCgpLFMubGluZVN0YXJ0PXJ9fTtyZXR1cm4gU31mdW5jdGlvbiB1KHQsZSxyLGEsYyxsLHMsZixoLGcscCx2LGQsbSl7dmFyIHk9cy10LE09Zi1lLHg9eSp5K00qTTtpZih4PjQqaSYmZC0tKXt2YXIgYj1hK2csXz1jK3Asdz1sK3YsUz1NYXRoLnNxcnQoYipiK18qXyt3KncpLGs9TWF0aC5hc2luKHcvPVMpLEU9Z2EoZ2EodyktMSk8Q2F8fGdhKHItaCk8Q2E/KHIraCkvMjpNYXRoLmF0YW4yKF8sYiksQT1uKEUsayksTj1BWzBdLEM9QVsxXSx6PU4tdCxxPUMtZSxMPU0qei15KnE7KEwqTC94Pml8fGdhKCh5KnorTSpxKS94LS41KT4uM3x8bz5hKmcrYypwK2wqdikmJih1KHQsZSxyLGEsYyxsLE4sQyxFLGIvPVMsXy89Uyx3LGQsbSksbS5wb2ludChOLEMpLHUoTixDLEUsYixfLHcscyxmLGgsZyxwLHYsZCxtKSl9fXZhciBpPS41LG89TWF0aC5jb3MoMzAqRGEpLGE9MTY7cmV0dXJuIHQucHJlY2lzaW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPShpPW4qbik+MCYmMTYsdCk6TWF0aC5zcXJ0KGkpfSx0fWZ1bmN0aW9uIHRyKG4pe3ZhciB0PW5yKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oW3QqUGEsZSpQYV0pfSk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBvcih0KG4pKX19ZnVuY3Rpb24gZXIobil7dGhpcy5zdHJlYW09bn1mdW5jdGlvbiBycihuLHQpe3JldHVybntwb2ludDp0LHNwaGVyZTpmdW5jdGlvbigpe24uc3BoZXJlKCl9LGxpbmVTdGFydDpmdW5jdGlvbigpe24ubGluZVN0YXJ0KCl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXtuLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7bi5wb2x5Z29uU3RhcnQoKX0scG9seWdvbkVuZDpmdW5jdGlvbigpe24ucG9seWdvbkVuZCgpfX19ZnVuY3Rpb24gdXIobil7cmV0dXJuIGlyKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSgpfWZ1bmN0aW9uIGlyKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuIG49YShuWzBdKkRhLG5bMV0qRGEpLFtuWzBdKmgrYyxsLW5bMV0qaF19ZnVuY3Rpb24gZShuKXtyZXR1cm4gbj1hLmludmVydCgoblswXS1jKS9oLChsLW5bMV0pL2gpLG4mJltuWzBdKlBhLG5bMV0qUGFdfWZ1bmN0aW9uIHIoKXthPUFlKG89bHIobSxNLHgpLGkpO3ZhciBuPWkodixkKTtyZXR1cm4gYz1nLW5bMF0qaCxsPXArblsxXSpoLHUoKX1mdW5jdGlvbiB1KCl7cmV0dXJuIHMmJihzLnZhbGlkPSExLHM9bnVsbCksdH12YXIgaSxvLGEsYyxsLHMsZj1ucihmdW5jdGlvbihuLHQpe3JldHVybiBuPWkobix0KSxbblswXSpoK2MsbC1uWzFdKmhdfSksaD0xNTAsZz00ODAscD0yNTAsdj0wLGQ9MCxtPTAsTT0wLHg9MCxiPUxjLF89eSx3PW51bGwsUz1udWxsO3JldHVybiB0LnN0cmVhbT1mdW5jdGlvbihuKXtyZXR1cm4gcyYmKHMudmFsaWQ9ITEpLHM9b3IoYihvLGYoXyhuKSkpKSxzLnZhbGlkPSEwLHN9LHQuY2xpcEFuZ2xlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPW51bGw9PW4/KHc9bixMYyk6SGUoKHc9K24pKkRhKSx1KCkpOnd9LHQuY2xpcEV4dGVudD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oUz1uLF89bj9JZShuWzBdWzBdLG5bMF1bMV0sblsxXVswXSxuWzFdWzFdKTp5LHUoKSk6U30sdC5zY2FsZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD0rbixyKCkpOmh9LHQudHJhbnNsYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPStuWzBdLHA9K25bMV0scigpKTpbZyxwXX0sdC5jZW50ZXI9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHY9blswXSUzNjAqRGEsZD1uWzFdJTM2MCpEYSxyKCkpOlt2KlBhLGQqUGFdfSx0LnJvdGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obT1uWzBdJTM2MCpEYSxNPW5bMV0lMzYwKkRhLHg9bi5sZW5ndGg+Mj9uWzJdJTM2MCpEYTowLHIoKSk6W20qUGEsTSpQYSx4KlBhXX0sdGEucmViaW5kKHQsZixcInByZWNpc2lvblwiKSxmdW5jdGlvbigpe3JldHVybiBpPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHQuaW52ZXJ0PWkuaW52ZXJ0JiZlLHIoKX19ZnVuY3Rpb24gb3Iobil7cmV0dXJuIHJyKG4sZnVuY3Rpb24odCxlKXtuLnBvaW50KHQqRGEsZSpEYSl9KX1mdW5jdGlvbiBhcihuLHQpe3JldHVybltuLHRdfWZ1bmN0aW9uIGNyKG4sdCl7cmV0dXJuW24+cWE/bi1MYTotcWE+bj9uK0xhOm4sdF19ZnVuY3Rpb24gbHIobix0LGUpe3JldHVybiBuP3R8fGU/QWUoZnIobiksaHIodCxlKSk6ZnIobik6dHx8ZT9ocih0LGUpOmNyfWZ1bmN0aW9uIHNyKG4pe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiB0Kz1uLFt0PnFhP3QtTGE6LXFhPnQ/dCtMYTp0LGVdfX1mdW5jdGlvbiBmcihuKXt2YXIgdD1zcihuKTtyZXR1cm4gdC5pbnZlcnQ9c3IoLW4pLHR9ZnVuY3Rpb24gaHIobix0KXtmdW5jdGlvbiBlKG4sdCl7dmFyIGU9TWF0aC5jb3ModCksYT1NYXRoLmNvcyhuKSplLGM9TWF0aC5zaW4obikqZSxsPU1hdGguc2luKHQpLHM9bCpyK2EqdTtyZXR1cm5bTWF0aC5hdGFuMihjKmktcypvLGEqci1sKnUpLHR0KHMqaStjKm8pXX12YXIgcj1NYXRoLmNvcyhuKSx1PU1hdGguc2luKG4pLGk9TWF0aC5jb3ModCksbz1NYXRoLnNpbih0KTtyZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24obix0KXt2YXIgZT1NYXRoLmNvcyh0KSxhPU1hdGguY29zKG4pKmUsYz1NYXRoLnNpbihuKSplLGw9TWF0aC5zaW4odCkscz1sKmktYypvO3JldHVybltNYXRoLmF0YW4yKGMqaStsKm8sYSpyK3MqdSksdHQocypyLWEqdSldfSxlfWZ1bmN0aW9uIGdyKG4sdCl7dmFyIGU9TWF0aC5jb3Mobikscj1NYXRoLnNpbihuKTtyZXR1cm4gZnVuY3Rpb24odSxpLG8sYSl7dmFyIGM9byp0O251bGwhPXU/KHU9cHIoZSx1KSxpPXByKGUsaSksKG8+MD9pPnU6dT5pKSYmKHUrPW8qTGEpKToodT1uK28qTGEsaT1uLS41KmMpO2Zvcih2YXIgbCxzPXU7bz4wP3M+aTppPnM7cy09YylhLnBvaW50KChsPXhlKFtlLC1yKk1hdGguY29zKHMpLC1yKk1hdGguc2luKHMpXSkpWzBdLGxbMV0pfX1mdW5jdGlvbiBwcihuLHQpe3ZhciBlPXBlKHQpO2VbMF0tPW4sTWUoZSk7dmFyIHI9bnQoLWVbMV0pO3JldHVybigoLWVbMl08MD8tcjpyKSsyKk1hdGguUEktQ2EpJSgyKk1hdGguUEkpfWZ1bmN0aW9uIHZyKG4sdCxlKXt2YXIgcj10YS5yYW5nZShuLHQtQ2EsZSkuY29uY2F0KHQpO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW24sdF19KX19ZnVuY3Rpb24gZHIobix0LGUpe3ZhciByPXRhLnJhbmdlKG4sdC1DYSxlKS5jb25jYXQodCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiByLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdCxuXX0pfX1mdW5jdGlvbiBtcihuKXtyZXR1cm4gbi5zb3VyY2V9ZnVuY3Rpb24geXIobil7cmV0dXJuIG4udGFyZ2V0fWZ1bmN0aW9uIE1yKG4sdCxlLHIpe3ZhciB1PU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCksbz1NYXRoLmNvcyhyKSxhPU1hdGguc2luKHIpLGM9dSpNYXRoLmNvcyhuKSxsPXUqTWF0aC5zaW4obikscz1vKk1hdGguY29zKGUpLGY9bypNYXRoLnNpbihlKSxoPTIqTWF0aC5hc2luKE1hdGguc3FydChpdChyLXQpK3UqbyppdChlLW4pKSksZz0xL01hdGguc2luKGgpLHA9aD9mdW5jdGlvbihuKXt2YXIgdD1NYXRoLnNpbihuKj1oKSpnLGU9TWF0aC5zaW4oaC1uKSpnLHI9ZSpjK3Qqcyx1PWUqbCt0KmYsbz1lKmkrdCphO3JldHVybltNYXRoLmF0YW4yKHUscikqUGEsTWF0aC5hdGFuMihvLE1hdGguc3FydChyKnIrdSp1KSkqUGFdfTpmdW5jdGlvbigpe3JldHVybltuKlBhLHQqUGFdfTtyZXR1cm4gcC5kaXN0YW5jZT1oLHB9ZnVuY3Rpb24geHIoKXtmdW5jdGlvbiBuKG4sdSl7dmFyIGk9TWF0aC5zaW4odSo9RGEpLG89TWF0aC5jb3ModSksYT1nYSgobio9RGEpLXQpLGM9TWF0aC5jb3MoYSk7WWMrPU1hdGguYXRhbjIoTWF0aC5zcXJ0KChhPW8qTWF0aC5zaW4oYSkpKmErKGE9cippLWUqbypjKSphKSxlKmkrcipvKmMpLHQ9bixlPWkscj1vfXZhciB0LGUscjtaYy5wb2ludD1mdW5jdGlvbih1LGkpe3Q9dSpEYSxlPU1hdGguc2luKGkqPURhKSxyPU1hdGguY29zKGkpLFpjLnBvaW50PW59LFpjLmxpbmVFbmQ9ZnVuY3Rpb24oKXtaYy5wb2ludD1aYy5saW5lRW5kPWJ9fWZ1bmN0aW9uIGJyKG4sdCl7ZnVuY3Rpb24gZSh0LGUpe3ZhciByPU1hdGguY29zKHQpLHU9TWF0aC5jb3MoZSksaT1uKHIqdSk7cmV0dXJuW2kqdSpNYXRoLnNpbih0KSxpKk1hdGguc2luKGUpXX1yZXR1cm4gZS5pbnZlcnQ9ZnVuY3Rpb24obixlKXt2YXIgcj1NYXRoLnNxcnQobipuK2UqZSksdT10KHIpLGk9TWF0aC5zaW4odSksbz1NYXRoLmNvcyh1KTtyZXR1cm5bTWF0aC5hdGFuMihuKmkscipvKSxNYXRoLmFzaW4ociYmZSppL3IpXX0sZX1mdW5jdGlvbiBfcihuLHQpe2Z1bmN0aW9uIGUobix0KXtvPjA/LVJhK0NhPnQmJih0PS1SYStDYSk6dD5SYS1DYSYmKHQ9UmEtQ2EpO3ZhciBlPW8vTWF0aC5wb3codSh0KSxpKTtyZXR1cm5bZSpNYXRoLnNpbihpKm4pLG8tZSpNYXRoLmNvcyhpKm4pXX12YXIgcj1NYXRoLmNvcyhuKSx1PWZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnRhbihxYS80K24vMil9LGk9bj09PXQ/TWF0aC5zaW4obik6TWF0aC5sb2coci9NYXRoLmNvcyh0KSkvTWF0aC5sb2codSh0KS91KG4pKSxvPXIqTWF0aC5wb3codShuKSxpKS9pO3JldHVybiBpPyhlLmludmVydD1mdW5jdGlvbihuLHQpe3ZhciBlPW8tdCxyPUsoaSkqTWF0aC5zcXJ0KG4qbitlKmUpO3JldHVybltNYXRoLmF0YW4yKG4sZSkvaSwyKk1hdGguYXRhbihNYXRoLnBvdyhvL3IsMS9pKSktUmFdfSxlKTpTcn1mdW5jdGlvbiB3cihuLHQpe2Z1bmN0aW9uIGUobix0KXt2YXIgZT1pLXQ7cmV0dXJuW2UqTWF0aC5zaW4odSpuKSxpLWUqTWF0aC5jb3ModSpuKV19dmFyIHI9TWF0aC5jb3MobiksdT1uPT09dD9NYXRoLnNpbihuKTooci1NYXRoLmNvcyh0KSkvKHQtbiksaT1yL3UrbjtyZXR1cm4gZ2EodSk8Q2E/YXI6KGUuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7dmFyIGU9aS10O3JldHVybltNYXRoLmF0YW4yKG4sZSkvdSxpLUsodSkqTWF0aC5zcXJ0KG4qbitlKmUpXX0sZSl9ZnVuY3Rpb24gU3Iobix0KXtyZXR1cm5bbixNYXRoLmxvZyhNYXRoLnRhbihxYS80K3QvMikpXX1mdW5jdGlvbiBrcihuKXt2YXIgdCxlPXVyKG4pLHI9ZS5zY2FsZSx1PWUudHJhbnNsYXRlLGk9ZS5jbGlwRXh0ZW50O3JldHVybiBlLnNjYWxlPWZ1bmN0aW9uKCl7dmFyIG49ci5hcHBseShlLGFyZ3VtZW50cyk7cmV0dXJuIG49PT1lP3Q/ZS5jbGlwRXh0ZW50KG51bGwpOmU6bn0sZS50cmFuc2xhdGU9ZnVuY3Rpb24oKXt2YXIgbj11LmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gbj09PWU/dD9lLmNsaXBFeHRlbnQobnVsbCk6ZTpufSxlLmNsaXBFeHRlbnQ9ZnVuY3Rpb24obil7dmFyIG89aS5hcHBseShlLGFyZ3VtZW50cyk7aWYobz09PWUpe2lmKHQ9bnVsbD09bil7dmFyIGE9cWEqcigpLGM9dSgpO2koW1tjWzBdLWEsY1sxXS1hXSxbY1swXSthLGNbMV0rYV1dKX19ZWxzZSB0JiYobz1udWxsKTtyZXR1cm4gb30sZS5jbGlwRXh0ZW50KG51bGwpfWZ1bmN0aW9uIEVyKG4sdCl7cmV0dXJuW01hdGgubG9nKE1hdGgudGFuKHFhLzQrdC8yKSksLW5dfWZ1bmN0aW9uIEFyKG4pe3JldHVybiBuWzBdfWZ1bmN0aW9uIE5yKG4pe3JldHVybiBuWzFdfWZ1bmN0aW9uIENyKG4pe2Zvcih2YXIgdD1uLmxlbmd0aCxlPVswLDFdLHI9Mix1PTI7dD51O3UrKyl7Zm9yKDtyPjEmJlEobltlW3ItMl1dLG5bZVtyLTFdXSxuW3VdKTw9MDspLS1yO2VbcisrXT11fXJldHVybiBlLnNsaWNlKDAscil9ZnVuY3Rpb24genIobix0KXtyZXR1cm4gblswXS10WzBdfHxuWzFdLXRbMV19ZnVuY3Rpb24gcXIobix0LGUpe3JldHVybihlWzBdLXRbMF0pKihuWzFdLXRbMV0pPChlWzFdLXRbMV0pKihuWzBdLXRbMF0pfWZ1bmN0aW9uIExyKG4sdCxlLHIpe3ZhciB1PW5bMF0saT1lWzBdLG89dFswXS11LGE9clswXS1pLGM9blsxXSxsPWVbMV0scz10WzFdLWMsZj1yWzFdLWwsaD0oYSooYy1sKS1mKih1LWkpKS8oZipvLWEqcyk7cmV0dXJuW3UraCpvLGMraCpzXX1mdW5jdGlvbiBUcihuKXt2YXIgdD1uWzBdLGU9bltuLmxlbmd0aC0xXTtyZXR1cm4hKHRbMF0tZVswXXx8dFsxXS1lWzFdKX1mdW5jdGlvbiBScigpe3R1KHRoaXMpLHRoaXMuZWRnZT10aGlzLnNpdGU9dGhpcy5jaXJjbGU9bnVsbH1mdW5jdGlvbiBEcihuKXt2YXIgdD1lbC5wb3AoKXx8bmV3IFJyO3JldHVybiB0LnNpdGU9bix0fWZ1bmN0aW9uIFByKG4pe1hyKG4pLFFjLnJlbW92ZShuKSxlbC5wdXNoKG4pLHR1KG4pfWZ1bmN0aW9uIFVyKG4pe3ZhciB0PW4uY2lyY2xlLGU9dC54LHI9dC5jeSx1PXt4OmUseTpyfSxpPW4uUCxvPW4uTixhPVtuXTtQcihuKTtmb3IodmFyIGM9aTtjLmNpcmNsZSYmZ2EoZS1jLmNpcmNsZS54KTxDYSYmZ2Eoci1jLmNpcmNsZS5jeSk8Q2E7KWk9Yy5QLGEudW5zaGlmdChjKSxQcihjKSxjPWk7YS51bnNoaWZ0KGMpLFhyKGMpO2Zvcih2YXIgbD1vO2wuY2lyY2xlJiZnYShlLWwuY2lyY2xlLngpPENhJiZnYShyLWwuY2lyY2xlLmN5KTxDYTspbz1sLk4sYS5wdXNoKGwpLFByKGwpLGw9bzthLnB1c2gobCksWHIobCk7dmFyIHMsZj1hLmxlbmd0aDtmb3Iocz0xO2Y+czsrK3MpbD1hW3NdLGM9YVtzLTFdLEtyKGwuZWRnZSxjLnNpdGUsbC5zaXRlLHUpO2M9YVswXSxsPWFbZi0xXSxsLmVkZ2U9SnIoYy5zaXRlLGwuc2l0ZSxudWxsLHUpLFZyKGMpLFZyKGwpfWZ1bmN0aW9uIGpyKG4pe2Zvcih2YXIgdCxlLHIsdSxpPW4ueCxvPW4ueSxhPVFjLl87YTspaWYocj1GcihhLG8pLWkscj5DYSlhPWEuTDtlbHNle2lmKHU9aS1IcihhLG8pLCEodT5DYSkpe3I+LUNhPyh0PWEuUCxlPWEpOnU+LUNhPyh0PWEsZT1hLk4pOnQ9ZT1hO2JyZWFrfWlmKCFhLlIpe3Q9YTticmVha31hPWEuUn12YXIgYz1EcihuKTtpZihRYy5pbnNlcnQodCxjKSx0fHxlKXtpZih0PT09ZSlyZXR1cm4gWHIodCksZT1Ecih0LnNpdGUpLFFjLmluc2VydChjLGUpLGMuZWRnZT1lLmVkZ2U9SnIodC5zaXRlLGMuc2l0ZSksVnIodCksdm9pZCBWcihlKTtpZighZSlyZXR1cm4gdm9pZChjLmVkZ2U9SnIodC5zaXRlLGMuc2l0ZSkpO1hyKHQpLFhyKGUpO3ZhciBsPXQuc2l0ZSxzPWwueCxmPWwueSxoPW4ueC1zLGc9bi55LWYscD1lLnNpdGUsdj1wLngtcyxkPXAueS1mLG09MiooaCpkLWcqdikseT1oKmgrZypnLE09dip2K2QqZCx4PXt4OihkKnktZypNKS9tK3MseTooaCpNLXYqeSkvbStmfTtLcihlLmVkZ2UsbCxwLHgpLGMuZWRnZT1KcihsLG4sbnVsbCx4KSxlLmVkZ2U9SnIobixwLG51bGwseCksVnIodCksVnIoZSl9fWZ1bmN0aW9uIEZyKG4sdCl7dmFyIGU9bi5zaXRlLHI9ZS54LHU9ZS55LGk9dS10O2lmKCFpKXJldHVybiByO3ZhciBvPW4uUDtpZighbylyZXR1cm4tMS8wO2U9by5zaXRlO3ZhciBhPWUueCxjPWUueSxsPWMtdDtpZighbClyZXR1cm4gYTt2YXIgcz1hLXIsZj0xL2ktMS9sLGg9cy9sO3JldHVybiBmPygtaCtNYXRoLnNxcnQoaCpoLTIqZioocypzLygtMipsKS1jK2wvMit1LWkvMikpKS9mK3I6KHIrYSkvMn1mdW5jdGlvbiBIcihuLHQpe3ZhciBlPW4uTjtpZihlKXJldHVybiBGcihlLHQpO3ZhciByPW4uc2l0ZTtyZXR1cm4gci55PT09dD9yLng6MS8wfWZ1bmN0aW9uIE9yKG4pe3RoaXMuc2l0ZT1uLHRoaXMuZWRnZXM9W119ZnVuY3Rpb24gSXIobil7Zm9yKHZhciB0LGUscix1LGksbyxhLGMsbCxzLGY9blswXVswXSxoPW5bMV1bMF0sZz1uWzBdWzFdLHA9blsxXVsxXSx2PUtjLGQ9di5sZW5ndGg7ZC0tOylpZihpPXZbZF0saSYmaS5wcmVwYXJlKCkpZm9yKGE9aS5lZGdlcyxjPWEubGVuZ3RoLG89MDtjPm87KXM9YVtvXS5lbmQoKSxyPXMueCx1PXMueSxsPWFbKytvJWNdLnN0YXJ0KCksdD1sLngsZT1sLnksKGdhKHItdCk+Q2F8fGdhKHUtZSk+Q2EpJiYoYS5zcGxpY2UobywwLG5ldyBRcihHcihpLnNpdGUscyxnYShyLWYpPENhJiZwLXU+Q2E/e3g6Zix5OmdhKHQtZik8Q2E/ZTpwfTpnYSh1LXApPENhJiZoLXI+Q2E/e3g6Z2EoZS1wKTxDYT90OmgseTpwfTpnYShyLWgpPENhJiZ1LWc+Q2E/e3g6aCx5OmdhKHQtaCk8Q2E/ZTpnfTpnYSh1LWcpPENhJiZyLWY+Q2E/e3g6Z2EoZS1nKTxDYT90OmYseTpnfTpudWxsKSxpLnNpdGUsbnVsbCkpLCsrYyl9ZnVuY3Rpb24gWXIobix0KXtyZXR1cm4gdC5hbmdsZS1uLmFuZ2xlfWZ1bmN0aW9uIFpyKCl7dHUodGhpcyksdGhpcy54PXRoaXMueT10aGlzLmFyYz10aGlzLnNpdGU9dGhpcy5jeT1udWxsfWZ1bmN0aW9uIFZyKG4pe3ZhciB0PW4uUCxlPW4uTjtpZih0JiZlKXt2YXIgcj10LnNpdGUsdT1uLnNpdGUsaT1lLnNpdGU7aWYociE9PWkpe3ZhciBvPXUueCxhPXUueSxjPXIueC1vLGw9ci55LWEscz1pLngtbyxmPWkueS1hLGg9MiooYypmLWwqcyk7aWYoIShoPj0temEpKXt2YXIgZz1jKmMrbCpsLHA9cypzK2YqZix2PShmKmctbCpwKS9oLGQ9KGMqcC1zKmcpL2gsZj1kK2EsbT1ybC5wb3AoKXx8bmV3IFpyO20uYXJjPW4sbS5zaXRlPXUsbS54PXYrbyxtLnk9ZitNYXRoLnNxcnQodip2K2QqZCksbS5jeT1mLG4uY2lyY2xlPW07Zm9yKHZhciB5PW51bGwsTT10bC5fO007KWlmKG0ueTxNLnl8fG0ueT09PU0ueSYmbS54PD1NLngpe2lmKCFNLkwpe3k9TS5QO2JyZWFrfU09TS5MfWVsc2V7aWYoIU0uUil7eT1NO2JyZWFrfU09TS5SfXRsLmluc2VydCh5LG0pLHl8fChubD1tKX19fX1mdW5jdGlvbiBYcihuKXt2YXIgdD1uLmNpcmNsZTt0JiYodC5QfHwobmw9dC5OKSx0bC5yZW1vdmUodCkscmwucHVzaCh0KSx0dSh0KSxuLmNpcmNsZT1udWxsKX1mdW5jdGlvbiAkcihuKXtmb3IodmFyIHQsZT1HYyxyPU9lKG5bMF1bMF0sblswXVsxXSxuWzFdWzBdLG5bMV1bMV0pLHU9ZS5sZW5ndGg7dS0tOyl0PWVbdV0sKCFCcih0LG4pfHwhcih0KXx8Z2EodC5hLngtdC5iLngpPENhJiZnYSh0LmEueS10LmIueSk8Q2EpJiYodC5hPXQuYj1udWxsLGUuc3BsaWNlKHUsMSkpfWZ1bmN0aW9uIEJyKG4sdCl7dmFyIGU9bi5iO2lmKGUpcmV0dXJuITA7dmFyIHIsdSxpPW4uYSxvPXRbMF1bMF0sYT10WzFdWzBdLGM9dFswXVsxXSxsPXRbMV1bMV0scz1uLmwsZj1uLnIsaD1zLngsZz1zLnkscD1mLngsdj1mLnksZD0oaCtwKS8yLG09KGcrdikvMjtpZih2PT09Zyl7aWYobz5kfHxkPj1hKXJldHVybjtpZihoPnApe2lmKGkpe2lmKGkueT49bClyZXR1cm59ZWxzZSBpPXt4OmQseTpjfTtlPXt4OmQseTpsfX1lbHNle2lmKGkpe2lmKGkueTxjKXJldHVybn1lbHNlIGk9e3g6ZCx5Omx9O2U9e3g6ZCx5OmN9fX1lbHNlIGlmKHI9KGgtcCkvKHYtZyksdT1tLXIqZCwtMT5yfHxyPjEpaWYoaD5wKXtpZihpKXtpZihpLnk+PWwpcmV0dXJufWVsc2UgaT17eDooYy11KS9yLHk6Y307ZT17eDoobC11KS9yLHk6bH19ZWxzZXtpZihpKXtpZihpLnk8YylyZXR1cm59ZWxzZSBpPXt4OihsLXUpL3IseTpsfTtlPXt4OihjLXUpL3IseTpjfX1lbHNlIGlmKHY+Zyl7aWYoaSl7aWYoaS54Pj1hKXJldHVybn1lbHNlIGk9e3g6byx5OnIqbyt1fTtlPXt4OmEseTpyKmErdX19ZWxzZXtpZihpKXtpZihpLng8bylyZXR1cm59ZWxzZSBpPXt4OmEseTpyKmErdX07ZT17eDpvLHk6cipvK3V9fXJldHVybiBuLmE9aSxuLmI9ZSwhMH1mdW5jdGlvbiBXcihuLHQpe3RoaXMubD1uLHRoaXMucj10LHRoaXMuYT10aGlzLmI9bnVsbH1mdW5jdGlvbiBKcihuLHQsZSxyKXt2YXIgdT1uZXcgV3Iobix0KTtyZXR1cm4gR2MucHVzaCh1KSxlJiZLcih1LG4sdCxlKSxyJiZLcih1LHQsbixyKSxLY1tuLmldLmVkZ2VzLnB1c2gobmV3IFFyKHUsbix0KSksS2NbdC5pXS5lZGdlcy5wdXNoKG5ldyBRcih1LHQsbikpLHV9ZnVuY3Rpb24gR3Iobix0LGUpe3ZhciByPW5ldyBXcihuLG51bGwpO3JldHVybiByLmE9dCxyLmI9ZSxHYy5wdXNoKHIpLHJ9ZnVuY3Rpb24gS3Iobix0LGUscil7bi5hfHxuLmI/bi5sPT09ZT9uLmI9cjpuLmE9cjoobi5hPXIsbi5sPXQsbi5yPWUpfWZ1bmN0aW9uIFFyKG4sdCxlKXt2YXIgcj1uLmEsdT1uLmI7dGhpcy5lZGdlPW4sdGhpcy5zaXRlPXQsdGhpcy5hbmdsZT1lP01hdGguYXRhbjIoZS55LXQueSxlLngtdC54KTpuLmw9PT10P01hdGguYXRhbjIodS54LXIueCxyLnktdS55KTpNYXRoLmF0YW4yKHIueC11LngsdS55LXIueSl9ZnVuY3Rpb24gbnUoKXt0aGlzLl89bnVsbH1mdW5jdGlvbiB0dShuKXtuLlU9bi5DPW4uTD1uLlI9bi5QPW4uTj1udWxsfWZ1bmN0aW9uIGV1KG4sdCl7dmFyIGU9dCxyPXQuUix1PWUuVTt1P3UuTD09PWU/dS5MPXI6dS5SPXI6bi5fPXIsci5VPXUsZS5VPXIsZS5SPXIuTCxlLlImJihlLlIuVT1lKSxyLkw9ZX1mdW5jdGlvbiBydShuLHQpe3ZhciBlPXQscj10LkwsdT1lLlU7dT91Lkw9PT1lP3UuTD1yOnUuUj1yOm4uXz1yLHIuVT11LGUuVT1yLGUuTD1yLlIsZS5MJiYoZS5MLlU9ZSksci5SPWV9ZnVuY3Rpb24gdXUobil7Zm9yKDtuLkw7KW49bi5MO3JldHVybiBufWZ1bmN0aW9uIGl1KG4sdCl7dmFyIGUscix1LGk9bi5zb3J0KG91KS5wb3AoKTtmb3IoR2M9W10sS2M9bmV3IEFycmF5KG4ubGVuZ3RoKSxRYz1uZXcgbnUsdGw9bmV3IG51OzspaWYodT1ubCxpJiYoIXV8fGkueTx1Lnl8fGkueT09PXUueSYmaS54PHUueCkpKGkueCE9PWV8fGkueSE9PXIpJiYoS2NbaS5pXT1uZXcgT3IoaSksanIoaSksZT1pLngscj1pLnkpLGk9bi5wb3AoKTtlbHNle2lmKCF1KWJyZWFrO1VyKHUuYXJjKX10JiYoJHIodCksSXIodCkpO3ZhciBvPXtjZWxsczpLYyxlZGdlczpHY307cmV0dXJuIFFjPXRsPUdjPUtjPW51bGwsb31mdW5jdGlvbiBvdShuLHQpe3JldHVybiB0Lnktbi55fHx0Lngtbi54fWZ1bmN0aW9uIGF1KG4sdCxlKXtyZXR1cm4obi54LWUueCkqKHQueS1uLnkpLShuLngtdC54KSooZS55LW4ueSl9ZnVuY3Rpb24gY3Uobil7cmV0dXJuIG4ueH1mdW5jdGlvbiBsdShuKXtyZXR1cm4gbi55fWZ1bmN0aW9uIHN1KCl7cmV0dXJue2xlYWY6ITAsbm9kZXM6W10scG9pbnQ6bnVsbCx4Om51bGwseTpudWxsfX1mdW5jdGlvbiBmdShuLHQsZSxyLHUsaSl7aWYoIW4odCxlLHIsdSxpKSl7dmFyIG89LjUqKGUrdSksYT0uNSoocitpKSxjPXQubm9kZXM7Y1swXSYmZnUobixjWzBdLGUscixvLGEpLGNbMV0mJmZ1KG4sY1sxXSxvLHIsdSxhKSxjWzJdJiZmdShuLGNbMl0sZSxhLG8saSksY1szXSYmZnUobixjWzNdLG8sYSx1LGkpfX1mdW5jdGlvbiBodShuLHQsZSxyLHUsaSxvKXt2YXIgYSxjPTEvMDtyZXR1cm4gZnVuY3Rpb24gbChuLHMsZixoLGcpe2lmKCEocz5pfHxmPm98fHI+aHx8dT5nKSl7aWYocD1uLnBvaW50KXt2YXIgcCx2PXQtbi54LGQ9ZS1uLnksbT12KnYrZCpkO2lmKGM+bSl7dmFyIHk9TWF0aC5zcXJ0KGM9bSk7cj10LXksdT1lLXksaT10K3ksbz1lK3ksYT1wfX1mb3IodmFyIE09bi5ub2Rlcyx4PS41KihzK2gpLGI9LjUqKGYrZyksXz10Pj14LHc9ZT49YixTPXc8PDF8XyxrPVMrNDtrPlM7KytTKWlmKG49TVszJlNdKXN3aXRjaCgzJlMpe2Nhc2UgMDpsKG4scyxmLHgsYik7YnJlYWs7Y2FzZSAxOmwobix4LGYsaCxiKTticmVhaztjYXNlIDI6bChuLHMsYix4LGcpO2JyZWFrO2Nhc2UgMzpsKG4seCxiLGgsZyl9fX0obixyLHUsaSxvKSxhfWZ1bmN0aW9uIGd1KG4sdCl7bj10YS5yZ2IobiksdD10YS5yZ2IodCk7dmFyIGU9bi5yLHI9bi5nLHU9bi5iLGk9dC5yLWUsbz10LmctcixhPXQuYi11O3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm5cIiNcIit4dChNYXRoLnJvdW5kKGUraSpuKSkreHQoTWF0aC5yb3VuZChyK28qbikpK3h0KE1hdGgucm91bmQodSthKm4pKX19ZnVuY3Rpb24gcHUobix0KXt2YXIgZSxyPXt9LHU9e307Zm9yKGUgaW4gbillIGluIHQ/cltlXT1tdShuW2VdLHRbZV0pOnVbZV09bltlXTtmb3IoZSBpbiB0KWUgaW4gbnx8KHVbZV09dFtlXSk7cmV0dXJuIGZ1bmN0aW9uKG4pe2ZvcihlIGluIHIpdVtlXT1yW2VdKG4pO3JldHVybiB1fX1mdW5jdGlvbiB2dShuLHQpe3JldHVybiBuPStuLHQ9K3QsZnVuY3Rpb24oZSl7cmV0dXJuIG4qKDEtZSkrdCplfX1mdW5jdGlvbiBkdShuLHQpe3ZhciBlLHIsdSxpPWlsLmxhc3RJbmRleD1vbC5sYXN0SW5kZXg9MCxvPS0xLGE9W10sYz1bXTtmb3Iobis9XCJcIix0Kz1cIlwiOyhlPWlsLmV4ZWMobikpJiYocj1vbC5leGVjKHQpKTspKHU9ci5pbmRleCk+aSYmKHU9dC5zbGljZShpLHUpLGFbb10/YVtvXSs9dTphWysrb109dSksKGU9ZVswXSk9PT0ocj1yWzBdKT9hW29dP2Fbb10rPXI6YVsrK29dPXI6KGFbKytvXT1udWxsLGMucHVzaCh7aTpvLHg6dnUoZSxyKX0pKSxpPW9sLmxhc3RJbmRleDtyZXR1cm4gaTx0Lmxlbmd0aCYmKHU9dC5zbGljZShpKSxhW29dP2Fbb10rPXU6YVsrK29dPXUpLGEubGVuZ3RoPDI/Y1swXT8odD1jWzBdLngsZnVuY3Rpb24obil7cmV0dXJuIHQobikrXCJcIn0pOmZ1bmN0aW9uKCl7cmV0dXJuIHR9Oih0PWMubGVuZ3RoLGZ1bmN0aW9uKG4pe2Zvcih2YXIgZSxyPTA7dD5yOysrcilhWyhlPWNbcl0pLmldPWUueChuKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9ZnVuY3Rpb24gbXUobix0KXtmb3IodmFyIGUscj10YS5pbnRlcnBvbGF0b3JzLmxlbmd0aDstLXI+PTAmJiEoZT10YS5pbnRlcnBvbGF0b3JzW3JdKG4sdCkpOyk7cmV0dXJuIGV9ZnVuY3Rpb24geXUobix0KXt2YXIgZSxyPVtdLHU9W10saT1uLmxlbmd0aCxvPXQubGVuZ3RoLGE9TWF0aC5taW4obi5sZW5ndGgsdC5sZW5ndGgpO2ZvcihlPTA7YT5lOysrZSlyLnB1c2gobXUobltlXSx0W2VdKSk7Zm9yKDtpPmU7KytlKXVbZV09bltlXTtmb3IoO28+ZTsrK2UpdVtlXT10W2VdO3JldHVybiBmdW5jdGlvbihuKXtmb3IoZT0wO2E+ZTsrK2UpdVtlXT1yW2VdKG4pO3JldHVybiB1fX1mdW5jdGlvbiBNdShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA+PXQ/MDp0Pj0xPzE6bih0KX19ZnVuY3Rpb24geHUobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiAxLW4oMS10KX19ZnVuY3Rpb24gYnUobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi41KiguNT50P24oMip0KToyLW4oMi0yKnQpKX19ZnVuY3Rpb24gX3Uobil7cmV0dXJuIG4qbn1mdW5jdGlvbiB3dShuKXtyZXR1cm4gbipuKm59ZnVuY3Rpb24gU3Uobil7aWYoMD49bilyZXR1cm4gMDtpZihuPj0xKXJldHVybiAxO3ZhciB0PW4qbixlPXQqbjtyZXR1cm4gNCooLjU+bj9lOjMqKG4tdCkrZS0uNzUpfWZ1bmN0aW9uIGt1KG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxuKX19ZnVuY3Rpb24gRXUobil7cmV0dXJuIDEtTWF0aC5jb3MobipSYSl9ZnVuY3Rpb24gQXUobil7cmV0dXJuIE1hdGgucG93KDIsMTAqKG4tMSkpfWZ1bmN0aW9uIE51KG4pe3JldHVybiAxLU1hdGguc3FydCgxLW4qbil9ZnVuY3Rpb24gQ3Uobix0KXt2YXIgZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD0uNDUpLGFyZ3VtZW50cy5sZW5ndGg/ZT10L0xhKk1hdGguYXNpbigxL24pOihuPTEsZT10LzQpLGZ1bmN0aW9uKHIpe3JldHVybiAxK24qTWF0aC5wb3coMiwtMTAqcikqTWF0aC5zaW4oKHItZSkqTGEvdCl9fWZ1bmN0aW9uIHp1KG4pe3JldHVybiBufHwobj0xLjcwMTU4KSxmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigobisxKSp0LW4pfX1mdW5jdGlvbiBxdShuKXtyZXR1cm4gMS8yLjc1Pm4/Ny41NjI1Km4qbjoyLzIuNzU+bj83LjU2MjUqKG4tPTEuNS8yLjc1KSpuKy43NToyLjUvMi43NT5uPzcuNTYyNSoobi09Mi4yNS8yLjc1KSpuKy45Mzc1OjcuNTYyNSoobi09Mi42MjUvMi43NSkqbisuOTg0Mzc1fWZ1bmN0aW9uIEx1KG4sdCl7bj10YS5oY2wobiksdD10YS5oY2wodCk7dmFyIGU9bi5oLHI9bi5jLHU9bi5sLGk9dC5oLWUsbz10LmMtcixhPXQubC11O3JldHVybiBpc05hTihvKSYmKG89MCxyPWlzTmFOKHIpP3QuYzpyKSxpc05hTihpKT8oaT0wLGU9aXNOYU4oZSk/dC5oOmUpOmk+MTgwP2ktPTM2MDotMTgwPmkmJihpKz0zNjApLGZ1bmN0aW9uKG4pe3JldHVybiBzdChlK2kqbixyK28qbix1K2EqbikrXCJcIn19ZnVuY3Rpb24gVHUobix0KXtuPXRhLmhzbChuKSx0PXRhLmhzbCh0KTt2YXIgZT1uLmgscj1uLnMsdT1uLmwsaT10LmgtZSxvPXQucy1yLGE9dC5sLXU7cmV0dXJuIGlzTmFOKG8pJiYobz0wLHI9aXNOYU4ocik/dC5zOnIpLGlzTmFOKGkpPyhpPTAsZT1pc05hTihlKT90Lmg6ZSk6aT4xODA/aS09MzYwOi0xODA+aSYmKGkrPTM2MCksZnVuY3Rpb24obil7cmV0dXJuIGN0KGUraSpuLHIrbypuLHUrYSpuKStcIlwifX1mdW5jdGlvbiBSdShuLHQpe249dGEubGFiKG4pLHQ9dGEubGFiKHQpO3ZhciBlPW4ubCxyPW4uYSx1PW4uYixpPXQubC1lLG89dC5hLXIsYT10LmItdTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGh0KGUraSpuLHIrbypuLHUrYSpuKStcIlwifX1mdW5jdGlvbiBEdShuLHQpe3JldHVybiB0LT1uLGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnJvdW5kKG4rdCplKX19ZnVuY3Rpb24gUHUobil7dmFyIHQ9W24uYSxuLmJdLGU9W24uYyxuLmRdLHI9anUodCksdT1VdSh0LGUpLGk9anUoRnUoZSx0LC11KSl8fDA7dFswXSplWzFdPGVbMF0qdFsxXSYmKHRbMF0qPS0xLHRbMV0qPS0xLHIqPS0xLHUqPS0xKSx0aGlzLnJvdGF0ZT0ocj9NYXRoLmF0YW4yKHRbMV0sdFswXSk6TWF0aC5hdGFuMigtZVswXSxlWzFdKSkqUGEsdGhpcy50cmFuc2xhdGU9W24uZSxuLmZdLHRoaXMuc2NhbGU9W3IsaV0sdGhpcy5za2V3PWk/TWF0aC5hdGFuMih1LGkpKlBhOjB9ZnVuY3Rpb24gVXUobix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXX1mdW5jdGlvbiBqdShuKXt2YXIgdD1NYXRoLnNxcnQoVXUobixuKSk7cmV0dXJuIHQmJihuWzBdLz10LG5bMV0vPXQpLHR9ZnVuY3Rpb24gRnUobix0LGUpe3JldHVybiBuWzBdKz1lKnRbMF0sblsxXSs9ZSp0WzFdLG59ZnVuY3Rpb24gSHUobix0KXt2YXIgZSxyPVtdLHU9W10saT10YS50cmFuc2Zvcm0obiksbz10YS50cmFuc2Zvcm0odCksYT1pLnRyYW5zbGF0ZSxjPW8udHJhbnNsYXRlLGw9aS5yb3RhdGUscz1vLnJvdGF0ZSxmPWkuc2tldyxoPW8uc2tldyxnPWkuc2NhbGUscD1vLnNjYWxlO3JldHVybiBhWzBdIT1jWzBdfHxhWzFdIT1jWzFdPyhyLnB1c2goXCJ0cmFuc2xhdGUoXCIsbnVsbCxcIixcIixudWxsLFwiKVwiKSx1LnB1c2goe2k6MSx4OnZ1KGFbMF0sY1swXSl9LHtpOjMseDp2dShhWzFdLGNbMV0pfSkpOnIucHVzaChjWzBdfHxjWzFdP1widHJhbnNsYXRlKFwiK2MrXCIpXCI6XCJcIiksbCE9cz8obC1zPjE4MD9zKz0zNjA6cy1sPjE4MCYmKGwrPTM2MCksdS5wdXNoKHtpOnIucHVzaChyLnBvcCgpK1wicm90YXRlKFwiLG51bGwsXCIpXCIpLTIseDp2dShsLHMpfSkpOnMmJnIucHVzaChyLnBvcCgpK1wicm90YXRlKFwiK3MrXCIpXCIpLGYhPWg/dS5wdXNoKHtpOnIucHVzaChyLnBvcCgpK1wic2tld1goXCIsbnVsbCxcIilcIiktMix4OnZ1KGYsaCl9KTpoJiZyLnB1c2goci5wb3AoKStcInNrZXdYKFwiK2grXCIpXCIpLGdbMF0hPXBbMF18fGdbMV0hPXBbMV0/KGU9ci5wdXNoKHIucG9wKCkrXCJzY2FsZShcIixudWxsLFwiLFwiLG51bGwsXCIpXCIpLHUucHVzaCh7aTplLTQseDp2dShnWzBdLHBbMF0pfSx7aTplLTIseDp2dShnWzFdLHBbMV0pfSkpOigxIT1wWzBdfHwxIT1wWzFdKSYmci5wdXNoKHIucG9wKCkrXCJzY2FsZShcIitwK1wiKVwiKSxlPXUubGVuZ3RoLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpPS0xOysraTxlOylyWyh0PXVbaV0pLmldPXQueChuKTtyZXR1cm4gci5qb2luKFwiXCIpfX1mdW5jdGlvbiBPdShuLHQpe3JldHVybiB0PSh0LT1uPStuKXx8MS90LGZ1bmN0aW9uKGUpe3JldHVybihlLW4pL3R9fWZ1bmN0aW9uIEl1KG4sdCl7cmV0dXJuIHQ9KHQtPW49K24pfHwxL3QsZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oMSwoZS1uKS90KSl9fWZ1bmN0aW9uIFl1KG4pe2Zvcih2YXIgdD1uLnNvdXJjZSxlPW4udGFyZ2V0LHI9VnUodCxlKSx1PVt0XTt0IT09cjspdD10LnBhcmVudCx1LnB1c2godCk7Zm9yKHZhciBpPXUubGVuZ3RoO2UhPT1yOyl1LnNwbGljZShpLDAsZSksZT1lLnBhcmVudDtyZXR1cm4gdX1mdW5jdGlvbiBadShuKXtmb3IodmFyIHQ9W10sZT1uLnBhcmVudDtudWxsIT1lOyl0LnB1c2gobiksbj1lLGU9ZS5wYXJlbnQ7cmV0dXJuIHQucHVzaChuKSx0fWZ1bmN0aW9uIFZ1KG4sdCl7aWYobj09PXQpcmV0dXJuIG47Zm9yKHZhciBlPVp1KG4pLHI9WnUodCksdT1lLnBvcCgpLGk9ci5wb3AoKSxvPW51bGw7dT09PWk7KW89dSx1PWUucG9wKCksaT1yLnBvcCgpO3JldHVybiBvfWZ1bmN0aW9uIFh1KG4pe24uZml4ZWR8PTJ9ZnVuY3Rpb24gJHUobil7bi5maXhlZCY9LTd9ZnVuY3Rpb24gQnUobil7bi5maXhlZHw9NCxuLnB4PW4ueCxuLnB5PW4ueX1mdW5jdGlvbiBXdShuKXtuLmZpeGVkJj0tNX1mdW5jdGlvbiBKdShuLHQsZSl7dmFyIHI9MCx1PTA7aWYobi5jaGFyZ2U9MCwhbi5sZWFmKWZvcih2YXIgaSxvPW4ubm9kZXMsYT1vLmxlbmd0aCxjPS0xOysrYzxhOylpPW9bY10sbnVsbCE9aSYmKEp1KGksdCxlKSxuLmNoYXJnZSs9aS5jaGFyZ2Uscis9aS5jaGFyZ2UqaS5jeCx1Kz1pLmNoYXJnZSppLmN5KTtpZihuLnBvaW50KXtuLmxlYWZ8fChuLnBvaW50LngrPU1hdGgucmFuZG9tKCktLjUsbi5wb2ludC55Kz1NYXRoLnJhbmRvbSgpLS41KTt2YXIgbD10KmVbbi5wb2ludC5pbmRleF07bi5jaGFyZ2UrPW4ucG9pbnRDaGFyZ2U9bCxyKz1sKm4ucG9pbnQueCx1Kz1sKm4ucG9pbnQueX1uLmN4PXIvbi5jaGFyZ2Usbi5jeT11L24uY2hhcmdlfWZ1bmN0aW9uIEd1KG4sdCl7cmV0dXJuIHRhLnJlYmluZChuLHQsXCJzb3J0XCIsXCJjaGlsZHJlblwiLFwidmFsdWVcIiksbi5ub2Rlcz1uLG4ubGlua3M9cmksbn1mdW5jdGlvbiBLdShuLHQpe2Zvcih2YXIgZT1bbl07bnVsbCE9KG49ZS5wb3AoKSk7KWlmKHQobiksKHU9bi5jaGlsZHJlbikmJihyPXUubGVuZ3RoKSlmb3IodmFyIHIsdTstLXI+PTA7KWUucHVzaCh1W3JdKX1mdW5jdGlvbiBRdShuLHQpe2Zvcih2YXIgZT1bbl0scj1bXTtudWxsIT0obj1lLnBvcCgpKTspaWYoci5wdXNoKG4pLChpPW4uY2hpbGRyZW4pJiYodT1pLmxlbmd0aCkpZm9yKHZhciB1LGksbz0tMTsrK288dTspZS5wdXNoKGlbb10pO2Zvcig7bnVsbCE9KG49ci5wb3AoKSk7KXQobil9ZnVuY3Rpb24gbmkobil7cmV0dXJuIG4uY2hpbGRyZW59ZnVuY3Rpb24gdGkobil7cmV0dXJuIG4udmFsdWV9ZnVuY3Rpb24gZWkobix0KXtyZXR1cm4gdC52YWx1ZS1uLnZhbHVlfWZ1bmN0aW9uIHJpKG4pe3JldHVybiB0YS5tZXJnZShuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi5jaGlsZHJlbnx8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOm4sdGFyZ2V0OnR9fSl9KSl9ZnVuY3Rpb24gdWkobil7cmV0dXJuIG4ueH1mdW5jdGlvbiBpaShuKXtyZXR1cm4gbi55fWZ1bmN0aW9uIG9pKG4sdCxlKXtuLnkwPXQsbi55PWV9ZnVuY3Rpb24gYWkobil7cmV0dXJuIHRhLnJhbmdlKG4ubGVuZ3RoKX1mdW5jdGlvbiBjaShuKXtmb3IodmFyIHQ9LTEsZT1uWzBdLmxlbmd0aCxyPVtdOysrdDxlOylyW3RdPTA7cmV0dXJuIHJ9ZnVuY3Rpb24gbGkobil7Zm9yKHZhciB0LGU9MSxyPTAsdT1uWzBdWzFdLGk9bi5sZW5ndGg7aT5lOysrZSkodD1uW2VdWzFdKT51JiYocj1lLHU9dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gc2kobil7cmV0dXJuIG4ucmVkdWNlKGZpLDApfWZ1bmN0aW9uIGZpKG4sdCl7cmV0dXJuIG4rdFsxXX1mdW5jdGlvbiBoaShuLHQpe3JldHVybiBnaShuLE1hdGguY2VpbChNYXRoLmxvZyh0Lmxlbmd0aCkvTWF0aC5MTjIrMSkpfWZ1bmN0aW9uIGdpKG4sdCl7Zm9yKHZhciBlPS0xLHI9K25bMF0sdT0oblsxXS1yKS90LGk9W107KytlPD10OylpW2VdPXUqZStyO3JldHVybiBpfWZ1bmN0aW9uIHBpKG4pe3JldHVyblt0YS5taW4obiksdGEubWF4KG4pXX1mdW5jdGlvbiB2aShuLHQpe3JldHVybiBuLnZhbHVlLXQudmFsdWV9ZnVuY3Rpb24gZGkobix0KXt2YXIgZT1uLl9wYWNrX25leHQ7bi5fcGFja19uZXh0PXQsdC5fcGFja19wcmV2PW4sdC5fcGFja19uZXh0PWUsZS5fcGFja19wcmV2PXR9ZnVuY3Rpb24gbWkobix0KXtuLl9wYWNrX25leHQ9dCx0Ll9wYWNrX3ByZXY9bn1mdW5jdGlvbiB5aShuLHQpe3ZhciBlPXQueC1uLngscj10Lnktbi55LHU9bi5yK3QucjtyZXR1cm4uOTk5KnUqdT5lKmUrcipyfWZ1bmN0aW9uIE1pKG4pe2Z1bmN0aW9uIHQobil7cz1NYXRoLm1pbihuLngtbi5yLHMpLGY9TWF0aC5tYXgobi54K24ucixmKSxoPU1hdGgubWluKG4ueS1uLnIsaCksZz1NYXRoLm1heChuLnkrbi5yLGcpfWlmKChlPW4uY2hpbGRyZW4pJiYobD1lLmxlbmd0aCkpe3ZhciBlLHIsdSxpLG8sYSxjLGwscz0xLzAsZj0tMS8wLGg9MS8wLGc9LTEvMDtpZihlLmZvckVhY2goeGkpLHI9ZVswXSxyLng9LXIucixyLnk9MCx0KHIpLGw+MSYmKHU9ZVsxXSx1Lng9dS5yLHUueT0wLHQodSksbD4yKSlmb3IoaT1lWzJdLHdpKHIsdSxpKSx0KGkpLGRpKHIsaSksci5fcGFja19wcmV2PWksZGkoaSx1KSx1PXIuX3BhY2tfbmV4dCxvPTM7bD5vO28rKyl7d2kocix1LGk9ZVtvXSk7dmFyIHA9MCx2PTEsZD0xO2ZvcihhPXUuX3BhY2tfbmV4dDthIT09dTthPWEuX3BhY2tfbmV4dCx2KyspaWYoeWkoYSxpKSl7cD0xO2JyZWFrfWlmKDE9PXApZm9yKGM9ci5fcGFja19wcmV2O2MhPT1hLl9wYWNrX3ByZXYmJiF5aShjLGkpO2M9Yy5fcGFja19wcmV2LGQrKyk7cD8oZD52fHx2PT1kJiZ1LnI8ci5yP21pKHIsdT1hKTptaShyPWMsdSksby0tKTooZGkocixpKSx1PWksdChpKSl9dmFyIG09KHMrZikvMix5PShoK2cpLzIsTT0wO2ZvcihvPTA7bD5vO28rKylpPWVbb10saS54LT1tLGkueS09eSxNPU1hdGgubWF4KE0saS5yK01hdGguc3FydChpLngqaS54K2kueSppLnkpKTtuLnI9TSxlLmZvckVhY2goYmkpfX1mdW5jdGlvbiB4aShuKXtuLl9wYWNrX25leHQ9bi5fcGFja19wcmV2PW59ZnVuY3Rpb24gYmkobil7ZGVsZXRlIG4uX3BhY2tfbmV4dCxkZWxldGUgbi5fcGFja19wcmV2fWZ1bmN0aW9uIF9pKG4sdCxlLHIpe3ZhciB1PW4uY2hpbGRyZW47aWYobi54PXQrPXIqbi54LG4ueT1lKz1yKm4ueSxuLnIqPXIsdSlmb3IodmFyIGk9LTEsbz11Lmxlbmd0aDsrK2k8bzspX2kodVtpXSx0LGUscil9ZnVuY3Rpb24gd2kobix0LGUpe3ZhciByPW4ucitlLnIsdT10Lngtbi54LGk9dC55LW4ueTtpZihyJiYodXx8aSkpe3ZhciBvPXQucitlLnIsYT11KnUraSppO28qPW8scio9cjt2YXIgYz0uNSsoci1vKS8oMiphKSxsPU1hdGguc3FydChNYXRoLm1heCgwLDIqbyoocithKS0oci09YSkqci1vKm8pKS8oMiphKTtlLng9bi54K2MqdStsKmksZS55PW4ueStjKmktbCp1fWVsc2UgZS54PW4ueCtyLGUueT1uLnl9ZnVuY3Rpb24gU2kobix0KXtyZXR1cm4gbi5wYXJlbnQ9PXQucGFyZW50PzE6Mn1mdW5jdGlvbiBraShuKXt2YXIgdD1uLmNoaWxkcmVuO3JldHVybiB0Lmxlbmd0aD90WzBdOm4udH1mdW5jdGlvbiBFaShuKXt2YXIgdCxlPW4uY2hpbGRyZW47cmV0dXJuKHQ9ZS5sZW5ndGgpP2VbdC0xXTpuLnR9ZnVuY3Rpb24gQWkobix0LGUpe3ZhciByPWUvKHQuaS1uLmkpO3QuYy09cix0LnMrPWUsbi5jKz1yLHQueis9ZSx0Lm0rPWV9ZnVuY3Rpb24gTmkobil7Zm9yKHZhciB0LGU9MCxyPTAsdT1uLmNoaWxkcmVuLGk9dS5sZW5ndGg7LS1pPj0wOyl0PXVbaV0sdC56Kz1lLHQubSs9ZSxlKz10LnMrKHIrPXQuYyl9ZnVuY3Rpb24gQ2kobix0LGUpe3JldHVybiBuLmEucGFyZW50PT09dC5wYXJlbnQ/bi5hOmV9ZnVuY3Rpb24gemkobil7cmV0dXJuIDErdGEubWF4KG4sZnVuY3Rpb24obil7cmV0dXJuIG4ueX0pfWZ1bmN0aW9uIHFpKG4pe3JldHVybiBuLnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiBuK3QueH0sMCkvbi5sZW5ndGh9ZnVuY3Rpb24gTGkobil7dmFyIHQ9bi5jaGlsZHJlbjtyZXR1cm4gdCYmdC5sZW5ndGg/TGkodFswXSk6bn1mdW5jdGlvbiBUaShuKXt2YXIgdCxlPW4uY2hpbGRyZW47cmV0dXJuIGUmJih0PWUubGVuZ3RoKT9UaShlW3QtMV0pOm59ZnVuY3Rpb24gUmkobil7cmV0dXJue3g6bi54LHk6bi55LGR4Om4uZHgsZHk6bi5keX19ZnVuY3Rpb24gRGkobix0KXt2YXIgZT1uLngrdFszXSxyPW4ueSt0WzBdLHU9bi5keC10WzFdLXRbM10saT1uLmR5LXRbMF0tdFsyXTtyZXR1cm4gMD51JiYoZSs9dS8yLHU9MCksMD5pJiYocis9aS8yLGk9MCkse3g6ZSx5OnIsZHg6dSxkeTppfX1mdW5jdGlvbiBQaShuKXt2YXIgdD1uWzBdLGU9bltuLmxlbmd0aC0xXTtyZXR1cm4gZT50P1t0LGVdOltlLHRdfWZ1bmN0aW9uIFVpKG4pe3JldHVybiBuLnJhbmdlRXh0ZW50P24ucmFuZ2VFeHRlbnQoKTpQaShuLnJhbmdlKCkpfWZ1bmN0aW9uIGppKG4sdCxlLHIpe3ZhciB1PWUoblswXSxuWzFdKSxpPXIodFswXSx0WzFdKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGkodShuKSl9fWZ1bmN0aW9uIEZpKG4sdCl7dmFyIGUscj0wLHU9bi5sZW5ndGgtMSxpPW5bcl0sbz1uW3VdO3JldHVybiBpPm8mJihlPXIscj11LHU9ZSxlPWksaT1vLG89ZSksbltyXT10LmZsb29yKGkpLG5bdV09dC5jZWlsKG8pLG59ZnVuY3Rpb24gSGkobil7cmV0dXJuIG4/e2Zsb29yOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKHQvbikqbn0sY2VpbDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5jZWlsKHQvbikqbn19Om1sfWZ1bmN0aW9uIE9pKG4sdCxlLHIpe3ZhciB1PVtdLGk9W10sbz0wLGE9TWF0aC5taW4obi5sZW5ndGgsdC5sZW5ndGgpLTE7Zm9yKG5bYV08blswXSYmKG49bi5zbGljZSgpLnJldmVyc2UoKSx0PXQuc2xpY2UoKS5yZXZlcnNlKCkpOysrbzw9YTspdS5wdXNoKGUobltvLTFdLG5bb10pKSxpLnB1c2gocih0W28tMV0sdFtvXSkpO3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT10YS5iaXNlY3Qobix0LDEsYSktMTtyZXR1cm4gaVtlXSh1W2VdKHQpKX19ZnVuY3Rpb24gSWkobix0LGUscil7ZnVuY3Rpb24gdSgpe3ZhciB1PU1hdGgubWluKG4ubGVuZ3RoLHQubGVuZ3RoKT4yP09pOmppLGM9cj9JdTpPdTtyZXR1cm4gbz11KG4sdCxjLGUpLGE9dSh0LG4sYyxtdSksaX1mdW5jdGlvbiBpKG4pe3JldHVybiBvKG4pfXZhciBvLGE7cmV0dXJuIGkuaW52ZXJ0PWZ1bmN0aW9uKG4pe3JldHVybiBhKG4pfSxpLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10Lm1hcChOdW1iZXIpLHUoKSk6bn0saS5yYW5nZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1uLHUoKSk6dH0saS5yYW5nZVJvdW5kPWZ1bmN0aW9uKG4pe3JldHVybiBpLnJhbmdlKG4pLmludGVycG9sYXRlKER1KX0saS5jbGFtcD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1uLHUoKSk6cn0saS5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1uLHUoKSk6ZX0saS50aWNrcz1mdW5jdGlvbih0KXtyZXR1cm4gWGkobix0KX0saS50aWNrRm9ybWF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuICRpKG4sdCxlKX0saS5uaWNlPWZ1bmN0aW9uKHQpe3JldHVybiBaaShuLHQpLHUoKX0saS5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIElpKG4sdCxlLHIpfSx1KCl9ZnVuY3Rpb24gWWkobix0KXtyZXR1cm4gdGEucmViaW5kKG4sdCxcInJhbmdlXCIsXCJyYW5nZVJvdW5kXCIsXCJpbnRlcnBvbGF0ZVwiLFwiY2xhbXBcIil9ZnVuY3Rpb24gWmkobix0KXtyZXR1cm4gRmkobixIaShWaShuLHQpWzJdKSl9ZnVuY3Rpb24gVmkobix0KXtudWxsPT10JiYodD0xMCk7dmFyIGU9UGkobikscj1lWzFdLWVbMF0sdT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHIvdCkvTWF0aC5MTjEwKSksaT10L3IqdTtyZXR1cm4uMTU+PWk/dSo9MTA6LjM1Pj1pP3UqPTU6Ljc1Pj1pJiYodSo9MiksZVswXT1NYXRoLmNlaWwoZVswXS91KSp1LGVbMV09TWF0aC5mbG9vcihlWzFdL3UpKnUrLjUqdSxlWzJdPXUsZX1mdW5jdGlvbiBYaShuLHQpe3JldHVybiB0YS5yYW5nZS5hcHBseSh0YSxWaShuLHQpKX1mdW5jdGlvbiAkaShuLHQsZSl7dmFyIHI9Vmkobix0KTtpZihlKXt2YXIgdT1pYy5leGVjKGUpO2lmKHUuc2hpZnQoKSxcInNcIj09PXVbOF0pe3ZhciBpPXRhLmZvcm1hdFByZWZpeChNYXRoLm1heChnYShyWzBdKSxnYShyWzFdKSkpO3JldHVybiB1WzddfHwodVs3XT1cIi5cIitCaShpLnNjYWxlKHJbMl0pKSksdVs4XT1cImZcIixlPXRhLmZvcm1hdCh1LmpvaW4oXCJcIikpLGZ1bmN0aW9uKG4pe3JldHVybiBlKGkuc2NhbGUobikpK2kuc3ltYm9sfX11WzddfHwodVs3XT1cIi5cIitXaSh1WzhdLHIpKSxlPXUuam9pbihcIlwiKX1lbHNlIGU9XCIsLlwiK0JpKHJbMl0pK1wiZlwiO3JldHVybiB0YS5mb3JtYXQoZSl9ZnVuY3Rpb24gQmkobil7cmV0dXJuLU1hdGguZmxvb3IoTWF0aC5sb2cobikvTWF0aC5MTjEwKy4wMSl9ZnVuY3Rpb24gV2kobix0KXt2YXIgZT1CaSh0WzJdKTtyZXR1cm4gbiBpbiB5bD9NYXRoLmFicyhlLUJpKE1hdGgubWF4KGdhKHRbMF0pLGdhKHRbMV0pKSkpKyArKFwiZVwiIT09bik6ZS0yKihcIiVcIj09PW4pfWZ1bmN0aW9uIEppKG4sdCxlLHIpe2Z1bmN0aW9uIHUobil7cmV0dXJuKGU/TWF0aC5sb2coMD5uPzA6bik6LU1hdGgubG9nKG4+MD8wOi1uKSkvTWF0aC5sb2codCl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gZT9NYXRoLnBvdyh0LG4pOi1NYXRoLnBvdyh0LC1uKX1mdW5jdGlvbiBvKHQpe3JldHVybiBuKHUodCkpfXJldHVybiBvLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gaShuLmludmVydCh0KSl9LG8uZG9tYWluPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXRbMF0+PTAsbi5kb21haW4oKHI9dC5tYXAoTnVtYmVyKSkubWFwKHUpKSxvKTpyfSxvLmJhc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9K2Usbi5kb21haW4oci5tYXAodSkpLG8pOnR9LG8ubmljZT1mdW5jdGlvbigpe3ZhciB0PUZpKHIubWFwKHUpLGU/TWF0aDp4bCk7cmV0dXJuIG4uZG9tYWluKHQpLHI9dC5tYXAoaSksb30sby50aWNrcz1mdW5jdGlvbigpe3ZhciBuPVBpKHIpLG89W10sYT1uWzBdLGM9blsxXSxsPU1hdGguZmxvb3IodShhKSkscz1NYXRoLmNlaWwodShjKSksZj10JTE/Mjp0O2lmKGlzRmluaXRlKHMtbCkpe2lmKGUpe2Zvcig7cz5sO2wrKylmb3IodmFyIGg9MTtmPmg7aCsrKW8ucHVzaChpKGwpKmgpO28ucHVzaChpKGwpKX1lbHNlIGZvcihvLnB1c2goaShsKSk7bCsrPHM7KWZvcih2YXIgaD1mLTE7aD4wO2gtLSlvLnB1c2goaShsKSpoKTtmb3IobD0wO29bbF08YTtsKyspO2ZvcihzPW8ubGVuZ3RoO29bcy0xXT5jO3MtLSk7bz1vLnNsaWNlKGwscyl9cmV0dXJuIG99LG8udGlja0Zvcm1hdD1mdW5jdGlvbihuLHQpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiBNbDthcmd1bWVudHMubGVuZ3RoPDI/dD1NbDpcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiYodD10YS5mb3JtYXQodCkpO3ZhciByLGE9TWF0aC5tYXgoLjEsbi9vLnRpY2tzKCkubGVuZ3RoKSxjPWU/KHI9MWUtMTIsTWF0aC5jZWlsKToocj0tMWUtMTIsTWF0aC5mbG9vcik7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuL2koYyh1KG4pK3IpKTw9YT90KG4pOlwiXCJ9fSxvLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gSmkobi5jb3B5KCksdCxlLHIpfSxZaShvLG4pfWZ1bmN0aW9uIEdpKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBuKHUodCkpfXZhciB1PUtpKHQpLGk9S2koMS90KTtyZXR1cm4gci5pbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGkobi5pbnZlcnQodCkpfSxyLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obi5kb21haW4oKGU9dC5tYXAoTnVtYmVyKSkubWFwKHUpKSxyKTplfSxyLnRpY2tzPWZ1bmN0aW9uKG4pe3JldHVybiBYaShlLG4pfSxyLnRpY2tGb3JtYXQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gJGkoZSxuLHQpfSxyLm5pY2U9ZnVuY3Rpb24obil7cmV0dXJuIHIuZG9tYWluKFppKGUsbikpfSxyLmV4cG9uZW50PWZ1bmN0aW9uKG8pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PUtpKHQ9byksaT1LaSgxL3QpLG4uZG9tYWluKGUubWFwKHUpKSxyKTp0fSxyLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gR2kobi5jb3B5KCksdCxlKX0sWWkocixuKX1mdW5jdGlvbiBLaShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA+dD8tTWF0aC5wb3coLXQsbik6TWF0aC5wb3codCxuKX19ZnVuY3Rpb24gUWkobix0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBpWygodS5nZXQoZSl8fChcInJhbmdlXCI9PT10LnQ/dS5zZXQoZSxuLnB1c2goZSkpOjAvMCkpLTEpJWkubGVuZ3RoXX1mdW5jdGlvbiByKHQsZSl7cmV0dXJuIHRhLnJhbmdlKG4ubGVuZ3RoKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQrZSpufSl9dmFyIHUsaSxvO3JldHVybiBlLmRvbWFpbj1mdW5jdGlvbihyKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbjtuPVtdLHU9bmV3IGw7Zm9yKHZhciBpLG89LTEsYT1yLmxlbmd0aDsrK288YTspdS5oYXMoaT1yW29dKXx8dS5zZXQoaSxuLnB1c2goaSkpO3JldHVybiBlW3QudF0uYXBwbHkoZSx0LmEpfSxlLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPW4sbz0wLHQ9e3Q6XCJyYW5nZVwiLGE6YXJndW1lbnRzfSxlKTppfSxlLnJhbmdlUG9pbnRzPWZ1bmN0aW9uKHUsYSl7YXJndW1lbnRzLmxlbmd0aDwyJiYoYT0wKTt2YXIgYz11WzBdLGw9dVsxXSxzPW4ubGVuZ3RoPDI/KGM9KGMrbCkvMiwwKToobC1jKS8obi5sZW5ndGgtMSthKTtyZXR1cm4gaT1yKGMrcyphLzIscyksbz0wLHQ9e3Q6XCJyYW5nZVBvaW50c1wiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlUm91bmRQb2ludHM9ZnVuY3Rpb24odSxhKXthcmd1bWVudHMubGVuZ3RoPDImJihhPTApO3ZhciBjPXVbMF0sbD11WzFdLHM9bi5sZW5ndGg8Mj8oYz1sPU1hdGgucm91bmQoKGMrbCkvMiksMCk6KGwtYykvKG4ubGVuZ3RoLTErYSl8MDtyZXR1cm4gaT1yKGMrTWF0aC5yb3VuZChzKmEvMisobC1jLShuLmxlbmd0aC0xK2EpKnMpLzIpLHMpLG89MCx0PXt0OlwicmFuZ2VSb3VuZFBvaW50c1wiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlQmFuZHM9ZnVuY3Rpb24odSxhLGMpe2FyZ3VtZW50cy5sZW5ndGg8MiYmKGE9MCksYXJndW1lbnRzLmxlbmd0aDwzJiYoYz1hKTt2YXIgbD11WzFdPHVbMF0scz11W2wtMF0sZj11WzEtbF0saD0oZi1zKS8obi5sZW5ndGgtYSsyKmMpO3JldHVybiBpPXIocytoKmMsaCksbCYmaS5yZXZlcnNlKCksbz1oKigxLWEpLHQ9e3Q6XCJyYW5nZUJhbmRzXCIsYTphcmd1bWVudHN9LGV9LGUucmFuZ2VSb3VuZEJhbmRzPWZ1bmN0aW9uKHUsYSxjKXthcmd1bWVudHMubGVuZ3RoPDImJihhPTApLGFyZ3VtZW50cy5sZW5ndGg8MyYmKGM9YSk7dmFyIGw9dVsxXTx1WzBdLHM9dVtsLTBdLGY9dVsxLWxdLGg9TWF0aC5mbG9vcigoZi1zKS8obi5sZW5ndGgtYSsyKmMpKTtyZXR1cm4gaT1yKHMrTWF0aC5yb3VuZCgoZi1zLShuLmxlbmd0aC1hKSpoKS8yKSxoKSxsJiZpLnJldmVyc2UoKSxvPU1hdGgucm91bmQoaCooMS1hKSksdD17dDpcInJhbmdlUm91bmRCYW5kc1wiLGE6YXJndW1lbnRzfSxlfSxlLnJhbmdlQmFuZD1mdW5jdGlvbigpe3JldHVybiBvfSxlLnJhbmdlRXh0ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIFBpKHQuYVswXSl9LGUuY29weT1mdW5jdGlvbigpe3JldHVybiBRaShuLHQpfSxlLmRvbWFpbihuKX1mdW5jdGlvbiBubyhuLHQpe2Z1bmN0aW9uIGkoKXt2YXIgZT0wLHI9dC5sZW5ndGg7Zm9yKGE9W107KytlPHI7KWFbZS0xXT10YS5xdWFudGlsZShuLGUvcik7cmV0dXJuIG99ZnVuY3Rpb24gbyhuKXtyZXR1cm4gaXNOYU4obj0rbik/dm9pZCAwOnRbdGEuYmlzZWN0KGEsbildfXZhciBhO3JldHVybiBvLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10Lm1hcChyKS5maWx0ZXIodSkuc29ydChlKSxpKCkpOm59LG8ucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bixpKCkpOnR9LG8ucXVhbnRpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LG8uaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlPXQuaW5kZXhPZihlKSwwPmU/WzAvMCwwLzBdOltlPjA/YVtlLTFdOm5bMF0sZTxhLmxlbmd0aD9hW2VdOm5bbi5sZW5ndGgtMV1dfSxvLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbm8obix0KX0saSgpfWZ1bmN0aW9uIHRvKG4sdCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBlW01hdGgubWF4KDAsTWF0aC5taW4obyxNYXRoLmZsb29yKGkqKHQtbikpKSldfWZ1bmN0aW9uIHUoKXtyZXR1cm4gaT1lLmxlbmd0aC8odC1uKSxvPWUubGVuZ3RoLTEscn12YXIgaSxvO3JldHVybiByLmRvbWFpbj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj0rZVswXSx0PStlW2UubGVuZ3RoLTFdLHUoKSk6W24sdF19LHIucmFuZ2U9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9bix1KCkpOmV9LHIuaW52ZXJ0RXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0PWUuaW5kZXhPZih0KSx0PTA+dD8wLzA6dC9pK24sW3QsdCsxL2ldfSxyLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdG8obix0LGUpfSx1KCl9ZnVuY3Rpb24gZW8obix0KXtmdW5jdGlvbiBlKGUpe3JldHVybiBlPj1lP3RbdGEuYmlzZWN0KG4sZSldOnZvaWQgMH1yZXR1cm4gZS5kb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dCxlKTpufSxlLnJhbmdlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PW4sZSk6dH0sZS5pbnZlcnRFeHRlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dC5pbmRleE9mKGUpLFtuW2UtMV0sbltlXV19LGUuY29weT1mdW5jdGlvbigpe3JldHVybiBlbyhuLHQpfSxlfWZ1bmN0aW9uIHJvKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuK259cmV0dXJuIHQuaW52ZXJ0PXQsdC5kb21haW49dC5yYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1lLm1hcCh0KSx0KTpufSx0LnRpY2tzPWZ1bmN0aW9uKHQpe3JldHVybiBYaShuLHQpfSx0LnRpY2tGb3JtYXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gJGkobix0LGUpfSx0LmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gcm8obil9LHR9ZnVuY3Rpb24gdW8oKXtyZXR1cm4gMH1mdW5jdGlvbiBpbyhuKXtyZXR1cm4gbi5pbm5lclJhZGl1c31mdW5jdGlvbiBvbyhuKXtyZXR1cm4gbi5vdXRlclJhZGl1c31mdW5jdGlvbiBhbyhuKXtyZXR1cm4gbi5zdGFydEFuZ2xlfWZ1bmN0aW9uIGNvKG4pe3JldHVybiBuLmVuZEFuZ2xlfWZ1bmN0aW9uIGxvKG4pe3JldHVybiBuJiZuLnBhZEFuZ2xlfWZ1bmN0aW9uIHNvKG4sdCxlLHIpe3JldHVybihuLWUpKnQtKHQtcikqbj4wPzA6MX1mdW5jdGlvbiBmbyhuLHQsZSxyLHUpe3ZhciBpPW5bMF0tdFswXSxvPW5bMV0tdFsxXSxhPSh1P3I6LXIpL01hdGguc3FydChpKmkrbypvKSxjPWEqbyxsPS1hKmkscz1uWzBdK2MsZj1uWzFdK2wsaD10WzBdK2MsZz10WzFdK2wscD0ocytoKS8yLHY9KGYrZykvMixkPWgtcyxtPWctZix5PWQqZCttKm0sTT1lLXIseD1zKmctaCpmLGI9KDA+bT8tMToxKSpNYXRoLnNxcnQoTSpNKnkteCp4KSxfPSh4Km0tZCpiKS95LHc9KC14KmQtbSpiKS95LFM9KHgqbStkKmIpL3ksaz0oLXgqZCttKmIpL3ksRT1fLXAsQT13LXYsTj1TLXAsQz1rLXY7cmV0dXJuIEUqRStBKkE+TipOK0MqQyYmKF89Uyx3PWspLFtbXy1jLHctbF0sW18qZS9NLHcqZS9NXV19ZnVuY3Rpb24gaG8obil7ZnVuY3Rpb24gdCh0KXtmdW5jdGlvbiBvKCl7bC5wdXNoKFwiTVwiLGkobihzKSxhKSl9Zm9yKHZhciBjLGw9W10scz1bXSxmPS0xLGg9dC5sZW5ndGgsZz1FdChlKSxwPUV0KHIpOysrZjxoOyl1LmNhbGwodGhpcyxjPXRbZl0sZik/cy5wdXNoKFsrZy5jYWxsKHRoaXMsYyxmKSwrcC5jYWxsKHRoaXMsYyxmKV0pOnMubGVuZ3RoJiYobygpLHM9W10pO3JldHVybiBzLmxlbmd0aCYmbygpLGwubGVuZ3RoP2wuam9pbihcIlwiKTpudWxsfXZhciBlPUFyLHI9TnIsdT1OZSxpPWdvLG89aS5rZXksYT0uNztyZXR1cm4gdC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW4sdCk6ZX0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW4sdCk6cn0sdC5kZWZpbmVkPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW4sdCk6dX0sdC5pbnRlcnBvbGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2k9bjooaT1FbC5nZXQobil8fGdvKS5rZXksdCk6b30sdC50ZW5zaW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPW4sdCk6YX0sdH1mdW5jdGlvbiBnbyhuKXtyZXR1cm4gbi5qb2luKFwiTFwiKX1mdW5jdGlvbiBwbyhuKXtyZXR1cm4gZ28obikrXCJaXCJ9ZnVuY3Rpb24gdm8obil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1bclswXSxcIixcIixyWzFdXTsrK3Q8ZTspdS5wdXNoKFwiSFwiLChyWzBdKyhyPW5bdF0pWzBdKS8yLFwiVlwiLHJbMV0pO3JldHVybiBlPjEmJnUucHVzaChcIkhcIixyWzBdKSx1LmpvaW4oXCJcIil9ZnVuY3Rpb24gbW8obil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1bclswXSxcIixcIixyWzFdXTsrK3Q8ZTspdS5wdXNoKFwiVlwiLChyPW5bdF0pWzFdLFwiSFwiLHJbMF0pO3JldHVybiB1LmpvaW4oXCJcIil9ZnVuY3Rpb24geW8obil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aCxyPW5bMF0sdT1bclswXSxcIixcIixyWzFdXTsrK3Q8ZTspdS5wdXNoKFwiSFwiLChyPW5bdF0pWzBdLFwiVlwiLHJbMV0pO3JldHVybiB1LmpvaW4oXCJcIil9ZnVuY3Rpb24gTW8obix0KXtyZXR1cm4gbi5sZW5ndGg8ND9nbyhuKTpuWzFdK19vKG4uc2xpY2UoMSwtMSksd28obix0KSl9ZnVuY3Rpb24geG8obix0KXtyZXR1cm4gbi5sZW5ndGg8Mz9nbyhuKTpuWzBdK19vKChuLnB1c2goblswXSksbiksd28oW25bbi5sZW5ndGgtMl1dLmNvbmNhdChuLFtuWzFdXSksdCkpfWZ1bmN0aW9uIGJvKG4sdCl7cmV0dXJuIG4ubGVuZ3RoPDM/Z28obik6blswXStfbyhuLHdvKG4sdCkpfWZ1bmN0aW9uIF9vKG4sdCl7aWYodC5sZW5ndGg8MXx8bi5sZW5ndGghPXQubGVuZ3RoJiZuLmxlbmd0aCE9dC5sZW5ndGgrMilyZXR1cm4gZ28obik7dmFyIGU9bi5sZW5ndGghPXQubGVuZ3RoLHI9XCJcIix1PW5bMF0saT1uWzFdLG89dFswXSxhPW8sYz0xO2lmKGUmJihyKz1cIlFcIisoaVswXS0yKm9bMF0vMykrXCIsXCIrKGlbMV0tMipvWzFdLzMpK1wiLFwiK2lbMF0rXCIsXCIraVsxXSx1PW5bMV0sYz0yKSx0Lmxlbmd0aD4xKXthPXRbMV0saT1uW2NdLGMrKyxyKz1cIkNcIisodVswXStvWzBdKStcIixcIisodVsxXStvWzFdKStcIixcIisoaVswXS1hWzBdKStcIixcIisoaVsxXS1hWzFdKStcIixcIitpWzBdK1wiLFwiK2lbMV07Zm9yKHZhciBsPTI7bDx0Lmxlbmd0aDtsKyssYysrKWk9bltjXSxhPXRbbF0scis9XCJTXCIrKGlbMF0tYVswXSkrXCIsXCIrKGlbMV0tYVsxXSkrXCIsXCIraVswXStcIixcIitpWzFdfWlmKGUpe3ZhciBzPW5bY107cis9XCJRXCIrKGlbMF0rMiphWzBdLzMpK1wiLFwiKyhpWzFdKzIqYVsxXS8zKStcIixcIitzWzBdK1wiLFwiK3NbMV19cmV0dXJuIHJ9ZnVuY3Rpb24gd28obix0KXtmb3IodmFyIGUscj1bXSx1PSgxLXQpLzIsaT1uWzBdLG89blsxXSxhPTEsYz1uLmxlbmd0aDsrK2E8YzspZT1pLGk9byxvPW5bYV0sci5wdXNoKFt1KihvWzBdLWVbMF0pLHUqKG9bMV0tZVsxXSldKTtyZXR1cm4gcn1mdW5jdGlvbiBTbyhuKXtpZihuLmxlbmd0aDwzKXJldHVybiBnbyhuKTt2YXIgdD0xLGU9bi5sZW5ndGgscj1uWzBdLHU9clswXSxpPXJbMV0sbz1bdSx1LHUsKHI9blsxXSlbMF1dLGE9W2ksaSxpLHJbMV1dLGM9W3UsXCIsXCIsaSxcIkxcIixObyhDbCxvKSxcIixcIixObyhDbCxhKV07Zm9yKG4ucHVzaChuW2UtMV0pOysrdDw9ZTspcj1uW3RdLG8uc2hpZnQoKSxvLnB1c2goclswXSksYS5zaGlmdCgpLGEucHVzaChyWzFdKSxDbyhjLG8sYSk7cmV0dXJuIG4ucG9wKCksYy5wdXNoKFwiTFwiLHIpLGMuam9pbihcIlwiKX1mdW5jdGlvbiBrbyhuKXtpZihuLmxlbmd0aDw0KXJldHVybiBnbyhuKTtmb3IodmFyIHQsZT1bXSxyPS0xLHU9bi5sZW5ndGgsaT1bMF0sbz1bMF07KytyPDM7KXQ9bltyXSxpLnB1c2godFswXSksby5wdXNoKHRbMV0pO2ZvcihlLnB1c2goTm8oQ2wsaSkrXCIsXCIrTm8oQ2wsbykpLC0tcjsrK3I8dTspdD1uW3JdLGkuc2hpZnQoKSxpLnB1c2godFswXSksby5zaGlmdCgpLG8ucHVzaCh0WzFdKSxDbyhlLGksbyk7cmV0dXJuIGUuam9pbihcIlwiKX1mdW5jdGlvbiBFbyhuKXtmb3IodmFyIHQsZSxyPS0xLHU9bi5sZW5ndGgsaT11KzQsbz1bXSxhPVtdOysrcjw0OyllPW5bciV1XSxvLnB1c2goZVswXSksYS5wdXNoKGVbMV0pO2Zvcih0PVtObyhDbCxvKSxcIixcIixObyhDbCxhKV0sLS1yOysrcjxpOyllPW5bciV1XSxvLnNoaWZ0KCksby5wdXNoKGVbMF0pLGEuc2hpZnQoKSxhLnB1c2goZVsxXSksQ28odCxvLGEpO3JldHVybiB0LmpvaW4oXCJcIil9ZnVuY3Rpb24gQW8obix0KXt2YXIgZT1uLmxlbmd0aC0xO2lmKGUpZm9yKHZhciByLHUsaT1uWzBdWzBdLG89blswXVsxXSxhPW5bZV1bMF0taSxjPW5bZV1bMV0tbyxsPS0xOysrbDw9ZTspcj1uW2xdLHU9bC9lLHJbMF09dCpyWzBdKygxLXQpKihpK3UqYSksclsxXT10KnJbMV0rKDEtdCkqKG8rdSpjKTtyZXR1cm4gU28obil9ZnVuY3Rpb24gTm8obix0KXtyZXR1cm4gblswXSp0WzBdK25bMV0qdFsxXStuWzJdKnRbMl0rblszXSp0WzNdfWZ1bmN0aW9uIENvKG4sdCxlKXtuLnB1c2goXCJDXCIsTm8oQWwsdCksXCIsXCIsTm8oQWwsZSksXCIsXCIsTm8oTmwsdCksXCIsXCIsTm8oTmwsZSksXCIsXCIsTm8oQ2wsdCksXCIsXCIsTm8oQ2wsZSkpfWZ1bmN0aW9uIHpvKG4sdCl7cmV0dXJuKHRbMV0tblsxXSkvKHRbMF0tblswXSl9ZnVuY3Rpb24gcW8obil7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aC0xLHI9W10sdT1uWzBdLGk9blsxXSxvPXJbMF09em8odSxpKTsrK3Q8ZTspclt0XT0obysobz16byh1PWksaT1uW3QrMV0pKSkvMjtyZXR1cm4gclt0XT1vLHJ9ZnVuY3Rpb24gTG8obil7Zm9yKHZhciB0LGUscix1LGk9W10sbz1xbyhuKSxhPS0xLGM9bi5sZW5ndGgtMTsrK2E8YzspdD16byhuW2FdLG5bYSsxXSksZ2EodCk8Q2E/b1thXT1vW2ErMV09MDooZT1vW2FdL3Qscj1vW2ErMV0vdCx1PWUqZStyKnIsdT45JiYodT0zKnQvTWF0aC5zcXJ0KHUpLG9bYV09dSplLG9bYSsxXT11KnIpKTtmb3IoYT0tMTsrK2E8PWM7KXU9KG5bTWF0aC5taW4oYyxhKzEpXVswXS1uW01hdGgubWF4KDAsYS0xKV1bMF0pLyg2KigxK29bYV0qb1thXSkpLGkucHVzaChbdXx8MCxvW2FdKnV8fDBdKTtyZXR1cm4gaX1mdW5jdGlvbiBUbyhuKXtyZXR1cm4gbi5sZW5ndGg8Mz9nbyhuKTpuWzBdK19vKG4sTG8obikpfWZ1bmN0aW9uIFJvKG4pe2Zvcih2YXIgdCxlLHIsdT0tMSxpPW4ubGVuZ3RoOysrdTxpOyl0PW5bdV0sZT10WzBdLHI9dFsxXS1SYSx0WzBdPWUqTWF0aC5jb3MociksdFsxXT1lKk1hdGguc2luKHIpO3JldHVybiBufWZ1bmN0aW9uIERvKG4pe2Z1bmN0aW9uIHQodCl7ZnVuY3Rpb24gYygpe3YucHVzaChcIk1cIixhKG4obSksZikscyxsKG4oZC5yZXZlcnNlKCkpLGYpLFwiWlwiKX1mb3IodmFyIGgsZyxwLHY9W10sZD1bXSxtPVtdLHk9LTEsTT10Lmxlbmd0aCx4PUV0KGUpLGI9RXQodSksXz1lPT09cj9mdW5jdGlvbigpe3JldHVybiBnfTpFdChyKSx3PXU9PT1pP2Z1bmN0aW9uKCl7cmV0dXJuIHB9OkV0KGkpOysreTxNOylvLmNhbGwodGhpcyxoPXRbeV0seSk/KGQucHVzaChbZz0reC5jYWxsKHRoaXMsaCx5KSxwPStiLmNhbGwodGhpcyxoLHkpXSksbS5wdXNoKFsrXy5jYWxsKHRoaXMsaCx5KSwrdy5jYWxsKHRoaXMsaCx5KV0pKTpkLmxlbmd0aCYmKGMoKSxkPVtdLG09W10pO3JldHVybiBkLmxlbmd0aCYmYygpLHYubGVuZ3RoP3Yuam9pbihcIlwiKTpudWxsfXZhciBlPUFyLHI9QXIsdT0wLGk9TnIsbz1OZSxhPWdvLGM9YS5rZXksbD1hLHM9XCJMXCIsZj0uNztyZXR1cm4gdC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXI9bix0KTpyfSx0LngwPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW4sdCk6ZX0sdC54MT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1uLHQpOnJcbn0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PWk9bix0KTppfSx0LnkwPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW4sdCk6dX0sdC55MT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1uLHQpOml9LHQuZGVmaW5lZD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obz1uLHQpOm99LHQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9hPW46KGE9RWwuZ2V0KG4pfHxnbykua2V5LGw9YS5yZXZlcnNlfHxhLHM9YS5jbG9zZWQ/XCJNXCI6XCJMXCIsdCk6Y30sdC50ZW5zaW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhmPW4sdCk6Zn0sdH1mdW5jdGlvbiBQbyhuKXtyZXR1cm4gbi5yYWRpdXN9ZnVuY3Rpb24gVW8obil7cmV0dXJuW24ueCxuLnldfWZ1bmN0aW9uIGpvKG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9dFswXSxyPXRbMV0tUmE7cmV0dXJuW2UqTWF0aC5jb3MociksZSpNYXRoLnNpbihyKV19fWZ1bmN0aW9uIEZvKCl7cmV0dXJuIDY0fWZ1bmN0aW9uIEhvKCl7cmV0dXJuXCJjaXJjbGVcIn1mdW5jdGlvbiBPbyhuKXt2YXIgdD1NYXRoLnNxcnQobi9xYSk7cmV0dXJuXCJNMCxcIit0K1wiQVwiK3QrXCIsXCIrdCtcIiAwIDEsMSAwLFwiKy10K1wiQVwiK3QrXCIsXCIrdCtcIiAwIDEsMSAwLFwiK3QrXCJaXCJ9ZnVuY3Rpb24gSW8obil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZTsodD10aGlzW25dKSYmKGU9dFt0LmFjdGl2ZV0pJiYoLS10LmNvdW50P2RlbGV0ZSB0W3QuYWN0aXZlXTpkZWxldGUgdGhpc1tuXSx0LmFjdGl2ZSs9LjUsZS5ldmVudCYmZS5ldmVudC5pbnRlcnJ1cHQuY2FsbCh0aGlzLHRoaXMuX19kYXRhX18sZS5pbmRleCkpfX1mdW5jdGlvbiBZbyhuLHQsZSl7cmV0dXJuIHlhKG4sUGwpLG4ubmFtZXNwYWNlPXQsbi5pZD1lLG59ZnVuY3Rpb24gWm8obix0LGUscil7dmFyIHU9bi5pZCxpPW4ubmFtZXNwYWNlO3JldHVybiBZKG4sXCJmdW5jdGlvblwiPT10eXBlb2YgZT9mdW5jdGlvbihuLG8sYSl7bltpXVt1XS50d2Vlbi5zZXQodCxyKGUuY2FsbChuLG4uX19kYXRhX18sbyxhKSkpfTooZT1yKGUpLGZ1bmN0aW9uKG4pe25baV1bdV0udHdlZW4uc2V0KHQsZSl9KSl9ZnVuY3Rpb24gVm8obil7cmV0dXJuIG51bGw9PW4mJihuPVwiXCIpLGZ1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD1ufX1mdW5jdGlvbiBYbyhuKXtyZXR1cm4gbnVsbD09bj9cIl9fdHJhbnNpdGlvbl9fXCI6XCJfX3RyYW5zaXRpb25fXCIrbitcIl9fXCJ9ZnVuY3Rpb24gJG8obix0LGUscix1KXt2YXIgaT1uW2VdfHwobltlXT17YWN0aXZlOjAsY291bnQ6MH0pLG89aVtyXTtpZighbyl7dmFyIGE9dS50aW1lO289aVtyXT17dHdlZW46bmV3IGwsdGltZTphLGRlbGF5OnUuZGVsYXksZHVyYXRpb246dS5kdXJhdGlvbixlYXNlOnUuZWFzZSxpbmRleDp0fSx1PW51bGwsKytpLmNvdW50LHRhLnRpbWVyKGZ1bmN0aW9uKHUpe2Z1bmN0aW9uIGMoZSl7aWYoaS5hY3RpdmU+cilyZXR1cm4gcygpO3ZhciB1PWlbaS5hY3RpdmVdO3UmJigtLWkuY291bnQsZGVsZXRlIGlbaS5hY3RpdmVdLHUuZXZlbnQmJnUuZXZlbnQuaW50ZXJydXB0LmNhbGwobixuLl9fZGF0YV9fLHUuaW5kZXgpKSxpLmFjdGl2ZT1yLG8uZXZlbnQmJm8uZXZlbnQuc3RhcnQuY2FsbChuLG4uX19kYXRhX18sdCksby50d2Vlbi5mb3JFYWNoKGZ1bmN0aW9uKGUscil7KHI9ci5jYWxsKG4sbi5fX2RhdGFfXyx0KSkmJnYucHVzaChyKX0pLGg9by5lYXNlLGY9by5kdXJhdGlvbix0YS50aW1lcihmdW5jdGlvbigpe3JldHVybiBwLmM9bChlfHwxKT9OZTpsLDF9LDAsYSl9ZnVuY3Rpb24gbChlKXtpZihpLmFjdGl2ZSE9PXIpcmV0dXJuIDE7Zm9yKHZhciB1PWUvZixhPWgodSksYz12Lmxlbmd0aDtjPjA7KXZbLS1jXS5jYWxsKG4sYSk7cmV0dXJuIHU+PTE/KG8uZXZlbnQmJm8uZXZlbnQuZW5kLmNhbGwobixuLl9fZGF0YV9fLHQpLHMoKSk6dm9pZCAwfWZ1bmN0aW9uIHMoKXtyZXR1cm4tLWkuY291bnQ/ZGVsZXRlIGlbcl06ZGVsZXRlIG5bZV0sMX12YXIgZixoLGc9by5kZWxheSxwPWVjLHY9W107cmV0dXJuIHAudD1nK2EsdT49Zz9jKHUtZyk6dm9pZChwLmM9Yyl9LDAsYSl9fWZ1bmN0aW9uIEJvKG4sdCxlKXtuLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihuKXt2YXIgcj10KG4pO3JldHVyblwidHJhbnNsYXRlKFwiKyhpc0Zpbml0ZShyKT9yOmUobikpK1wiLDApXCJ9KX1mdW5jdGlvbiBXbyhuLHQsZSl7bi5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24obil7dmFyIHI9dChuKTtyZXR1cm5cInRyYW5zbGF0ZSgwLFwiKyhpc0Zpbml0ZShyKT9yOmUobikpK1wiKVwifSl9ZnVuY3Rpb24gSm8obil7cmV0dXJuIG4udG9JU09TdHJpbmcoKX1mdW5jdGlvbiBHbyhuLHQsZSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gbih0KX1mdW5jdGlvbiB1KG4sZSl7dmFyIHI9blsxXS1uWzBdLHU9ci9lLGk9dGEuYmlzZWN0KFZsLHUpO3JldHVybiBpPT1WbC5sZW5ndGg/W3QueWVhcixWaShuLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi8zMTUzNmU2fSksZSlbMl1dOmk/dFt1L1ZsW2ktMV08VmxbaV0vdT9pLTE6aV06W0JsLFZpKG4sZSlbMl1dfXJldHVybiByLmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gS28obi5pbnZlcnQodCkpfSxyLmRvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obi5kb21haW4odCkscik6bi5kb21haW4oKS5tYXAoS28pfSxyLm5pY2U9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKGUpe3JldHVybiFpc05hTihlKSYmIW4ucmFuZ2UoZSxLbygrZSsxKSx0KS5sZW5ndGh9dmFyIGk9ci5kb21haW4oKSxvPVBpKGkpLGE9bnVsbD09bj91KG8sMTApOlwibnVtYmVyXCI9PXR5cGVvZiBuJiZ1KG8sbik7cmV0dXJuIGEmJihuPWFbMF0sdD1hWzFdKSxyLmRvbWFpbihGaShpLHQ+MT97Zmxvb3I6ZnVuY3Rpb24odCl7Zm9yKDtlKHQ9bi5mbG9vcih0KSk7KXQ9S28odC0xKTtyZXR1cm4gdH0sY2VpbDpmdW5jdGlvbih0KXtmb3IoO2UodD1uLmNlaWwodCkpOyl0PUtvKCt0KzEpO3JldHVybiB0fX06bikpfSxyLnRpY2tzPWZ1bmN0aW9uKG4sdCl7dmFyIGU9UGkoci5kb21haW4oKSksaT1udWxsPT1uP3UoZSwxMCk6XCJudW1iZXJcIj09dHlwZW9mIG4/dShlLG4pOiFuLnJhbmdlJiZbe3JhbmdlOm59LHRdO3JldHVybiBpJiYobj1pWzBdLHQ9aVsxXSksbi5yYW5nZShlWzBdLEtvKCtlWzFdKzEpLDE+dD8xOnQpfSxyLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sci5jb3B5PWZ1bmN0aW9uKCl7cmV0dXJuIEdvKG4uY29weSgpLHQsZSl9LFlpKHIsbil9ZnVuY3Rpb24gS28obil7cmV0dXJuIG5ldyBEYXRlKG4pfWZ1bmN0aW9uIFFvKG4pe3JldHVybiBKU09OLnBhcnNlKG4ucmVzcG9uc2VUZXh0KX1mdW5jdGlvbiBuYShuKXt2YXIgdD11YS5jcmVhdGVSYW5nZSgpO3JldHVybiB0LnNlbGVjdE5vZGUodWEuYm9keSksdC5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQobi5yZXNwb25zZVRleHQpfXZhciB0YT17dmVyc2lvbjpcIjMuNS41XCJ9LGVhPVtdLnNsaWNlLHJhPWZ1bmN0aW9uKG4pe3JldHVybiBlYS5jYWxsKG4pfSx1YT10aGlzLmRvY3VtZW50O2lmKHVhKXRyeXtyYSh1YS5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2RlcylbMF0ubm9kZVR5cGV9Y2F0Y2goaWEpe3JhPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1uLmxlbmd0aCxlPW5ldyBBcnJheSh0KTt0LS07KWVbdF09blt0XTtyZXR1cm4gZX19aWYoRGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0pLHVhKXRyeXt1YS5jcmVhdGVFbGVtZW50KFwiRElWXCIpLnN0eWxlLnNldFByb3BlcnR5KFwib3BhY2l0eVwiLDAsXCJcIil9Y2F0Y2gob2Epe3ZhciBhYT10aGlzLkVsZW1lbnQucHJvdG90eXBlLGNhPWFhLnNldEF0dHJpYnV0ZSxsYT1hYS5zZXRBdHRyaWJ1dGVOUyxzYT10aGlzLkNTU1N0eWxlRGVjbGFyYXRpb24ucHJvdG90eXBlLGZhPXNhLnNldFByb3BlcnR5O2FhLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihuLHQpe2NhLmNhbGwodGhpcyxuLHQrXCJcIil9LGFhLnNldEF0dHJpYnV0ZU5TPWZ1bmN0aW9uKG4sdCxlKXtsYS5jYWxsKHRoaXMsbix0LGUrXCJcIil9LHNhLnNldFByb3BlcnR5PWZ1bmN0aW9uKG4sdCxlKXtmYS5jYWxsKHRoaXMsbix0K1wiXCIsZSl9fXRhLmFzY2VuZGluZz1lLHRhLmRlc2NlbmRpbmc9ZnVuY3Rpb24obix0KXtyZXR1cm4gbj50Py0xOnQ+bj8xOnQ+PW4/MDowLzB9LHRhLm1pbj1mdW5jdGlvbihuLHQpe3ZhciBlLHIsdT0tMSxpPW4ubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoOysrdTxpOylpZihudWxsIT0ocj1uW3VdKSYmcj49cil7ZT1yO2JyZWFrfWZvcig7Kyt1PGk7KW51bGwhPShyPW5bdV0pJiZlPnImJihlPXIpfWVsc2V7Zm9yKDsrK3U8aTspaWYobnVsbCE9KHI9dC5jYWxsKG4sblt1XSx1KSkmJnI+PXIpe2U9cjticmVha31mb3IoOysrdTxpOyludWxsIT0ocj10LmNhbGwobixuW3VdLHUpKSYmZT5yJiYoZT1yKX1yZXR1cm4gZX0sdGEubWF4PWZ1bmN0aW9uKG4sdCl7dmFyIGUscix1PS0xLGk9bi5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcig7Kyt1PGk7KWlmKG51bGwhPShyPW5bdV0pJiZyPj1yKXtlPXI7YnJlYWt9Zm9yKDsrK3U8aTspbnVsbCE9KHI9blt1XSkmJnI+ZSYmKGU9cil9ZWxzZXtmb3IoOysrdTxpOylpZihudWxsIT0ocj10LmNhbGwobixuW3VdLHUpKSYmcj49cil7ZT1yO2JyZWFrfWZvcig7Kyt1PGk7KW51bGwhPShyPXQuY2FsbChuLG5bdV0sdSkpJiZyPmUmJihlPXIpfXJldHVybiBlfSx0YS5leHRlbnQ9ZnVuY3Rpb24obix0KXt2YXIgZSxyLHUsaT0tMSxvPW4ubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoOysraTxvOylpZihudWxsIT0ocj1uW2ldKSYmcj49cil7ZT11PXI7YnJlYWt9Zm9yKDsrK2k8bzspbnVsbCE9KHI9bltpXSkmJihlPnImJihlPXIpLHI+dSYmKHU9cikpfWVsc2V7Zm9yKDsrK2k8bzspaWYobnVsbCE9KHI9dC5jYWxsKG4sbltpXSxpKSkmJnI+PXIpe2U9dT1yO2JyZWFrfWZvcig7KytpPG87KW51bGwhPShyPXQuY2FsbChuLG5baV0saSkpJiYoZT5yJiYoZT1yKSxyPnUmJih1PXIpKX1yZXR1cm5bZSx1XX0sdGEuc3VtPWZ1bmN0aW9uKG4sdCl7dmFyIGUscj0wLGk9bi5sZW5ndGgsbz0tMTtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOysrbzxpOyl1KGU9K25bb10pJiYocis9ZSk7ZWxzZSBmb3IoOysrbzxpOyl1KGU9K3QuY2FsbChuLG5bb10sbykpJiYocis9ZSk7cmV0dXJuIHJ9LHRhLm1lYW49ZnVuY3Rpb24obix0KXt2YXIgZSxpPTAsbz1uLmxlbmd0aCxhPS0xLGM9bztpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOysrYTxvOyl1KGU9cihuW2FdKSk/aSs9ZTotLWM7ZWxzZSBmb3IoOysrYTxvOyl1KGU9cih0LmNhbGwobixuW2FdLGEpKSk/aSs9ZTotLWM7cmV0dXJuIGM/aS9jOnZvaWQgMH0sdGEucXVhbnRpbGU9ZnVuY3Rpb24obix0KXt2YXIgZT0obi5sZW5ndGgtMSkqdCsxLHI9TWF0aC5mbG9vcihlKSx1PStuW3ItMV0saT1lLXI7cmV0dXJuIGk/dStpKihuW3JdLXUpOnV9LHRhLm1lZGlhbj1mdW5jdGlvbihuLHQpe3ZhciBpLG89W10sYT1uLmxlbmd0aCxjPS0xO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytjPGE7KXUoaT1yKG5bY10pKSYmby5wdXNoKGkpO2Vsc2UgZm9yKDsrK2M8YTspdShpPXIodC5jYWxsKG4sbltjXSxjKSkpJiZvLnB1c2goaSk7cmV0dXJuIG8ubGVuZ3RoP3RhLnF1YW50aWxlKG8uc29ydChlKSwuNSk6dm9pZCAwfSx0YS52YXJpYW5jZT1mdW5jdGlvbihuLHQpe3ZhciBlLGksbz1uLmxlbmd0aCxhPTAsYz0wLGw9LTEscz0wO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7KytsPG87KXUoZT1yKG5bbF0pKSYmKGk9ZS1hLGErPWkvKytzLGMrPWkqKGUtYSkpO2Vsc2UgZm9yKDsrK2w8bzspdShlPXIodC5jYWxsKG4sbltsXSxsKSkpJiYoaT1lLWEsYSs9aS8rK3MsYys9aSooZS1hKSk7cmV0dXJuIHM+MT9jLyhzLTEpOnZvaWQgMH0sdGEuZGV2aWF0aW9uPWZ1bmN0aW9uKCl7dmFyIG49dGEudmFyaWFuY2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuP01hdGguc3FydChuKTpufTt2YXIgaGE9aShlKTt0YS5iaXNlY3RMZWZ0PWhhLmxlZnQsdGEuYmlzZWN0PXRhLmJpc2VjdFJpZ2h0PWhhLnJpZ2h0LHRhLmJpc2VjdG9yPWZ1bmN0aW9uKG4pe3JldHVybiBpKDE9PT1uLmxlbmd0aD9mdW5jdGlvbih0LHIpe3JldHVybiBlKG4odCkscil9Om4pfSx0YS5zaHVmZmxlPWZ1bmN0aW9uKG4sdCxlKXsoaT1hcmd1bWVudHMubGVuZ3RoKTwzJiYoZT1uLmxlbmd0aCwyPmkmJih0PTApKTtmb3IodmFyIHIsdSxpPWUtdDtpOyl1PU1hdGgucmFuZG9tKCkqaS0tfDAscj1uW2krdF0sbltpK3RdPW5bdSt0XSxuW3UrdF09cjtyZXR1cm4gbn0sdGEucGVybXV0ZT1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxyPW5ldyBBcnJheShlKTtlLS07KXJbZV09blt0W2VdXTtyZXR1cm4gcn0sdGEucGFpcnM9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGU9MCxyPW4ubGVuZ3RoLTEsdT1uWzBdLGk9bmV3IEFycmF5KDA+cj8wOnIpO3I+ZTspaVtlXT1bdD11LHU9blsrK2VdXTtyZXR1cm4gaX0sdGEuemlwPWZ1bmN0aW9uKCl7aWYoIShyPWFyZ3VtZW50cy5sZW5ndGgpKXJldHVybltdO2Zvcih2YXIgbj0tMSx0PXRhLm1pbihhcmd1bWVudHMsbyksZT1uZXcgQXJyYXkodCk7KytuPHQ7KWZvcih2YXIgcix1PS0xLGk9ZVtuXT1uZXcgQXJyYXkocik7Kyt1PHI7KWlbdV09YXJndW1lbnRzW3VdW25dO3JldHVybiBlfSx0YS50cmFuc3Bvc2U9ZnVuY3Rpb24obil7cmV0dXJuIHRhLnppcC5hcHBseSh0YSxuKX0sdGEua2V5cz1mdW5jdGlvbihuKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gbil0LnB1c2goZSk7cmV0dXJuIHR9LHRhLnZhbHVlcz1mdW5jdGlvbihuKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gbil0LnB1c2gobltlXSk7cmV0dXJuIHR9LHRhLmVudHJpZXM9ZnVuY3Rpb24obil7dmFyIHQ9W107Zm9yKHZhciBlIGluIG4pdC5wdXNoKHtrZXk6ZSx2YWx1ZTpuW2VdfSk7cmV0dXJuIHR9LHRhLm1lcmdlPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHIsdT1uLmxlbmd0aCxpPS0xLG89MDsrK2k8dTspbys9bltpXS5sZW5ndGg7Zm9yKGU9bmV3IEFycmF5KG8pOy0tdT49MDspZm9yKHI9blt1XSx0PXIubGVuZ3RoOy0tdD49MDspZVstLW9dPXJbdF07cmV0dXJuIGV9O3ZhciBnYT1NYXRoLmFiczt0YS5yYW5nZT1mdW5jdGlvbihuLHQsZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwzJiYoZT0xLGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9bixuPTApKSwodC1uKS9lPT09MS8wKXRocm93IG5ldyBFcnJvcihcImluZmluaXRlIHJhbmdlXCIpO3ZhciByLHU9W10saT1hKGdhKGUpKSxvPS0xO2lmKG4qPWksdCo9aSxlKj1pLDA+ZSlmb3IoOyhyPW4rZSorK28pPnQ7KXUucHVzaChyL2kpO2Vsc2UgZm9yKDsocj1uK2UqKytvKTx0Oyl1LnB1c2goci9pKTtyZXR1cm4gdX0sdGEubWFwPWZ1bmN0aW9uKG4sdCl7dmFyIGU9bmV3IGw7aWYobiBpbnN0YW5jZW9mIGwpbi5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7ZS5zZXQobix0KX0pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShuKSl7dmFyIHIsdT0tMSxpPW4ubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7Kyt1PGk7KWUuc2V0KHUsblt1XSk7ZWxzZSBmb3IoOysrdTxpOyllLnNldCh0LmNhbGwobixyPW5bdV0sdSkscil9ZWxzZSBmb3IodmFyIG8gaW4gbillLnNldChvLG5bb10pO3JldHVybiBlfTt2YXIgcGE9XCJfX3Byb3RvX19cIix2YT1cIlxceDAwXCI7YyhsLHtoYXM6aCxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX1tzKG4pXX0sc2V0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX1tzKG4pXT10fSxyZW1vdmU6ZyxrZXlzOnAsdmFsdWVzOmZ1bmN0aW9uKCl7dmFyIG49W107Zm9yKHZhciB0IGluIHRoaXMuXyluLnB1c2godGhpcy5fW3RdKTtyZXR1cm4gbn0sZW50cmllczpmdW5jdGlvbigpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl8pbi5wdXNoKHtrZXk6Zih0KSx2YWx1ZTp0aGlzLl9bdF19KTtyZXR1cm4gbn0sc2l6ZTp2LGVtcHR5OmQsZm9yRWFjaDpmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gdGhpcy5fKW4uY2FsbCh0aGlzLGYodCksdGhpcy5fW3RdKX19KSx0YS5uZXN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0LG8sYSl7aWYoYT49aS5sZW5ndGgpcmV0dXJuIHI/ci5jYWxsKHUsbyk6ZT9vLnNvcnQoZSk6bztmb3IodmFyIGMscyxmLGgsZz0tMSxwPW8ubGVuZ3RoLHY9aVthKytdLGQ9bmV3IGw7KytnPHA7KShoPWQuZ2V0KGM9dihzPW9bZ10pKSk/aC5wdXNoKHMpOmQuc2V0KGMsW3NdKTtyZXR1cm4gdD8ocz10KCksZj1mdW5jdGlvbihlLHIpe3Muc2V0KGUsbih0LHIsYSkpfSk6KHM9e30sZj1mdW5jdGlvbihlLHIpe3NbZV09bih0LHIsYSl9KSxkLmZvckVhY2goZiksc31mdW5jdGlvbiB0KG4sZSl7aWYoZT49aS5sZW5ndGgpcmV0dXJuIG47dmFyIHI9W10sdT1vW2UrK107cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihuLHUpe3IucHVzaCh7a2V5Om4sdmFsdWVzOnQodSxlKX0pfSksdT9yLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLmtleSx0LmtleSl9KTpyfXZhciBlLHIsdT17fSxpPVtdLG89W107cmV0dXJuIHUubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oZSx0LDApfSx1LmVudHJpZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQobih0YS5tYXAsZSwwKSwwKX0sdS5rZXk9ZnVuY3Rpb24obil7cmV0dXJuIGkucHVzaChuKSx1fSx1LnNvcnRLZXlzPWZ1bmN0aW9uKG4pe3JldHVybiBvW2kubGVuZ3RoLTFdPW4sdX0sdS5zb3J0VmFsdWVzPWZ1bmN0aW9uKG4pe3JldHVybiBlPW4sdX0sdS5yb2xsdXA9ZnVuY3Rpb24obil7cmV0dXJuIHI9bix1fSx1fSx0YS5zZXQ9ZnVuY3Rpb24obil7dmFyIHQ9bmV3IG07aWYobilmb3IodmFyIGU9MCxyPW4ubGVuZ3RoO3I+ZTsrK2UpdC5hZGQobltlXSk7cmV0dXJuIHR9LGMobSx7aGFzOmgsYWRkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9bcyhuKz1cIlwiKV09ITAsbn0scmVtb3ZlOmcsdmFsdWVzOnAsc2l6ZTp2LGVtcHR5OmQsZm9yRWFjaDpmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gdGhpcy5fKW4uY2FsbCh0aGlzLGYodCkpfX0pLHRhLmJlaGF2aW9yPXt9LHRhLnJlYmluZD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZSxyPTEsdT1hcmd1bWVudHMubGVuZ3RoOysrcjx1OyluW2U9YXJndW1lbnRzW3JdXT1NKG4sdCx0W2VdKTtyZXR1cm4gbn07dmFyIGRhPVtcIndlYmtpdFwiLFwibXNcIixcIm1velwiLFwiTW96XCIsXCJvXCIsXCJPXCJdO3RhLmRpc3BhdGNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPW5ldyBfLHQ9LTEsZT1hcmd1bWVudHMubGVuZ3RoOysrdDxlOyluW2FyZ3VtZW50c1t0XV09dyhuKTtyZXR1cm4gbn0sXy5wcm90b3R5cGUub249ZnVuY3Rpb24obix0KXt2YXIgZT1uLmluZGV4T2YoXCIuXCIpLHI9XCJcIjtpZihlPj0wJiYocj1uLnNsaWNlKGUrMSksbj1uLnNsaWNlKDAsZSkpLG4pcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzW25dLm9uKHIpOnRoaXNbbl0ub24ocix0KTtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7aWYobnVsbD09dClmb3IobiBpbiB0aGlzKXRoaXMuaGFzT3duUHJvcGVydHkobikmJnRoaXNbbl0ub24ocixudWxsKTtyZXR1cm4gdGhpc319LHRhLmV2ZW50PW51bGwsdGEucmVxdW90ZT1mdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKG1hLFwiXFxcXCQmXCIpfTt2YXIgbWE9L1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nLHlhPXt9Ll9fcHJvdG9fXz9mdW5jdGlvbihuLHQpe24uX19wcm90b19fPXR9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlIGluIHQpbltlXT10W2VdfSxNYT1mdW5jdGlvbihuLHQpe3JldHVybiB0LnF1ZXJ5U2VsZWN0b3Iobil9LHhhPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQucXVlcnlTZWxlY3RvckFsbChuKX0sYmE9ZnVuY3Rpb24obix0KXt2YXIgZT1uLm1hdGNoZXN8fG5beChuLFwibWF0Y2hlc1NlbGVjdG9yXCIpXTtyZXR1cm4oYmE9ZnVuY3Rpb24obix0KXtyZXR1cm4gZS5jYWxsKG4sdCl9KShuLHQpfTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBTaXp6bGUmJihNYT1mdW5jdGlvbihuLHQpe3JldHVybiBTaXp6bGUobix0KVswXXx8bnVsbH0seGE9U2l6emxlLGJhPVNpenpsZS5tYXRjaGVzU2VsZWN0b3IpLHRhLnNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0YS5zZWxlY3QodWEuZG9jdW1lbnRFbGVtZW50KX07dmFyIF9hPXRhLnNlbGVjdGlvbi5wcm90b3R5cGU9W107X2Euc2VsZWN0PWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1LGk9W107bj1OKG4pO2Zvcih2YXIgbz0tMSxhPXRoaXMubGVuZ3RoOysrbzxhOyl7aS5wdXNoKHQ9W10pLHQucGFyZW50Tm9kZT0ocj10aGlzW29dKS5wYXJlbnROb2RlO2Zvcih2YXIgYz0tMSxsPXIubGVuZ3RoOysrYzxsOykodT1yW2NdKT8odC5wdXNoKGU9bi5jYWxsKHUsdS5fX2RhdGFfXyxjLG8pKSxlJiZcIl9fZGF0YV9fXCJpbiB1JiYoZS5fX2RhdGFfXz11Ll9fZGF0YV9fKSk6dC5wdXNoKG51bGwpfXJldHVybiBBKGkpfSxfYS5zZWxlY3RBbGw9ZnVuY3Rpb24obil7dmFyIHQsZSxyPVtdO249QyhuKTtmb3IodmFyIHU9LTEsaT10aGlzLmxlbmd0aDsrK3U8aTspZm9yKHZhciBvPXRoaXNbdV0sYT0tMSxjPW8ubGVuZ3RoOysrYTxjOykoZT1vW2FdKSYmKHIucHVzaCh0PXJhKG4uY2FsbChlLGUuX19kYXRhX18sYSx1KSkpLHQucGFyZW50Tm9kZT1lKTtyZXR1cm4gQShyKX07dmFyIHdhPXtzdmc6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHhodG1sOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLHhsaW5rOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHhtbDpcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLHhtbG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIn07dGEubnM9e3ByZWZpeDp3YSxxdWFsaWZ5OmZ1bmN0aW9uKG4pe3ZhciB0PW4uaW5kZXhPZihcIjpcIiksZT1uO3JldHVybiB0Pj0wJiYoZT1uLnNsaWNlKDAsdCksbj1uLnNsaWNlKHQrMSkpLHdhLmhhc093blByb3BlcnR5KGUpP3tzcGFjZTp3YVtlXSxsb2NhbDpufTpufX0sX2EuYXR0cj1mdW5jdGlvbihuLHQpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pe3ZhciBlPXRoaXMubm9kZSgpO3JldHVybiBuPXRhLm5zLnF1YWxpZnkobiksbi5sb2NhbD9lLmdldEF0dHJpYnV0ZU5TKG4uc3BhY2Usbi5sb2NhbCk6ZS5nZXRBdHRyaWJ1dGUobil9Zm9yKHQgaW4gbil0aGlzLmVhY2goeih0LG5bdF0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKHoobix0KSl9LF9hLmNsYXNzZWQ9ZnVuY3Rpb24obix0KXtpZihhcmd1bWVudHMubGVuZ3RoPDIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXt2YXIgZT10aGlzLm5vZGUoKSxyPShuPVQobikpLmxlbmd0aCx1PS0xO2lmKHQ9ZS5jbGFzc0xpc3Qpe2Zvcig7Kyt1PHI7KWlmKCF0LmNvbnRhaW5zKG5bdV0pKXJldHVybiExfWVsc2UgZm9yKHQ9ZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTsrK3U8cjspaWYoIUwoblt1XSkudGVzdCh0KSlyZXR1cm4hMTtyZXR1cm4hMH1mb3IodCBpbiBuKXRoaXMuZWFjaChSKHQsblt0XSkpO3JldHVybiB0aGlzfXJldHVybiB0aGlzLmVhY2goUihuLHQpKX0sX2Euc3R5bGU9ZnVuY3Rpb24obixlLHIpe3ZhciB1PWFyZ3VtZW50cy5sZW5ndGg7aWYoMz51KXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil7Mj51JiYoZT1cIlwiKTtmb3IociBpbiBuKXRoaXMuZWFjaChQKHIsbltyXSxlKSk7cmV0dXJuIHRoaXN9aWYoMj51KXt2YXIgaT10aGlzLm5vZGUoKTtyZXR1cm4gdChpKS5nZXRDb21wdXRlZFN0eWxlKGksbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShuKX1yPVwiXCJ9cmV0dXJuIHRoaXMuZWFjaChQKG4sZSxyKSl9LF9hLnByb3BlcnR5PWZ1bmN0aW9uKG4sdCl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgbilyZXR1cm4gdGhpcy5ub2RlKClbbl07Zm9yKHQgaW4gbil0aGlzLmVhY2goVSh0LG5bdF0pKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKFUobix0KSl9LF9hLnRleHQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/ZnVuY3Rpb24oKXt2YXIgdD1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnRleHRDb250ZW50PW51bGw9PXQ/XCJcIjp0fTpudWxsPT1uP2Z1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudD1cIlwifTpmdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnQ9bn0pOnRoaXMubm9kZSgpLnRleHRDb250ZW50fSxfYS5odG1sPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2Z1bmN0aW9uKCl7dmFyIHQ9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5pbm5lckhUTUw9bnVsbD09dD9cIlwiOnR9Om51bGw9PW4/ZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1cIlwifTpmdW5jdGlvbigpe3RoaXMuaW5uZXJIVE1MPW59KTp0aGlzLm5vZGUoKS5pbm5lckhUTUx9LF9hLmFwcGVuZD1mdW5jdGlvbihuKXtyZXR1cm4gbj1qKG4pLHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQobi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSl9LF9hLmluc2VydD1mdW5jdGlvbihuLHQpe3JldHVybiBuPWoobiksdD1OKHQpLHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxudWxsKX0pfSxfYS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKEYpfSxfYS5kYXRhPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gZShuLGUpe3ZhciByLHUsaSxvPW4ubGVuZ3RoLGY9ZS5sZW5ndGgsaD1NYXRoLm1pbihvLGYpLGc9bmV3IEFycmF5KGYpLHA9bmV3IEFycmF5KGYpLHY9bmV3IEFycmF5KG8pO2lmKHQpe3ZhciBkLG09bmV3IGwseT1uZXcgQXJyYXkobyk7Zm9yKHI9LTE7KytyPG87KW0uaGFzKGQ9dC5jYWxsKHU9bltyXSx1Ll9fZGF0YV9fLHIpKT92W3JdPXU6bS5zZXQoZCx1KSx5W3JdPWQ7Zm9yKHI9LTE7KytyPGY7KSh1PW0uZ2V0KGQ9dC5jYWxsKGUsaT1lW3JdLHIpKSk/dSE9PSEwJiYoZ1tyXT11LHUuX19kYXRhX189aSk6cFtyXT1IKGkpLG0uc2V0KGQsITApO2ZvcihyPS0xOysrcjxvOyltLmdldCh5W3JdKSE9PSEwJiYodltyXT1uW3JdKX1lbHNle2ZvcihyPS0xOysrcjxoOyl1PW5bcl0saT1lW3JdLHU/KHUuX19kYXRhX189aSxnW3JdPXUpOnBbcl09SChpKTtmb3IoO2Y+cjsrK3IpcFtyXT1IKGVbcl0pO2Zvcig7bz5yOysrcil2W3JdPW5bcl19cC51cGRhdGU9ZyxwLnBhcmVudE5vZGU9Zy5wYXJlbnROb2RlPXYucGFyZW50Tm9kZT1uLnBhcmVudE5vZGUsYS5wdXNoKHApLGMucHVzaChnKSxzLnB1c2godil9dmFyIHIsdSxpPS0xLG89dGhpcy5sZW5ndGg7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2ZvcihuPW5ldyBBcnJheShvPShyPXRoaXNbMF0pLmxlbmd0aCk7KytpPG87KSh1PXJbaV0pJiYobltpXT11Ll9fZGF0YV9fKTtyZXR1cm4gbn12YXIgYT1aKFtdKSxjPUEoW10pLHM9QShbXSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbilmb3IoOysraTxvOyllKHI9dGhpc1tpXSxuLmNhbGwocixyLnBhcmVudE5vZGUuX19kYXRhX18saSkpO2Vsc2UgZm9yKDsrK2k8bzspZShyPXRoaXNbaV0sbik7cmV0dXJuIGMuZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gYX0sYy5leGl0PWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGN9LF9hLmRhdHVtPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMucHJvcGVydHkoXCJfX2RhdGFfX1wiLG4pOnRoaXMucHJvcGVydHkoXCJfX2RhdGFfX1wiKX0sX2EuZmlsdGVyPWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PVtdO1wiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJihuPU8obikpO2Zvcih2YXIgaT0wLG89dGhpcy5sZW5ndGg7bz5pO2krKyl7dS5wdXNoKHQ9W10pLHQucGFyZW50Tm9kZT0oZT10aGlzW2ldKS5wYXJlbnROb2RlO2Zvcih2YXIgYT0wLGM9ZS5sZW5ndGg7Yz5hO2ErKykocj1lW2FdKSYmbi5jYWxsKHIsci5fX2RhdGFfXyxhLGkpJiZ0LnB1c2gocil9cmV0dXJuIEEodSl9LF9hLm9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPS0xLHQ9dGhpcy5sZW5ndGg7KytuPHQ7KWZvcih2YXIgZSxyPXRoaXNbbl0sdT1yLmxlbmd0aC0xLGk9clt1XTstLXU+PTA7KShlPXJbdV0pJiYoaSYmaSE9PWUubmV4dFNpYmxpbmcmJmkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxpKSxpPWUpO3JldHVybiB0aGlzfSxfYS5zb3J0PWZ1bmN0aW9uKG4pe249SS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciB0PS0xLGU9dGhpcy5sZW5ndGg7Kyt0PGU7KXRoaXNbdF0uc29ydChuKTtyZXR1cm4gdGhpcy5vcmRlcigpfSxfYS5lYWNoPWZ1bmN0aW9uKG4pe3JldHVybiBZKHRoaXMsZnVuY3Rpb24odCxlLHIpe24uY2FsbCh0LHQuX19kYXRhX18sZSxyKX0pfSxfYS5jYWxsPWZ1bmN0aW9uKG4pe3ZhciB0PXJhKGFyZ3VtZW50cyk7cmV0dXJuIG4uYXBwbHkodFswXT10aGlzLHQpLHRoaXN9LF9hLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubm9kZSgpfSxfYS5ub2RlPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPTAsdD10aGlzLmxlbmd0aDt0Pm47bisrKWZvcih2YXIgZT10aGlzW25dLHI9MCx1PWUubGVuZ3RoO3U+cjtyKyspe3ZhciBpPWVbcl07aWYoaSlyZXR1cm4gaX1yZXR1cm4gbnVsbH0sX2Euc2l6ZT1mdW5jdGlvbigpe3ZhciBuPTA7cmV0dXJuIFkodGhpcyxmdW5jdGlvbigpeysrbn0pLG59O3ZhciBTYT1bXTt0YS5zZWxlY3Rpb24uZW50ZXI9Wix0YS5zZWxlY3Rpb24uZW50ZXIucHJvdG90eXBlPVNhLFNhLmFwcGVuZD1fYS5hcHBlbmQsU2EuZW1wdHk9X2EuZW1wdHksU2Eubm9kZT1fYS5ub2RlLFNhLmNhbGw9X2EuY2FsbCxTYS5zaXplPV9hLnNpemUsU2Euc2VsZWN0PWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHIsdSxpLG89W10sYT0tMSxjPXRoaXMubGVuZ3RoOysrYTxjOyl7cj0odT10aGlzW2FdKS51cGRhdGUsby5wdXNoKHQ9W10pLHQucGFyZW50Tm9kZT11LnBhcmVudE5vZGU7Zm9yKHZhciBsPS0xLHM9dS5sZW5ndGg7KytsPHM7KShpPXVbbF0pPyh0LnB1c2gocltsXT1lPW4uY2FsbCh1LnBhcmVudE5vZGUsaS5fX2RhdGFfXyxsLGEpKSxlLl9fZGF0YV9fPWkuX19kYXRhX18pOnQucHVzaChudWxsKX1yZXR1cm4gQShvKX0sU2EuaW5zZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9Vih0aGlzKSksX2EuaW5zZXJ0LmNhbGwodGhpcyxuLHQpfSx0YS5zZWxlY3Q9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KGU9W01hKHQsdWEpXSxlLnBhcmVudE5vZGU9dWEuZG9jdW1lbnRFbGVtZW50KTooZT1bdF0sZS5wYXJlbnROb2RlPW4odCkpLEEoW2VdKX0sdGEuc2VsZWN0QWxsPWZ1bmN0aW9uKG4pe3ZhciB0O3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuPyh0PXJhKHhhKG4sdWEpKSx0LnBhcmVudE5vZGU9dWEuZG9jdW1lbnRFbGVtZW50KToodD1uLHQucGFyZW50Tm9kZT1udWxsKSxBKFt0XSl9LF9hLm9uPWZ1bmN0aW9uKG4sdCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoO2lmKDM+cil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4pezI+ciYmKHQ9ITEpO2ZvcihlIGluIG4pdGhpcy5lYWNoKFgoZSxuW2VdLHQpKTtyZXR1cm4gdGhpc31pZigyPnIpcmV0dXJuKHI9dGhpcy5ub2RlKClbXCJfX29uXCIrbl0pJiZyLl87ZT0hMX1yZXR1cm4gdGhpcy5lYWNoKFgobix0LGUpKX07dmFyIGthPXRhLm1hcCh7bW91c2VlbnRlcjpcIm1vdXNlb3ZlclwiLG1vdXNlbGVhdmU6XCJtb3VzZW91dFwifSk7dWEmJmthLmZvckVhY2goZnVuY3Rpb24obil7XCJvblwiK24gaW4gdWEmJmthLnJlbW92ZShuKX0pO3ZhciBFYSxBYT0wO3RhLm1vdXNlPWZ1bmN0aW9uKG4pe3JldHVybiBKKG4saygpKX07dmFyIE5hPXRoaXMubmF2aWdhdG9yJiYvV2ViS2l0Ly50ZXN0KHRoaXMubmF2aWdhdG9yLnVzZXJBZ2VudCk/LTE6MDt0YS50b3VjaD1mdW5jdGlvbihuLHQsZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwzJiYoZT10LHQ9aygpLmNoYW5nZWRUb3VjaGVzKSx0KWZvcih2YXIgcix1PTAsaT10Lmxlbmd0aDtpPnU7Kyt1KWlmKChyPXRbdV0pLmlkZW50aWZpZXI9PT1lKXJldHVybiBKKG4scil9LHRhLmJlaGF2aW9yLmRyYWc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy5vbihcIm1vdXNlZG93bi5kcmFnXCIsaSkub24oXCJ0b3VjaHN0YXJ0LmRyYWdcIixvKX1mdW5jdGlvbiBlKG4sdCxlLGksbyl7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBuLGUscj10KGgsdik7ciYmKG49clswXS1NWzBdLGU9clsxXS1NWzFdLHB8PW58ZSxNPXIsZyh7dHlwZTpcImRyYWdcIix4OnJbMF0rbFswXSx5OnJbMV0rbFsxXSxkeDpuLGR5OmV9KSl9ZnVuY3Rpb24gYygpe3QoaCx2KSYmKG0ub24oaStkLG51bGwpLm9uKG8rZCxudWxsKSx5KHAmJnRhLmV2ZW50LnRhcmdldD09PWYpLGcoe3R5cGU6XCJkcmFnZW5kXCJ9KSl9dmFyIGwscz10aGlzLGY9dGEuZXZlbnQudGFyZ2V0LGg9cy5wYXJlbnROb2RlLGc9ci5vZihzLGFyZ3VtZW50cykscD0wLHY9bigpLGQ9XCIuZHJhZ1wiKyhudWxsPT12P1wiXCI6XCItXCIrdiksbT10YS5zZWxlY3QoZShmKSkub24oaStkLGEpLm9uKG8rZCxjKSx5PVcoZiksTT10KGgsdik7dT8obD11LmFwcGx5KHMsYXJndW1lbnRzKSxsPVtsLngtTVswXSxsLnktTVsxXV0pOmw9WzAsMF0sZyh7dHlwZTpcImRyYWdzdGFydFwifSl9fXZhciByPUUobixcImRyYWdcIixcImRyYWdzdGFydFwiLFwiZHJhZ2VuZFwiKSx1PW51bGwsaT1lKGIsdGEubW91c2UsdCxcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiKSxvPWUoRyx0YS50b3VjaCx5LFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiKTtyZXR1cm4gbi5vcmlnaW49ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxuKTp1fSx0YS5yZWJpbmQobixyLFwib25cIil9LHRhLnRvdWNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD1rKCkudG91Y2hlcyksdD9yYSh0KS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9SihuLHQpO3JldHVybiBlLmlkZW50aWZpZXI9dC5pZGVudGlmaWVyLGV9KTpbXX07dmFyIENhPTFlLTYsemE9Q2EqQ2EscWE9TWF0aC5QSSxMYT0yKnFhLFRhPUxhLUNhLFJhPXFhLzIsRGE9cWEvMTgwLFBhPTE4MC9xYSxVYT1NYXRoLlNRUlQyLGphPTIsRmE9NDt0YS5pbnRlcnBvbGF0ZVpvb209ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKG4pe3ZhciB0PW4qeTtpZihtKXt2YXIgZT1ydCh2KSxvPWkvKGphKmgpKihlKnV0KFVhKnQrdiktZXQodikpO3JldHVybltyK28qbCx1K28qcyxpKmUvcnQoVWEqdCt2KV19cmV0dXJuW3IrbipsLHUrbipzLGkqTWF0aC5leHAoVWEqdCldfXZhciByPW5bMF0sdT1uWzFdLGk9blsyXSxvPXRbMF0sYT10WzFdLGM9dFsyXSxsPW8tcixzPWEtdSxmPWwqbCtzKnMsaD1NYXRoLnNxcnQoZiksZz0oYypjLWkqaStGYSpmKS8oMippKmphKmgpLHA9KGMqYy1pKmktRmEqZikvKDIqYypqYSpoKSx2PU1hdGgubG9nKE1hdGguc3FydChnKmcrMSktZyksZD1NYXRoLmxvZyhNYXRoLnNxcnQocCpwKzEpLXApLG09ZC12LHk9KG18fE1hdGgubG9nKGMvaSkpL1VhO3JldHVybiBlLmR1cmF0aW9uPTFlMyp5LGV9LHRhLmJlaGF2aW9yLnpvb209ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe24ub24ocSxmKS5vbihPYStcIi56b29tXCIsZykub24oXCJkYmxjbGljay56b29tXCIscCkub24oUixoKX1mdW5jdGlvbiBlKG4pe3JldHVyblsoblswXS1rLngpL2suaywoblsxXS1rLnkpL2sua119ZnVuY3Rpb24gcihuKXtyZXR1cm5bblswXSprLmsray54LG5bMV0qay5rK2sueV19ZnVuY3Rpb24gdShuKXtrLms9TWF0aC5tYXgoTlswXSxNYXRoLm1pbihOWzFdLG4pKX1mdW5jdGlvbiBpKG4sdCl7dD1yKHQpLGsueCs9blswXS10WzBdLGsueSs9blsxXS10WzFdfWZ1bmN0aW9uIG8odCxlLHIsbyl7dC5fX2NoYXJ0X189e3g6ay54LHk6ay55LGs6ay5rfSx1KE1hdGgucG93KDIsbykpLGkoZD1lLHIpLHQ9dGEuc2VsZWN0KHQpLEM+MCYmKHQ9dC50cmFuc2l0aW9uKCkuZHVyYXRpb24oQykpLHQuY2FsbChuLmV2ZW50KX1mdW5jdGlvbiBhKCl7YiYmYi5kb21haW4oeC5yYW5nZSgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4obi1rLngpL2sua30pLm1hcCh4LmludmVydCkpLHcmJncuZG9tYWluKF8ucmFuZ2UoKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuKG4tay55KS9rLmt9KS5tYXAoXy5pbnZlcnQpKX1mdW5jdGlvbiBjKG4pe3orK3x8bih7dHlwZTpcInpvb21zdGFydFwifSl9ZnVuY3Rpb24gbChuKXthKCksbih7dHlwZTpcInpvb21cIixzY2FsZTprLmssdHJhbnNsYXRlOltrLngsay55XX0pfWZ1bmN0aW9uIHMobil7LS16fHxuKHt0eXBlOlwiem9vbWVuZFwifSksZD1udWxsfWZ1bmN0aW9uIGYoKXtmdW5jdGlvbiBuKCl7Zj0xLGkodGEubW91c2UodSksZyksbChhKX1mdW5jdGlvbiByKCl7aC5vbihMLG51bGwpLm9uKFQsbnVsbCkscChmJiZ0YS5ldmVudC50YXJnZXQ9PT1vKSxzKGEpfXZhciB1PXRoaXMsbz10YS5ldmVudC50YXJnZXQsYT1ELm9mKHUsYXJndW1lbnRzKSxmPTAsaD10YS5zZWxlY3QodCh1KSkub24oTCxuKS5vbihULHIpLGc9ZSh0YS5tb3VzZSh1KSkscD1XKHUpO0RsLmNhbGwodSksYyhhKX1mdW5jdGlvbiBoKCl7ZnVuY3Rpb24gbigpe3ZhciBuPXRhLnRvdWNoZXMocCk7cmV0dXJuIGc9ay5rLG4uZm9yRWFjaChmdW5jdGlvbihuKXtuLmlkZW50aWZpZXIgaW4gZCYmKGRbbi5pZGVudGlmaWVyXT1lKG4pKX0pLG59ZnVuY3Rpb24gdCgpe3ZhciB0PXRhLmV2ZW50LnRhcmdldDt0YS5zZWxlY3QodCkub24oeCxyKS5vbihiLGEpLF8ucHVzaCh0KTtmb3IodmFyIGU9dGEuZXZlbnQuY2hhbmdlZFRvdWNoZXMsdT0wLGk9ZS5sZW5ndGg7aT51OysrdSlkW2VbdV0uaWRlbnRpZmllcl09bnVsbDt2YXIgYz1uKCksbD1EYXRlLm5vdygpO2lmKDE9PT1jLmxlbmd0aCl7aWYoNTAwPmwtTSl7dmFyIHM9Y1swXTtvKHAscyxkW3MuaWRlbnRpZmllcl0sTWF0aC5mbG9vcihNYXRoLmxvZyhrLmspL01hdGguTE4yKSsxKSxTKCl9TT1sfWVsc2UgaWYoYy5sZW5ndGg+MSl7dmFyIHM9Y1swXSxmPWNbMV0saD1zWzBdLWZbMF0sZz1zWzFdLWZbMV07bT1oKmgrZypnfX1mdW5jdGlvbiByKCl7dmFyIG4sdCxlLHIsbz10YS50b3VjaGVzKHApO0RsLmNhbGwocCk7Zm9yKHZhciBhPTAsYz1vLmxlbmd0aDtjPmE7KythLHI9bnVsbClpZihlPW9bYV0scj1kW2UuaWRlbnRpZmllcl0pe2lmKHQpYnJlYWs7bj1lLHQ9cn1pZihyKXt2YXIgcz0ocz1lWzBdLW5bMF0pKnMrKHM9ZVsxXS1uWzFdKSpzLGY9bSYmTWF0aC5zcXJ0KHMvbSk7bj1bKG5bMF0rZVswXSkvMiwoblsxXStlWzFdKS8yXSx0PVsodFswXStyWzBdKS8yLCh0WzFdK3JbMV0pLzJdLHUoZipnKX1NPW51bGwsaShuLHQpLGwodil9ZnVuY3Rpb24gYSgpe2lmKHRhLmV2ZW50LnRvdWNoZXMubGVuZ3RoKXtmb3IodmFyIHQ9dGEuZXZlbnQuY2hhbmdlZFRvdWNoZXMsZT0wLHI9dC5sZW5ndGg7cj5lOysrZSlkZWxldGUgZFt0W2VdLmlkZW50aWZpZXJdO2Zvcih2YXIgdSBpbiBkKXJldHVybiB2b2lkIG4oKX10YS5zZWxlY3RBbGwoXykub24oeSxudWxsKSx3Lm9uKHEsZikub24oUixoKSxFKCkscyh2KX12YXIgZyxwPXRoaXMsdj1ELm9mKHAsYXJndW1lbnRzKSxkPXt9LG09MCx5PVwiLnpvb20tXCIrdGEuZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcix4PVwidG91Y2htb3ZlXCIreSxiPVwidG91Y2hlbmRcIit5LF89W10sdz10YS5zZWxlY3QocCksRT1XKHApO3QoKSxjKHYpLHcub24ocSxudWxsKS5vbihSLHQpfWZ1bmN0aW9uIGcoKXt2YXIgbj1ELm9mKHRoaXMsYXJndW1lbnRzKTt5P2NsZWFyVGltZW91dCh5KToodj1lKGQ9bXx8dGEubW91c2UodGhpcykpLERsLmNhbGwodGhpcyksYyhuKSkseT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eT1udWxsLHMobil9LDUwKSxTKCksdShNYXRoLnBvdygyLC4wMDIqSGEoKSkqay5rKSxpKGQsdiksbChuKX1mdW5jdGlvbiBwKCl7dmFyIG49dGEubW91c2UodGhpcyksdD1NYXRoLmxvZyhrLmspL01hdGguTE4yO28odGhpcyxuLGUobiksdGEuZXZlbnQuc2hpZnRLZXk/TWF0aC5jZWlsKHQpLTE6TWF0aC5mbG9vcih0KSsxKX12YXIgdixkLG0seSxNLHgsYixfLHcsaz17eDowLHk6MCxrOjF9LEE9Wzk2MCw1MDBdLE49SWEsQz0yNTAsej0wLHE9XCJtb3VzZWRvd24uem9vbVwiLEw9XCJtb3VzZW1vdmUuem9vbVwiLFQ9XCJtb3VzZXVwLnpvb21cIixSPVwidG91Y2hzdGFydC56b29tXCIsRD1FKG4sXCJ6b29tc3RhcnRcIixcInpvb21cIixcInpvb21lbmRcIik7cmV0dXJuIE9hfHwoT2E9XCJvbndoZWVsXCJpbiB1YT8oSGE9ZnVuY3Rpb24oKXtyZXR1cm4tdGEuZXZlbnQuZGVsdGFZKih0YS5ldmVudC5kZWx0YU1vZGU/MTIwOjEpfSxcIndoZWVsXCIpOlwib25tb3VzZXdoZWVsXCJpbiB1YT8oSGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGEuZXZlbnQud2hlZWxEZWx0YX0sXCJtb3VzZXdoZWVsXCIpOihIYT1mdW5jdGlvbigpe3JldHVybi10YS5ldmVudC5kZXRhaWx9LFwiTW96TW91c2VQaXhlbFNjcm9sbFwiKSksbi5ldmVudD1mdW5jdGlvbihuKXtuLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1ELm9mKHRoaXMsYXJndW1lbnRzKSx0PWs7VGw/dGEuc2VsZWN0KHRoaXMpLnRyYW5zaXRpb24oKS5lYWNoKFwic3RhcnQuem9vbVwiLGZ1bmN0aW9uKCl7az10aGlzLl9fY2hhcnRfX3x8e3g6MCx5OjAsazoxfSxjKG4pfSkudHdlZW4oXCJ6b29tOnpvb21cIixmdW5jdGlvbigpe3ZhciBlPUFbMF0scj1BWzFdLHU9ZD9kWzBdOmUvMixpPWQ/ZFsxXTpyLzIsbz10YS5pbnRlcnBvbGF0ZVpvb20oWyh1LWsueCkvay5rLChpLWsueSkvay5rLGUvay5rXSxbKHUtdC54KS90LmssKGktdC55KS90LmssZS90LmtdKTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIHI9byh0KSxhPWUvclsyXTt0aGlzLl9fY2hhcnRfXz1rPXt4OnUtclswXSphLHk6aS1yWzFdKmEsazphfSxsKG4pfX0pLmVhY2goXCJpbnRlcnJ1cHQuem9vbVwiLGZ1bmN0aW9uKCl7cyhuKX0pLmVhY2goXCJlbmQuem9vbVwiLGZ1bmN0aW9uKCl7cyhuKX0pOih0aGlzLl9fY2hhcnRfXz1rLGMobiksbChuKSxzKG4pKX0pfSxuLnRyYW5zbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaz17eDordFswXSx5Oit0WzFdLGs6ay5rfSxhKCksbik6W2sueCxrLnldfSxuLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhrPXt4OmsueCx5OmsueSxrOit0fSxhKCksbik6ay5rfSxuLnNjYWxlRXh0ZW50PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhOPW51bGw9PXQ/SWE6Wyt0WzBdLCt0WzFdXSxuKTpOfSxuLmNlbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obT10JiZbK3RbMF0sK3RbMV1dLG4pOm19LG4uc2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oQT10JiZbK3RbMF0sK3RbMV1dLG4pOkF9LG4uZHVyYXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KEM9K3Qsbik6Q30sbi54PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPXQseD10LmNvcHkoKSxrPXt4OjAseTowLGs6MX0sbik6Yn0sbi55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh3PXQsXz10LmNvcHkoKSxrPXt4OjAseTowLGs6MX0sbik6d30sdGEucmViaW5kKG4sRCxcIm9uXCIpfTt2YXIgSGEsT2EsSWE9WzAsMS8wXTt0YS5jb2xvcj1vdCxvdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZ2IoKStcIlwifSx0YS5oc2w9YXQ7dmFyIFlhPWF0LnByb3RvdHlwZT1uZXcgb3Q7WWEuYnJpZ2h0ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG49TWF0aC5wb3coLjcsYXJndW1lbnRzLmxlbmd0aD9uOjEpLG5ldyBhdCh0aGlzLmgsdGhpcy5zLHRoaXMubC9uKX0sWWEuZGFya2VyPWZ1bmN0aW9uKG4pe3JldHVybiBuPU1hdGgucG93KC43LGFyZ3VtZW50cy5sZW5ndGg/bjoxKSxuZXcgYXQodGhpcy5oLHRoaXMucyxuKnRoaXMubCl9LFlhLnJnYj1mdW5jdGlvbigpe3JldHVybiBjdCh0aGlzLmgsdGhpcy5zLHRoaXMubCl9LHRhLmhjbD1sdDt2YXIgWmE9bHQucHJvdG90eXBlPW5ldyBvdDtaYS5icmlnaHRlcj1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGx0KHRoaXMuaCx0aGlzLmMsTWF0aC5taW4oMTAwLHRoaXMubCtWYSooYXJndW1lbnRzLmxlbmd0aD9uOjEpKSl9LFphLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGx0KHRoaXMuaCx0aGlzLmMsTWF0aC5tYXgoMCx0aGlzLmwtVmEqKGFyZ3VtZW50cy5sZW5ndGg/bjoxKSkpfSxaYS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gc3QodGhpcy5oLHRoaXMuYyx0aGlzLmwpLnJnYigpfSx0YS5sYWI9ZnQ7dmFyIFZhPTE4LFhhPS45NTA0NywkYT0xLEJhPTEuMDg4ODMsV2E9ZnQucHJvdG90eXBlPW5ldyBvdDtXYS5icmlnaHRlcj1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGZ0KE1hdGgubWluKDEwMCx0aGlzLmwrVmEqKGFyZ3VtZW50cy5sZW5ndGg/bjoxKSksdGhpcy5hLHRoaXMuYil9LFdhLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGZ0KE1hdGgubWF4KDAsdGhpcy5sLVZhKihhcmd1bWVudHMubGVuZ3RoP246MSkpLHRoaXMuYSx0aGlzLmIpfSxXYS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcy5sLHRoaXMuYSx0aGlzLmIpfSx0YS5yZ2I9bXQ7dmFyIEphPW10LnByb3RvdHlwZT1uZXcgb3Q7SmEuYnJpZ2h0ZXI9ZnVuY3Rpb24obil7bj1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP246MSk7dmFyIHQ9dGhpcy5yLGU9dGhpcy5nLHI9dGhpcy5iLHU9MzA7cmV0dXJuIHR8fGV8fHI/KHQmJnU+dCYmKHQ9dSksZSYmdT5lJiYoZT11KSxyJiZ1PnImJihyPXUpLG5ldyBtdChNYXRoLm1pbigyNTUsdC9uKSxNYXRoLm1pbigyNTUsZS9uKSxNYXRoLm1pbigyNTUsci9uKSkpOm5ldyBtdCh1LHUsdSl9LEphLmRhcmtlcj1mdW5jdGlvbihuKXtyZXR1cm4gbj1NYXRoLnBvdyguNyxhcmd1bWVudHMubGVuZ3RoP246MSksbmV3IG10KG4qdGhpcy5yLG4qdGhpcy5nLG4qdGhpcy5iKX0sSmEuaHNsPWZ1bmN0aW9uKCl7cmV0dXJuIF90KHRoaXMucix0aGlzLmcsdGhpcy5iKX0sSmEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIiNcIit4dCh0aGlzLnIpK3h0KHRoaXMuZykreHQodGhpcy5iKX07dmFyIEdhPXRhLm1hcCh7YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLGRhcmtvbGl2ZWdyZWVuOjU1OTc5OTksZGFya29yYW5nZToxNjc0NzUyMCxkYXJrb3JjaGlkOjEwMDQwMDEyLGRhcmtyZWQ6OTEwOTUwNCxkYXJrc2FsbW9uOjE1MzA4NDEwLGRhcmtzZWFncmVlbjo5NDE5OTE5LGRhcmtzbGF0ZWJsdWU6NDczNDM0NyxkYXJrc2xhdGVncmF5OjMxMDA0OTUsZGFya3NsYXRlZ3JleTozMTAwNDk1LGRhcmt0dXJxdW9pc2U6NTI5NDUsZGFya3Zpb2xldDo5Njk5NTM5LGRlZXBwaW5rOjE2NzE2OTQ3LGRlZXBza3libHVlOjQ5MTUxLGRpbWdyYXk6NjkwODI2NSxkaW1ncmV5OjY5MDgyNjUsZG9kZ2VyYmx1ZToyMDAzMTk5LGZpcmVicmljazoxMTY3NDE0NixmbG9yYWx3aGl0ZToxNjc3NTkyMCxmb3Jlc3RncmVlbjoyMjYzODQyLGZ1Y2hzaWE6MTY3MTE5MzUsZ2FpbnNib3JvOjE0NDc0NDYwLGdob3N0d2hpdGU6MTYzMTY2NzEsZ29sZDoxNjc2NjcyMCxnb2xkZW5yb2Q6MTQzMjkxMjAsZ3JheTo4NDIxNTA0LGdyZWVuOjMyNzY4LGdyZWVueWVsbG93OjExNDAzMDU1LGdyZXk6ODQyMTUwNCxob25leWRldzoxNTc5NDE2MCxob3RwaW5rOjE2NzM4NzQwLGluZGlhbnJlZDoxMzQ1ODUyNCxpbmRpZ286NDkxNTMzMCxpdm9yeToxNjc3NzIwMCxraGFraToxNTc4NzY2MCxsYXZlbmRlcjoxNTEzMjQxMCxsYXZlbmRlcmJsdXNoOjE2NzczMzY1LGxhd25ncmVlbjo4MTkwOTc2LGxlbW9uY2hpZmZvbjoxNjc3NTg4NSxsaWdodGJsdWU6MTEzOTMyNTQsbGlnaHRjb3JhbDoxNTc2MTUzNixsaWdodGN5YW46MTQ3NDU1OTksbGlnaHRnb2xkZW5yb2R5ZWxsb3c6MTY0NDgyMTAsbGlnaHRncmF5OjEzODgyMzIzLGxpZ2h0Z3JlZW46OTQ5ODI1NixsaWdodGdyZXk6MTM4ODIzMjMsbGlnaHRwaW5rOjE2NzU4NDY1LGxpZ2h0c2FsbW9uOjE2NzUyNzYyLGxpZ2h0c2VhZ3JlZW46MjE0Mjg5MCxsaWdodHNreWJsdWU6ODkwMDM0NixsaWdodHNsYXRlZ3JheTo3ODMzNzUzLGxpZ2h0c2xhdGVncmV5Ojc4MzM3NTMsbGlnaHRzdGVlbGJsdWU6MTE1ODQ3MzQsbGlnaHR5ZWxsb3c6MTY3NzcxODQsbGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxwYWxlZ3JlZW46MTAwMjU4ODAscGFsZXR1cnF1b2lzZToxMTUyOTk2NixwYWxldmlvbGV0cmVkOjE0MzgxMjAzLHBhcGF5YXdoaXA6MTY3NzMwNzcscGVhY2hwdWZmOjE2NzY3NjczLHBlcnU6MTM0Njg5OTEscGluazoxNjc2MTAzNSxwbHVtOjE0NTI0NjM3LHBvd2RlcmJsdWU6MTE1OTE5MTAscHVycGxlOjgzODg3MzYscmViZWNjYXB1cnBsZTo2Njk3ODgxLHJlZDoxNjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2FkZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSk7R2EuZm9yRWFjaChmdW5jdGlvbihuLHQpe0dhLnNldChuLHl0KHQpKX0pLHRhLmZ1bmN0b3I9RXQsdGEueGhyPUF0KHkpLHRhLmRzdj1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobixlLGkpe2FyZ3VtZW50cy5sZW5ndGg8MyYmKGk9ZSxlPW51bGwpO3ZhciBvPU50KG4sdCxudWxsPT1lP3I6dShlKSxpKTtyZXR1cm4gby5yb3c9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/by5yZXNwb25zZShudWxsPT0oZT1uKT9yOnUobikpOmV9LG99ZnVuY3Rpb24gcihuKXtyZXR1cm4gZS5wYXJzZShuLnJlc3BvbnNlVGV4dCl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUucGFyc2UodC5yZXNwb25zZVRleHQsbil9fWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQubWFwKG8pLmpvaW4obil9ZnVuY3Rpb24gbyhuKXtyZXR1cm4gYS50ZXN0KG4pPydcIicrbi5yZXBsYWNlKC9cXFwiL2csJ1wiXCInKSsnXCInOm59dmFyIGE9bmV3IFJlZ0V4cCgnW1wiJytuK1wiXFxuXVwiKSxjPW4uY2hhckNvZGVBdCgwKTtyZXR1cm4gZS5wYXJzZT1mdW5jdGlvbihuLHQpe3ZhciByO3JldHVybiBlLnBhcnNlUm93cyhuLGZ1bmN0aW9uKG4sZSl7aWYocilyZXR1cm4gcihuLGUtMSk7dmFyIHU9bmV3IEZ1bmN0aW9uKFwiZFwiLFwicmV0dXJuIHtcIituLm1hcChmdW5jdGlvbihuLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShuKStcIjogZFtcIit0K1wiXVwifSkuam9pbihcIixcIikrXCJ9XCIpO3I9dD9mdW5jdGlvbihuLGUpe3JldHVybiB0KHUobiksZSl9OnV9KX0sZS5wYXJzZVJvd3M9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiBlKCl7aWYocz49bClyZXR1cm4gbztpZih1KXJldHVybiB1PSExLGk7dmFyIHQ9cztpZigzND09PW4uY2hhckNvZGVBdCh0KSl7Zm9yKHZhciBlPXQ7ZSsrPGw7KWlmKDM0PT09bi5jaGFyQ29kZUF0KGUpKXtpZigzNCE9PW4uY2hhckNvZGVBdChlKzEpKWJyZWFrOysrZX1zPWUrMjt2YXIgcj1uLmNoYXJDb2RlQXQoZSsxKTtyZXR1cm4gMTM9PT1yPyh1PSEwLDEwPT09bi5jaGFyQ29kZUF0KGUrMikmJisrcyk6MTA9PT1yJiYodT0hMCksbi5zbGljZSh0KzEsZSkucmVwbGFjZSgvXCJcIi9nLCdcIicpfWZvcig7bD5zOyl7dmFyIHI9bi5jaGFyQ29kZUF0KHMrKyksYT0xO2lmKDEwPT09cil1PSEwO2Vsc2UgaWYoMTM9PT1yKXU9ITAsMTA9PT1uLmNoYXJDb2RlQXQocykmJigrK3MsKythKTtlbHNlIGlmKHIhPT1jKWNvbnRpbnVlO3JldHVybiBuLnNsaWNlKHQscy1hKX1yZXR1cm4gbi5zbGljZSh0KX1mb3IodmFyIHIsdSxpPXt9LG89e30sYT1bXSxsPW4ubGVuZ3RoLHM9MCxmPTA7KHI9ZSgpKSE9PW87KXtmb3IodmFyIGg9W107ciE9PWkmJnIhPT1vOyloLnB1c2gocikscj1lKCk7dCYmbnVsbD09KGg9dChoLGYrKykpfHxhLnB1c2goaCl9cmV0dXJuIGF9LGUuZm9ybWF0PWZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodFswXSkpcmV0dXJuIGUuZm9ybWF0Um93cyh0KTt2YXIgcj1uZXcgbSx1PVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4pci5oYXModCl8fHUucHVzaChyLmFkZCh0KSl9KSxbdS5tYXAobykuam9pbihuKV0uY29uY2F0KHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB1Lm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbyh0W25dKX0pLmpvaW4obil9KSkuam9pbihcIlxcblwiKX0sZS5mb3JtYXRSb3dzPWZ1bmN0aW9uKG4pe3JldHVybiBuLm1hcChpKS5qb2luKFwiXFxuXCIpfSxlfSx0YS5jc3Y9dGEuZHN2KFwiLFwiLFwidGV4dC9jc3ZcIiksdGEudHN2PXRhLmRzdihcIiAgIFwiLFwidGV4dC90YWItc2VwYXJhdGVkLXZhbHVlc1wiKTt2YXIgS2EsUWEsbmMsdGMsZWMscmM9dGhpc1t4KHRoaXMsXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIildfHxmdW5jdGlvbihuKXtzZXRUaW1lb3V0KG4sMTcpfTt0YS50aW1lcj1mdW5jdGlvbihuLHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDsyPnImJih0PTApLDM+ciYmKGU9RGF0ZS5ub3coKSk7dmFyIHU9ZSt0LGk9e2M6bix0OnUsZjohMSxuOm51bGx9O1FhP1FhLm49aTpLYT1pLFFhPWksbmN8fCh0Yz1jbGVhclRpbWVvdXQodGMpLG5jPTEscmMocXQpKX0sdGEudGltZXIuZmx1c2g9ZnVuY3Rpb24oKXtMdCgpLFR0KCl9LHRhLnJvdW5kPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ/TWF0aC5yb3VuZChuKih0PU1hdGgucG93KDEwLHQpKSkvdDpNYXRoLnJvdW5kKG4pfTt2YXIgdWM9W1wieVwiLFwielwiLFwiYVwiLFwiZlwiLFwicFwiLFwiblwiLFwiXFx4YjVcIixcIm1cIixcIlwiLFwia1wiLFwiTVwiLFwiR1wiLFwiVFwiLFwiUFwiLFwiRVwiLFwiWlwiLFwiWVwiXS5tYXAoRHQpO3RhLmZvcm1hdFByZWZpeD1mdW5jdGlvbihuLHQpe3ZhciBlPTA7cmV0dXJuIG4mJigwPm4mJihuKj0tMSksdCYmKG49dGEucm91bmQobixSdChuLHQpKSksZT0xK01hdGguZmxvb3IoMWUtMTIrTWF0aC5sb2cobikvTWF0aC5MTjEwKSxlPU1hdGgubWF4KC0yNCxNYXRoLm1pbigyNCwzKk1hdGguZmxvb3IoKGUtMSkvMykpKSksdWNbOCtlLzNdfTt2YXIgaWM9Lyg/OihbXntdKT8oWzw+PV5dKSk/KFsrXFwtIF0pPyhbJCNdKT8oMCk/KFxcZCspPygsKT8oXFwuLT9cXGQrKT8oW2EteiVdKT8vaSxvYz10YS5tYXAoe2I6ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoMil9LGM6ZnVuY3Rpb24obil7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobil9LG86ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoOCl9LHg6ZnVuY3Rpb24obil7cmV0dXJuIG4udG9TdHJpbmcoMTYpfSxYOmZ1bmN0aW9uKG4pe3JldHVybiBuLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSxnOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4udG9QcmVjaXNpb24odCl9LGU6ZnVuY3Rpb24obix0KXtyZXR1cm4gbi50b0V4cG9uZW50aWFsKHQpfSxmOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4udG9GaXhlZCh0KX0scjpmdW5jdGlvbihuLHQpe3JldHVybihuPXRhLnJvdW5kKG4sUnQobix0KSkpLnRvRml4ZWQoTWF0aC5tYXgoMCxNYXRoLm1pbigyMCxSdChuKigxKzFlLTE1KSx0KSkpKX19KSxhYz10YS50aW1lPXt9LGNjPURhdGU7anQucHJvdG90eXBlPXtnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENEYXRlKCl9LGdldERheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDRGF5KCl9LGdldEZ1bGxZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENGdWxsWWVhcigpfSxnZXRIb3VyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDSG91cnMoKX0sZ2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRVVENNaWxsaXNlY29uZHMoKX0sZ2V0TWludXRlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTWludXRlcygpfSxnZXRNb250aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDTW9udGgoKX0sZ2V0U2Vjb25kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZ2V0VVRDU2Vjb25kcygpfSxnZXRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5nZXRUaW1lKCl9LGdldFRpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlT2YoKX0sc2V0RGF0ZTpmdW5jdGlvbigpe2xjLnNldFVUQ0RhdGUuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldERheTpmdW5jdGlvbigpe2xjLnNldFVUQ0RheS5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0RnVsbFllYXI6ZnVuY3Rpb24oKXtsYy5zZXRVVENGdWxsWWVhci5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0SG91cnM6ZnVuY3Rpb24oKXtsYy5zZXRVVENIb3Vycy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TWlsbGlzZWNvbmRzOmZ1bmN0aW9uKCl7bGMuc2V0VVRDTWlsbGlzZWNvbmRzLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfSxzZXRNaW51dGVzOmZ1bmN0aW9uKCl7bGMuc2V0VVRDTWludXRlcy5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0TW9udGg6ZnVuY3Rpb24oKXtsYy5zZXRVVENNb250aC5hcHBseSh0aGlzLl8sYXJndW1lbnRzKX0sc2V0U2Vjb25kczpmdW5jdGlvbigpe2xjLnNldFVUQ1NlY29uZHMuYXBwbHkodGhpcy5fLGFyZ3VtZW50cyl9LHNldFRpbWU6ZnVuY3Rpb24oKXtsYy5zZXRUaW1lLmFwcGx5KHRoaXMuXyxhcmd1bWVudHMpfX07dmFyIGxjPURhdGUucHJvdG90eXBlO2FjLnllYXI9RnQoZnVuY3Rpb24obil7cmV0dXJuIG49YWMuZGF5KG4pLG4uc2V0TW9udGgoMCwxKSxufSxmdW5jdGlvbihuLHQpe24uc2V0RnVsbFllYXIobi5nZXRGdWxsWWVhcigpK3QpfSxmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRGdWxsWWVhcigpfSksYWMueWVhcnM9YWMueWVhci5yYW5nZSxhYy55ZWFycy51dGM9YWMueWVhci51dGMucmFuZ2UsYWMuZGF5PUZ0KGZ1bmN0aW9uKG4pe3ZhciB0PW5ldyBjYygyZTMsMCk7cmV0dXJuIHQuc2V0RnVsbFllYXIobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSksdH0sZnVuY3Rpb24obix0KXtuLnNldERhdGUobi5nZXREYXRlKCkrdCl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldERhdGUoKS0xfSksYWMuZGF5cz1hYy5kYXkucmFuZ2UsYWMuZGF5cy51dGM9YWMuZGF5LnV0Yy5yYW5nZSxhYy5kYXlPZlllYXI9ZnVuY3Rpb24obil7dmFyIHQ9YWMueWVhcihuKTtyZXR1cm4gTWF0aC5mbG9vcigobi10LTZlNCoobi5nZXRUaW1lem9uZU9mZnNldCgpLXQuZ2V0VGltZXpvbmVPZmZzZXQoKSkpLzg2NGU1KX0sW1wic3VuZGF5XCIsXCJtb25kYXlcIixcInR1ZXNkYXlcIixcIndlZG5lc2RheVwiLFwidGh1cnNkYXlcIixcImZyaWRheVwiLFwic2F0dXJkYXlcIl0uZm9yRWFjaChmdW5jdGlvbihuLHQpe3Q9Ny10O3ZhciBlPWFjW25dPUZ0KGZ1bmN0aW9uKG4pe3JldHVybihuPWFjLmRheShuKSkuc2V0RGF0ZShuLmdldERhdGUoKS0obi5nZXREYXkoKSt0KSU3KSxufSxmdW5jdGlvbihuLHQpe24uc2V0RGF0ZShuLmdldERhdGUoKSs3Kk1hdGguZmxvb3IodCkpfSxmdW5jdGlvbihuKXt2YXIgZT1hYy55ZWFyKG4pLmdldERheSgpO3JldHVybiBNYXRoLmZsb29yKChhYy5kYXlPZlllYXIobikrKGUrdCklNykvNyktKGUhPT10KX0pO2FjW24rXCJzXCJdPWUucmFuZ2UsYWNbbitcInNcIl0udXRjPWUudXRjLnJhbmdlLGFjW24rXCJPZlllYXJcIl09ZnVuY3Rpb24obil7dmFyIGU9YWMueWVhcihuKS5nZXREYXkoKTtyZXR1cm4gTWF0aC5mbG9vcigoYWMuZGF5T2ZZZWFyKG4pKyhlK3QpJTcpLzcpfX0pLGFjLndlZWs9YWMuc3VuZGF5LGFjLndlZWtzPWFjLnN1bmRheS5yYW5nZSxhYy53ZWVrcy51dGM9YWMuc3VuZGF5LnV0Yy5yYW5nZSxhYy53ZWVrT2ZZZWFyPWFjLnN1bmRheU9mWWVhcjt2YXIgc2M9e1wiLVwiOlwiXCIsXzpcIiBcIiwwOlwiMFwifSxmYz0vXlxccypcXGQrLyxoYz0vXiUvO3RhLmxvY2FsZT1mdW5jdGlvbihuKXtyZXR1cm57bnVtYmVyRm9ybWF0OlB0KG4pLHRpbWVGb3JtYXQ6T3Qobil9fTt2YXIgZ2M9dGEubG9jYWxlKHtkZWNpbWFsOlwiLlwiLHRob3VzYW5kczpcIixcIixncm91cGluZzpbM10sY3VycmVuY3k6W1wiJFwiLFwiXCJdLGRhdGVUaW1lOlwiJWEgJWIgJWUgJVggJVlcIixkYXRlOlwiJW0vJWQvJVlcIix0aW1lOlwiJUg6JU06JVNcIixwZXJpb2RzOltcIkFNXCIsXCJQTVwiXSxkYXlzOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdLHNob3J0RGF5czpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbW9udGhzOltcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxzaG9ydE1vbnRoczpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdfSk7dGEuZm9ybWF0PWdjLm51bWJlckZvcm1hdCx0YS5nZW89e30sY2UucHJvdG90eXBlPXtzOjAsdDowLGFkZDpmdW5jdGlvbihuKXtsZShuLHRoaXMudCxwYyksbGUocGMucyx0aGlzLnMsdGhpcyksdGhpcy5zP3RoaXMudCs9cGMudDp0aGlzLnM9cGMudFxufSxyZXNldDpmdW5jdGlvbigpe3RoaXMucz10aGlzLnQ9MH0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN9fTt2YXIgcGM9bmV3IGNlO3RhLmdlby5zdHJlYW09ZnVuY3Rpb24obix0KXtuJiZ2Yy5oYXNPd25Qcm9wZXJ0eShuLnR5cGUpP3ZjW24udHlwZV0obix0KTpzZShuLHQpfTt2YXIgdmM9e0ZlYXR1cmU6ZnVuY3Rpb24obix0KXtzZShuLmdlb21ldHJ5LHQpfSxGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmZlYXR1cmVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspc2UoZVtyXS5nZW9tZXRyeSx0KX19LGRjPXtTcGhlcmU6ZnVuY3Rpb24obix0KXt0LnNwaGVyZSgpfSxQb2ludDpmdW5jdGlvbihuLHQpe249bi5jb29yZGluYXRlcyx0LnBvaW50KG5bMF0sblsxXSxuWzJdKX0sTXVsdGlQb2ludDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmNvb3JkaW5hdGVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspbj1lW3JdLHQucG9pbnQoblswXSxuWzFdLG5bMl0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKG4sdCl7ZmUobi5jb29yZGluYXRlcyx0LDApfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24obix0KXtmb3IodmFyIGU9bi5jb29yZGluYXRlcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KWZlKGVbcl0sdCwwKX0sUG9seWdvbjpmdW5jdGlvbihuLHQpe2hlKG4uY29vcmRpbmF0ZXMsdCl9LE11bHRpUG9seWdvbjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1uLmNvb3JkaW5hdGVzLHI9LTEsdT1lLmxlbmd0aDsrK3I8dTspaGUoZVtyXSx0KX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4uZ2VvbWV0cmllcyxyPS0xLHU9ZS5sZW5ndGg7KytyPHU7KXNlKGVbcl0sdCl9fTt0YS5nZW8uYXJlYT1mdW5jdGlvbihuKXtyZXR1cm4gbWM9MCx0YS5nZW8uc3RyZWFtKG4sTWMpLG1jfTt2YXIgbWMseWM9bmV3IGNlLE1jPXtzcGhlcmU6ZnVuY3Rpb24oKXttYys9NCpxYX0scG9pbnQ6YixsaW5lU3RhcnQ6YixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7eWMucmVzZXQoKSxNYy5saW5lU3RhcnQ9Z2V9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt2YXIgbj0yKnljO21jKz0wPm4/NCpxYStuOm4sTWMubGluZVN0YXJ0PU1jLmxpbmVFbmQ9TWMucG9pbnQ9Yn19O3RhLmdlby5ib3VuZHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7TS5wdXNoKHg9W3M9bixoPW5dKSxmPnQmJihmPXQpLHQ+ZyYmKGc9dCl9ZnVuY3Rpb24gdCh0LGUpe3ZhciByPXBlKFt0KkRhLGUqRGFdKTtpZihtKXt2YXIgdT1kZShtLHIpLGk9W3VbMV0sLXVbMF0sMF0sbz1kZShpLHUpO01lKG8pLG89eGUobyk7dmFyIGM9dC1wLGw9Yz4wPzE6LTEsdj1vWzBdKlBhKmwsZD1nYShjKT4xODA7aWYoZF4odj5sKnAmJmwqdD52KSl7dmFyIHk9b1sxXSpQYTt5PmcmJihnPXkpfWVsc2UgaWYodj0odiszNjApJTM2MC0xODAsZF4odj5sKnAmJmwqdD52KSl7dmFyIHk9LW9bMV0qUGE7Zj55JiYoZj15KX1lbHNlIGY+ZSYmKGY9ZSksZT5nJiYoZz1lKTtkP3A+dD9hKHMsdCk+YShzLGgpJiYoaD10KTphKHQsaCk+YShzLGgpJiYocz10KTpoPj1zPyhzPnQmJihzPXQpLHQ+aCYmKGg9dCkpOnQ+cD9hKHMsdCk+YShzLGgpJiYoaD10KTphKHQsaCk+YShzLGgpJiYocz10KX1lbHNlIG4odCxlKTttPXIscD10fWZ1bmN0aW9uIGUoKXtiLnBvaW50PXR9ZnVuY3Rpb24gcigpe3hbMF09cyx4WzFdPWgsYi5wb2ludD1uLG09bnVsbH1mdW5jdGlvbiB1KG4sZSl7aWYobSl7dmFyIHI9bi1wO3krPWdhKHIpPjE4MD9yKyhyPjA/MzYwOi0zNjApOnJ9ZWxzZSB2PW4sZD1lO01jLnBvaW50KG4sZSksdChuLGUpfWZ1bmN0aW9uIGkoKXtNYy5saW5lU3RhcnQoKX1mdW5jdGlvbiBvKCl7dSh2LGQpLE1jLmxpbmVFbmQoKSxnYSh5KT5DYSYmKHM9LShoPTE4MCkpLHhbMF09cyx4WzFdPWgsbT1udWxsfWZ1bmN0aW9uIGEobix0KXtyZXR1cm4odC09bik8MD90KzM2MDp0fWZ1bmN0aW9uIGMobix0KXtyZXR1cm4gblswXS10WzBdfWZ1bmN0aW9uIGwobix0KXtyZXR1cm4gdFswXTw9dFsxXT90WzBdPD1uJiZuPD10WzFdOm48dFswXXx8dFsxXTxufXZhciBzLGYsaCxnLHAsdixkLG0seSxNLHgsYj17cG9pbnQ6bixsaW5lU3RhcnQ6ZSxsaW5lRW5kOnIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7Yi5wb2ludD11LGIubGluZVN0YXJ0PWksYi5saW5lRW5kPW8seT0wLE1jLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7TWMucG9seWdvbkVuZCgpLGIucG9pbnQ9bixiLmxpbmVTdGFydD1lLGIubGluZUVuZD1yLDA+eWM/KHM9LShoPTE4MCksZj0tKGc9OTApKTp5PkNhP2c9OTA6LUNhPnkmJihmPS05MCkseFswXT1zLHhbMV09aH19O3JldHVybiBmdW5jdGlvbihuKXtnPWg9LShzPWY9MS8wKSxNPVtdLHRhLmdlby5zdHJlYW0obixiKTt2YXIgdD1NLmxlbmd0aDtpZih0KXtNLnNvcnQoYyk7Zm9yKHZhciBlLHI9MSx1PU1bMF0saT1bdV07dD5yOysrcillPU1bcl0sbChlWzBdLHUpfHxsKGVbMV0sdSk/KGEodVswXSxlWzFdKT5hKHVbMF0sdVsxXSkmJih1WzFdPWVbMV0pLGEoZVswXSx1WzFdKT5hKHVbMF0sdVsxXSkmJih1WzBdPWVbMF0pKTppLnB1c2godT1lKTtmb3IodmFyIG8sZSxwPS0xLzAsdD1pLmxlbmd0aC0xLHI9MCx1PWlbdF07dD49cjt1PWUsKytyKWU9aVtyXSwobz1hKHVbMV0sZVswXSkpPnAmJihwPW8scz1lWzBdLGg9dVsxXSl9cmV0dXJuIE09eD1udWxsLDEvMD09PXN8fDEvMD09PWY/W1swLzAsMC8wXSxbMC8wLDAvMF1dOltbcyxmXSxbaCxnXV19fSgpLHRhLmdlby5jZW50cm9pZD1mdW5jdGlvbihuKXt4Yz1iYz1fYz13Yz1TYz1rYz1FYz1BYz1OYz1DYz16Yz0wLHRhLmdlby5zdHJlYW0obixxYyk7dmFyIHQ9TmMsZT1DYyxyPXpjLHU9dCp0K2UqZStyKnI7cmV0dXJuIHphPnUmJih0PWtjLGU9RWMscj1BYyxDYT5iYyYmKHQ9X2MsZT13YyxyPVNjKSx1PXQqdCtlKmUrcipyLHphPnUpP1swLzAsMC8wXTpbTWF0aC5hdGFuMihlLHQpKlBhLHR0KHIvTWF0aC5zcXJ0KHUpKSpQYV19O3ZhciB4YyxiYyxfYyx3YyxTYyxrYyxFYyxBYyxOYyxDYyx6YyxxYz17c3BoZXJlOmIscG9pbnQ6X2UsbGluZVN0YXJ0OlNlLGxpbmVFbmQ6a2UscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7cWMubGluZVN0YXJ0PUVlfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7cWMubGluZVN0YXJ0PVNlfX0sTGM9TGUoTmUsUGUsamUsWy1xYSwtcWEvMl0pLFRjPTFlOTt0YS5nZW8uY2xpcEV4dGVudD1mdW5jdGlvbigpe3ZhciBuLHQsZSxyLHUsaSxvPXtzdHJlYW06ZnVuY3Rpb24obil7cmV0dXJuIHUmJih1LnZhbGlkPSExKSx1PWkobiksdS52YWxpZD0hMCx1fSxleHRlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9SWUobj0rYVswXVswXSx0PSthWzBdWzFdLGU9K2FbMV1bMF0scj0rYVsxXVsxXSksdSYmKHUudmFsaWQ9ITEsdT1udWxsKSxvKTpbW24sdF0sW2Uscl1dfX07cmV0dXJuIG8uZXh0ZW50KFtbMCwwXSxbOTYwLDUwMF1dKX0sKHRhLmdlby5jb25pY0VxdWFsQXJlYT1mdW5jdGlvbigpe3JldHVybiBZZShaZSl9KS5yYXc9WmUsdGEuZ2VvLmFsYmVycz1mdW5jdGlvbigpe3JldHVybiB0YS5nZW8uY29uaWNFcXVhbEFyZWEoKS5yb3RhdGUoWzk2LDBdKS5jZW50ZXIoWy0uNiwzOC43XSkucGFyYWxsZWxzKFsyOS41LDQ1LjVdKS5zY2FsZSgxMDcwKX0sdGEuZ2VvLmFsYmVyc1VzYT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7dmFyIGk9blswXSxvPW5bMV07cmV0dXJuIHQ9bnVsbCxlKGksbyksdHx8KHIoaSxvKSx0KXx8dShpLG8pLHR9dmFyIHQsZSxyLHUsaT10YS5nZW8uYWxiZXJzKCksbz10YS5nZW8uY29uaWNFcXVhbEFyZWEoKS5yb3RhdGUoWzE1NCwwXSkuY2VudGVyKFstMiw1OC41XSkucGFyYWxsZWxzKFs1NSw2NV0pLGE9dGEuZ2VvLmNvbmljRXF1YWxBcmVhKCkucm90YXRlKFsxNTcsMF0pLmNlbnRlcihbLTMsMTkuOV0pLnBhcmFsbGVscyhbOCwxOF0pLGM9e3BvaW50OmZ1bmN0aW9uKG4sZSl7dD1bbixlXX19O3JldHVybiBuLmludmVydD1mdW5jdGlvbihuKXt2YXIgdD1pLnNjYWxlKCksZT1pLnRyYW5zbGF0ZSgpLHI9KG5bMF0tZVswXSkvdCx1PShuWzFdLWVbMV0pL3Q7cmV0dXJuKHU+PS4xMiYmLjIzND51JiZyPj0tLjQyNSYmLS4yMTQ+cj9vOnU+PS4xNjYmJi4yMzQ+dSYmcj49LS4yMTQmJi0uMTE1PnI/YTppKS5pbnZlcnQobil9LG4uc3RyZWFtPWZ1bmN0aW9uKG4pe3ZhciB0PWkuc3RyZWFtKG4pLGU9by5zdHJlYW0obikscj1hLnN0cmVhbShuKTtyZXR1cm57cG9pbnQ6ZnVuY3Rpb24obix1KXt0LnBvaW50KG4sdSksZS5wb2ludChuLHUpLHIucG9pbnQobix1KX0sc3BoZXJlOmZ1bmN0aW9uKCl7dC5zcGhlcmUoKSxlLnNwaGVyZSgpLHIuc3BoZXJlKCl9LGxpbmVTdGFydDpmdW5jdGlvbigpe3QubGluZVN0YXJ0KCksZS5saW5lU3RhcnQoKSxyLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7dC5saW5lRW5kKCksZS5saW5lRW5kKCksci5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3QucG9seWdvblN0YXJ0KCksZS5wb2x5Z29uU3RhcnQoKSxyLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dC5wb2x5Z29uRW5kKCksZS5wb2x5Z29uRW5kKCksci5wb2x5Z29uRW5kKCl9fX0sbi5wcmVjaXNpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGkucHJlY2lzaW9uKHQpLG8ucHJlY2lzaW9uKHQpLGEucHJlY2lzaW9uKHQpLG4pOmkucHJlY2lzaW9uKCl9LG4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGkuc2NhbGUodCksby5zY2FsZSguMzUqdCksYS5zY2FsZSh0KSxuLnRyYW5zbGF0ZShpLnRyYW5zbGF0ZSgpKSk6aS5zY2FsZSgpfSxuLnRyYW5zbGF0ZT1mdW5jdGlvbih0KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gaS50cmFuc2xhdGUoKTt2YXIgbD1pLnNjYWxlKCkscz0rdFswXSxmPSt0WzFdO3JldHVybiBlPWkudHJhbnNsYXRlKHQpLmNsaXBFeHRlbnQoW1tzLS40NTUqbCxmLS4yMzgqbF0sW3MrLjQ1NSpsLGYrLjIzOCpsXV0pLnN0cmVhbShjKS5wb2ludCxyPW8udHJhbnNsYXRlKFtzLS4zMDcqbCxmKy4yMDEqbF0pLmNsaXBFeHRlbnQoW1tzLS40MjUqbCtDYSxmKy4xMipsK0NhXSxbcy0uMjE0KmwtQ2EsZisuMjM0KmwtQ2FdXSkuc3RyZWFtKGMpLnBvaW50LHU9YS50cmFuc2xhdGUoW3MtLjIwNSpsLGYrLjIxMipsXSkuY2xpcEV4dGVudChbW3MtLjIxNCpsK0NhLGYrLjE2NipsK0NhXSxbcy0uMTE1KmwtQ2EsZisuMjM0KmwtQ2FdXSkuc3RyZWFtKGMpLnBvaW50LG59LG4uc2NhbGUoMTA3MCl9O3ZhciBSYyxEYyxQYyxVYyxqYyxGYyxIYz17cG9pbnQ6YixsaW5lU3RhcnQ6YixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7RGM9MCxIYy5saW5lU3RhcnQ9VmV9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtIYy5saW5lU3RhcnQ9SGMubGluZUVuZD1IYy5wb2ludD1iLFJjKz1nYShEYy8yKX19LE9jPXtwb2ludDpYZSxsaW5lU3RhcnQ6YixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmIscG9seWdvbkVuZDpifSxJYz17cG9pbnQ6V2UsbGluZVN0YXJ0OkplLGxpbmVFbmQ6R2UscG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7SWMubGluZVN0YXJ0PUtlfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7SWMucG9pbnQ9V2UsSWMubGluZVN0YXJ0PUplLEljLmxpbmVFbmQ9R2V9fTt0YS5nZW8ucGF0aD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7cmV0dXJuIG4mJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZpLnBvaW50UmFkaXVzKCthLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksbyYmby52YWxpZHx8KG89dShpKSksdGEuZ2VvLnN0cmVhbShuLG8pKSxpLnJlc3VsdCgpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gbz1udWxsLG59dmFyIGUscix1LGksbyxhPTQuNTtyZXR1cm4gbi5hcmVhPWZ1bmN0aW9uKG4pe3JldHVybiBSYz0wLHRhLmdlby5zdHJlYW0obix1KEhjKSksUmN9LG4uY2VudHJvaWQ9ZnVuY3Rpb24obil7cmV0dXJuIF9jPXdjPVNjPWtjPUVjPUFjPU5jPUNjPXpjPTAsdGEuZ2VvLnN0cmVhbShuLHUoSWMpKSx6Yz9bTmMvemMsQ2MvemNdOkFjP1trYy9BYyxFYy9BY106U2M/W19jL1NjLHdjL1NjXTpbMC8wLDAvMF19LG4uYm91bmRzPWZ1bmN0aW9uKG4pe3JldHVybiBqYz1GYz0tKFBjPVVjPTEvMCksdGEuZ2VvLnN0cmVhbShuLHUoT2MpKSxbW1BjLFVjXSxbamMsRmNdXX0sbi5wcm9qZWN0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PShlPW4pP24uc3RyZWFtfHx0cihuKTp5LHQoKSk6ZX0sbi5jb250ZXh0PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPW51bGw9PShyPW4pP25ldyAkZTpuZXcgUWUobiksXCJmdW5jdGlvblwiIT10eXBlb2YgYSYmaS5wb2ludFJhZGl1cyhhKSx0KCkpOnJ9LG4ucG9pbnRSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90OihpLnBvaW50UmFkaXVzKCt0KSwrdCksbik6YX0sbi5wcm9qZWN0aW9uKHRhLmdlby5hbGJlcnNVc2EoKSkuY29udGV4dChudWxsKX0sdGEuZ2VvLnRyYW5zZm9ybT1mdW5jdGlvbihuKXtyZXR1cm57c3RyZWFtOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBlcih0KTtmb3IodmFyIHIgaW4gbillW3JdPW5bcl07cmV0dXJuIGV9fX0sZXIucHJvdG90eXBlPXtwb2ludDpmdW5jdGlvbihuLHQpe3RoaXMuc3RyZWFtLnBvaW50KG4sdCl9LHNwaGVyZTpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnNwaGVyZSgpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5saW5lU3RhcnQoKX0sbGluZUVuZDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLmxpbmVFbmQoKX0scG9seWdvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5wb2x5Z29uRW5kKCl9fSx0YS5nZW8ucHJvamVjdGlvbj11cix0YS5nZW8ucHJvamVjdGlvbk11dGF0b3I9aXIsKHRhLmdlby5lcXVpcmVjdGFuZ3VsYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdXIoYXIpfSkucmF3PWFyLmludmVydD1hcix0YS5nZW8ucm90YXRpb249ZnVuY3Rpb24obil7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdD1uKHRbMF0qRGEsdFsxXSpEYSksdFswXSo9UGEsdFsxXSo9UGEsdH1yZXR1cm4gbj1scihuWzBdJTM2MCpEYSxuWzFdKkRhLG4ubGVuZ3RoPjI/blsyXSpEYTowKSx0LmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdD1uLmludmVydCh0WzBdKkRhLHRbMV0qRGEpLHRbMF0qPVBhLHRbMV0qPVBhLHR9LHR9LGNyLmludmVydD1hcix0YS5nZW8uY2lyY2xlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6cix0PWxyKC1uWzBdKkRhLC1uWzFdKkRhLDApLmludmVydCx1PVtdO3JldHVybiBlKG51bGwsbnVsbCwxLHtwb2ludDpmdW5jdGlvbihuLGUpe3UucHVzaChuPXQobixlKSksblswXSo9UGEsblsxXSo9UGF9fSkse3R5cGU6XCJQb2x5Z29uXCIsY29vcmRpbmF0ZXM6W3VdfX12YXIgdCxlLHI9WzAsMF0sdT02O3JldHVybiBuLm9yaWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj10LG4pOnJ9LG4uYW5nbGU9ZnVuY3Rpb24ocil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9Z3IoKHQ9K3IpKkRhLHUqRGEpLG4pOnR9LG4ucHJlY2lzaW9uPWZ1bmN0aW9uKHIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPWdyKHQqRGEsKHU9K3IpKkRhKSxuKTp1fSxuLmFuZ2xlKDkwKX0sdGEuZ2VvLmRpc3RhbmNlPWZ1bmN0aW9uKG4sdCl7dmFyIGUscj0odFswXS1uWzBdKSpEYSx1PW5bMV0qRGEsaT10WzFdKkRhLG89TWF0aC5zaW4ociksYT1NYXRoLmNvcyhyKSxjPU1hdGguc2luKHUpLGw9TWF0aC5jb3ModSkscz1NYXRoLnNpbihpKSxmPU1hdGguY29zKGkpO3JldHVybiBNYXRoLmF0YW4yKE1hdGguc3FydCgoZT1mKm8pKmUrKGU9bCpzLWMqZiphKSplKSxjKnMrbCpmKmEpfSx0YS5nZW8uZ3JhdGljdWxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybnt0eXBlOlwiTXVsdGlMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6dCgpfX1mdW5jdGlvbiB0KCl7cmV0dXJuIHRhLnJhbmdlKE1hdGguY2VpbChpL2QpKmQsdSxkKS5tYXAoaCkuY29uY2F0KHRhLnJhbmdlKE1hdGguY2VpbChsL20pKm0sYyxtKS5tYXAoZykpLmNvbmNhdCh0YS5yYW5nZShNYXRoLmNlaWwoci9wKSpwLGUscCkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBnYShuJWQpPkNhfSkubWFwKHMpKS5jb25jYXQodGEucmFuZ2UoTWF0aC5jZWlsKGEvdikqdixvLHYpLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gZ2EobiVtKT5DYX0pLm1hcChmKSl9dmFyIGUscix1LGksbyxhLGMsbCxzLGYsaCxnLHA9MTAsdj1wLGQ9OTAsbT0zNjAseT0yLjU7cmV0dXJuIG4ubGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLm1hcChmdW5jdGlvbihuKXtyZXR1cm57dHlwZTpcIkxpbmVTdHJpbmdcIixjb29yZGluYXRlczpufX0pfSxuLm91dGxpbmU9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIlBvbHlnb25cIixjb29yZGluYXRlczpbaChpKS5jb25jYXQoZyhjKS5zbGljZSgxKSxoKHUpLnJldmVyc2UoKS5zbGljZSgxKSxnKGwpLnJldmVyc2UoKS5zbGljZSgxKSldfX0sbi5leHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/bi5tYWpvckV4dGVudCh0KS5taW5vckV4dGVudCh0KTpuLm1pbm9yRXh0ZW50KCl9LG4ubWFqb3JFeHRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9K3RbMF1bMF0sdT0rdFsxXVswXSxsPSt0WzBdWzFdLGM9K3RbMV1bMV0saT51JiYodD1pLGk9dSx1PXQpLGw+YyYmKHQ9bCxsPWMsYz10KSxuLnByZWNpc2lvbih5KSk6W1tpLGxdLFt1LGNdXX0sbi5taW5vckV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0rdFswXVswXSxlPSt0WzFdWzBdLGE9K3RbMF1bMV0sbz0rdFsxXVsxXSxyPmUmJih0PXIscj1lLGU9dCksYT5vJiYodD1hLGE9byxvPXQpLG4ucHJlY2lzaW9uKHkpKTpbW3IsYV0sW2Usb11dfSxuLnN0ZXA9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/bi5tYWpvclN0ZXAodCkubWlub3JTdGVwKHQpOm4ubWlub3JTdGVwKCl9LG4ubWFqb3JTdGVwPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPSt0WzBdLG09K3RbMV0sbik6W2QsbV19LG4ubWlub3JTdGVwPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwPSt0WzBdLHY9K3RbMV0sbik6W3Asdl19LG4ucHJlY2lzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh5PSt0LHM9dnIoYSxvLDkwKSxmPWRyKHIsZSx5KSxoPXZyKGwsYyw5MCksZz1kcihpLHUseSksbik6eX0sbi5tYWpvckV4dGVudChbWy0xODAsLTkwK0NhXSxbMTgwLDkwLUNhXV0pLm1pbm9yRXh0ZW50KFtbLTE4MCwtODAtQ2FdLFsxODAsODArQ2FdXSl9LHRhLmdlby5ncmVhdEFyYz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXtyZXR1cm57dHlwZTpcIkxpbmVTdHJpbmdcIixjb29yZGluYXRlczpbdHx8ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZXx8dS5hcHBseSh0aGlzLGFyZ3VtZW50cyldfX12YXIgdCxlLHI9bXIsdT15cjtyZXR1cm4gbi5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0YS5nZW8uZGlzdGFuY2UodHx8ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZXx8dS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxuLnNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1lLHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9udWxsOmUsbik6cn0sbi50YXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9dCxlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/bnVsbDp0LG4pOnV9LG4ucHJlY2lzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/bjowfSxufSx0YS5nZW8uaW50ZXJwb2xhdGU9ZnVuY3Rpb24obix0KXtyZXR1cm4gTXIoblswXSpEYSxuWzFdKkRhLHRbMF0qRGEsdFsxXSpEYSl9LHRhLmdlby5sZW5ndGg9ZnVuY3Rpb24obil7cmV0dXJuIFljPTAsdGEuZ2VvLnN0cmVhbShuLFpjKSxZY307dmFyIFljLFpjPXtzcGhlcmU6Yixwb2ludDpiLGxpbmVTdGFydDp4cixsaW5lRW5kOmIscG9seWdvblN0YXJ0OmIscG9seWdvbkVuZDpifSxWYz1icihmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5zcXJ0KDIvKDErbikpfSxmdW5jdGlvbihuKXtyZXR1cm4gMipNYXRoLmFzaW4obi8yKX0pOyh0YS5nZW8uYXppbXV0aGFsRXF1YWxBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHVyKFZjKX0pLnJhdz1WYzt2YXIgWGM9YnIoZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5hY29zKG4pO3JldHVybiB0JiZ0L01hdGguc2luKHQpfSx5KTsodGEuZ2VvLmF6aW11dGhhbEVxdWlkaXN0YW50PWZ1bmN0aW9uKCl7cmV0dXJuIHVyKFhjKX0pLnJhdz1YYywodGEuZ2VvLmNvbmljQ29uZm9ybWFsPWZ1bmN0aW9uKCl7cmV0dXJuIFllKF9yKX0pLnJhdz1fciwodGEuZ2VvLmNvbmljRXF1aWRpc3RhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gWWUod3IpfSkucmF3PXdyO3ZhciAkYz1icihmdW5jdGlvbihuKXtyZXR1cm4gMS9ufSxNYXRoLmF0YW4pOyh0YS5nZW8uZ25vbW9uaWM9ZnVuY3Rpb24oKXtyZXR1cm4gdXIoJGMpfSkucmF3PSRjLFNyLmludmVydD1mdW5jdGlvbihuLHQpe3JldHVybltuLDIqTWF0aC5hdGFuKE1hdGguZXhwKHQpKS1SYV19LCh0YS5nZW8ubWVyY2F0b3I9ZnVuY3Rpb24oKXtyZXR1cm4ga3IoU3IpfSkucmF3PVNyO3ZhciBCYz1icihmdW5jdGlvbigpe3JldHVybiAxfSxNYXRoLmFzaW4pOyh0YS5nZW8ub3J0aG9ncmFwaGljPWZ1bmN0aW9uKCl7cmV0dXJuIHVyKEJjKX0pLnJhdz1CYzt2YXIgV2M9YnIoZnVuY3Rpb24obil7cmV0dXJuIDEvKDErbil9LGZ1bmN0aW9uKG4pe3JldHVybiAyKk1hdGguYXRhbihuKX0pOyh0YS5nZW8uc3RlcmVvZ3JhcGhpYz1mdW5jdGlvbigpe3JldHVybiB1cihXYyl9KS5yYXc9V2MsRXIuaW52ZXJ0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuWy10LDIqTWF0aC5hdGFuKE1hdGguZXhwKG4pKS1SYV19LCh0YS5nZW8udHJhbnN2ZXJzZU1lcmNhdG9yPWZ1bmN0aW9uKCl7dmFyIG49a3IoRXIpLHQ9bi5jZW50ZXIsZT1uLnJvdGF0ZTtyZXR1cm4gbi5jZW50ZXI9ZnVuY3Rpb24obil7cmV0dXJuIG4/dChbLW5bMV0sblswXV0pOihuPXQoKSxbblsxXSwtblswXV0pfSxuLnJvdGF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gbj9lKFtuWzBdLG5bMV0sbi5sZW5ndGg+Mj9uWzJdKzkwOjkwXSk6KG49ZSgpLFtuWzBdLG5bMV0sblsyXS05MF0pfSxlKFswLDAsOTBdKX0pLnJhdz1Fcix0YS5nZW9tPXt9LHRhLmdlb20uaHVsbD1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KG4pe2lmKG4ubGVuZ3RoPDMpcmV0dXJuW107dmFyIHQsdT1FdChlKSxpPUV0KHIpLG89bi5sZW5ndGgsYT1bXSxjPVtdO2Zvcih0PTA7bz50O3QrKylhLnB1c2goWyt1LmNhbGwodGhpcyxuW3RdLHQpLCtpLmNhbGwodGhpcyxuW3RdLHQpLHRdKTtmb3IoYS5zb3J0KHpyKSx0PTA7bz50O3QrKyljLnB1c2goW2FbdF1bMF0sLWFbdF1bMV1dKTt2YXIgbD1DcihhKSxzPUNyKGMpLGY9c1swXT09PWxbMF0saD1zW3MubGVuZ3RoLTFdPT09bFtsLmxlbmd0aC0xXSxnPVtdO2Zvcih0PWwubGVuZ3RoLTE7dD49MDstLXQpZy5wdXNoKG5bYVtsW3RdXVsyXV0pO2Zvcih0PStmO3Q8cy5sZW5ndGgtaDsrK3QpZy5wdXNoKG5bYVtzW3RdXVsyXV0pO3JldHVybiBnfXZhciBlPUFyLHI9TnI7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dChuKToodC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPW4sdCk6ZX0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPW4sdCk6cn0sdCl9LHRhLmdlb20ucG9seWdvbj1mdW5jdGlvbihuKXtyZXR1cm4geWEobixKYyksbn07dmFyIEpjPXRhLmdlb20ucG9seWdvbi5wcm90b3R5cGU9W107SmMuYXJlYT1mdW5jdGlvbigpe2Zvcih2YXIgbix0PS0xLGU9dGhpcy5sZW5ndGgscj10aGlzW2UtMV0sdT0wOysrdDxlOyluPXIscj10aGlzW3RdLHUrPW5bMV0qclswXS1uWzBdKnJbMV07cmV0dXJuLjUqdX0sSmMuY2VudHJvaWQ9ZnVuY3Rpb24obil7dmFyIHQsZSxyPS0xLHU9dGhpcy5sZW5ndGgsaT0wLG89MCxhPXRoaXNbdS0xXTtmb3IoYXJndW1lbnRzLmxlbmd0aHx8KG49LTEvKDYqdGhpcy5hcmVhKCkpKTsrK3I8dTspdD1hLGE9dGhpc1tyXSxlPXRbMF0qYVsxXS1hWzBdKnRbMV0saSs9KHRbMF0rYVswXSkqZSxvKz0odFsxXSthWzFdKSplO3JldHVybltpKm4sbypuXX0sSmMuY2xpcD1mdW5jdGlvbihuKXtmb3IodmFyIHQsZSxyLHUsaSxvLGE9VHIobiksYz0tMSxsPXRoaXMubGVuZ3RoLVRyKHRoaXMpLHM9dGhpc1tsLTFdOysrYzxsOyl7Zm9yKHQ9bi5zbGljZSgpLG4ubGVuZ3RoPTAsdT10aGlzW2NdLGk9dFsocj10Lmxlbmd0aC1hKS0xXSxlPS0xOysrZTxyOylvPXRbZV0scXIobyxzLHUpPyhxcihpLHMsdSl8fG4ucHVzaChMcihpLG8scyx1KSksbi5wdXNoKG8pKTpxcihpLHMsdSkmJm4ucHVzaChMcihpLG8scyx1KSksaT1vO2EmJm4ucHVzaChuWzBdKSxzPXV9cmV0dXJuIG59O3ZhciBHYyxLYyxRYyxubCx0bCxlbD1bXSxybD1bXTtPci5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe2Zvcih2YXIgbix0PXRoaXMuZWRnZXMsZT10Lmxlbmd0aDtlLS07KW49dFtlXS5lZGdlLG4uYiYmbi5hfHx0LnNwbGljZShlLDEpO3JldHVybiB0LnNvcnQoWXIpLHQubGVuZ3RofSxRci5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZS5sPT09dGhpcy5zaXRlP3RoaXMuZWRnZS5hOnRoaXMuZWRnZS5ifSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlLmw9PT10aGlzLnNpdGU/dGhpcy5lZGdlLmI6dGhpcy5lZGdlLmF9fSxudS5wcm90b3R5cGU9e2luc2VydDpmdW5jdGlvbihuLHQpe3ZhciBlLHIsdTtpZihuKXtpZih0LlA9bix0Lk49bi5OLG4uTiYmKG4uTi5QPXQpLG4uTj10LG4uUil7Zm9yKG49bi5SO24uTDspbj1uLkw7bi5MPXR9ZWxzZSBuLlI9dDtlPW59ZWxzZSB0aGlzLl8/KG49dXUodGhpcy5fKSx0LlA9bnVsbCx0Lk49bixuLlA9bi5MPXQsZT1uKToodC5QPXQuTj1udWxsLHRoaXMuXz10LGU9bnVsbCk7Zm9yKHQuTD10LlI9bnVsbCx0LlU9ZSx0LkM9ITAsbj10O2UmJmUuQzspcj1lLlUsZT09PXIuTD8odT1yLlIsdSYmdS5DPyhlLkM9dS5DPSExLHIuQz0hMCxuPXIpOihuPT09ZS5SJiYoZXUodGhpcyxlKSxuPWUsZT1uLlUpLGUuQz0hMSxyLkM9ITAscnUodGhpcyxyKSkpOih1PXIuTCx1JiZ1LkM/KGUuQz11LkM9ITEsci5DPSEwLG49cik6KG49PT1lLkwmJihydSh0aGlzLGUpLG49ZSxlPW4uVSksZS5DPSExLHIuQz0hMCxldSh0aGlzLHIpKSksZT1uLlU7dGhpcy5fLkM9ITF9LHJlbW92ZTpmdW5jdGlvbihuKXtuLk4mJihuLk4uUD1uLlApLG4uUCYmKG4uUC5OPW4uTiksbi5OPW4uUD1udWxsO3ZhciB0LGUscix1PW4uVSxpPW4uTCxvPW4uUjtpZihlPWk/bz91dShvKTppOm8sdT91Lkw9PT1uP3UuTD1lOnUuUj1lOnRoaXMuXz1lLGkmJm8/KHI9ZS5DLGUuQz1uLkMsZS5MPWksaS5VPWUsZSE9PW8/KHU9ZS5VLGUuVT1uLlUsbj1lLlIsdS5MPW4sZS5SPW8sby5VPWUpOihlLlU9dSx1PWUsbj1lLlIpKToocj1uLkMsbj1lKSxuJiYobi5VPXUpLCFyKXtpZihuJiZuLkMpcmV0dXJuIHZvaWQobi5DPSExKTtkb3tpZihuPT09dGhpcy5fKWJyZWFrO2lmKG49PT11Lkwpe2lmKHQ9dS5SLHQuQyYmKHQuQz0hMSx1LkM9ITAsZXUodGhpcyx1KSx0PXUuUiksdC5MJiZ0LkwuQ3x8dC5SJiZ0LlIuQyl7dC5SJiZ0LlIuQ3x8KHQuTC5DPSExLHQuQz0hMCxydSh0aGlzLHQpLHQ9dS5SKSx0LkM9dS5DLHUuQz10LlIuQz0hMSxldSh0aGlzLHUpLG49dGhpcy5fO2JyZWFrfX1lbHNlIGlmKHQ9dS5MLHQuQyYmKHQuQz0hMSx1LkM9ITAscnUodGhpcyx1KSx0PXUuTCksdC5MJiZ0LkwuQ3x8dC5SJiZ0LlIuQyl7dC5MJiZ0LkwuQ3x8KHQuUi5DPSExLHQuQz0hMCxldSh0aGlzLHQpLHQ9dS5MKSx0LkM9dS5DLHUuQz10LkwuQz0hMSxydSh0aGlzLHUpLG49dGhpcy5fO2JyZWFrfXQuQz0hMCxuPXUsdT11LlV9d2hpbGUoIW4uQyk7biYmKG4uQz0hMSl9fX0sdGEuZ2VvbS52b3Jvbm9pPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7dmFyIHQ9bmV3IEFycmF5KG4ubGVuZ3RoKSxyPWFbMF1bMF0sdT1hWzBdWzFdLGk9YVsxXVswXSxvPWFbMV1bMV07cmV0dXJuIGl1KGUobiksYSkuY2VsbHMuZm9yRWFjaChmdW5jdGlvbihlLGEpe3ZhciBjPWUuZWRnZXMsbD1lLnNpdGUscz10W2FdPWMubGVuZ3RoP2MubWFwKGZ1bmN0aW9uKG4pe3ZhciB0PW4uc3RhcnQoKTtyZXR1cm5bdC54LHQueV19KTpsLng+PXImJmwueDw9aSYmbC55Pj11JiZsLnk8PW8/W1tyLG9dLFtpLG9dLFtpLHVdLFtyLHVdXTpbXTtzLnBvaW50PW5bYV19KSx0fWZ1bmN0aW9uIGUobil7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKG4sdCl7cmV0dXJue3g6TWF0aC5yb3VuZChpKG4sdCkvQ2EpKkNhLHk6TWF0aC5yb3VuZChvKG4sdCkvQ2EpKkNhLGk6dH19KX12YXIgcj1Bcix1PU5yLGk9cixvPXUsYT11bDtyZXR1cm4gbj90KG4pOih0LmxpbmtzPWZ1bmN0aW9uKG4pe3JldHVybiBpdShlKG4pKS5lZGdlcy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4ubCYmbi5yfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybntzb3VyY2U6blt0LmwuaV0sdGFyZ2V0Om5bdC5yLmldfX0pfSx0LnRyaWFuZ2xlcz1mdW5jdGlvbihuKXt2YXIgdD1bXTtyZXR1cm4gaXUoZShuKSkuY2VsbHMuZm9yRWFjaChmdW5jdGlvbihlLHIpe2Zvcih2YXIgdSxpLG89ZS5zaXRlLGE9ZS5lZGdlcy5zb3J0KFlyKSxjPS0xLGw9YS5sZW5ndGgscz1hW2wtMV0uZWRnZSxmPXMubD09PW8/cy5yOnMubDsrK2M8bDspdT1zLGk9ZixzPWFbY10uZWRnZSxmPXMubD09PW8/cy5yOnMubCxyPGkuaSYmcjxmLmkmJmF1KG8saSxmKTwwJiZ0LnB1c2goW25bcl0sbltpLmldLG5bZi5pXV0pfSksdH0sdC54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPUV0KHI9biksdCk6cn0sdC55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPUV0KHU9biksdCk6dX0sdC5jbGlwRXh0ZW50PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPW51bGw9PW4/dWw6bix0KTphPT09dWw/bnVsbDphfSx0LnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dC5jbGlwRXh0ZW50KG4mJltbMCwwXSxuXSk6YT09PXVsP251bGw6YSYmYVsxXX0sdCl9O3ZhciB1bD1bWy0xZTYsLTFlNl0sWzFlNiwxZTZdXTt0YS5nZW9tLmRlbGF1bmF5PWZ1bmN0aW9uKG4pe3JldHVybiB0YS5nZW9tLnZvcm9ub2koKS50cmlhbmdsZXMobil9LHRhLmdlb20ucXVhZHRyZWU9ZnVuY3Rpb24obix0LGUscix1KXtmdW5jdGlvbiBpKG4pe2Z1bmN0aW9uIGkobix0LGUscix1LGksbyxhKXtpZighaXNOYU4oZSkmJiFpc05hTihyKSlpZihuLmxlYWYpe3ZhciBjPW4ueCxzPW4ueTtpZihudWxsIT1jKWlmKGdhKGMtZSkrZ2Eocy1yKTwuMDEpbChuLHQsZSxyLHUsaSxvLGEpO2Vsc2V7dmFyIGY9bi5wb2ludDtuLng9bi55PW4ucG9pbnQ9bnVsbCxsKG4sZixjLHMsdSxpLG8sYSksbChuLHQsZSxyLHUsaSxvLGEpfWVsc2Ugbi54PWUsbi55PXIsbi5wb2ludD10fWVsc2UgbChuLHQsZSxyLHUsaSxvLGEpfWZ1bmN0aW9uIGwobix0LGUscix1LG8sYSxjKXt2YXIgbD0uNSoodSthKSxzPS41KihvK2MpLGY9ZT49bCxoPXI+PXMsZz1oPDwxfGY7bi5sZWFmPSExLG49bi5ub2Rlc1tnXXx8KG4ubm9kZXNbZ109c3UoKSksZj91PWw6YT1sLGg/bz1zOmM9cyxpKG4sdCxlLHIsdSxvLGEsYyl9dmFyIHMsZixoLGcscCx2LGQsbSx5LE09RXQoYSkseD1FdChjKTtpZihudWxsIT10KXY9dCxkPWUsbT1yLHk9dTtlbHNlIGlmKG09eT0tKHY9ZD0xLzApLGY9W10saD1bXSxwPW4ubGVuZ3RoLG8pZm9yKGc9MDtwPmc7KytnKXM9bltnXSxzLng8diYmKHY9cy54KSxzLnk8ZCYmKGQ9cy55KSxzLng+bSYmKG09cy54KSxzLnk+eSYmKHk9cy55KSxmLnB1c2gocy54KSxoLnB1c2gocy55KTtlbHNlIGZvcihnPTA7cD5nOysrZyl7dmFyIGI9K00ocz1uW2ddLGcpLF89K3gocyxnKTt2PmImJih2PWIpLGQ+XyYmKGQ9XyksYj5tJiYobT1iKSxfPnkmJih5PV8pLGYucHVzaChiKSxoLnB1c2goXyl9dmFyIHc9bS12LFM9eS1kO3c+Uz95PWQrdzptPXYrUzt2YXIgaz1zdSgpO2lmKGsuYWRkPWZ1bmN0aW9uKG4pe2koayxuLCtNKG4sKytnKSwreChuLGcpLHYsZCxtLHkpfSxrLnZpc2l0PWZ1bmN0aW9uKG4pe2Z1KG4sayx2LGQsbSx5KX0say5maW5kPWZ1bmN0aW9uKG4pe3JldHVybiBodShrLG5bMF0sblsxXSx2LGQsbSx5KX0sZz0tMSxudWxsPT10KXtmb3IoOysrZzxwOylpKGssbltnXSxmW2ddLGhbZ10sdixkLG0seSk7LS1nfWVsc2Ugbi5mb3JFYWNoKGsuYWRkKTtyZXR1cm4gZj1oPW49cz1udWxsLGt9dmFyIG8sYT1BcixjPU5yO3JldHVybihvPWFyZ3VtZW50cy5sZW5ndGgpPyhhPWN1LGM9bHUsMz09PW8mJih1PWUscj10LGU9dD0wKSxpKG4pKTooaS54PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPW4saSk6YX0saS55PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPW4saSk6Y30saS5leHRlbnQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG51bGw9PW4/dD1lPXI9dT1udWxsOih0PStuWzBdWzBdLGU9K25bMF1bMV0scj0rblsxXVswXSx1PStuWzFdWzFdKSxpKTpudWxsPT10P251bGw6W1t0LGVdLFtyLHVdXX0saS5zaXplPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhudWxsPT1uP3Q9ZT1yPXU9bnVsbDoodD1lPTAscj0rblswXSx1PStuWzFdKSxpKTpudWxsPT10P251bGw6W3ItdCx1LWVdfSxpKX0sdGEuaW50ZXJwb2xhdGVSZ2I9Z3UsdGEuaW50ZXJwb2xhdGVPYmplY3Q9cHUsdGEuaW50ZXJwb2xhdGVOdW1iZXI9dnUsdGEuaW50ZXJwb2xhdGVTdHJpbmc9ZHU7dmFyIGlsPS9bLStdPyg/OlxcZCtcXC4/XFxkKnxcXC4/XFxkKykoPzpbZUVdWy0rXT9cXGQrKT8vZyxvbD1uZXcgUmVnRXhwKGlsLnNvdXJjZSxcImdcIik7dGEuaW50ZXJwb2xhdGU9bXUsdGEuaW50ZXJwb2xhdG9ycz1bZnVuY3Rpb24obix0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm4oXCJzdHJpbmdcIj09PWU/R2EuaGFzKHQpfHwvXigjfHJnYlxcKHxoc2xcXCgpLy50ZXN0KHQpP2d1OmR1OnQgaW5zdGFuY2VvZiBvdD9ndTpBcnJheS5pc0FycmF5KHQpP3l1Olwib2JqZWN0XCI9PT1lJiZpc05hTih0KT9wdTp2dSkobix0KX1dLHRhLmludGVycG9sYXRlQXJyYXk9eXU7dmFyIGFsPWZ1bmN0aW9uKCl7cmV0dXJuIHl9LGNsPXRhLm1hcCh7bGluZWFyOmFsLHBvbHk6a3UscXVhZDpmdW5jdGlvbigpe3JldHVybiBfdX0sY3ViaWM6ZnVuY3Rpb24oKXtyZXR1cm4gd3V9LHNpbjpmdW5jdGlvbigpe3JldHVybiBFdX0sZXhwOmZ1bmN0aW9uKCl7cmV0dXJuIEF1fSxjaXJjbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTnV9LGVsYXN0aWM6Q3UsYmFjazp6dSxib3VuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gcXV9fSksbGw9dGEubWFwKHtcImluXCI6eSxvdXQ6eHUsXCJpbi1vdXRcIjpidSxcIm91dC1pblwiOmZ1bmN0aW9uKG4pe3JldHVybiBidSh4dShuKSl9fSk7dGEuZWFzZT1mdW5jdGlvbihuKXt2YXIgdD1uLmluZGV4T2YoXCItXCIpLGU9dD49MD9uLnNsaWNlKDAsdCk6bixyPXQ+PTA/bi5zbGljZSh0KzEpOlwiaW5cIjtyZXR1cm4gZT1jbC5nZXQoZSl8fGFsLHI9bGwuZ2V0KHIpfHx5LE11KHIoZS5hcHBseShudWxsLGVhLmNhbGwoYXJndW1lbnRzLDEpKSkpfSx0YS5pbnRlcnBvbGF0ZUhjbD1MdSx0YS5pbnRlcnBvbGF0ZUhzbD1UdSx0YS5pbnRlcnBvbGF0ZUxhYj1SdSx0YS5pbnRlcnBvbGF0ZVJvdW5kPUR1LHRhLnRyYW5zZm9ybT1mdW5jdGlvbihuKXt2YXIgdD11YS5jcmVhdGVFbGVtZW50TlModGEubnMucHJlZml4LnN2ZyxcImdcIik7cmV0dXJuKHRhLnRyYW5zZm9ybT1mdW5jdGlvbihuKXtpZihudWxsIT1uKXt0LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLG4pO3ZhciBlPXQudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKX1yZXR1cm4gbmV3IFB1KGU/ZS5tYXRyaXg6c2wpfSkobil9LFB1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwidHJhbnNsYXRlKFwiK3RoaXMudHJhbnNsYXRlK1wiKXJvdGF0ZShcIit0aGlzLnJvdGF0ZStcIilza2V3WChcIit0aGlzLnNrZXcrXCIpc2NhbGUoXCIrdGhpcy5zY2FsZStcIilcIn07dmFyIHNsPXthOjEsYjowLGM6MCxkOjEsZTowLGY6MH07dGEuaW50ZXJwb2xhdGVUcmFuc2Zvcm09SHUsdGEubGF5b3V0PXt9LHRhLmxheW91dC5idW5kbGU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciB0PVtdLGU9LTEscj1uLmxlbmd0aDsrK2U8cjspdC5wdXNoKFl1KG5bZV0pKTtyZXR1cm4gdH19LHRhLmxheW91dC5jaG9yZD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXt2YXIgbixsLGYsaCxnLHA9e30sdj1bXSxkPXRhLnJhbmdlKGkpLG09W107Zm9yKGU9W10scj1bXSxuPTAsaD0tMTsrK2g8aTspe2ZvcihsPTAsZz0tMTsrK2c8aTspbCs9dVtoXVtnXTt2LnB1c2gobCksbS5wdXNoKHRhLnJhbmdlKGkpKSxuKz1sfWZvcihvJiZkLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbyh2W25dLHZbdF0pfSksYSYmbS5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7bi5zb3J0KGZ1bmN0aW9uKG4sZSl7cmV0dXJuIGEodVt0XVtuXSx1W3RdW2VdKX0pfSksbj0oTGEtcyppKS9uLGw9MCxoPS0xOysraDxpOyl7Zm9yKGY9bCxnPS0xOysrZzxpOyl7dmFyIHk9ZFtoXSxNPW1beV1bZ10seD11W3ldW01dLGI9bCxfPWwrPXgqbjtwW3krXCItXCIrTV09e2luZGV4Onksc3ViaW5kZXg6TSxzdGFydEFuZ2xlOmIsZW5kQW5nbGU6Xyx2YWx1ZTp4fX1yW3ldPXtpbmRleDp5LHN0YXJ0QW5nbGU6ZixlbmRBbmdsZTpsLHZhbHVlOihsLWYpL259LGwrPXN9Zm9yKGg9LTE7KytoPGk7KWZvcihnPWgtMTsrK2c8aTspe3ZhciB3PXBbaCtcIi1cIitnXSxTPXBbZytcIi1cIitoXTsody52YWx1ZXx8Uy52YWx1ZSkmJmUucHVzaCh3LnZhbHVlPFMudmFsdWU/e3NvdXJjZTpTLHRhcmdldDp3fTp7c291cmNlOncsdGFyZ2V0OlN9KX1jJiZ0KCl9ZnVuY3Rpb24gdCgpe2Uuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBjKChuLnNvdXJjZS52YWx1ZStuLnRhcmdldC52YWx1ZSkvMiwodC5zb3VyY2UudmFsdWUrdC50YXJnZXQudmFsdWUpLzIpfSl9dmFyIGUscix1LGksbyxhLGMsbD17fSxzPTA7cmV0dXJuIGwubWF0cml4PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhpPSh1PW4pJiZ1Lmxlbmd0aCxlPXI9bnVsbCxsKTp1fSxsLnBhZGRpbmc9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHM9bixlPXI9bnVsbCxsKTpzfSxsLnNvcnRHcm91cHM9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89bixlPXI9bnVsbCxsKTpvfSxsLnNvcnRTdWJncm91cHM9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9bixlPW51bGwsbCk6YX0sbC5zb3J0Q2hvcmRzPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPW4sZSYmdCgpLGwpOmN9LGwuY2hvcmRzPWZ1bmN0aW9uKCl7cmV0dXJuIGV8fG4oKSxlfSxsLmdyb3Vwcz1mdW5jdGlvbigpe3JldHVybiByfHxuKCkscn0sbH0sdGEubGF5b3V0LmZvcmNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gZnVuY3Rpb24odCxlLHIsdSl7aWYodC5wb2ludCE9PW4pe3ZhciBpPXQuY3gtbi54LG89dC5jeS1uLnksYT11LWUsYz1pKmkrbypvO2lmKGM+YSphL2Qpe2lmKHA+Yyl7dmFyIGw9dC5jaGFyZ2UvYztuLnB4LT1pKmwsbi5weS09bypsfXJldHVybiEwfWlmKHQucG9pbnQmJmMmJnA+Yyl7dmFyIGw9dC5wb2ludENoYXJnZS9jO24ucHgtPWkqbCxuLnB5LT1vKmx9fXJldHVybiF0LmNoYXJnZX19ZnVuY3Rpb24gdChuKXtuLnB4PXRhLmV2ZW50Lngsbi5weT10YS5ldmVudC55LGEucmVzdW1lKCl9dmFyIGUscix1LGksbyxhPXt9LGM9dGEuZGlzcGF0Y2goXCJzdGFydFwiLFwidGlja1wiLFwiZW5kXCIpLGw9WzEsMV0scz0uOSxmPWZsLGg9aGwsZz0tMzAscD1nbCx2PS4xLGQ9LjY0LG09W10sTT1bXTtyZXR1cm4gYS50aWNrPWZ1bmN0aW9uKCl7aWYoKHIqPS45OSk8LjAwNSlyZXR1cm4gYy5lbmQoe3R5cGU6XCJlbmRcIixhbHBoYTpyPTB9KSwhMDt2YXIgdCxlLGEsZixoLHAsZCx5LHgsYj1tLmxlbmd0aCxfPU0ubGVuZ3RoO2ZvcihlPTA7Xz5lOysrZSlhPU1bZV0sZj1hLnNvdXJjZSxoPWEudGFyZ2V0LHk9aC54LWYueCx4PWgueS1mLnksKHA9eSp5K3gqeCkmJihwPXIqaVtlXSooKHA9TWF0aC5zcXJ0KHApKS11W2VdKS9wLHkqPXAseCo9cCxoLngtPXkqKGQ9Zi53ZWlnaHQvKGgud2VpZ2h0K2Yud2VpZ2h0KSksaC55LT14KmQsZi54Kz15KihkPTEtZCksZi55Kz14KmQpO2lmKChkPXIqdikmJih5PWxbMF0vMix4PWxbMV0vMixlPS0xLGQpKWZvcig7KytlPGI7KWE9bVtlXSxhLngrPSh5LWEueCkqZCxhLnkrPSh4LWEueSkqZDtpZihnKWZvcihKdSh0PXRhLmdlb20ucXVhZHRyZWUobSkscixvKSxlPS0xOysrZTxiOykoYT1tW2VdKS5maXhlZHx8dC52aXNpdChuKGEpKTtmb3IoZT0tMTsrK2U8YjspYT1tW2VdLGEuZml4ZWQ/KGEueD1hLnB4LGEueT1hLnB5KTooYS54LT0oYS5weC0oYS5weD1hLngpKSpzLGEueS09KGEucHktKGEucHk9YS55KSkqcyk7Yy50aWNrKHt0eXBlOlwidGlja1wiLGFscGhhOnJ9KX0sYS5ub2Rlcz1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obT1uLGEpOm19LGEubGlua3M9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KE09bixhKTpNfSxhLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9bixhKTpsfSxhLmxpbmtEaXN0YW5jZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246K24sYSk6Zn0sYS5kaXN0YW5jZT1hLmxpbmtEaXN0YW5jZSxhLmxpbmtTdHJlbmd0aD1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246K24sYSk6aH0sYS5mcmljdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocz0rbixhKTpzfSxhLmNoYXJnZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246K24sYSk6Z30sYS5jaGFyZ2VEaXN0YW5jZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1uKm4sYSk6TWF0aC5zcXJ0KHApfSxhLmdyYXZpdHk9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHY9K24sYSk6dn0sYS50aGV0YT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD1uKm4sYSk6TWF0aC5zcXJ0KGQpfSxhLmFscGhhPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPStuLHI/cj1uPjA/bjowOm4+MCYmKGMuc3RhcnQoe3R5cGU6XCJzdGFydFwiLGFscGhhOnI9bn0pLHRhLnRpbWVyKGEudGljaykpLGEpOnJ9LGEuc3RhcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7aWYoIWUpe2ZvcihlPW5ldyBBcnJheShjKSxhPTA7Yz5hOysrYSllW2FdPVtdO2ZvcihhPTA7cz5hOysrYSl7dmFyIHU9TVthXTtlW3Uuc291cmNlLmluZGV4XS5wdXNoKHUudGFyZ2V0KSxlW3UudGFyZ2V0LmluZGV4XS5wdXNoKHUuc291cmNlKX19Zm9yKHZhciBpLG89ZVt0XSxhPS0xLGw9by5sZW5ndGg7KythPGw7KWlmKCFpc05hTihpPW9bYV1bbl0pKXJldHVybiBpO3JldHVybiBNYXRoLnJhbmRvbSgpKnJ9dmFyIHQsZSxyLGM9bS5sZW5ndGgscz1NLmxlbmd0aCxwPWxbMF0sdj1sWzFdO2Zvcih0PTA7Yz50OysrdCkocj1tW3RdKS5pbmRleD10LHIud2VpZ2h0PTA7Zm9yKHQ9MDtzPnQ7Kyt0KXI9TVt0XSxcIm51bWJlclwiPT10eXBlb2Ygci5zb3VyY2UmJihyLnNvdXJjZT1tW3Iuc291cmNlXSksXCJudW1iZXJcIj09dHlwZW9mIHIudGFyZ2V0JiYoci50YXJnZXQ9bVtyLnRhcmdldF0pLCsrci5zb3VyY2Uud2VpZ2h0LCsrci50YXJnZXQud2VpZ2h0O2Zvcih0PTA7Yz50OysrdClyPW1bdF0saXNOYU4oci54KSYmKHIueD1uKFwieFwiLHApKSxpc05hTihyLnkpJiYoci55PW4oXCJ5XCIsdikpLGlzTmFOKHIucHgpJiYoci5weD1yLngpLGlzTmFOKHIucHkpJiYoci5weT1yLnkpO2lmKHU9W10sXCJmdW5jdGlvblwiPT10eXBlb2YgZilmb3IodD0wO3M+dDsrK3QpdVt0XT0rZi5jYWxsKHRoaXMsTVt0XSx0KTtlbHNlIGZvcih0PTA7cz50OysrdCl1W3RdPWY7aWYoaT1bXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBoKWZvcih0PTA7cz50OysrdClpW3RdPStoLmNhbGwodGhpcyxNW3RdLHQpO2Vsc2UgZm9yKHQ9MDtzPnQ7Kyt0KWlbdF09aDtpZihvPVtdLFwiZnVuY3Rpb25cIj09dHlwZW9mIGcpZm9yKHQ9MDtjPnQ7Kyt0KW9bdF09K2cuY2FsbCh0aGlzLG1bdF0sdCk7ZWxzZSBmb3IodD0wO2M+dDsrK3Qpb1t0XT1nO3JldHVybiBhLnJlc3VtZSgpfSxhLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiBhLmFscGhhKC4xKX0sYS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYWxwaGEoMCl9LGEuZHJhZz1mdW5jdGlvbigpe3JldHVybiBlfHwoZT10YS5iZWhhdmlvci5kcmFnKCkub3JpZ2luKHkpLm9uKFwiZHJhZ3N0YXJ0LmZvcmNlXCIsWHUpLm9uKFwiZHJhZy5mb3JjZVwiLHQpLm9uKFwiZHJhZ2VuZC5mb3JjZVwiLCR1KSksYXJndW1lbnRzLmxlbmd0aD92b2lkIHRoaXMub24oXCJtb3VzZW92ZXIuZm9yY2VcIixCdSkub24oXCJtb3VzZW91dC5mb3JjZVwiLFd1KS5jYWxsKGUpOmV9LHRhLnJlYmluZChhLGMsXCJvblwiKX07dmFyIGZsPTIwLGhsPTEsZ2w9MS8wO3RhLmxheW91dC5oaWVyYXJjaHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHUpe3ZhciBpLG89W3VdLGE9W107Zm9yKHUuZGVwdGg9MDtudWxsIT0oaT1vLnBvcCgpKTspaWYoYS5wdXNoKGkpLChsPWUuY2FsbChuLGksaS5kZXB0aCkpJiYoYz1sLmxlbmd0aCkpe2Zvcih2YXIgYyxsLHM7LS1jPj0wOylvLnB1c2gocz1sW2NdKSxzLnBhcmVudD1pLHMuZGVwdGg9aS5kZXB0aCsxO3ImJihpLnZhbHVlPTApLGkuY2hpbGRyZW49bH1lbHNlIHImJihpLnZhbHVlPStyLmNhbGwobixpLGkuZGVwdGgpfHwwKSxkZWxldGUgaS5jaGlsZHJlbjtyZXR1cm4gUXUodSxmdW5jdGlvbihuKXt2YXIgZSx1O3QmJihlPW4uY2hpbGRyZW4pJiZlLnNvcnQodCksciYmKHU9bi5wYXJlbnQpJiYodS52YWx1ZSs9bi52YWx1ZSl9KSxhfXZhciB0PWVpLGU9bmkscj10aTtyZXR1cm4gbi5zb3J0PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWUsbik6dH0sbi5jaGlsZHJlbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT10LG4pOmV9LG4udmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCxuKTpyfSxuLnJldmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHImJihLdSh0LGZ1bmN0aW9uKG4pe24uY2hpbGRyZW4mJihuLnZhbHVlPTApfSksUXUodCxmdW5jdGlvbih0KXt2YXIgZTt0LmNoaWxkcmVufHwodC52YWx1ZT0rci5jYWxsKG4sdCx0LmRlcHRoKXx8MCksKGU9dC5wYXJlbnQpJiYoZS52YWx1ZSs9dC52YWx1ZSl9KSksdH0sbn0sdGEubGF5b3V0LnBhcnRpdGlvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxlLHIsdSl7dmFyIGk9dC5jaGlsZHJlbjtpZih0Lng9ZSx0Lnk9dC5kZXB0aCp1LHQuZHg9cix0LmR5PXUsaSYmKG89aS5sZW5ndGgpKXt2YXIgbyxhLGMsbD0tMTtmb3Iocj10LnZhbHVlP3IvdC52YWx1ZTowOysrbDxvOyluKGE9aVtsXSxlLGM9YS52YWx1ZSpyLHUpLGUrPWN9fWZ1bmN0aW9uIHQobil7dmFyIGU9bi5jaGlsZHJlbixyPTA7aWYoZSYmKHU9ZS5sZW5ndGgpKWZvcih2YXIgdSxpPS0xOysraTx1OylyPU1hdGgubWF4KHIsdChlW2ldKSk7cmV0dXJuIDErcn1mdW5jdGlvbiBlKGUsaSl7dmFyIG89ci5jYWxsKHRoaXMsZSxpKTtyZXR1cm4gbihvWzBdLDAsdVswXSx1WzFdL3Qob1swXSkpLG99dmFyIHI9dGEubGF5b3V0LmhpZXJhcmNoeSgpLHU9WzEsMV07cmV0dXJuIGUuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1uLGUpOnV9LEd1KGUscil9LHRhLmxheW91dC5waWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG8pe3ZhciBhLGM9by5sZW5ndGgsbD1vLm1hcChmdW5jdGlvbihlLHIpe3JldHVybit0LmNhbGwobixlLHIpfSkscz0rKFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ciksZj0oXCJmdW5jdGlvblwiPT10eXBlb2YgdT91LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp1KS1zLGg9TWF0aC5taW4oTWF0aC5hYnMoZikvYywrKFwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6aSkpLGc9aCooMD5mPy0xOjEpLHA9KGYtYypnKS90YS5zdW0obCksdj10YS5yYW5nZShjKSxkPVtdO3JldHVybiBudWxsIT1lJiZ2LnNvcnQoZT09PXBsP2Z1bmN0aW9uKG4sdCl7cmV0dXJuIGxbdF0tbFtuXX06ZnVuY3Rpb24obix0KXtyZXR1cm4gZShvW25dLG9bdF0pfSksdi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Rbbl09e2RhdGE6b1tuXSx2YWx1ZTphPWxbbl0sc3RhcnRBbmdsZTpzLGVuZEFuZ2xlOnMrPWEqcCtnLHBhZEFuZ2xlOmh9fSksZH12YXIgdD1OdW1iZXIsZT1wbCxyPTAsdT1MYSxpPTA7cmV0dXJuIG4udmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ZSxuKTp0fSxuLnNvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnN0YXJ0QW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCxuKTpyfSxuLmVuZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsbik6dX0sbi5wYWRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT10LG4pOml9LG59O3ZhciBwbD17fTt0YS5sYXlvdXQuc3RhY2s9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKGEsYyl7aWYoIShoPWEubGVuZ3RoKSlyZXR1cm4gYTt2YXIgbD1hLm1hcChmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwobixlLHIpfSkscz1sLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm5baS5jYWxsKG4sdCxlKSxvLmNhbGwobix0LGUpXX0pfSksZj1lLmNhbGwobixzLGMpO2w9dGEucGVybXV0ZShsLGYpLHM9dGEucGVybXV0ZShzLGYpO3ZhciBoLGcscCx2LGQ9ci5jYWxsKG4scyxjKSxtPWxbMF0ubGVuZ3RoO2ZvcihwPTA7bT5wOysrcClmb3IodS5jYWxsKG4sbFswXVtwXSx2PWRbcF0sc1swXVtwXVsxXSksZz0xO2g+ZzsrK2cpdS5jYWxsKG4sbFtnXVtwXSx2Kz1zW2ctMV1bcF1bMV0sc1tnXVtwXVsxXSk7cmV0dXJuIGF9dmFyIHQ9eSxlPWFpLHI9Y2ksdT1vaSxpPXVpLG89aWk7cmV0dXJuIG4udmFsdWVzPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWUsbik6dH0sbi5vcmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6dmwuZ2V0KHQpfHxhaSxuKTplfSxuLm9mZnNldD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZGwuZ2V0KHQpfHxjaSxuKTpyfSxuLng9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9dCxuKTppfSxuLnk9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89dCxuKTpvfSxuLm91dD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT10LG4pOnV9LG59O3ZhciB2bD10YS5tYXAoe1wiaW5zaWRlLW91dFwiOmZ1bmN0aW9uKG4pe3ZhciB0LGUscj1uLmxlbmd0aCx1PW4ubWFwKGxpKSxpPW4ubWFwKHNpKSxvPXRhLnJhbmdlKHIpLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gdVtuXS11W3RdfSksYT0wLGM9MCxsPVtdLHM9W107Zm9yKHQ9MDtyPnQ7Kyt0KWU9b1t0XSxjPmE/KGErPWlbZV0sbC5wdXNoKGUpKTooYys9aVtlXSxzLnB1c2goZSkpO3JldHVybiBzLnJldmVyc2UoKS5jb25jYXQobCl9LHJldmVyc2U6ZnVuY3Rpb24obil7cmV0dXJuIHRhLnJhbmdlKG4ubGVuZ3RoKS5yZXZlcnNlKCl9LFwiZGVmYXVsdFwiOmFpfSksZGw9dGEubWFwKHtzaWxob3VldHRlOmZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PW4ubGVuZ3RoLGk9blswXS5sZW5ndGgsbz1bXSxhPTAsYz1bXTtmb3IoZT0wO2k+ZTsrK2Upe2Zvcih0PTAscj0wO3U+dDt0Kyspcis9blt0XVtlXVsxXTtyPmEmJihhPXIpLG8ucHVzaChyKX1mb3IoZT0wO2k+ZTsrK2UpY1tlXT0oYS1vW2VdKS8yO3JldHVybiBjfSx3aWdnbGU6ZnVuY3Rpb24obil7dmFyIHQsZSxyLHUsaSxvLGEsYyxsLHM9bi5sZW5ndGgsZj1uWzBdLGg9Zi5sZW5ndGgsZz1bXTtmb3IoZ1swXT1jPWw9MCxlPTE7aD5lOysrZSl7Zm9yKHQ9MCx1PTA7cz50OysrdCl1Kz1uW3RdW2VdWzFdO2Zvcih0PTAsaT0wLGE9ZltlXVswXS1mW2UtMV1bMF07cz50OysrdCl7Zm9yKHI9MCxvPShuW3RdW2VdWzFdLW5bdF1bZS0xXVsxXSkvKDIqYSk7dD5yOysrcilvKz0obltyXVtlXVsxXS1uW3JdW2UtMV1bMV0pL2E7aSs9bypuW3RdW2VdWzFdfWdbZV09Yy09dT9pL3UqYTowLGw+YyYmKGw9Yyl9Zm9yKGU9MDtoPmU7KytlKWdbZV0tPWw7cmV0dXJuIGd9LGV4cGFuZDpmdW5jdGlvbihuKXt2YXIgdCxlLHIsdT1uLmxlbmd0aCxpPW5bMF0ubGVuZ3RoLG89MS91LGE9W107Zm9yKGU9MDtpPmU7KytlKXtmb3IodD0wLHI9MDt1PnQ7dCsrKXIrPW5bdF1bZV1bMV07aWYocilmb3IodD0wO3U+dDt0Kyspblt0XVtlXVsxXS89cjtlbHNlIGZvcih0PTA7dT50O3QrKyluW3RdW2VdWzFdPW99Zm9yKGU9MDtpPmU7KytlKWFbZV09MDtyZXR1cm4gYX0semVybzpjaX0pO3RhLmxheW91dC5oaXN0b2dyYW09ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4saSl7Zm9yKHZhciBvLGEsYz1bXSxsPW4ubWFwKGUsdGhpcykscz1yLmNhbGwodGhpcyxsLGkpLGY9dS5jYWxsKHRoaXMscyxsLGkpLGk9LTEsaD1sLmxlbmd0aCxnPWYubGVuZ3RoLTEscD10PzE6MS9oOysraTxnOylvPWNbaV09W10sby5keD1mW2krMV0tKG8ueD1mW2ldKSxvLnk9MDtpZihnPjApZm9yKGk9LTE7KytpPGg7KWE9bFtpXSxhPj1zWzBdJiZhPD1zWzFdJiYobz1jW3RhLmJpc2VjdChmLGEsMSxnKS0xXSxvLnkrPXAsby5wdXNoKG5baV0pKTtyZXR1cm4gY312YXIgdD0hMCxlPU51bWJlcixyPXBpLHU9aGk7cmV0dXJuIG4udmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dCxuKTplfSxuLnJhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPUV0KHQpLG4pOnJ9LG4uYmlucz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1cIm51bWJlclwiPT10eXBlb2YgdD9mdW5jdGlvbihuKXtyZXR1cm4gZ2kobix0KX06RXQodCksbik6dX0sbi5mcmVxdWVuY3k9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ISFlLG4pOnR9LG59LHRhLmxheW91dC5wYWNrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLGkpe3ZhciBvPWUuY2FsbCh0aGlzLG4saSksYT1vWzBdLGM9dVswXSxsPXVbMV0scz1udWxsPT10P01hdGguc3FydDpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdH07aWYoYS54PWEueT0wLFF1KGEsZnVuY3Rpb24obil7bi5yPStzKG4udmFsdWUpfSksUXUoYSxNaSkscil7dmFyIGY9cioodD8xOk1hdGgubWF4KDIqYS5yL2MsMiphLnIvbCkpLzI7UXUoYSxmdW5jdGlvbihuKXtuLnIrPWZ9KSxRdShhLE1pKSxRdShhLGZ1bmN0aW9uKG4pe24uci09Zn0pfXJldHVybiBfaShhLGMvMixsLzIsdD8xOjEvTWF0aC5tYXgoMiphLnIvYywyKmEuci9sKSksb312YXIgdCxlPXRhLmxheW91dC5oaWVyYXJjaHkoKS5zb3J0KHZpKSxyPTAsdT1bMSwxXTtyZXR1cm4gbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PXQsbik6dX0sbi5yYWRpdXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9bnVsbD09ZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOitlLG4pOnR9LG4ucGFkZGluZz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj0rdCxuKTpyfSxHdShuLGUpfSx0YS5sYXlvdXQudHJlZT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix1KXt2YXIgcz1vLmNhbGwodGhpcyxuLHUpLGY9c1swXSxoPXQoZik7aWYoUXUoaCxlKSxoLnBhcmVudC5tPS1oLnosS3UoaCxyKSxsKUt1KGYsaSk7ZWxzZXt2YXIgZz1mLHA9Zix2PWY7S3UoZixmdW5jdGlvbihuKXtuLng8Zy54JiYoZz1uKSxuLng+cC54JiYocD1uKSxuLmRlcHRoPnYuZGVwdGgmJih2PW4pfSk7dmFyIGQ9YShnLHApLzItZy54LG09Y1swXS8ocC54K2EocCxnKS8yK2QpLHk9Y1sxXS8odi5kZXB0aHx8MSk7S3UoZixmdW5jdGlvbihuKXtuLng9KG4ueCtkKSptLG4ueT1uLmRlcHRoKnl9KX1yZXR1cm4gc31mdW5jdGlvbiB0KG4pe2Zvcih2YXIgdCxlPXtBOm51bGwsY2hpbGRyZW46W25dfSxyPVtlXTtudWxsIT0odD1yLnBvcCgpKTspZm9yKHZhciB1LGk9dC5jaGlsZHJlbixvPTAsYT1pLmxlbmd0aDthPm87KytvKXIucHVzaCgoaVtvXT11PXtfOmlbb10scGFyZW50OnQsY2hpbGRyZW46KHU9aVtvXS5jaGlsZHJlbikmJnUuc2xpY2UoKXx8W10sQTpudWxsLGE6bnVsbCx6OjAsbTowLGM6MCxzOjAsdDpudWxsLGk6b30pLmE9dSk7cmV0dXJuIGUuY2hpbGRyZW5bMF19ZnVuY3Rpb24gZShuKXt2YXIgdD1uLmNoaWxkcmVuLGU9bi5wYXJlbnQuY2hpbGRyZW4scj1uLmk/ZVtuLmktMV06bnVsbDtpZih0Lmxlbmd0aCl7Tmkobik7dmFyIGk9KHRbMF0ueit0W3QubGVuZ3RoLTFdLnopLzI7cj8obi56PXIueithKG4uXyxyLl8pLG4ubT1uLnotaSk6bi56PWl9ZWxzZSByJiYobi56PXIueithKG4uXyxyLl8pKTtuLnBhcmVudC5BPXUobixyLG4ucGFyZW50LkF8fGVbMF0pfWZ1bmN0aW9uIHIobil7bi5fLng9bi56K24ucGFyZW50Lm0sbi5tKz1uLnBhcmVudC5tfWZ1bmN0aW9uIHUobix0LGUpe2lmKHQpe2Zvcih2YXIgcix1PW4saT1uLG89dCxjPXUucGFyZW50LmNoaWxkcmVuWzBdLGw9dS5tLHM9aS5tLGY9by5tLGg9Yy5tO289RWkobyksdT1raSh1KSxvJiZ1OyljPWtpKGMpLGk9RWkoaSksaS5hPW4scj1vLnorZi11LnotbCthKG8uXyx1Ll8pLHI+MCYmKEFpKENpKG8sbixlKSxuLHIpLGwrPXIscys9ciksZis9by5tLGwrPXUubSxoKz1jLm0scys9aS5tO28mJiFFaShpKSYmKGkudD1vLGkubSs9Zi1zKSx1JiYha2koYykmJihjLnQ9dSxjLm0rPWwtaCxlPW4pfXJldHVybiBlfWZ1bmN0aW9uIGkobil7bi54Kj1jWzBdLG4ueT1uLmRlcHRoKmNbMV19dmFyIG89dGEubGF5b3V0LmhpZXJhcmNoeSgpLnNvcnQobnVsbCkudmFsdWUobnVsbCksYT1TaSxjPVsxLDFdLGw9bnVsbDtyZXR1cm4gbi5zZXBhcmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPXQsbik6YX0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPW51bGw9PShjPXQpP2k6bnVsbCxuKTpsP251bGw6Y30sbi5ub2RlU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1udWxsPT0oYz10KT9udWxsOmksbik6bD9jOm51bGx9LEd1KG4sbyl9LHRhLmxheW91dC5jbHVzdGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLGkpe3ZhciBvLGE9dC5jYWxsKHRoaXMsbixpKSxjPWFbMF0sbD0wO1F1KGMsZnVuY3Rpb24obil7dmFyIHQ9bi5jaGlsZHJlbjt0JiZ0Lmxlbmd0aD8obi54PXFpKHQpLG4ueT16aSh0KSk6KG4ueD1vP2wrPWUobixvKTowLG4ueT0wLG89bil9KTt2YXIgcz1MaShjKSxmPVRpKGMpLGg9cy54LWUocyxmKS8yLGc9Zi54K2UoZixzKS8yO3JldHVybiBRdShjLHU/ZnVuY3Rpb24obil7bi54PShuLngtYy54KSpyWzBdLG4ueT0oYy55LW4ueSkqclsxXX06ZnVuY3Rpb24obil7bi54PShuLngtaCkvKGctaCkqclswXSxuLnk9KDEtKGMueT9uLnkvYy55OjEpKSpyWzFdfSksYX12YXIgdD10YS5sYXlvdXQuaGllcmFyY2h5KCkuc29ydChudWxsKS52YWx1ZShudWxsKSxlPVNpLHI9WzEsMV0sdT0hMTtyZXR1cm4gbi5zZXBhcmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXQsbik6ZX0sbi5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW51bGw9PShyPXQpLG4pOnU/bnVsbDpyfSxuLm5vZGVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PW51bGwhPShyPXQpLG4pOnU/cjpudWxsfSxHdShuLHQpfSx0YS5sYXlvdXQudHJlZW1hcD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0KXtmb3IodmFyIGUscix1PS0xLGk9bi5sZW5ndGg7Kyt1PGk7KXI9KGU9blt1XSkudmFsdWUqKDA+dD8wOnQpLGUuYXJlYT1pc05hTihyKXx8MD49cj8wOnJ9ZnVuY3Rpb24gdChlKXt2YXIgaT1lLmNoaWxkcmVuO2lmKGkmJmkubGVuZ3RoKXt2YXIgbyxhLGMsbD1mKGUpLHM9W10saD1pLnNsaWNlKCkscD0xLzAsdj1cInNsaWNlXCI9PT1nP2wuZHg6XCJkaWNlXCI9PT1nP2wuZHk6XCJzbGljZS1kaWNlXCI9PT1nPzEmZS5kZXB0aD9sLmR5OmwuZHg6TWF0aC5taW4obC5keCxsLmR5KTtmb3IobihoLGwuZHgqbC5keS9lLnZhbHVlKSxzLmFyZWE9MDsoYz1oLmxlbmd0aCk+MDspcy5wdXNoKG89aFtjLTFdKSxzLmFyZWErPW8uYXJlYSxcInNxdWFyaWZ5XCIhPT1nfHwoYT1yKHMsdikpPD1wPyhoLnBvcCgpLHA9YSk6KHMuYXJlYS09cy5wb3AoKS5hcmVhLHUocyx2LGwsITEpLHY9TWF0aC5taW4obC5keCxsLmR5KSxzLmxlbmd0aD1zLmFyZWE9MCxwPTEvMCk7cy5sZW5ndGgmJih1KHMsdixsLCEwKSxzLmxlbmd0aD1zLmFyZWE9MCksaS5mb3JFYWNoKHQpfX1mdW5jdGlvbiBlKHQpe3ZhciByPXQuY2hpbGRyZW47aWYociYmci5sZW5ndGgpe3ZhciBpLG89Zih0KSxhPXIuc2xpY2UoKSxjPVtdO2ZvcihuKGEsby5keCpvLmR5L3QudmFsdWUpLGMuYXJlYT0wO2k9YS5wb3AoKTspYy5wdXNoKGkpLGMuYXJlYSs9aS5hcmVhLG51bGwhPWkueiYmKHUoYyxpLno/by5keDpvLmR5LG8sIWEubGVuZ3RoKSxjLmxlbmd0aD1jLmFyZWE9MCk7ci5mb3JFYWNoKGUpfX1mdW5jdGlvbiByKG4sdCl7Zm9yKHZhciBlLHI9bi5hcmVhLHU9MCxpPTEvMCxvPS0xLGE9bi5sZW5ndGg7KytvPGE7KShlPW5bb10uYXJlYSkmJihpPmUmJihpPWUpLGU+dSYmKHU9ZSkpO3JldHVybiByKj1yLHQqPXQscj9NYXRoLm1heCh0KnUqcC9yLHIvKHQqaSpwKSk6MS8wfWZ1bmN0aW9uIHUobix0LGUscil7dmFyIHUsaT0tMSxvPW4ubGVuZ3RoLGE9ZS54LGw9ZS55LHM9dD9jKG4uYXJlYS90KTowO2lmKHQ9PWUuZHgpe2Zvcigocnx8cz5lLmR5KSYmKHM9ZS5keSk7KytpPG87KXU9bltpXSx1Lng9YSx1Lnk9bCx1LmR5PXMsYSs9dS5keD1NYXRoLm1pbihlLngrZS5keC1hLHM/Yyh1LmFyZWEvcyk6MCk7dS56PSEwLHUuZHgrPWUueCtlLmR4LWEsZS55Kz1zLGUuZHktPXN9ZWxzZXtmb3IoKHJ8fHM+ZS5keCkmJihzPWUuZHgpOysraTxvOyl1PW5baV0sdS54PWEsdS55PWwsdS5keD1zLGwrPXUuZHk9TWF0aC5taW4oZS55K2UuZHktbCxzP2ModS5hcmVhL3MpOjApO3Uuej0hMSx1LmR5Kz1lLnkrZS5keS1sLGUueCs9cyxlLmR4LT1zfX1mdW5jdGlvbiBpKHIpe3ZhciB1PW98fGEociksaT11WzBdO3JldHVybiBpLng9MCxpLnk9MCxpLmR4PWxbMF0saS5keT1sWzFdLG8mJmEucmV2YWx1ZShpKSxuKFtpXSxpLmR4KmkuZHkvaS52YWx1ZSksKG8/ZTp0KShpKSxoJiYobz11KSx1fXZhciBvLGE9dGEubGF5b3V0LmhpZXJhcmNoeSgpLGM9TWF0aC5yb3VuZCxsPVsxLDFdLHM9bnVsbCxmPVJpLGg9ITEsZz1cInNxdWFyaWZ5XCIscD0uNSooMStNYXRoLnNxcnQoNSkpO1xucmV0dXJuIGkuc2l6ZT1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obD1uLGkpOmx9LGkucGFkZGluZz1mdW5jdGlvbihuKXtmdW5jdGlvbiB0KHQpe3ZhciBlPW4uY2FsbChpLHQsdC5kZXB0aCk7cmV0dXJuIG51bGw9PWU/UmkodCk6RGkodCxcIm51bWJlclwiPT10eXBlb2YgZT9bZSxlLGUsZV06ZSl9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gRGkodCxuKX1pZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gczt2YXIgcjtyZXR1cm4gZj1udWxsPT0ocz1uKT9SaTpcImZ1bmN0aW9uXCI9PShyPXR5cGVvZiBuKT90OlwibnVtYmVyXCI9PT1yPyhuPVtuLG4sbixuXSxlKTplLGl9LGkucm91bmQ9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9bj9NYXRoLnJvdW5kOk51bWJlcixpKTpjIT1OdW1iZXJ9LGkuc3RpY2t5PWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPW4sbz1udWxsLGkpOmh9LGkucmF0aW89ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9bixpKTpwfSxpLm1vZGU9ZnVuY3Rpb24obil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGc9bitcIlwiLGkpOmd9LEd1KGksYSl9LHRhLnJhbmRvbT17bm9ybWFsOmZ1bmN0aW9uKG4sdCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gMj5lJiYodD0xKSwxPmUmJihuPTApLGZ1bmN0aW9uKCl7dmFyIGUscix1O2RvIGU9MipNYXRoLnJhbmRvbSgpLTEscj0yKk1hdGgucmFuZG9tKCktMSx1PWUqZStyKnI7d2hpbGUoIXV8fHU+MSk7cmV0dXJuIG4rdCplKk1hdGguc3FydCgtMipNYXRoLmxvZyh1KS91KX19LGxvZ05vcm1hbDpmdW5jdGlvbigpe3ZhciBuPXRhLnJhbmRvbS5ub3JtYWwuYXBwbHkodGEsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5leHAobigpKX19LGJhdGVzOmZ1bmN0aW9uKG4pe3ZhciB0PXRhLnJhbmRvbS5pcndpbkhhbGwobik7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQoKS9ufX0saXJ3aW5IYWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtuPmU7ZSsrKXQrPU1hdGgucmFuZG9tKCk7cmV0dXJuIHR9fX0sdGEuc2NhbGU9e307dmFyIG1sPXtmbG9vcjp5LGNlaWw6eX07dGEuc2NhbGUubGluZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIElpKFswLDFdLFswLDFdLG11LCExKX07dmFyIHlsPXtzOjEsZzoxLHA6MSxyOjEsZToxfTt0YS5zY2FsZS5sb2c9ZnVuY3Rpb24oKXtyZXR1cm4gSmkodGEuc2NhbGUubGluZWFyKCkuZG9tYWluKFswLDFdKSwxMCwhMCxbMSwxMF0pfTt2YXIgTWw9dGEuZm9ybWF0KFwiLjBlXCIpLHhsPXtmbG9vcjpmdW5jdGlvbihuKXtyZXR1cm4tTWF0aC5jZWlsKC1uKX0sY2VpbDpmdW5jdGlvbihuKXtyZXR1cm4tTWF0aC5mbG9vcigtbil9fTt0YS5zY2FsZS5wb3c9ZnVuY3Rpb24oKXtyZXR1cm4gR2kodGEuc2NhbGUubGluZWFyKCksMSxbMCwxXSl9LHRhLnNjYWxlLnNxcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGEuc2NhbGUucG93KCkuZXhwb25lbnQoLjUpfSx0YS5zY2FsZS5vcmRpbmFsPWZ1bmN0aW9uKCl7cmV0dXJuIFFpKFtdLHt0OlwicmFuZ2VcIixhOltbXV19KX0sdGEuc2NhbGUuY2F0ZWdvcnkxMD1mdW5jdGlvbigpe3JldHVybiB0YS5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoYmwpfSx0YS5zY2FsZS5jYXRlZ29yeTIwPWZ1bmN0aW9uKCl7cmV0dXJuIHRhLnNjYWxlLm9yZGluYWwoKS5yYW5nZShfbCl9LHRhLnNjYWxlLmNhdGVnb3J5MjBiPWZ1bmN0aW9uKCl7cmV0dXJuIHRhLnNjYWxlLm9yZGluYWwoKS5yYW5nZSh3bCl9LHRhLnNjYWxlLmNhdGVnb3J5MjBjPWZ1bmN0aW9uKCl7cmV0dXJuIHRhLnNjYWxlLm9yZGluYWwoKS5yYW5nZShTbCl9O3ZhciBibD1bMjA2MjI2MCwxNjc0NDIwNiwyOTI0NTg4LDE0MDM0NzI4LDk3MjU4ODUsOTE5NzEzMSwxNDkwNzMzMCw4MzU1NzExLDEyMzY5MTg2LDE1NTYxNzVdLm1hcChNdCksX2w9WzIwNjIyNjAsMTE0NTQ0NDAsMTY3NDQyMDYsMTY3NTk2NzIsMjkyNDU4OCwxMDAxODY5OCwxNDAzNDcyOCwxNjc1MDc0Miw5NzI1ODg1LDEyOTU1ODYxLDkxOTcxMzEsMTI4ODUxNDAsMTQ5MDczMzAsMTYyMzQxOTQsODM1NTcxMSwxMzA5MjgwNywxMjM2OTE4NiwxNDQwODU4OSwxNTU2MTc1LDEwNDEwNzI1XS5tYXAoTXQpLHdsPVszNzUwNzc3LDUzOTU2MTksNzA0MDcxOSwxMDI2NDI4Niw2NTE5MDk3LDkyMTY1OTQsMTE5MTUxMTUsMTM1NTY2MzYsOTIwMjk5MywxMjQyNjgwOSwxNTE4NjUxNCwxNTE5MDkzMiw4NjY2MTY5LDExMzU2NDkwLDE0MDQ5NjQzLDE1MTc3MzcyLDgwNzc2ODMsMTA4MzQzMjQsMTM1Mjg1MDksMTQ1ODk2NTRdLm1hcChNdCksU2w9WzMyNDQ3MzMsNzA1NzExMCwxMDQwNjYyNSwxMzAzMjQzMSwxNTA5NTA1MywxNjYxNjc2NCwxNjYyNTI1OSwxNjYzNDAxOCwzMjUzMDc2LDc2NTI0NzAsMTA2MDcwMDMsMTMxMDE1MDQsNzY5NTI4MSwxMDM5NDMxMiwxMjM2OTM3MiwxNDM0Mjg5MSw2NTEzNTA3LDk4Njg5NTAsMTI0MzQ4NzcsMTQyNzcwODFdLm1hcChNdCk7dGEuc2NhbGUucXVhbnRpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gbm8oW10sW10pfSx0YS5zY2FsZS5xdWFudGl6ZT1mdW5jdGlvbigpe3JldHVybiB0bygwLDEsWzAsMV0pfSx0YS5zY2FsZS50aHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZW8oWy41XSxbMCwxXSl9LHRhLnNjYWxlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHJvKFswLDFdKX0sdGEuc3ZnPXt9LHRhLnN2Zy5hcmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dmFyIG49TWF0aC5tYXgoMCwrZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGw9TWF0aC5tYXgoMCwrci5hcHBseSh0aGlzLGFyZ3VtZW50cykpLHM9by5hcHBseSh0aGlzLGFyZ3VtZW50cyktUmEsZj1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKS1SYSxoPU1hdGguYWJzKGYtcyksZz1zPmY/MDoxO2lmKG4+bCYmKHA9bCxsPW4sbj1wKSxoPj1UYSlyZXR1cm4gdChsLGcpKyhuP3QobiwxLWcpOlwiXCIpK1wiWlwiO3ZhciBwLHYsZCxtLHksTSx4LGIsXyx3LFMsayxFPTAsQT0wLE49W107aWYoKG09KCtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MCkvMikmJihkPWk9PT1rbD9NYXRoLnNxcnQobipuK2wqbCk6K2kuYXBwbHkodGhpcyxhcmd1bWVudHMpLGd8fChBKj0tMSksbCYmKEE9dHQoZC9sKk1hdGguc2luKG0pKSksbiYmKEU9dHQoZC9uKk1hdGguc2luKG0pKSkpLGwpe3k9bCpNYXRoLmNvcyhzK0EpLE09bCpNYXRoLnNpbihzK0EpLHg9bCpNYXRoLmNvcyhmLUEpLGI9bCpNYXRoLnNpbihmLUEpO3ZhciBDPU1hdGguYWJzKGYtcy0yKkEpPD1xYT8wOjE7aWYoQSYmc28oeSxNLHgsYik9PT1nXkMpe3ZhciB6PShzK2YpLzI7eT1sKk1hdGguY29zKHopLE09bCpNYXRoLnNpbih6KSx4PWI9bnVsbH19ZWxzZSB5PU09MDtpZihuKXtfPW4qTWF0aC5jb3MoZi1FKSx3PW4qTWF0aC5zaW4oZi1FKSxTPW4qTWF0aC5jb3MocytFKSxrPW4qTWF0aC5zaW4ocytFKTt2YXIgcT1NYXRoLmFicyhzLWYrMipFKTw9cWE/MDoxO2lmKEUmJnNvKF8sdyxTLGspPT09MS1nXnEpe3ZhciBMPShzK2YpLzI7Xz1uKk1hdGguY29zKEwpLHc9bipNYXRoLnNpbihMKSxTPWs9bnVsbH19ZWxzZSBfPXc9MDtpZigocD1NYXRoLm1pbihNYXRoLmFicyhsLW4pLzIsK3UuYXBwbHkodGhpcyxhcmd1bWVudHMpKSk+LjAwMSl7dj1sPm5eZz8wOjE7dmFyIFQ9bnVsbD09Uz9bXyx3XTpudWxsPT14P1t5LE1dOkxyKFt5LE1dLFtTLGtdLFt4LGJdLFtfLHddKSxSPXktVFswXSxEPU0tVFsxXSxQPXgtVFswXSxVPWItVFsxXSxqPTEvTWF0aC5zaW4oTWF0aC5hY29zKChSKlArRCpVKS8oTWF0aC5zcXJ0KFIqUitEKkQpKk1hdGguc3FydChQKlArVSpVKSkpLzIpLEY9TWF0aC5zcXJ0KFRbMF0qVFswXStUWzFdKlRbMV0pO2lmKG51bGwhPXgpe3ZhciBIPU1hdGgubWluKHAsKGwtRikvKGorMSkpLE89Zm8obnVsbD09Uz9bXyx3XTpbUyxrXSxbeSxNXSxsLEgsZyksST1mbyhbeCxiXSxbXyx3XSxsLEgsZyk7cD09PUg/Ti5wdXNoKFwiTVwiLE9bMF0sXCJBXCIsSCxcIixcIixILFwiIDAgMCxcIix2LFwiIFwiLE9bMV0sXCJBXCIsbCxcIixcIixsLFwiIDAgXCIsMS1nXnNvKE9bMV1bMF0sT1sxXVsxXSxJWzFdWzBdLElbMV1bMV0pLFwiLFwiLGcsXCIgXCIsSVsxXSxcIkFcIixILFwiLFwiLEgsXCIgMCAwLFwiLHYsXCIgXCIsSVswXSk6Ti5wdXNoKFwiTVwiLE9bMF0sXCJBXCIsSCxcIixcIixILFwiIDAgMSxcIix2LFwiIFwiLElbMF0pfWVsc2UgTi5wdXNoKFwiTVwiLHksXCIsXCIsTSk7aWYobnVsbCE9Uyl7dmFyIFk9TWF0aC5taW4ocCwobi1GKS8oai0xKSksWj1mbyhbeSxNXSxbUyxrXSxuLC1ZLGcpLFY9Zm8oW18sd10sbnVsbD09eD9beSxNXTpbeCxiXSxuLC1ZLGcpO3A9PT1ZP04ucHVzaChcIkxcIixWWzBdLFwiQVwiLFksXCIsXCIsWSxcIiAwIDAsXCIsdixcIiBcIixWWzFdLFwiQVwiLG4sXCIsXCIsbixcIiAwIFwiLGdec28oVlsxXVswXSxWWzFdWzFdLFpbMV1bMF0sWlsxXVsxXSksXCIsXCIsMS1nLFwiIFwiLFpbMV0sXCJBXCIsWSxcIixcIixZLFwiIDAgMCxcIix2LFwiIFwiLFpbMF0pOk4ucHVzaChcIkxcIixWWzBdLFwiQVwiLFksXCIsXCIsWSxcIiAwIDAsXCIsdixcIiBcIixaWzBdKX1lbHNlIE4ucHVzaChcIkxcIixfLFwiLFwiLHcpfWVsc2UgTi5wdXNoKFwiTVwiLHksXCIsXCIsTSksbnVsbCE9eCYmTi5wdXNoKFwiQVwiLGwsXCIsXCIsbCxcIiAwIFwiLEMsXCIsXCIsZyxcIiBcIix4LFwiLFwiLGIpLE4ucHVzaChcIkxcIixfLFwiLFwiLHcpLG51bGwhPVMmJk4ucHVzaChcIkFcIixuLFwiLFwiLG4sXCIgMCBcIixxLFwiLFwiLDEtZyxcIiBcIixTLFwiLFwiLGspO3JldHVybiBOLnB1c2goXCJaXCIpLE4uam9pbihcIlwiKX1mdW5jdGlvbiB0KG4sdCl7cmV0dXJuXCJNMCxcIituK1wiQVwiK24rXCIsXCIrbitcIiAwIDEsXCIrdCtcIiAwLFwiKy1uK1wiQVwiK24rXCIsXCIrbitcIiAwIDEsXCIrdCtcIiAwLFwiK259dmFyIGU9aW8scj1vbyx1PXVvLGk9a2wsbz1hbyxhPWNvLGM9bG87cmV0dXJuIG4uaW5uZXJSYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9RXQodCksbik6ZX0sbi5vdXRlclJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocj1FdCh0KSxuKTpyfSxuLmNvcm5lclJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1FdCh0KSxuKTp1fSxuLnBhZFJhZGl1cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT10PT1rbD9rbDpFdCh0KSxuKTppfSxuLnN0YXJ0QW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89RXQodCksbik6b30sbi5lbmRBbmdsZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1FdCh0KSxuKTphfSxuLnBhZEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPUV0KHQpLG4pOmN9LG4uY2VudHJvaWQ9ZnVuY3Rpb24oKXt2YXIgbj0oK2UuYXBwbHkodGhpcyxhcmd1bWVudHMpKyArci5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzIsdD0oK28uYXBwbHkodGhpcyxhcmd1bWVudHMpKyArYS5hcHBseSh0aGlzLGFyZ3VtZW50cykpLzItUmE7cmV0dXJuW01hdGguY29zKHQpKm4sTWF0aC5zaW4odCkqbl19LG59O3ZhciBrbD1cImF1dG9cIjt0YS5zdmcubGluZT1mdW5jdGlvbigpe3JldHVybiBobyh5KX07dmFyIEVsPXRhLm1hcCh7bGluZWFyOmdvLFwibGluZWFyLWNsb3NlZFwiOnBvLHN0ZXA6dm8sXCJzdGVwLWJlZm9yZVwiOm1vLFwic3RlcC1hZnRlclwiOnlvLGJhc2lzOlNvLFwiYmFzaXMtb3BlblwiOmtvLFwiYmFzaXMtY2xvc2VkXCI6RW8sYnVuZGxlOkFvLGNhcmRpbmFsOmJvLFwiY2FyZGluYWwtb3BlblwiOk1vLFwiY2FyZGluYWwtY2xvc2VkXCI6eG8sbW9ub3RvbmU6VG99KTtFbC5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7dC5rZXk9bix0LmNsb3NlZD0vLWNsb3NlZCQvLnRlc3Qobil9KTt2YXIgQWw9WzAsMi8zLDEvMywwXSxObD1bMCwxLzMsMi8zLDBdLENsPVswLDEvNiwyLzMsMS82XTt0YS5zdmcubGluZS5yYWRpYWw9ZnVuY3Rpb24oKXt2YXIgbj1obyhSbyk7cmV0dXJuIG4ucmFkaXVzPW4ueCxkZWxldGUgbi54LG4uYW5nbGU9bi55LGRlbGV0ZSBuLnksbn0sbW8ucmV2ZXJzZT15byx5by5yZXZlcnNlPW1vLHRhLnN2Zy5hcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIERvKHkpfSx0YS5zdmcuYXJlYS5yYWRpYWw9ZnVuY3Rpb24oKXt2YXIgbj1EbyhSbyk7cmV0dXJuIG4ucmFkaXVzPW4ueCxkZWxldGUgbi54LG4uaW5uZXJSYWRpdXM9bi54MCxkZWxldGUgbi54MCxuLm91dGVyUmFkaXVzPW4ueDEsZGVsZXRlIG4ueDEsbi5hbmdsZT1uLnksZGVsZXRlIG4ueSxuLnN0YXJ0QW5nbGU9bi55MCxkZWxldGUgbi55MCxuLmVuZEFuZ2xlPW4ueTEsZGVsZXRlIG4ueTEsbn0sdGEuc3ZnLmNob3JkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLGEpe3ZhciBjPXQodGhpcyxpLG4sYSksbD10KHRoaXMsbyxuLGEpO3JldHVyblwiTVwiK2MucDArcihjLnIsYy5wMSxjLmExLWMuYTApKyhlKGMsbCk/dShjLnIsYy5wMSxjLnIsYy5wMCk6dShjLnIsYy5wMSxsLnIsbC5wMCkrcihsLnIsbC5wMSxsLmExLWwuYTApK3UobC5yLGwucDEsYy5yLGMucDApKStcIlpcIn1mdW5jdGlvbiB0KG4sdCxlLHIpe3ZhciB1PXQuY2FsbChuLGUsciksaT1hLmNhbGwobix1LHIpLG89Yy5jYWxsKG4sdSxyKS1SYSxzPWwuY2FsbChuLHUsciktUmE7cmV0dXJue3I6aSxhMDpvLGExOnMscDA6W2kqTWF0aC5jb3MobyksaSpNYXRoLnNpbihvKV0scDE6W2kqTWF0aC5jb3MocyksaSpNYXRoLnNpbihzKV19fWZ1bmN0aW9uIGUobix0KXtyZXR1cm4gbi5hMD09dC5hMCYmbi5hMT09dC5hMX1mdW5jdGlvbiByKG4sdCxlKXtyZXR1cm5cIkFcIituK1wiLFwiK24rXCIgMCBcIisgKyhlPnFhKStcIiwxIFwiK3R9ZnVuY3Rpb24gdShuLHQsZSxyKXtyZXR1cm5cIlEgMCwwIFwiK3J9dmFyIGk9bXIsbz15cixhPVBvLGM9YW8sbD1jbztyZXR1cm4gbi5yYWRpdXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGE9RXQodCksbik6YX0sbi5zb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9RXQodCksbik6aX0sbi50YXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG89RXQodCksbik6b30sbi5zdGFydEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjPUV0KHQpLG4pOmN9LG4uZW5kQW5nbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9RXQodCksbik6bH0sbn0sdGEuc3ZnLmRpYWdvbmFsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHUpe3ZhciBpPXQuY2FsbCh0aGlzLG4sdSksbz1lLmNhbGwodGhpcyxuLHUpLGE9KGkueStvLnkpLzIsYz1baSx7eDppLngseTphfSx7eDpvLngseTphfSxvXTtyZXR1cm4gYz1jLm1hcChyKSxcIk1cIitjWzBdK1wiQ1wiK2NbMV0rXCIgXCIrY1syXStcIiBcIitjWzNdfXZhciB0PW1yLGU9eXIscj1VbztyZXR1cm4gbi5zb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9RXQoZSksbik6dH0sbi50YXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9RXQodCksbik6ZX0sbi5wcm9qZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyPXQsbik6cn0sbn0sdGEuc3ZnLmRpYWdvbmFsLnJhZGlhbD1mdW5jdGlvbigpe3ZhciBuPXRhLnN2Zy5kaWFnb25hbCgpLHQ9VW8sZT1uLnByb2plY3Rpb247cmV0dXJuIG4ucHJvamVjdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9lKGpvKHQ9bikpOnR9LG59LHRhLnN2Zy5zeW1ib2w9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7cmV0dXJuKHpsLmdldCh0LmNhbGwodGhpcyxuLHIpKXx8T28pKGUuY2FsbCh0aGlzLG4scikpfXZhciB0PUhvLGU9Rm87cmV0dXJuIG4udHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1FdChlKSxuKTp0fSxuLnNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9RXQodCksbik6ZX0sbn07dmFyIHpsPXRhLm1hcCh7Y2lyY2xlOk9vLGNyb3NzOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuLzUpLzI7cmV0dXJuXCJNXCIrLTMqdCtcIixcIistdCtcIkhcIistdCtcIlZcIistMyp0K1wiSFwiK3QrXCJWXCIrLXQrXCJIXCIrMyp0K1wiVlwiK3QrXCJIXCIrdCtcIlZcIiszKnQrXCJIXCIrLXQrXCJWXCIrdCtcIkhcIistMyp0K1wiWlwifSxkaWFtb25kOmZ1bmN0aW9uKG4pe3ZhciB0PU1hdGguc3FydChuLygyKkxsKSksZT10KkxsO3JldHVyblwiTTAsXCIrLXQrXCJMXCIrZStcIiwwIDAsXCIrdCtcIiBcIistZStcIiwwWlwifSxzcXVhcmU6ZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5zcXJ0KG4pLzI7cmV0dXJuXCJNXCIrLXQrXCIsXCIrLXQrXCJMXCIrdCtcIixcIistdCtcIiBcIit0K1wiLFwiK3QrXCIgXCIrLXQrXCIsXCIrdCtcIlpcIn0sXCJ0cmlhbmdsZS1kb3duXCI6ZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5zcXJ0KG4vcWwpLGU9dCpxbC8yO3JldHVyblwiTTAsXCIrZStcIkxcIit0K1wiLFwiKy1lK1wiIFwiKy10K1wiLFwiKy1lK1wiWlwifSxcInRyaWFuZ2xlLXVwXCI6ZnVuY3Rpb24obil7dmFyIHQ9TWF0aC5zcXJ0KG4vcWwpLGU9dCpxbC8yO3JldHVyblwiTTAsXCIrLWUrXCJMXCIrdCtcIixcIitlK1wiIFwiKy10K1wiLFwiK2UrXCJaXCJ9fSk7dGEuc3ZnLnN5bWJvbFR5cGVzPXpsLmtleXMoKTt2YXIgcWw9TWF0aC5zcXJ0KDMpLExsPU1hdGgudGFuKDMwKkRhKTtfYS50cmFuc2l0aW9uPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxlLHI9VGx8fCsrVWwsdT1YbyhuKSxpPVtdLG89Umx8fHt0aW1lOkRhdGUubm93KCksZWFzZTpTdSxkZWxheTowLGR1cmF0aW9uOjI1MH0sYT0tMSxjPXRoaXMubGVuZ3RoOysrYTxjOyl7aS5wdXNoKHQ9W10pO2Zvcih2YXIgbD10aGlzW2FdLHM9LTEsZj1sLmxlbmd0aDsrK3M8ZjspKGU9bFtzXSkmJiRvKGUscyx1LHIsbyksdC5wdXNoKGUpfXJldHVybiBZbyhpLHUscil9LF9hLmludGVycnVwdD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKG51bGw9PW4/RGw6SW8oWG8obikpKX07dmFyIFRsLFJsLERsPUlvKFhvKCkpLFBsPVtdLFVsPTA7UGwuY2FsbD1fYS5jYWxsLFBsLmVtcHR5PV9hLmVtcHR5LFBsLm5vZGU9X2Eubm9kZSxQbC5zaXplPV9hLnNpemUsdGEudHJhbnNpdGlvbj1mdW5jdGlvbihuLHQpe3JldHVybiBuJiZuLnRyYW5zaXRpb24/VGw/bi50cmFuc2l0aW9uKHQpOm46dGEuc2VsZWN0aW9uKCkudHJhbnNpdGlvbihuKX0sdGEudHJhbnNpdGlvbi5wcm90b3R5cGU9UGwsUGwuc2VsZWN0PWZ1bmN0aW9uKG4pe3ZhciB0LGUscix1PXRoaXMuaWQsaT10aGlzLm5hbWVzcGFjZSxvPVtdO249TihuKTtmb3IodmFyIGE9LTEsYz10aGlzLmxlbmd0aDsrK2E8Yzspe28ucHVzaCh0PVtdKTtmb3IodmFyIGw9dGhpc1thXSxzPS0xLGY9bC5sZW5ndGg7KytzPGY7KShyPWxbc10pJiYoZT1uLmNhbGwocixyLl9fZGF0YV9fLHMsYSkpPyhcIl9fZGF0YV9fXCJpbiByJiYoZS5fX2RhdGFfXz1yLl9fZGF0YV9fKSwkbyhlLHMsaSx1LHJbaV1bdV0pLHQucHVzaChlKSk6dC5wdXNoKG51bGwpfXJldHVybiBZbyhvLGksdSl9LFBsLnNlbGVjdEFsbD1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdSxpLG89dGhpcy5pZCxhPXRoaXMubmFtZXNwYWNlLGM9W107bj1DKG4pO2Zvcih2YXIgbD0tMSxzPXRoaXMubGVuZ3RoOysrbDxzOylmb3IodmFyIGY9dGhpc1tsXSxoPS0xLGc9Zi5sZW5ndGg7KytoPGc7KWlmKHI9ZltoXSl7aT1yW2FdW29dLGU9bi5jYWxsKHIsci5fX2RhdGFfXyxoLGwpLGMucHVzaCh0PVtdKTtmb3IodmFyIHA9LTEsdj1lLmxlbmd0aDsrK3A8djspKHU9ZVtwXSkmJiRvKHUscCxhLG8saSksdC5wdXNoKHUpfXJldHVybiBZbyhjLGEsbyl9LFBsLmZpbHRlcj1mdW5jdGlvbihuKXt2YXIgdCxlLHIsdT1bXTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiYobj1PKG4pKTtmb3IodmFyIGk9MCxvPXRoaXMubGVuZ3RoO28+aTtpKyspe3UucHVzaCh0PVtdKTtmb3IodmFyIGU9dGhpc1tpXSxhPTAsYz1lLmxlbmd0aDtjPmE7YSsrKShyPWVbYV0pJiZuLmNhbGwocixyLl9fZGF0YV9fLGEsaSkmJnQucHVzaChyKX1yZXR1cm4gWW8odSx0aGlzLm5hbWVzcGFjZSx0aGlzLmlkKX0sUGwudHdlZW49ZnVuY3Rpb24obix0KXt2YXIgZT10aGlzLmlkLHI9dGhpcy5uYW1lc3BhY2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj90aGlzLm5vZGUoKVtyXVtlXS50d2Vlbi5nZXQobik6WSh0aGlzLG51bGw9PXQ/ZnVuY3Rpb24odCl7dFtyXVtlXS50d2Vlbi5yZW1vdmUobil9OmZ1bmN0aW9uKHUpe3Vbcl1bZV0udHdlZW4uc2V0KG4sdCl9KX0sUGwuYXR0cj1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKX1mdW5jdGlvbiByKCl7dGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhhLnNwYWNlLGEubG9jYWwpfWZ1bmN0aW9uIHUobil7cmV0dXJuIG51bGw9PW4/ZToobis9XCJcIixmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7cmV0dXJuIGUhPT1uJiYodD1vKGUsbiksZnVuY3Rpb24obil7dGhpcy5zZXRBdHRyaWJ1dGUoYSx0KG4pKX0pfSl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gbnVsbD09bj9yOihuKz1cIlwiLGZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmdldEF0dHJpYnV0ZU5TKGEuc3BhY2UsYS5sb2NhbCk7cmV0dXJuIGUhPT1uJiYodD1vKGUsbiksZnVuY3Rpb24obil7dGhpcy5zZXRBdHRyaWJ1dGVOUyhhLnNwYWNlLGEubG9jYWwsdChuKSl9KX0pfWlmKGFyZ3VtZW50cy5sZW5ndGg8Mil7Zm9yKHQgaW4gbil0aGlzLmF0dHIodCxuW3RdKTtyZXR1cm4gdGhpc312YXIgbz1cInRyYW5zZm9ybVwiPT1uP0h1Om11LGE9dGEubnMucXVhbGlmeShuKTtyZXR1cm4gWm8odGhpcyxcImF0dHIuXCIrbix0LGEubG9jYWw/aTp1KX0sUGwuYXR0clR3ZWVuPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gZShuLGUpe3ZhciByPXQuY2FsbCh0aGlzLG4sZSx0aGlzLmdldEF0dHJpYnV0ZSh1KSk7cmV0dXJuIHImJmZ1bmN0aW9uKG4pe3RoaXMuc2V0QXR0cmlidXRlKHUscihuKSl9fWZ1bmN0aW9uIHIobixlKXt2YXIgcj10LmNhbGwodGhpcyxuLGUsdGhpcy5nZXRBdHRyaWJ1dGVOUyh1LnNwYWNlLHUubG9jYWwpKTtyZXR1cm4gciYmZnVuY3Rpb24obil7dGhpcy5zZXRBdHRyaWJ1dGVOUyh1LnNwYWNlLHUubG9jYWwscihuKSl9fXZhciB1PXRhLm5zLnF1YWxpZnkobik7cmV0dXJuIHRoaXMudHdlZW4oXCJhdHRyLlwiK24sdS5sb2NhbD9yOmUpfSxQbC5zdHlsZT1mdW5jdGlvbihuLGUscil7ZnVuY3Rpb24gdSgpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobil9ZnVuY3Rpb24gaShlKXtyZXR1cm4gbnVsbD09ZT91OihlKz1cIlwiLGZ1bmN0aW9uKCl7dmFyIHUsaT10KHRoaXMpLmdldENvbXB1dGVkU3R5bGUodGhpcyxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG4pO3JldHVybiBpIT09ZSYmKHU9bXUoaSxlKSxmdW5jdGlvbih0KXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KG4sdSh0KSxyKX0pfSl9dmFyIG89YXJndW1lbnRzLmxlbmd0aDtpZigzPm8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXsyPm8mJihlPVwiXCIpO2ZvcihyIGluIG4pdGhpcy5zdHlsZShyLG5bcl0sZSk7cmV0dXJuIHRoaXN9cj1cIlwifXJldHVybiBabyh0aGlzLFwic3R5bGUuXCIrbixlLGkpfSxQbC5zdHlsZVR3ZWVuPWZ1bmN0aW9uKG4sZSxyKXtmdW5jdGlvbiB1KHUsaSl7dmFyIG89ZS5jYWxsKHRoaXMsdSxpLHQodGhpcykuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLG51bGwpLmdldFByb3BlcnR5VmFsdWUobikpO3JldHVybiBvJiZmdW5jdGlvbih0KXt0aGlzLnN0eWxlLnNldFByb3BlcnR5KG4sbyh0KSxyKX19cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MyYmKHI9XCJcIiksdGhpcy50d2VlbihcInN0eWxlLlwiK24sdSl9LFBsLnRleHQ9ZnVuY3Rpb24obil7cmV0dXJuIFpvKHRoaXMsXCJ0ZXh0XCIsbixWbyl9LFBsLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBuPXRoaXMubmFtZXNwYWNlO3JldHVybiB0aGlzLmVhY2goXCJlbmQudHJhbnNpdGlvblwiLGZ1bmN0aW9uKCl7dmFyIHQ7dGhpc1tuXS5jb3VudDwyJiYodD10aGlzLnBhcmVudE5vZGUpJiZ0LnJlbW92ZUNoaWxkKHRoaXMpfSl9LFBsLmVhc2U9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5pZCxlPXRoaXMubmFtZXNwYWNlO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDE/dGhpcy5ub2RlKClbZV1bdF0uZWFzZTooXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmKG49dGEuZWFzZS5hcHBseSh0YSxhcmd1bWVudHMpKSxZKHRoaXMsZnVuY3Rpb24ocil7cltlXVt0XS5lYXNlPW59KSl9LFBsLmRlbGF5PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuaWQsZT10aGlzLm5hbWVzcGFjZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwxP3RoaXMubm9kZSgpW2VdW3RdLmRlbGF5OlkodGhpcyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuP2Z1bmN0aW9uKHIsdSxpKXtyW2VdW3RdLmRlbGF5PStuLmNhbGwocixyLl9fZGF0YV9fLHUsaSl9OihuPStuLGZ1bmN0aW9uKHIpe3JbZV1bdF0uZGVsYXk9bn0pKX0sUGwuZHVyYXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5pZCxlPXRoaXMubmFtZXNwYWNlO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDE/dGhpcy5ub2RlKClbZV1bdF0uZHVyYXRpb246WSh0aGlzLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/ZnVuY3Rpb24ocix1LGkpe3JbZV1bdF0uZHVyYXRpb249TWF0aC5tYXgoMSxuLmNhbGwocixyLl9fZGF0YV9fLHUsaSkpfToobj1NYXRoLm1heCgxLG4pLGZ1bmN0aW9uKHIpe3JbZV1bdF0uZHVyYXRpb249bn0pKX0sUGwuZWFjaD1mdW5jdGlvbihuLHQpe3ZhciBlPXRoaXMuaWQscj10aGlzLm5hbWVzcGFjZTtpZihhcmd1bWVudHMubGVuZ3RoPDIpe3ZhciB1PVJsLGk9VGw7dHJ5e1RsPWUsWSh0aGlzLGZ1bmN0aW9uKHQsdSxpKXtSbD10W3JdW2VdLG4uY2FsbCh0LHQuX19kYXRhX18sdSxpKX0pfWZpbmFsbHl7Umw9dSxUbD1pfX1lbHNlIFkodGhpcyxmdW5jdGlvbih1KXt2YXIgaT11W3JdW2VdOyhpLmV2ZW50fHwoaS5ldmVudD10YS5kaXNwYXRjaChcInN0YXJ0XCIsXCJlbmRcIixcImludGVycnVwdFwiKSkpLm9uKG4sdCl9KTtyZXR1cm4gdGhpc30sUGwudHJhbnNpdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgbix0LGUscix1PXRoaXMuaWQsaT0rK1VsLG89dGhpcy5uYW1lc3BhY2UsYT1bXSxjPTAsbD10aGlzLmxlbmd0aDtsPmM7YysrKXthLnB1c2gobj1bXSk7Zm9yKHZhciB0PXRoaXNbY10scz0wLGY9dC5sZW5ndGg7Zj5zO3MrKykoZT10W3NdKSYmKHI9ZVtvXVt1XSwkbyhlLHMsbyxpLHt0aW1lOnIudGltZSxlYXNlOnIuZWFzZSxkZWxheTpyLmRlbGF5K3IuZHVyYXRpb24sZHVyYXRpb246ci5kdXJhdGlvbn0pKSxuLnB1c2goZSl9cmV0dXJuIFlvKGEsbyxpKX0sdGEuc3ZnLmF4aXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe24uZWFjaChmdW5jdGlvbigpe3ZhciBuLGw9dGEuc2VsZWN0KHRoaXMpLHM9dGhpcy5fX2NoYXJ0X198fGUsZj10aGlzLl9fY2hhcnRfXz1lLmNvcHkoKSxoPW51bGw9PWM/Zi50aWNrcz9mLnRpY2tzLmFwcGx5KGYsYSk6Zi5kb21haW4oKTpjLGc9bnVsbD09dD9mLnRpY2tGb3JtYXQ/Zi50aWNrRm9ybWF0LmFwcGx5KGYsYSk6eTp0LHA9bC5zZWxlY3RBbGwoXCIudGlja1wiKS5kYXRhKGgsZiksdj1wLmVudGVyKCkuaW5zZXJ0KFwiZ1wiLFwiLmRvbWFpblwiKS5hdHRyKFwiY2xhc3NcIixcInRpY2tcIikuc3R5bGUoXCJvcGFjaXR5XCIsQ2EpLGQ9dGEudHJhbnNpdGlvbihwLmV4aXQoKSkuc3R5bGUoXCJvcGFjaXR5XCIsQ2EpLnJlbW92ZSgpLG09dGEudHJhbnNpdGlvbihwLm9yZGVyKCkpLnN0eWxlKFwib3BhY2l0eVwiLDEpLE09TWF0aC5tYXgodSwwKStvLHg9VWkoZiksYj1sLnNlbGVjdEFsbChcIi5kb21haW5cIikuZGF0YShbMF0pLF89KGIuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLFwiZG9tYWluXCIpLHRhLnRyYW5zaXRpb24oYikpO3YuYXBwZW5kKFwibGluZVwiKSx2LmFwcGVuZChcInRleHRcIik7dmFyIHcsUyxrLEUsQT12LnNlbGVjdChcImxpbmVcIiksTj1tLnNlbGVjdChcImxpbmVcIiksQz1wLnNlbGVjdChcInRleHRcIikudGV4dChnKSx6PXYuc2VsZWN0KFwidGV4dFwiKSxxPW0uc2VsZWN0KFwidGV4dFwiKSxMPVwidG9wXCI9PT1yfHxcImxlZnRcIj09PXI/LTE6MTtpZihcImJvdHRvbVwiPT09cnx8XCJ0b3BcIj09PXI/KG49Qm8sdz1cInhcIixrPVwieVwiLFM9XCJ4MlwiLEU9XCJ5MlwiLEMuYXR0cihcImR5XCIsMD5MP1wiMGVtXCI6XCIuNzFlbVwiKS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIiksXy5hdHRyKFwiZFwiLFwiTVwiK3hbMF0rXCIsXCIrTCppK1wiVjBIXCIreFsxXStcIlZcIitMKmkpKToobj1Xbyx3PVwieVwiLGs9XCJ4XCIsUz1cInkyXCIsRT1cIngyXCIsQy5hdHRyKFwiZHlcIixcIi4zMmVtXCIpLnN0eWxlKFwidGV4dC1hbmNob3JcIiwwPkw/XCJlbmRcIjpcInN0YXJ0XCIpLF8uYXR0cihcImRcIixcIk1cIitMKmkrXCIsXCIreFswXStcIkgwVlwiK3hbMV0rXCJIXCIrTCppKSksQS5hdHRyKEUsTCp1KSx6LmF0dHIoayxMKk0pLE4uYXR0cihTLDApLmF0dHIoRSxMKnUpLHEuYXR0cih3LDApLmF0dHIoayxMKk0pLGYucmFuZ2VCYW5kKXt2YXIgVD1mLFI9VC5yYW5nZUJhbmQoKS8yO3M9Zj1mdW5jdGlvbihuKXtyZXR1cm4gVChuKStSfX1lbHNlIHMucmFuZ2VCYW5kP3M9ZjpkLmNhbGwobixmLHMpO3YuY2FsbChuLHMsZiksbS5jYWxsKG4sZixmKX0pfXZhciB0LGU9dGEuc2NhbGUubGluZWFyKCkscj1qbCx1PTYsaT02LG89MyxhPVsxMF0sYz1udWxsO3JldHVybiBuLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPXQsbik6ZX0sbi5vcmllbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHI9dCBpbiBGbD90K1wiXCI6amwsbik6cn0sbi50aWNrcz1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPWFyZ3VtZW50cyxuKTphfSxuLnRpY2tWYWx1ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGM9dCxuKTpjfSxuLnRpY2tGb3JtYXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9ZSxuKTp0fSxuLnRpY2tTaXplPWZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIGU/KHU9K3QsaT0rYXJndW1lbnRzW2UtMV0sbik6dX0sbi5pbm5lclRpY2tTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PSt0LG4pOnV9LG4ub3V0ZXJUaWNrU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT0rdCxuKTppfSxuLnRpY2tQYWRkaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPSt0LG4pOm99LG4udGlja1N1YmRpdmlkZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZufSxufTt2YXIgamw9XCJib3R0b21cIixGbD17dG9wOjEscmlnaHQ6MSxib3R0b206MSxsZWZ0OjF9O3RhLnN2Zy5icnVzaD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCl7dC5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dGEuc2VsZWN0KHRoaXMpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcImFsbFwiKS5zdHlsZShcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiLFwicmdiYSgwLDAsMCwwKVwiKS5vbihcIm1vdXNlZG93bi5icnVzaFwiLGkpLm9uKFwidG91Y2hzdGFydC5icnVzaFwiLGkpLG89dC5zZWxlY3RBbGwoXCIuYmFja2dyb3VuZFwiKS5kYXRhKFswXSk7by5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJiYWNrZ3JvdW5kXCIpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLnN0eWxlKFwiY3Vyc29yXCIsXCJjcm9zc2hhaXJcIiksdC5zZWxlY3RBbGwoXCIuZXh0ZW50XCIpLmRhdGEoWzBdKS5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJleHRlbnRcIikuc3R5bGUoXCJjdXJzb3JcIixcIm1vdmVcIik7dmFyIGE9dC5zZWxlY3RBbGwoXCIucmVzaXplXCIpLmRhdGEodix5KTthLmV4aXQoKS5yZW1vdmUoKSxhLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihuKXtyZXR1cm5cInJlc2l6ZSBcIitufSkuc3R5bGUoXCJjdXJzb3JcIixmdW5jdGlvbihuKXtyZXR1cm4gSGxbbl19KS5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ4XCIsZnVuY3Rpb24obil7cmV0dXJuL1tld10kLy50ZXN0KG4pPy0zOm51bGx9KS5hdHRyKFwieVwiLGZ1bmN0aW9uKG4pe3JldHVybi9eW25zXS8udGVzdChuKT8tMzpudWxsfSkuYXR0cihcIndpZHRoXCIsNikuYXR0cihcImhlaWdodFwiLDYpLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLGEuc3R5bGUoXCJkaXNwbGF5XCIsbi5lbXB0eSgpP1wibm9uZVwiOm51bGwpO3ZhciBjLGY9dGEudHJhbnNpdGlvbih0KSxoPXRhLnRyYW5zaXRpb24obyk7bCYmKGM9VWkobCksaC5hdHRyKFwieFwiLGNbMF0pLmF0dHIoXCJ3aWR0aFwiLGNbMV0tY1swXSkscihmKSkscyYmKGM9VWkocyksaC5hdHRyKFwieVwiLGNbMF0pLmF0dHIoXCJoZWlnaHRcIixjWzFdLWNbMF0pLHUoZikpLGUoZil9KX1mdW5jdGlvbiBlKG4pe24uc2VsZWN0QWxsKFwiLnJlc2l6ZVwiKS5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24obil7cmV0dXJuXCJ0cmFuc2xhdGUoXCIrZlsrL2UkLy50ZXN0KG4pXStcIixcIitoWysvXnMvLnRlc3QobildK1wiKVwifSl9ZnVuY3Rpb24gcihuKXtuLnNlbGVjdChcIi5leHRlbnRcIikuYXR0cihcInhcIixmWzBdKSxuLnNlbGVjdEFsbChcIi5leHRlbnQsLm4+cmVjdCwucz5yZWN0XCIpLmF0dHIoXCJ3aWR0aFwiLGZbMV0tZlswXSl9ZnVuY3Rpb24gdShuKXtuLnNlbGVjdChcIi5leHRlbnRcIikuYXR0cihcInlcIixoWzBdKSxuLnNlbGVjdEFsbChcIi5leHRlbnQsLmU+cmVjdCwudz5yZWN0XCIpLmF0dHIoXCJoZWlnaHRcIixoWzFdLWhbMF0pfWZ1bmN0aW9uIGkoKXtmdW5jdGlvbiBpKCl7MzI9PXRhLmV2ZW50LmtleUNvZGUmJihDfHwoTT1udWxsLHFbMF0tPWZbMV0scVsxXS09aFsxXSxDPTIpLFMoKSl9ZnVuY3Rpb24gdigpezMyPT10YS5ldmVudC5rZXlDb2RlJiYyPT1DJiYocVswXSs9ZlsxXSxxWzFdKz1oWzFdLEM9MCxTKCkpfWZ1bmN0aW9uIGQoKXt2YXIgbj10YS5tb3VzZShiKSx0PSExO3gmJihuWzBdKz14WzBdLG5bMV0rPXhbMV0pLEN8fCh0YS5ldmVudC5hbHRLZXk/KE18fChNPVsoZlswXStmWzFdKS8yLChoWzBdK2hbMV0pLzJdKSxxWzBdPWZbKyhuWzBdPE1bMF0pXSxxWzFdPWhbKyhuWzFdPE1bMV0pXSk6TT1udWxsKSxBJiZtKG4sbCwwKSYmKHIoayksdD0hMCksTiYmbShuLHMsMSkmJih1KGspLHQ9ITApLHQmJihlKGspLHcoe3R5cGU6XCJicnVzaFwiLG1vZGU6Qz9cIm1vdmVcIjpcInJlc2l6ZVwifSkpfWZ1bmN0aW9uIG0obix0LGUpe3ZhciByLHUsaT1VaSh0KSxjPWlbMF0sbD1pWzFdLHM9cVtlXSx2PWU/aDpmLGQ9dlsxXS12WzBdO3JldHVybiBDJiYoYy09cyxsLT1kK3MpLHI9KGU/cDpnKT9NYXRoLm1heChjLE1hdGgubWluKGwsbltlXSkpOm5bZV0sQz91PShyKz1zKStkOihNJiYocz1NYXRoLm1heChjLE1hdGgubWluKGwsMipNW2VdLXIpKSkscj5zPyh1PXIscj1zKTp1PXMpLHZbMF0hPXJ8fHZbMV0hPXU/KGU/YT1udWxsOm89bnVsbCx2WzBdPXIsdlsxXT11LCEwKTp2b2lkIDB9ZnVuY3Rpb24geSgpe2QoKSxrLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcImFsbFwiKS5zZWxlY3RBbGwoXCIucmVzaXplXCIpLnN0eWxlKFwiZGlzcGxheVwiLG4uZW1wdHkoKT9cIm5vbmVcIjpudWxsKSx0YS5zZWxlY3QoXCJib2R5XCIpLnN0eWxlKFwiY3Vyc29yXCIsbnVsbCksTC5vbihcIm1vdXNlbW92ZS5icnVzaFwiLG51bGwpLm9uKFwibW91c2V1cC5icnVzaFwiLG51bGwpLm9uKFwidG91Y2htb3ZlLmJydXNoXCIsbnVsbCkub24oXCJ0b3VjaGVuZC5icnVzaFwiLG51bGwpLm9uKFwia2V5ZG93bi5icnVzaFwiLG51bGwpLm9uKFwia2V5dXAuYnJ1c2hcIixudWxsKSx6KCksdyh7dHlwZTpcImJydXNoZW5kXCJ9KX12YXIgTSx4LGI9dGhpcyxfPXRhLnNlbGVjdCh0YS5ldmVudC50YXJnZXQpLHc9Yy5vZihiLGFyZ3VtZW50cyksaz10YS5zZWxlY3QoYiksRT1fLmRhdHVtKCksQT0hL14obnxzKSQvLnRlc3QoRSkmJmwsTj0hL14oZXx3KSQvLnRlc3QoRSkmJnMsQz1fLmNsYXNzZWQoXCJleHRlbnRcIiksej1XKGIpLHE9dGEubW91c2UoYiksTD10YS5zZWxlY3QodChiKSkub24oXCJrZXlkb3duLmJydXNoXCIsaSkub24oXCJrZXl1cC5icnVzaFwiLHYpO2lmKHRhLmV2ZW50LmNoYW5nZWRUb3VjaGVzP0wub24oXCJ0b3VjaG1vdmUuYnJ1c2hcIixkKS5vbihcInRvdWNoZW5kLmJydXNoXCIseSk6TC5vbihcIm1vdXNlbW92ZS5icnVzaFwiLGQpLm9uKFwibW91c2V1cC5icnVzaFwiLHkpLGsuaW50ZXJydXB0KCkuc2VsZWN0QWxsKFwiKlwiKS5pbnRlcnJ1cHQoKSxDKXFbMF09ZlswXS1xWzBdLHFbMV09aFswXS1xWzFdO2Vsc2UgaWYoRSl7dmFyIFQ9Ky93JC8udGVzdChFKSxSPSsvXm4vLnRlc3QoRSk7eD1bZlsxLVRdLXFbMF0saFsxLVJdLXFbMV1dLHFbMF09ZltUXSxxWzFdPWhbUl19ZWxzZSB0YS5ldmVudC5hbHRLZXkmJihNPXEuc2xpY2UoKSk7ay5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLnNlbGVjdEFsbChcIi5yZXNpemVcIikuc3R5bGUoXCJkaXNwbGF5XCIsbnVsbCksdGEuc2VsZWN0KFwiYm9keVwiKS5zdHlsZShcImN1cnNvclwiLF8uc3R5bGUoXCJjdXJzb3JcIikpLHcoe3R5cGU6XCJicnVzaHN0YXJ0XCJ9KSxkKCl9dmFyIG8sYSxjPUUobixcImJydXNoc3RhcnRcIixcImJydXNoXCIsXCJicnVzaGVuZFwiKSxsPW51bGwscz1udWxsLGY9WzAsMF0saD1bMCwwXSxnPSEwLHA9ITAsdj1PbFswXTtyZXR1cm4gbi5ldmVudD1mdW5jdGlvbihuKXtuLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1jLm9mKHRoaXMsYXJndW1lbnRzKSx0PXt4OmYseTpoLGk6byxqOmF9LGU9dGhpcy5fX2NoYXJ0X198fHQ7dGhpcy5fX2NoYXJ0X189dCxUbD90YS5zZWxlY3QodGhpcykudHJhbnNpdGlvbigpLmVhY2goXCJzdGFydC5icnVzaFwiLGZ1bmN0aW9uKCl7bz1lLmksYT1lLmosZj1lLngsaD1lLnksbih7dHlwZTpcImJydXNoc3RhcnRcIn0pfSkudHdlZW4oXCJicnVzaDpicnVzaFwiLGZ1bmN0aW9uKCl7dmFyIGU9eXUoZix0LngpLHI9eXUoaCx0LnkpO3JldHVybiBvPWE9bnVsbCxmdW5jdGlvbih1KXtmPXQueD1lKHUpLGg9dC55PXIodSksbih7dHlwZTpcImJydXNoXCIsbW9kZTpcInJlc2l6ZVwifSl9fSkuZWFjaChcImVuZC5icnVzaFwiLGZ1bmN0aW9uKCl7bz10LmksYT10Lmosbih7dHlwZTpcImJydXNoXCIsbW9kZTpcInJlc2l6ZVwifSksbih7dHlwZTpcImJydXNoZW5kXCJ9KX0pOihuKHt0eXBlOlwiYnJ1c2hzdGFydFwifSksbih7dHlwZTpcImJydXNoXCIsbW9kZTpcInJlc2l6ZVwifSksbih7dHlwZTpcImJydXNoZW5kXCJ9KSl9KX0sbi54PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPXQsdj1PbFshbDw8MXwhc10sbik6bH0sbi55PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhzPXQsdj1PbFshbDw8MXwhc10sbik6c30sbi5jbGFtcD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obCYmcz8oZz0hIXRbMF0scD0hIXRbMV0pOmw/Zz0hIXQ6cyYmKHA9ISF0KSxuKTpsJiZzP1tnLHBdOmw/ZzpzP3A6bnVsbH0sbi5leHRlbnQ9ZnVuY3Rpb24odCl7dmFyIGUscix1LGksYztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obCYmKGU9dFswXSxyPXRbMV0scyYmKGU9ZVswXSxyPXJbMF0pLG89W2Uscl0sbC5pbnZlcnQmJihlPWwoZSkscj1sKHIpKSxlPnImJihjPWUsZT1yLHI9YyksKGUhPWZbMF18fHIhPWZbMV0pJiYoZj1bZSxyXSkpLHMmJih1PXRbMF0saT10WzFdLGwmJih1PXVbMV0saT1pWzFdKSxhPVt1LGldLHMuaW52ZXJ0JiYodT1zKHUpLGk9cyhpKSksdT5pJiYoYz11LHU9aSxpPWMpLCh1IT1oWzBdfHxpIT1oWzFdKSYmKGg9W3UsaV0pKSxuKToobCYmKG8/KGU9b1swXSxyPW9bMV0pOihlPWZbMF0scj1mWzFdLGwuaW52ZXJ0JiYoZT1sLmludmVydChlKSxyPWwuaW52ZXJ0KHIpKSxlPnImJihjPWUsZT1yLHI9YykpKSxzJiYoYT8odT1hWzBdLGk9YVsxXSk6KHU9aFswXSxpPWhbMV0scy5pbnZlcnQmJih1PXMuaW52ZXJ0KHUpLGk9cy5pbnZlcnQoaSkpLHU+aSYmKGM9dSx1PWksaT1jKSkpLGwmJnM/W1tlLHVdLFtyLGldXTpsP1tlLHJdOnMmJlt1LGldKX0sbi5jbGVhcj1mdW5jdGlvbigpe3JldHVybiBuLmVtcHR5KCl8fChmPVswLDBdLGg9WzAsMF0sbz1hPW51bGwpLG59LG4uZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hIWwmJmZbMF09PWZbMV18fCEhcyYmaFswXT09aFsxXX0sdGEucmViaW5kKG4sYyxcIm9uXCIpfTt2YXIgSGw9e246XCJucy1yZXNpemVcIixlOlwiZXctcmVzaXplXCIsczpcIm5zLXJlc2l6ZVwiLHc6XCJldy1yZXNpemVcIixudzpcIm53c2UtcmVzaXplXCIsbmU6XCJuZXN3LXJlc2l6ZVwiLHNlOlwibndzZS1yZXNpemVcIixzdzpcIm5lc3ctcmVzaXplXCJ9LE9sPVtbXCJuXCIsXCJlXCIsXCJzXCIsXCJ3XCIsXCJud1wiLFwibmVcIixcInNlXCIsXCJzd1wiXSxbXCJlXCIsXCJ3XCJdLFtcIm5cIixcInNcIl0sW11dLElsPWFjLmZvcm1hdD1nYy50aW1lRm9ybWF0LFlsPUlsLnV0YyxabD1ZbChcIiVZLSVtLSVkVCVIOiVNOiVTLiVMWlwiKTtJbC5pc289RGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcmJituZXcgRGF0ZShcIjIwMDAtMDEtMDFUMDA6MDA6MDAuMDAwWlwiKT9KbzpabCxKby5wYXJzZT1mdW5jdGlvbihuKXt2YXIgdD1uZXcgRGF0ZShuKTtyZXR1cm4gaXNOYU4odCk/bnVsbDp0fSxKby50b1N0cmluZz1abC50b1N0cmluZyxhYy5zZWNvbmQ9RnQoZnVuY3Rpb24obil7cmV0dXJuIG5ldyBjYygxZTMqTWF0aC5mbG9vcihuLzFlMykpfSxmdW5jdGlvbihuLHQpe24uc2V0VGltZShuLmdldFRpbWUoKSsxZTMqTWF0aC5mbG9vcih0KSl9LGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFNlY29uZHMoKX0pLGFjLnNlY29uZHM9YWMuc2Vjb25kLnJhbmdlLGFjLnNlY29uZHMudXRjPWFjLnNlY29uZC51dGMucmFuZ2UsYWMubWludXRlPUZ0KGZ1bmN0aW9uKG4pe3JldHVybiBuZXcgY2MoNmU0Kk1hdGguZmxvb3Iobi82ZTQpKX0sZnVuY3Rpb24obix0KXtuLnNldFRpbWUobi5nZXRUaW1lKCkrNmU0Kk1hdGguZmxvb3IodCkpfSxmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRNaW51dGVzKCl9KSxhYy5taW51dGVzPWFjLm1pbnV0ZS5yYW5nZSxhYy5taW51dGVzLnV0Yz1hYy5taW51dGUudXRjLnJhbmdlLGFjLmhvdXI9RnQoZnVuY3Rpb24obil7dmFyIHQ9bi5nZXRUaW1lem9uZU9mZnNldCgpLzYwO3JldHVybiBuZXcgY2MoMzZlNSooTWF0aC5mbG9vcihuLzM2ZTUtdCkrdCkpfSxmdW5jdGlvbihuLHQpe24uc2V0VGltZShuLmdldFRpbWUoKSszNmU1Kk1hdGguZmxvb3IodCkpfSxmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRIb3VycygpfSksYWMuaG91cnM9YWMuaG91ci5yYW5nZSxhYy5ob3Vycy51dGM9YWMuaG91ci51dGMucmFuZ2UsYWMubW9udGg9RnQoZnVuY3Rpb24obil7cmV0dXJuIG49YWMuZGF5KG4pLG4uc2V0RGF0ZSgxKSxufSxmdW5jdGlvbihuLHQpe24uc2V0TW9udGgobi5nZXRNb250aCgpK3QpfSxmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRNb250aCgpfSksYWMubW9udGhzPWFjLm1vbnRoLnJhbmdlLGFjLm1vbnRocy51dGM9YWMubW9udGgudXRjLnJhbmdlO3ZhciBWbD1bMWUzLDVlMywxNWUzLDNlNCw2ZTQsM2U1LDllNSwxOGU1LDM2ZTUsMTA4ZTUsMjE2ZTUsNDMyZTUsODY0ZTUsMTcyOGU1LDYwNDhlNSwyNTkyZTYsNzc3NmU2LDMxNTM2ZTZdLFhsPVtbYWMuc2Vjb25kLDFdLFthYy5zZWNvbmQsNV0sW2FjLnNlY29uZCwxNV0sW2FjLnNlY29uZCwzMF0sW2FjLm1pbnV0ZSwxXSxbYWMubWludXRlLDVdLFthYy5taW51dGUsMTVdLFthYy5taW51dGUsMzBdLFthYy5ob3VyLDFdLFthYy5ob3VyLDNdLFthYy5ob3VyLDZdLFthYy5ob3VyLDEyXSxbYWMuZGF5LDFdLFthYy5kYXksMl0sW2FjLndlZWssMV0sW2FjLm1vbnRoLDFdLFthYy5tb250aCwzXSxbYWMueWVhciwxXV0sJGw9SWwubXVsdGkoW1tcIi4lTFwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldE1pbGxpc2Vjb25kcygpfV0sW1wiOiVTXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0U2Vjb25kcygpfV0sW1wiJUk6JU1cIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRNaW51dGVzKCl9XSxbXCIlSSAlcFwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldEhvdXJzKCl9XSxbXCIlYSAlZFwiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldERheSgpJiYxIT1uLmdldERhdGUoKX1dLFtcIiViICVkXCIsZnVuY3Rpb24obil7cmV0dXJuIDEhPW4uZ2V0RGF0ZSgpfV0sW1wiJUJcIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRNb250aCgpfV0sW1wiJVlcIixOZV1dKSxCbD17cmFuZ2U6ZnVuY3Rpb24obix0LGUpe3JldHVybiB0YS5yYW5nZShNYXRoLmNlaWwobi9lKSplLCt0LGUpLm1hcChLbyl9LGZsb29yOnksY2VpbDp5fTtYbC55ZWFyPWFjLnllYXIsYWMuc2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gR28odGEuc2NhbGUubGluZWFyKCksWGwsJGwpfTt2YXIgV2w9WGwubWFwKGZ1bmN0aW9uKG4pe3JldHVybltuWzBdLnV0YyxuWzFdXX0pLEpsPVlsLm11bHRpKFtbXCIuJUxcIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENNaWxsaXNlY29uZHMoKX1dLFtcIjolU1wiLGZ1bmN0aW9uKG4pe3JldHVybiBuLmdldFVUQ1NlY29uZHMoKX1dLFtcIiVJOiVNXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0VVRDTWludXRlcygpfV0sW1wiJUkgJXBcIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENIb3VycygpfV0sW1wiJWEgJWRcIixmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRVVENEYXkoKSYmMSE9bi5nZXRVVENEYXRlKCl9XSxbXCIlYiAlZFwiLGZ1bmN0aW9uKG4pe3JldHVybiAxIT1uLmdldFVUQ0RhdGUoKX1dLFtcIiVCXCIsZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0VVRDTW9udGgoKX1dLFtcIiVZXCIsTmVdXSk7V2wueWVhcj1hYy55ZWFyLnV0YyxhYy5zY2FsZS51dGM9ZnVuY3Rpb24oKXtyZXR1cm4gR28odGEuc2NhbGUubGluZWFyKCksV2wsSmwpfSx0YS50ZXh0PUF0KGZ1bmN0aW9uKG4pe3JldHVybiBuLnJlc3BvbnNlVGV4dH0pLHRhLmpzb249ZnVuY3Rpb24obix0KXtyZXR1cm4gTnQobixcImFwcGxpY2F0aW9uL2pzb25cIixRbyx0KX0sdGEuaHRtbD1mdW5jdGlvbihuLHQpe3JldHVybiBOdChuLFwidGV4dC9odG1sXCIsbmEsdCl9LHRhLnhtbD1BdChmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXNwb25zZVhNTH0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodGEpOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9dGEpLHRoaXMuZDM9dGF9KCk7XG4hZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsYSl7cmV0dXJue3R5cGU6XCJGZWF0dXJlXCIsaWQ6dC5pZCxwcm9wZXJ0aWVzOnQucHJvcGVydGllcyxnZW9tZXRyeTpuKHQuZ2VvbWV0cnksYSl9fWZ1bmN0aW9uIG4odCxhKXtpZighdClyZXR1cm4gbnVsbDtpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09dC50eXBlKXJldHVybnt0eXBlOlwiR2VvbWV0cnlDb2xsZWN0aW9uXCIsZ2VvbWV0cmllczpvYmplY3QuZ2VvbWV0cmllcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4odCxhKX0pfTtpZighbGEuaGFzT3duUHJvcGVydHkodC50eXBlKSlyZXR1cm4gbnVsbDt2YXIgcj1sYVt0LnR5cGVdO3JldHVybiBkMy5nZW8uc3RyZWFtKHQsYShyKSksci5yZXN1bHQoKX1mdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIHIodCl7aWYoKG49dC5sZW5ndGgpPDQpcmV0dXJuITE7Zm9yKHZhciBuLGE9MCxyPXRbbi0xXVsxXSp0WzBdWzBdLXRbbi0xXVswXSp0WzBdWzFdOysrYTxuOylyKz10W2EtMV1bMV0qdFthXVswXS10W2EtMV1bMF0qdFthXVsxXTtyZXR1cm4gMD49cn1mdW5jdGlvbiBlKHQsbil7Zm9yKHZhciBhPW5bMF0scj1uWzFdLGU9ITEsbz0wLGk9dC5sZW5ndGgsaD1pLTE7aT5vO2g9bysrKXt2YXIgdT10W29dLE09dVswXSxzPXVbMV0sYz10W2hdLGY9Y1swXSx2PWNbMV07cz5yXnY+ciYmKGYtTSkqKHItcykvKHYtcykrTT5hJiYoZT0hZSl9cmV0dXJuIGV9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdD90L01hdGguc2luKHQpOjF9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdD4wPzE6MD50Py0xOjB9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdD4xP3BhOi0xPnQ/LXBhOk1hdGguYXNpbih0KX1mdW5jdGlvbiB1KHQpe3JldHVybiB0PjE/MDotMT50P2JhOk1hdGguYWNvcyh0KX1mdW5jdGlvbiBNKHQpe3JldHVybiB0PjA/TWF0aC5zcXJ0KHQpOjB9ZnVuY3Rpb24gcyh0KXtmdW5jdGlvbiBuKHQsbil7dmFyIGE9TWF0aC5jb3ModCksZT1NYXRoLmNvcyhuKSxvPU1hdGguc2luKG4pLGk9ZSphLGg9LSgoMS1pP01hdGgubG9nKC41KigxK2kpKS8oMS1pKTotLjUpK3IvKDEraSkpO3JldHVybltoKmUqTWF0aC5zaW4odCksaCpvXX12YXIgYT1NYXRoLnRhbiguNSp0KSxyPTIqTWF0aC5sb2coTWF0aC5jb3MoLjUqdCkpLyhhKmEpO3JldHVybiBuLmludmVydD1mdW5jdGlvbihuLGEpe3ZhciBlLG89TWF0aC5zcXJ0KG4qbithKmEpLGk9dCotLjUsdT01MDtpZighbylyZXR1cm5bMCwwXTtkb3t2YXIgTT0uNSppLHM9TWF0aC5jb3MoTSksYz1NYXRoLnNpbihNKSxmPU1hdGgudGFuKE0pLHY9TWF0aC5sb2coMS9zKTtpLT1lPSgyL2Yqdi1yKmYtbykvKC12LyhjKmMpKzEtci8oMipzKnMpKX13aGlsZShNYXRoLmFicyhlKT5nYSYmLS11PjApO3ZhciBsPU1hdGguc2luKGkpO3JldHVybltNYXRoLmF0YW4yKG4qbCxvKk1hdGguY29zKGkpKSxoKGEqbC9vKV19LG59ZnVuY3Rpb24gYygpe3ZhciB0PXBhLG49U2EocyksYT1uKHQpO3JldHVybiBhLnJhZGl1cz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uKHQ9YSpiYS8xODApOjE4MCoodC9iYSl9LGF9ZnVuY3Rpb24gZih0LG4pe3ZhciBhPU1hdGguY29zKG4pLHI9byh1KGEqTWF0aC5jb3ModC89MikpKTtyZXR1cm5bMiphKk1hdGguc2luKHQpKnIsTWF0aC5zaW4obikqcl19ZnVuY3Rpb24gdih0KXtmdW5jdGlvbiBuKHQsbil7dmFyIGg9TWF0aC5jb3MobiksdT1NYXRoLmNvcyh0Lz0yKTtyZXR1cm5bKDEraCkqTWF0aC5zaW4odCksKGUqbj4tTWF0aC5hdGFuMih1LG8pLS4wMDE/MDoxMCotZSkraStNYXRoLnNpbihuKSpyLSgxK2gpKmEqdV19dmFyIGE9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KSxlPXQ+MD8xOi0xLG89TWF0aC50YW4oZSp0KSxpPSgxK2EtcikvMjtyZXR1cm4gbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgaD0wLHU9MCxNPTUwO2Rve3ZhciBzPU1hdGguY29zKGgpLGM9TWF0aC5zaW4oaCksZj1NYXRoLmNvcyh1KSx2PU1hdGguc2luKHUpLGw9MStmLGc9bCpjLXQsZD1pK3Yqci1sKmEqcy1uLGI9LjUqbCpzLHA9LWMqdix3PS41KmEqbCpjLHE9cipmK2Eqcyp2LG09cCp3LXEqYix5PS41KihkKnAtZypxKS9tLFM9KGcqdy1kKmIpL207aC09eSx1LT1TfXdoaWxlKChNYXRoLmFicyh5KT5nYXx8TWF0aC5hYnMoUyk+Z2EpJiYtLU0+MCk7cmV0dXJuIGUqdT4tTWF0aC5hdGFuMihNYXRoLmNvcyhoKSxvKS0uMDAxP1syKmgsdV06bnVsbH0sbn1mdW5jdGlvbiBsKCl7dmFyIHQ9YmEvOSxuPXQ+MD8xOi0xLGE9TWF0aC50YW4obip0KSxyPVNhKHYpLGU9cih0KSxvPWUuc3RyZWFtO3JldHVybiBlLnBhcmFsbGVsPWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhhPU1hdGgudGFuKChuPSh0PWUqYmEvMTgwKT4wPzE6LTEpKnQpLHIodCkpOjE4MCoodC9iYSl9LGUuc3RyZWFtPWZ1bmN0aW9uKHIpe3ZhciBpPWUucm90YXRlKCksaD1vKHIpLHU9KGUucm90YXRlKFswLDBdKSxvKHIpKTtyZXR1cm4gZS5yb3RhdGUoaSksaC5zcGhlcmU9ZnVuY3Rpb24oKXt1LnBvbHlnb25TdGFydCgpLHUubGluZVN0YXJ0KCk7Zm9yKHZhciByPS0xODAqbjsxODA+bipyO3IrPTkwKm4pdS5wb2ludChyLDkwKm4pO2Zvcig7biooci09dCk+PS0xODA7KXUucG9pbnQocixuKi1NYXRoLmF0YW4yKE1hdGguY29zKHIqcWEvMiksYSkqbWEpO3UubGluZUVuZCgpLHUucG9seWdvbkVuZCgpfSxofSxlfWZ1bmN0aW9uIGcodCl7cmV0dXJuIHQ9TWF0aC5leHAoMip0KSwodC0xKS8odCsxKX1mdW5jdGlvbiBkKHQpe3JldHVybi41KihNYXRoLmV4cCh0KS1NYXRoLmV4cCgtdCkpfWZ1bmN0aW9uIGIodCl7cmV0dXJuLjUqKE1hdGguZXhwKHQpK01hdGguZXhwKC10KSl9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gTWF0aC5sb2codCtNKHQqdCsxKSl9ZnVuY3Rpb24gdyh0KXtyZXR1cm4gTWF0aC5sb2codCtNKHQqdC0xKSl9ZnVuY3Rpb24gcSh0LG4pe3ZhciBhPU1hdGgudGFuKG4vMikscj1NKDEtYSphKSxlPTErcipNYXRoLmNvcyh0Lz0yKSxvPU1hdGguc2luKHQpKnIvZSxpPWEvZSxoPW8qbyx1PWkqaTtyZXR1cm5bNC8zKm8qKDMraC0zKnUpLDQvMyppKigzKzMqaC11KV19ZnVuY3Rpb24gbSh0LG4pe3ZhciBhPU1hdGguYWJzKG4pO3JldHVybiBiYS80PmE/W3QsTWF0aC5sb2coTWF0aC50YW4oYmEvNCtuLzIpKV06W3QqTWF0aC5jb3MoYSkqKDIqTWF0aC5TUVJUMi0xL01hdGguc2luKGEpKSxpKG4pKigyKk1hdGguU1FSVDIqKGEtYmEvNCktTWF0aC5sb2coTWF0aC50YW4oYS8yKSkpXX1mdW5jdGlvbiB5KHQpe2Z1bmN0aW9uIG4odCxuKXt2YXIgcj1SYSh0LG4pO2lmKE1hdGguYWJzKHQpPnBhKXt2YXIgZT1NYXRoLmF0YW4yKHJbMV0sclswXSksbz1NYXRoLnNxcnQoclswXSpyWzBdK3JbMV0qclsxXSksaT1hKk1hdGgucm91bmQoKGUtcGEpL2EpK3BhLHU9TWF0aC5hdGFuMihNYXRoLnNpbihlLT1pKSwyLU1hdGguY29zKGUpKTtlPWkraChiYS9vKk1hdGguc2luKHUpKS11LHJbMF09bypNYXRoLmNvcyhlKSxyWzFdPW8qTWF0aC5zaW4oZSl9cmV0dXJuIHJ9dmFyIGE9MipiYS90O3JldHVybiBuLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciByPU1hdGguc3FydCh0KnQrbipuKTtpZihyPnBhKXt2YXIgZT1NYXRoLmF0YW4yKG4sdCksbz1hKk1hdGgucm91bmQoKGUtcGEpL2EpK3BhLGk9ZT5vPy0xOjEsaD1yKk1hdGguY29zKG8tZSksdT0xL01hdGgudGFuKGkqTWF0aC5hY29zKChoLWJhKS9NYXRoLnNxcnQoYmEqKGJhLTIqaCkrcipyKSkpO2U9bysyKk1hdGguYXRhbigodStpKk1hdGguc3FydCh1KnUtMykpLzMpLHQ9cipNYXRoLmNvcyhlKSxuPXIqTWF0aC5zaW4oZSl9cmV0dXJuIFJhLmludmVydCh0LG4pfSxufWZ1bmN0aW9uIFMoKXt2YXIgdD01LG49U2EoeSksYT1uKHQpLHI9YS5zdHJlYW0sZT0uMDEsbz0tTWF0aC5jb3MoZSpxYSksaT1NYXRoLnNpbihlKnFhKTtyZXR1cm4gYS5sb2Jlcz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uKHQ9K2EpOnR9LGEuc3RyZWFtPWZ1bmN0aW9uKG4pe3ZhciB1PWEucm90YXRlKCksTT1yKG4pLHM9KGEucm90YXRlKFswLDBdKSxyKG4pKTtyZXR1cm4gYS5yb3RhdGUodSksTS5zcGhlcmU9ZnVuY3Rpb24oKXtzLnBvbHlnb25TdGFydCgpLHMubGluZVN0YXJ0KCk7Zm9yKHZhciBuPTAsYT0zNjAvdCxyPTIqYmEvdCx1PTkwLTE4MC90LE09cGE7dD5uOysrbix1LT1hLE0tPXIpcy5wb2ludChNYXRoLmF0YW4yKGkqTWF0aC5jb3MoTSksbykqbWEsaChpKk1hdGguc2luKE0pKSptYSksLTkwPnU/KHMucG9pbnQoLTkwLC0xODAtdS1lKSxzLnBvaW50KC05MCwtMTgwLXUrZSkpOihzLnBvaW50KDkwLHUrZSkscy5wb2ludCg5MCx1LWUpKTtzLmxpbmVFbmQoKSxzLnBvbHlnb25FbmQoKX0sTX0sYX1mdW5jdGlvbiBRKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgYSxyPXQqTWF0aC5zaW4obiksZT0zMDtkbyBuLT1hPShuK01hdGguc2luKG4pLXIpLygxK01hdGguY29zKG4pKTt3aGlsZShNYXRoLmFicyhhKT5nYSYmLS1lPjApO3JldHVybiBuLzJ9fWZ1bmN0aW9uIFIodCxuLGEpe2Z1bmN0aW9uIHIoYSxyKXtyZXR1cm5bdCphKk1hdGguY29zKHI9ZShyKSksbipNYXRoLnNpbihyKV19dmFyIGU9UShhKTtyZXR1cm4gci5pbnZlcnQ9ZnVuY3Rpb24ocixlKXt2YXIgbz1oKGUvbik7cmV0dXJuW3IvKHQqTWF0aC5jb3MobykpLGgoKDIqbytNYXRoLnNpbigyKm8pKS9hKV19LHJ9ZnVuY3Rpb24gVCh0LG4pe3ZhciBhPTIuMDAyNzYscj1UYShuKTtyZXR1cm5bYSp0LygxL01hdGguY29zKG4pKzEuMTEwNzIvTWF0aC5jb3MocikpLChuK01hdGguU1FSVDIqTWF0aC5zaW4ocikpL2FdfWZ1bmN0aW9uIHgodCl7dmFyIG49MCxhPVNhKHQpLHI9YShuKTtyZXR1cm4gci5wYXJhbGxlbD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hKG49dCpiYS8xODApOjE4MCoobi9iYSl9LHJ9ZnVuY3Rpb24gRSh0LG4pe3JldHVyblt0Kk1hdGguY29zKG4pLG5dfWZ1bmN0aW9uIGsodCl7ZnVuY3Rpb24gbihuLHIpe3ZhciBlPWErdC1yLG89ZT9uKk1hdGguY29zKHIpL2U6ZTtyZXR1cm5bZSpNYXRoLnNpbihvKSxhLWUqTWF0aC5jb3MobyldfWlmKCF0KXJldHVybiBFO3ZhciBhPTEvTWF0aC50YW4odCk7cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKG4scil7dmFyIGU9TWF0aC5zcXJ0KG4qbisocj1hLXIpKnIpLG89YSt0LWU7cmV0dXJuW2UvTWF0aC5jb3MobykqTWF0aC5hdGFuMihuLHIpLG9dfSxufWZ1bmN0aW9uIFAodCl7ZnVuY3Rpb24gbihuLGEpe2Zvcih2YXIgcj1NYXRoLnNpbihhKSxlPU1hdGguY29zKGEpLG89bmV3IEFycmF5KDMpLE09MDszPk07KytNKXt2YXIgcz10W01dO2lmKG9bTV09eihhLXNbMV0sc1szXSxzWzJdLGUscixuLXNbMF0pLCFvW01dWzBdKXJldHVybiBzLnBvaW50O29bTV1bMV09RihvW01dWzFdLXMudlsxXSl9Zm9yKHZhciBjPXUuc2xpY2UoKSxNPTA7Mz5NOysrTSl7dmFyIGY9Mj09TT8wOk0rMSx2PUIodFtNXS52WzBdLG9bTV1bMF0sb1tmXVswXSk7b1tNXVsxXTwwJiYodj0tdiksTT8xPT1NPyh2PWktdixjWzBdLT1vW01dWzBdKk1hdGguY29zKHYpLGNbMV0tPW9bTV1bMF0qTWF0aC5zaW4odikpOih2PWgtdixjWzBdKz1vW01dWzBdKk1hdGguY29zKHYpLGNbMV0rPW9bTV1bMF0qTWF0aC5zaW4odikpOihjWzBdKz1vW01dWzBdKk1hdGguY29zKHYpLGNbMV0tPW9bTV1bMF0qTWF0aC5zaW4odikpfXJldHVybiBjWzBdLz0zLGNbMV0vPTMsY310PXQubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0WzBdLHRbMV0sTWF0aC5zaW4odFsxXSksTWF0aC5jb3ModFsxXSldfSk7Zm9yKHZhciBhLHI9dFsyXSxlPTA7Mz5lOysrZSxyPWEpYT10W2VdLHIudj16KGFbMV0tclsxXSxyWzNdLHJbMl0sYVszXSxhWzJdLGFbMF0tclswXSksci5wb2ludD1bMCwwXTt2YXIgbz1CKHRbMF0udlswXSx0WzJdLnZbMF0sdFsxXS52WzBdKSxpPUIodFswXS52WzBdLHRbMV0udlswXSx0WzJdLnZbMF0pLGg9YmEtbzt0WzJdLnBvaW50WzFdPTAsdFswXS5wb2ludFswXT0tKHRbMV0ucG9pbnRbMF09LjUqdFswXS52WzBdKTt2YXIgdT1bdFsyXS5wb2ludFswXT10WzBdLnBvaW50WzBdK3RbMl0udlswXSpNYXRoLmNvcyhvKSwyKih0WzBdLnBvaW50WzFdPXRbMV0ucG9pbnRbMV09dFsyXS52WzBdKk1hdGguc2luKG8pKV07cmV0dXJuIG59ZnVuY3Rpb24gXygpe3ZhciB0PVtbMCwwXSxbMCwwXSxbMCwwXV0sbj1TYShQKSxhPW4odCkscj1hLnJvdGF0ZTtyZXR1cm4gZGVsZXRlIGEucm90YXRlLGEucG9pbnRzPWZ1bmN0aW9uKGUpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0O3Q9ZTt2YXIgbz1kMy5nZW8uY2VudHJvaWQoe3R5cGU6XCJNdWx0aVBvaW50XCIsY29vcmRpbmF0ZXM6dH0pLGk9Wy1vWzBdLC1vWzFdXTtyZXR1cm4gci5jYWxsKGEsaSksbih0Lm1hcChkMy5nZW8ucm90YXRpb24oaSkpLm1hcChBKSl9LGEucG9pbnRzKFtbLTE1MCw1NV0sWy0zNSw1NV0sWy05Mi41LDEwXV0pfWZ1bmN0aW9uIHoodCxuLGEscixlLG8pe3ZhciBpLE09TWF0aC5jb3Mobyk7aWYoTWF0aC5hYnModCk+MXx8TWF0aC5hYnMobyk+MSlpPXUoYSplK24qcipNKTtlbHNle3ZhciBzPU1hdGguc2luKC41KnQpLGM9TWF0aC5zaW4oLjUqbyk7aT0yKmgoTWF0aC5zcXJ0KHMqcytuKnIqYypjKSl9cmV0dXJuIE1hdGguYWJzKGkpPmdhP1tpLE1hdGguYXRhbjIocipNYXRoLnNpbihvKSxuKmUtYSpyKk0pXTpbMCwwXX1mdW5jdGlvbiBCKHQsbixhKXtyZXR1cm4gdSguNSoodCp0K24qbi1hKmEpLyh0Km4pKX1mdW5jdGlvbiBGKHQpe3JldHVybiB0LTIqYmEqTWF0aC5mbG9vcigodCtiYSkvKDIqYmEpKX1mdW5jdGlvbiBBKHQpe3JldHVyblt0WzBdKnFhLHRbMV0qcWFdfWZ1bmN0aW9uIEcodCxuKXt2YXIgYT1NKDEtTWF0aC5zaW4obikpO3JldHVyblsyL3dhKnQqYSx3YSooMS1hKV19ZnVuY3Rpb24gaih0KXtmdW5jdGlvbiBuKHQsbil7cmV0dXJuW3QsKHQ/dC9NYXRoLnNpbih0KToxKSooTWF0aC5zaW4obikqTWF0aC5jb3ModCktYSpNYXRoLmNvcyhuKSldfXZhciBhPU1hdGgudGFuKHQpO3JldHVybiBuLmludmVydD1hP2Z1bmN0aW9uKHQsbil7dCYmKG4qPU1hdGguc2luKHQpL3QpO3ZhciByPU1hdGguY29zKHQpO3JldHVyblt0LDIqTWF0aC5hdGFuMihNYXRoLnNxcnQocipyK2EqYS1uKm4pLXIsYS1uKV19OmZ1bmN0aW9uKHQsbil7cmV0dXJuW3QsaCh0P24qTWF0aC50YW4odCkvdDpuKV19LG59ZnVuY3Rpb24gQyh0LG4pe3ZhciBhPU1hdGguc3FydCgzKTtyZXR1cm5bYSp0KigyKk1hdGguY29zKDIqbi8zKS0xKS93YSxhKndhKk1hdGguc2luKG4vMyldfWZ1bmN0aW9uIEQodCl7ZnVuY3Rpb24gbih0LG4pe3JldHVyblt0KmEsTWF0aC5zaW4obikvYV19dmFyIGE9TWF0aC5jb3ModCk7cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7cmV0dXJuW3QvYSxoKG4qYSldfSxufWZ1bmN0aW9uIEwodCl7ZnVuY3Rpb24gbih0LG4pe3JldHVyblt0KmEsKDErYSkqTWF0aC50YW4oLjUqbildfXZhciBhPU1hdGguY29zKHQpO3JldHVybiBuLmludmVydD1mdW5jdGlvbih0LG4pe3JldHVyblt0L2EsMipNYXRoLmF0YW4obi8oMSthKSldfSxufWZ1bmN0aW9uIE8odCxuKXt2YXIgYT1NYXRoLnNxcnQoOC8oMypiYSkpO3JldHVyblthKnQqKDEtTWF0aC5hYnMobikvYmEpLGEqbl19ZnVuY3Rpb24gSCh0LG4pe3ZhciBhPU1hdGguc3FydCg0LTMqTWF0aC5zaW4oTWF0aC5hYnMobikpKTtyZXR1cm5bMi9NYXRoLnNxcnQoNipiYSkqdCphLGkobikqTWF0aC5zcXJ0KDIqYmEvMykqKDItYSldfWZ1bmN0aW9uIEkodCxuKXt2YXIgYT1NYXRoLnNxcnQoYmEqKDQrYmEpKTtyZXR1cm5bMi9hKnQqKDErTWF0aC5zcXJ0KDEtNCpuKm4vKGJhKmJhKSkpLDQvYSpuXX1mdW5jdGlvbiBKKHQsbil7dmFyIGE9KDIrcGEpKk1hdGguc2luKG4pO24vPTI7Zm9yKHZhciByPTAsZT0xLzA7MTA+ciYmTWF0aC5hYnMoZSk+Z2E7cisrKXt2YXIgbz1NYXRoLmNvcyhuKTtuLT1lPShuK01hdGguc2luKG4pKihvKzIpLWEpLygyKm8qKDErbykpfXJldHVyblsyL01hdGguc3FydChiYSooNCtiYSkpKnQqKDErTWF0aC5jb3MobikpLDIqTWF0aC5zcXJ0KGJhLyg0K2JhKSkqTWF0aC5zaW4obildfWZ1bmN0aW9uIEsodCxuKXtyZXR1cm5bdCooMStNYXRoLmNvcyhuKSkvTWF0aC5zcXJ0KDIrYmEpLDIqbi9NYXRoLnNxcnQoMitiYSldfWZ1bmN0aW9uIE4odCxuKXtmb3IodmFyIGE9KDErcGEpKk1hdGguc2luKG4pLHI9MCxlPTEvMDsxMD5yJiZNYXRoLmFicyhlKT5nYTtyKyspbi09ZT0obitNYXRoLnNpbihuKS1hKS8oMStNYXRoLmNvcyhuKSk7cmV0dXJuIGE9TWF0aC5zcXJ0KDIrYmEpLFt0KigxK01hdGguY29zKG4pKS9hLDIqbi9hXX1mdW5jdGlvbiBVKHQsbil7dmFyIGE9TWF0aC5zaW4odC89Mikscj1NYXRoLmNvcyh0KSxlPU1hdGguc3FydChNYXRoLmNvcyhuKSksbz1NYXRoLmNvcyhuLz0yKSxpPU1hdGguc2luKG4pLyhvK01hdGguU1FSVDIqciplKSxoPU1hdGguc3FydCgyLygxK2kqaSkpLHU9TWF0aC5zcXJ0KChNYXRoLlNRUlQyKm8rKHIrYSkqZSkvKE1hdGguU1FSVDIqbysoci1hKSplKSk7cmV0dXJuW2thKihoKih1LTEvdSktMipNYXRoLmxvZyh1KSksa2EqKGgqaSoodSsxL3UpLTIqTWF0aC5hdGFuKGkpKV19ZnVuY3Rpb24gVih0LG4pe3ZhciBhPU1hdGgudGFuKG4vMik7cmV0dXJuW3QqUGEqTSgxLWEqYSksKDErUGEpKmFdfWZ1bmN0aW9uIFcodCxuKXt2YXIgYT1uLzIscj1NYXRoLmNvcyhhKTtyZXR1cm5bMip0L3dhKk1hdGguY29zKG4pKnIqcix3YSpNYXRoLnRhbihhKV19ZnVuY3Rpb24gWCh0LG4pe2Z1bmN0aW9uIGEobixhKXt2YXIgbz1fYShuLGEpLGk9b1swXSxoPW9bMV0sdT1pKmkraCpoO2lmKHU+ZSl7dmFyIE09TWF0aC5zcXJ0KHUpLHM9TWF0aC5hdGFuMihoLGkpLGM9cipNYXRoLnJvdW5kKHMvciksZj1zLWMsdj10Kk1hdGguY29zKGYpLGw9KHQqTWF0aC5zaW4oZiktZipNYXRoLnNpbih2KSkvKHBhLXYpLGc9WShmLGwpLGQ9KGJhLXQpLyQoZyx2LGJhKTtpPU07dmFyIGIscD01MDtkbyBpLT1iPSh0KyQoZyx2LGkpKmQtTSkvKGcoaSkqZCk7d2hpbGUoTWF0aC5hYnMoYik+Z2EmJi0tcD4wKTtoPWYqTWF0aC5zaW4oaSkscGE+aSYmKGgtPWwqKGktcGEpKTt2YXIgdz1NYXRoLnNpbihjKSxxPU1hdGguY29zKGMpO29bMF09aSpxLWgqdyxvWzFdPWkqdytoKnF9cmV0dXJuIG99dmFyIHI9MipiYS9uLGU9dCp0O3JldHVybiBhLmludmVydD1mdW5jdGlvbihuLGEpe3ZhciBvPW4qbithKmE7aWYobz5lKXt2YXIgaT1NYXRoLnNxcnQobyksaD1NYXRoLmF0YW4yKGEsbiksdT1yKk1hdGgucm91bmQoaC9yKSxNPWgtdSxuPWkqTWF0aC5jb3MoTSk7YT1pKk1hdGguc2luKE0pO2Zvcih2YXIgcz1uLXBhLGM9TWF0aC5zaW4obiksZj1hL2Msdj1wYT5uPzEvMDowLGw9MTA7Oyl7dmFyIGc9dCpNYXRoLnNpbihmKSxkPXQqTWF0aC5jb3MoZiksYj1NYXRoLnNpbihkKSxwPXBhLWQsdz0oZy1mKmIpL3AscT1ZKGYsdyk7aWYoTWF0aC5hYnModik8ZGF8fCEtLWwpYnJlYWs7Zi09dj0oZipjLXcqcy1hKS8oYy0yKnMqKHAqKGQrZipnKk1hdGguY29zKGQpLWIpLWcqKGctZipiKSkvKHAqcCkpfWk9dCskKHEsZCxuKSooYmEtdCkvJChxLGQsYmEpLGg9dStmLG49aSpNYXRoLmNvcyhoKSxhPWkqTWF0aC5zaW4oaCl9cmV0dXJuIF9hLmludmVydChuLGEpfSxhfWZ1bmN0aW9uIFkodCxuKXtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIHI9dCpNYXRoLmNvcyhhKTtyZXR1cm4gcGE+YSYmKHItPW4pLE1hdGguc3FydCgxK3Iqcil9fWZ1bmN0aW9uIFooKXt2YXIgdD02LG49MzAqcWEsYT1NYXRoLmNvcyhuKSxyPU1hdGguc2luKG4pLGU9U2EoWCksbz1lKG4sdCksaT1vLnN0cmVhbSxoPS4wMSx1PS1NYXRoLmNvcyhoKnFhKSxNPU1hdGguc2luKGgqcWEpO3JldHVybiBvLnJhZGl1cz1mdW5jdGlvbihvKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYT1NYXRoLmNvcyhuPW8qcWEpLHI9TWF0aC5zaW4obiksZShuLHQpKTpuKm1hfSxvLmxvYmVzPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2Uobix0PSthKTp0fSxvLnN0cmVhbT1mdW5jdGlvbihuKXt2YXIgZT1vLnJvdGF0ZSgpLGg9aShuKSxzPShvLnJvdGF0ZShbMCwwXSksaShuKSk7cmV0dXJuIG8ucm90YXRlKGUpLGguc3BoZXJlPWZ1bmN0aW9uKCl7cy5wb2x5Z29uU3RhcnQoKSxzLmxpbmVTdGFydCgpO2Zvcih2YXIgbj0wLGU9MipiYS90LG89MDt0Pm47KytuLG8tPWUpcy5wb2ludChNYXRoLmF0YW4yKE0qTWF0aC5jb3MobyksdSkqbWEsTWF0aC5hc2luKE0qTWF0aC5zaW4obykpKm1hKSxzLnBvaW50KE1hdGguYXRhbjIocipNYXRoLmNvcyhvLWUvMiksYSkqbWEsTWF0aC5hc2luKHIqTWF0aC5zaW4oby1lLzIpKSptYSk7cy5saW5lRW5kKCkscy5wb2x5Z29uRW5kKCl9LGh9LG99ZnVuY3Rpb24gJCh0LG4sYSl7Zm9yKHZhciByPTUwLGU9KGEtbikvcixvPXQobikrdChhKSxpPTEsaD1uO3I+aTsrK2kpbys9Mip0KGgrPWUpO3JldHVybi41Km8qZX1mdW5jdGlvbiB0bih0LG4sYSxyLGUsbyxpLGgpe2Z1bmN0aW9uIHUodSxNKXtpZighTSlyZXR1cm5bdCp1L2JhLDBdO3ZhciBzPU0qTSxjPXQrcyoobitzKihhK3MqcikpLGY9TSooZS0xK3MqKG8taCtzKmkpKSx2PShjKmMrZipmKS8oMipmKSxsPXUqTWF0aC5hc2luKGMvdikvYmE7cmV0dXJuW3YqTWF0aC5zaW4obCksTSooMStzKmgpK3YqKDEtTWF0aC5jb3MobCkpXX1yZXR1cm4gYXJndW1lbnRzLmxlbmd0aDw4JiYoaD0wKSx1LmludmVydD1mdW5jdGlvbih1LHMpe3ZhciBjLGYsdj1iYSp1L3QsbD1zLGc9NTA7ZG97dmFyIGQ9bCpsLGI9dCtkKihuK2QqKGErZCpyKSkscD1sKihlLTErZCooby1oK2QqaSkpLHc9YipiK3AqcCxxPTIqcCxtPXcvcSx5PW0qbSxTPU1hdGguYXNpbihiL20pL2JhLFE9dipTO2lmKHhCMj1iKmIsZHhCZM+GPSgyKm4rZCooNCphKzYqZCpyKSkqbCxkeUJkz4Y9ZStkKigzKm8rNSpkKmkpLGRwZM+GPTIqKGIqZHhCZM+GK3AqKGR5QmTPhi0xKSksZHFkz4Y9MiooZHlCZM+GLTEpLGRtZM+GPShkcGTPhipxLXcqZHFkz4YpLyhxKnEpLGNvc86xPU1hdGguY29zKFEpLHNpbs6xPU1hdGguc2luKFEpLG1jb3POsT1tKmNvc86xLG1zaW7OsT1tKnNpbs6xLGTOsWTPhj12L2JhKigxL00oMS14QjIveSkpKihkeEJkz4YqbS1iKmRtZM+GKS95LGZ4PW1zaW7OsS11LGZ5PWwqKDErZCpoKSttLW1jb3POsS1zLM60eM60z4Y9ZG1kz4Yqc2luzrErbWNvc86xKmTOsWTPhizOtHjOtM67PW1jb3POsSpTLM60ec60z4Y9MStkbWTPhi0oZG1kz4YqY29zzrEtbXNpbs6xKmTOsWTPhikszrR5zrTOuz1tc2luzrEqUyxkZW5vbWluYXRvcj3OtHjOtM+GKs60ec60zrstzrR5zrTPhirOtHjOtM67LCFkZW5vbWluYXRvcilicmVhazt2LT1jPShmeSrOtHjOtM+GLWZ4Ks60ec60z4YpL2Rlbm9taW5hdG9yLGwtPWY9KGZ4Ks60ec60zrstZnkqzrR4zrTOuykvZGVub21pbmF0b3J9d2hpbGUoKE1hdGguYWJzKGMpPmdhfHxNYXRoLmFicyhmKT5nYSkmJi0tZz4wKTtyZXR1cm5bdixsXX0sdX1mdW5jdGlvbiBubih0LG4pe3ZhciBhPXQqdCxyPW4qbjtyZXR1cm5bdCooMS0uMTYyMzg4KnIpKiguODctOTUyNDI2ZS05KmEqYSksbiooMStyLzEyKV19ZnVuY3Rpb24gYW4odCl7ZnVuY3Rpb24gbigpe3ZhciB0PSExLG49U2EoYSkscj1uKHQpO3JldHVybiByLnF1aW5jdW5jaWFsPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP24odD0hIWEpOnR9LHJ9ZnVuY3Rpb24gYShuKXt2YXIgYT1uP2Z1bmN0aW9uKG4sYSl7dmFyIGU9TWF0aC5hYnMobik8cGEsbz10KGU/bjpuPjA/bi1iYTpuK2JhLGEpLGg9KG9bMF0tb1sxXSkqTWF0aC5TUVJUMV8yLHU9KG9bMF0rb1sxXSkqTWF0aC5TUVJUMV8yO2lmKGUpcmV0dXJuW2gsdV07dmFyIE09cipNYXRoLlNRUlQxXzIscz1oPjBedT4wPy0xOjE7cmV0dXJuW3MqaC1pKHUpKk0scyp1LWkoaCkqTV19OmZ1bmN0aW9uKG4sYSl7dmFyIGU9bj4wPy0uNTouNSxvPXQobitlKmJhLGEpO3JldHVybiBvWzBdLT1lKnIsb307cmV0dXJuIHQuaW52ZXJ0JiYoYS5pbnZlcnQ9bj9mdW5jdGlvbihuLGEpe3ZhciBlPShuK2EpKk1hdGguU1FSVDFfMixvPShhLW4pKk1hdGguU1FSVDFfMixpPU1hdGguYWJzKGUpPC41KnImJk1hdGguYWJzKG8pPC41KnI7aWYoIWkpe3ZhciBoPXIqTWF0aC5TUVJUMV8yLHU9ZT4wXm8+MD8tMToxLE09LXUqKG4rKG8+MD8xOi0xKSpoKSxzPS11KihhKyhlPjA/MTotMSkqaCk7ZT0oLU0tcykqTWF0aC5TUVJUMV8yLG89KE0tcykqTWF0aC5TUVJUMV8yfXZhciBjPXQuaW52ZXJ0KGUsbyk7cmV0dXJuIGl8fChjWzBdKz1lPjA/YmE6LWJhKSxjfTpmdW5jdGlvbihuLGEpe3ZhciBlPW4+MD8tLjU6LjUsbz10LmludmVydChuK2UqcixhKSxpPW9bMF0tZSpiYTtyZXR1cm4tYmE+aT9pKz0yKmJhOmk+YmEmJihpLT0yKmJhKSxvWzBdPWksb30pLGF9dmFyIHI9dChwYSwwKVswXS10KC1wYSwwKVswXTtyZXR1cm4gbi5yYXc9YSxufWZ1bmN0aW9uIHJuKHQsbil7dmFyIGE9aSh0KSxyPWkobiksZT1NYXRoLmNvcyhuKSxvPU1hdGguY29zKHQpKmUsdT1NYXRoLnNpbih0KSplLE09TWF0aC5zaW4ocipuKTt0PU1hdGguYWJzKE1hdGguYXRhbjIodSxNKSksbj1oKG8pLE1hdGguYWJzKHQtcGEpPmdhJiYodCU9cGEpO3ZhciBzPWVuKHQ+YmEvND9wYS10OnQsbik7cmV0dXJuIHQ+YmEvNCYmKE09c1swXSxzWzBdPS1zWzFdLHNbMV09LU0pLHNbMF0qPWEsc1sxXSo9LXIsc31mdW5jdGlvbiBlbih0LG4pe2lmKG49PT1wYSlyZXR1cm5bMCwwXTt2YXIgYT1NYXRoLnNpbihuKSxyPWEqYSxlPXIqcixvPTErZSxpPTErMyplLHU9MS1lLHM9aCgxL01hdGguc3FydChvKSksYz11K3IqbypzLGY9KDEtYSkvYyx2PU1hdGguc3FydChmKSxsPWYqbyxnPU1hdGguc3FydChsKSxkPXYqdTtpZigwPT09dClyZXR1cm5bMCwtKGQrcipnKV07dmFyIGI9TWF0aC5jb3MobikscD0xL2Isdz0yKmEqYixxPSgtMypyK3MqaSkqdyxtPSgtYypiLSgxLWEpKnEpLyhjKmMpLHk9LjUqbS92LFM9dSp5LTIqcip2KncsUT1yKm8qbStmKmkqdyxSPS1wKncsVD0tcCpRLHg9LTIqcCpTLEU9NCp0L2JhO2lmKHQ+LjIyMipiYXx8YmEvND5uJiZ0Pi4xNzUqYmEpe3ZhciBrPShkK3IqTShsKigxK2UpLWQqZCkpLygxK2UpO2lmKHQ+YmEvNClyZXR1cm5bayxrXTt2YXIgUD1rLF89LjUqayx6PTUwO2s9LjUqKF8rUCk7ZG97dmFyIEI9TWF0aC5zcXJ0KGwtayprKSxGPWsqKHgrUipCKStUKmgoay9nKS1FO2lmKCFGKWJyZWFrOzA+Rj9fPWs6UD1rLGs9LjUqKF8rUCl9d2hpbGUoTWF0aC5hYnMoUC1fKT5nYSYmLS16PjApfWVsc2V7dmFyIEEsaz1nYSx6PTI1O2Rve3ZhciBHPWsqayxCPU0obC1HKSxqPXgrUipCLEY9aypqK1QqaChrL2cpLUUsQz1qKyhULVIqRykvQjtrLT1BPUI/Ri9DOjB9d2hpbGUoTWF0aC5hYnMoQSk+Z2EmJi0tej4wKX1yZXR1cm5baywtZC1yKk0obC1rKmspXX1mdW5jdGlvbiBvbih0LG4pe2Zvcih2YXIgYT0wLHI9MSxlPS41LG89NTA7Oyl7dmFyIGk9ZSplLGg9TWF0aC5zcXJ0KGUpLHU9TWF0aC5hc2luKDEvTWF0aC5zcXJ0KDEraSkpLE09MS1pK2UqKDEraSkqdSxzPSgxLWgpL00sYz1NYXRoLnNxcnQocyksZj1zKigxK2kpLHY9YyooMS1pKSxsPWYtdCp0LGc9TWF0aC5zcXJ0KGwpLGQ9bit2K2UqZztpZihNYXRoLmFicyhyLWEpPGRhfHwwPT09LS1vfHwwPT09ZClicmVhaztkPjA/YT1lOnI9ZSxlPS41KihhK3IpfWlmKCFvKXJldHVybiBudWxsO3ZhciBiPU1hdGguYXNpbihoKSxwPU1hdGguY29zKGIpLHc9MS9wLHE9MipoKnAsbT0oLTMqZSt1KigxKzMqaSkpKnEseT0oLU0qcC0oMS1oKSptKS8oTSpNKSxTPS41KnkvYyxRPSgxLWkpKlMtMiplKmMqcSxSPS0yKncqUSxUPS13KnEseD0tdyooZSooMStpKSp5K3MqKDErMyppKSpxKTtyZXR1cm5bYmEvNCoodCooUitUKmcpK3gqTWF0aC5hc2luKHQvTWF0aC5zcXJ0KGYpKSksYl19ZnVuY3Rpb24gaG4odCxuLGEpe2lmKCF0KXt2YXIgcj11bihuLDEtYSk7cmV0dXJuW1swLHJbMF0vclsxXV0sWzEvclsxXSwwXSxbclsyXS9yWzFdLDBdXX12YXIgZT11bih0LGEpO2lmKCFuKXJldHVybltbZVswXSwwXSxbZVsxXSwwXSxbZVsyXSwwXV07dmFyIHI9dW4obiwxLWEpLG89clsxXSpyWzFdK2EqZVswXSplWzBdKnJbMF0qclswXTtyZXR1cm5bW2VbMF0qclsyXS9vLGVbMV0qZVsyXSpyWzBdKnJbMV0vb10sW2VbMV0qclsxXS9vLC1lWzBdKmVbMl0qclswXSpyWzJdL29dLFtlWzJdKnJbMV0qclsyXS9vLC1hKmVbMF0qZVsxXSpyWzBdL29dXX1mdW5jdGlvbiB1bih0LG4pe3ZhciBhLHIsZSxvLGk7aWYoZ2E+bilyZXR1cm4gbz1NYXRoLnNpbih0KSxyPU1hdGguY29zKHQpLGE9LjI1Km4qKHQtbypyKSxbby1hKnIscithKm8sMS0uNSpuKm8qbyx0LWFdO2lmKG4+PTEtZ2EpcmV0dXJuIGE9LjI1KigxLW4pLHI9Yih0KSxvPWcodCksZT0xL3IsaT1yKmQodCksW28rYSooaS10KS8ocipyKSxlLWEqbyplKihpLXQpLGUrYSpvKmUqKGkrdCksMipNYXRoLmF0YW4oTWF0aC5leHAodCkpLXBhK2EqKGktdCkvcl07dmFyIHU9WzEsMCwwLDAsMCwwLDAsMCwwXSxzPVtNYXRoLnNxcnQobiksMCwwLDAsMCwwLDAsMCwwXSxjPTA7Zm9yKHI9TWF0aC5zcXJ0KDEtbiksaT0xO01hdGguYWJzKHNbY10vdVtjXSk+Z2EmJjg+YzspYT11W2MrK10sc1tjXT0uNSooYS1yKSx1W2NdPS41KihhK3IpLHI9TShhKnIpLGkqPTI7ZT1pKnVbY10qdDtkbyBvPXNbY10qTWF0aC5zaW4ocj1lKS91W2NdLGU9LjUqKGgobykrZSk7d2hpbGUoLS1jKTtyZXR1cm5bTWF0aC5zaW4oZSksbz1NYXRoLmNvcyhlKSxvL01hdGguY29zKGUtciksZV19ZnVuY3Rpb24gTW4odCxuLGEpe3ZhciByPU1hdGguYWJzKHQpLGU9TWF0aC5hYnMobiksbz1kKGUpO2lmKHIpe3ZhciBoPTEvTWF0aC5zaW4ociksdT0xLyhNYXRoLnRhbihyKSpNYXRoLnRhbihyKSkscz0tKHUrYSpvKm8qaCpoLTErYSksYz0oYS0xKSp1LGY9LjUqKC1zK01hdGguc3FydChzKnMtNCpjKSk7cmV0dXJuW3NuKE1hdGguYXRhbigxL01hdGguc3FydChmKSksYSkqaSh0KSxzbihNYXRoLmF0YW4oTSgoZi91LTEpL2EpKSwxLWEpKmkobildfXJldHVyblswLHNuKE1hdGguYXRhbihvKSwxLWEpKmkobildfWZ1bmN0aW9uIHNuKHQsbil7aWYoIW4pcmV0dXJuIHQ7aWYoMT09PW4pcmV0dXJuIE1hdGgubG9nKE1hdGgudGFuKHQvMitiYS80KSk7Zm9yKHZhciBhPTEscj1NYXRoLnNxcnQoMS1uKSxlPU1hdGguc3FydChuKSxvPTA7TWF0aC5hYnMoZSk+Z2E7bysrKXtpZih0JWJhKXt2YXIgaT1NYXRoLmF0YW4ocipNYXRoLnRhbih0KS9hKTswPmkmJihpKz1iYSksdCs9aSt+fih0L2JhKSpiYX1lbHNlIHQrPXQ7ZT0oYStyKS8yLHI9TWF0aC5zcXJ0KGEqciksZT0oKGE9ZSktcikvMn1yZXR1cm4gdC8oTWF0aC5wb3coMixvKSphKX1mdW5jdGlvbiBjbih0LG4pe3ZhciBhPShNYXRoLlNRUlQyLTEpLyhNYXRoLlNRUlQyKzEpLHI9TWF0aC5zcXJ0KDEtYSphKSxlPXNuKHBhLHIqciksbz0tMSxpPU1hdGgubG9nKE1hdGgudGFuKGJhLzQrTWF0aC5hYnMobikvMikpLGg9TWF0aC5leHAobyppKS9NYXRoLnNxcnQoYSksdT1mbihoKk1hdGguY29zKG8qdCksaCpNYXRoLnNpbihvKnQpKSxNPU1uKHVbMF0sdVsxXSxyKnIpO3JldHVyblstTVsxXSwobj49MD8xOi0xKSooLjUqZS1NWzBdKV19ZnVuY3Rpb24gZm4odCxuKXt2YXIgYT10KnQscj1uKzEsZT0xLWEtbipuO3JldHVyblsuNSooKHQ+PTA/cGE6LXBhKS1NYXRoLmF0YW4yKGUsMip0KSksLS4yNSpNYXRoLmxvZyhlKmUrNCphKSsuNSpNYXRoLmxvZyhyKnIrYSldfWZ1bmN0aW9uIHZuKHQsbil7dmFyIGE9blswXSpuWzBdK25bMV0qblsxXTtyZXR1cm5bKHRbMF0qblswXSt0WzFdKm5bMV0pL2EsKHRbMV0qblswXS10WzBdKm5bMV0pL2FdfWZ1bmN0aW9uIGxuKHQpe2Z1bmN0aW9uIG4odCxuKXt2YXIgbz1lKHQsbik7dD1vWzBdLG49b1sxXTt2YXIgaT1NYXRoLnNpbihuKSxoPU1hdGguY29zKG4pLE09TWF0aC5jb3ModCkscz11KGEqaStyKmgqTSksYz1NYXRoLnNpbihzKSxmPU1hdGguYWJzKGMpPmdhP3MvYzoxO3JldHVybltmKnIqTWF0aC5zaW4odCksKE1hdGguYWJzKHQpPnBhP2Y6LWYpKihhKmgtcippKk0pXX12YXIgYT1NYXRoLnNpbih0KSxyPU1hdGguY29zKHQpLGU9Z24odCk7cmV0dXJuIGUuaW52ZXJ0PWduKC10KSxuLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciByPU1hdGguc3FydCh0KnQrbipuKSxvPS1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLGg9cippLHU9LW4qbyxzPXIqYSxjPU0oaCpoK3UqdS1zKnMpLGY9TWF0aC5hdGFuMihoKnMrdSpjLHUqcy1oKmMpLHY9KHI+cGE/LTE6MSkqTWF0aC5hdGFuMih0Km8scipNYXRoLmNvcyhmKSppK24qTWF0aC5zaW4oZikqbyk7cmV0dXJuIGUuaW52ZXJ0KHYsZil9LG59ZnVuY3Rpb24gZ24odCl7dmFyIG49TWF0aC5zaW4odCksYT1NYXRoLmNvcyh0KTtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgZT1NYXRoLmNvcyhyKSxvPU1hdGguY29zKHQpKmUsaT1NYXRoLnNpbih0KSplLHU9TWF0aC5zaW4ocik7cmV0dXJuW01hdGguYXRhbjIoaSxvKmEtdSpuKSxoKHUqYStvKm4pXX19ZnVuY3Rpb24gZG4oKXt2YXIgdD0wLG49U2EobG4pLGE9bih0KSxyPWEucm90YXRlLGU9YS5zdHJlYW0sbz1kMy5nZW8uY2lyY2xlKCk7cmV0dXJuIGEucGFyYWxsZWw9ZnVuY3Rpb24ocil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIDE4MCoodC9iYSk7dmFyIGU9YS5yb3RhdGUoKTtyZXR1cm4gbih0PXIqYmEvMTgwKS5yb3RhdGUoZSl9LGEucm90YXRlPWZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhyLmNhbGwoYSxbblswXSxuWzFdLTE4MCoodC9iYSldKSxvLm9yaWdpbihbLW5bMF0sLW5bMV1dKSxhKToobj1yLmNhbGwoYSksblsxXSs9MTgwKih0L2JhKSxuKX0sYS5zdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIHQ9ZSh0KSx0LnNwaGVyZT1mdW5jdGlvbigpe3QucG9seWdvblN0YXJ0KCk7dmFyIG4sYT0uMDEscj1vLmFuZ2xlKDkwLWEpKCkuY29vcmRpbmF0ZXNbMF0sZT1yLmxlbmd0aC0xLGk9LTE7Zm9yKHQubGluZVN0YXJ0KCk7KytpPGU7KXQucG9pbnQoKG49cltpXSlbMF0sblsxXSk7Zm9yKHQubGluZUVuZCgpLHI9by5hbmdsZSg5MCthKSgpLmNvb3JkaW5hdGVzWzBdLGU9ci5sZW5ndGgtMSx0LmxpbmVTdGFydCgpOy0taT49MDspdC5wb2ludCgobj1yW2ldKVswXSxuWzFdKTt0LmxpbmVFbmQoKSx0LnBvbHlnb25FbmQoKX0sdH0sYX1mdW5jdGlvbiBibih0LG4pe2Z1bmN0aW9uIGEoYSxyKXt2YXIgZT1HYShhL24scik7cmV0dXJuIGVbMF0qPXQsZX1yZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYobj10KSwxPT09bj9HYToxLzA9PT1uP3duOihhLmludmVydD1mdW5jdGlvbihhLHIpe3ZhciBlPUdhLmludmVydChhL3Qscik7cmV0dXJuIGVbMF0qPW4sZX0sYSl9ZnVuY3Rpb24gcG4oKXt2YXIgdD0yLG49U2EoYm4pLGE9bih0KTtyZXR1cm4gYS5jb2VmZmljaWVudD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uKHQ9K2EpOnR9LGF9ZnVuY3Rpb24gd24odCxuKXtyZXR1cm5bdCpNYXRoLmNvcyhuKS9NYXRoLmNvcyhuLz0yKSwyKk1hdGguc2luKG4pXX1mdW5jdGlvbiBxbih0LG4pe2Zvcih2YXIgYSxyPU1hdGguc2luKG4pKigwPm4/Mi40Mzc2MzoyLjY3NTk1KSxlPTA7MjA+ZSYmKG4tPWE9KG4rTWF0aC5zaW4obiktcikvKDErTWF0aC5jb3MobikpLCEoTWF0aC5hYnMoYSk8Z2EpKTtlKyspO3JldHVyblsuODUqdCpNYXRoLmNvcyhuKj0uNSksTWF0aC5zaW4obikqKDA+bj8xLjkzMDUyOjEuNzU4NTkpXX1mdW5jdGlvbiBtbih0KXtmdW5jdGlvbiBuKG4scyl7dmFyIGMsZj1NYXRoLmFicyhzKTtpZihmPnIpe3ZhciB2PU1hdGgubWluKHQtMSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKG4rYmEpL00pKSk7bis9YmEqKHQtMSkvdC12Kk0sYz1kMy5nZW8uY29sbGlnbm9uLnJhdyhuLGYpLGNbMF09Y1swXSplL28tZSoodC0xKS8oMip0KSt2KmUvdCxjWzFdPWkrNCooY1sxXS1oKSp1L2UsMD5zJiYoY1sxXT0tY1sxXSl9ZWxzZSBjPWEobixzKTtyZXR1cm4gY1swXS89MixjfXZhciBhPWQzLmdlby5jeWxpbmRyaWNhbEVxdWFsQXJlYS5yYXcoMCkscj1qYSpiYS8xODAsZT0yKmJhLG89ZDMuZ2VvLmNvbGxpZ25vbi5yYXcoYmEscilbMF0tZDMuZ2VvLmNvbGxpZ25vbi5yYXcoLWJhLHIpWzBdLGk9YSgwLHIpWzFdLGg9ZDMuZ2VvLmNvbGxpZ25vbi5yYXcoMCxyKVsxXSx1PWQzLmdlby5jb2xsaWdub24ucmF3KDAscGEpWzFdLWgsTT0yKmJhL3Q7cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKG4scil7bio9Mjt2YXIgcz1NYXRoLmFicyhyKTtpZihzPmkpe3ZhciBjPU1hdGgubWluKHQtMSxNYXRoLm1heCgwLE1hdGguZmxvb3IoKG4rYmEpL00pKSk7bj0obitiYSoodC0xKS90LWMqTSkqby9lO3ZhciBmPWQzLmdlby5jb2xsaWdub24ucmF3LmludmVydChuLC4yNSoocy1pKSplL3UraCk7cmV0dXJuIGZbMF0tPWJhKih0LTEpL3QtYypNLDA+ciYmKGZbMV09LWZbMV0pLGZ9cmV0dXJuIGEuaW52ZXJ0KG4scil9LG59ZnVuY3Rpb24geW4oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9MTgwL247cmV0dXJue3R5cGU6XCJQb2x5Z29uXCIsY29vcmRpbmF0ZXM6W2QzLnJhbmdlKC0xODAsMTgwK3QvMix0KS5tYXAoZnVuY3Rpb24odCxuKXtyZXR1cm5bdCwxJm4/OTAtMWUtNjpqYV19KS5jb25jYXQoZDMucmFuZ2UoMTgwLC0xODAtdC8yLC10KS5tYXAoZnVuY3Rpb24odCxuKXtyZXR1cm5bdCwxJm4/LTkwKzFlLTY6LWphXX0pKV19fXZhciBuPTIsYT1TYShtbikscj1hKG4pLGU9ci5zdHJlYW07cmV0dXJuIHIubG9iZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YShuPSt0KTpufSxyLnN0cmVhbT1mdW5jdGlvbihuKXt2YXIgYT1yLnJvdGF0ZSgpLG89ZShuKSxpPShyLnJvdGF0ZShbMCwwXSksZShuKSk7cmV0dXJuIHIucm90YXRlKGEpLG8uc3BoZXJlPWZ1bmN0aW9uKCl7ZDMuZ2VvLnN0cmVhbSh0KCksaSl9LG99LHJ9ZnVuY3Rpb24gU24odCl7ZnVuY3Rpb24gbihuLGUpe3ZhciBoLHUsZj0xLU1hdGguc2luKGUpO2lmKGYmJjI+Zil7dmFyIHYsbD1wYS1lLGc9MjU7ZG97dmFyIGQ9TWF0aC5zaW4obCksYj1NYXRoLmNvcyhsKSxwPW8rTWF0aC5hdGFuMihkLHItYiksdz0xK2MtMipyKmI7bC09dj0obC1zKm8tcipkK3cqcC0uNSpmKmEpLygyKnIqZCpwKX13aGlsZShNYXRoLmFicyh2KT5kYSYmLS1nPjApO2g9aSpNYXRoLnNxcnQodyksdT1uKnAvYmF9ZWxzZSBoPWkqKHQrZiksdT1uKm8vYmE7cmV0dXJuW2gqTWF0aC5zaW4odSksTS1oKk1hdGguY29zKHUpXX12YXIgYSxyPTErdCxlPU1hdGguc2luKDEvciksbz1oKGUpLGk9MipNYXRoLnNxcnQoYmEvKGE9YmErNCpvKnIpKSxNPS41KmkqKHIrTWF0aC5zcXJ0KHQqKDIrdCkpKSxzPXQqdCxjPXIqcjtyZXR1cm4gbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgZT10KnQrKG4tPU0pKm4sZj0oMStjLWUvKGkqaSkpLygyKnIpLHY9dShmKSxsPU1hdGguc2luKHYpLGc9bytNYXRoLmF0YW4yKGwsci1mKTtyZXR1cm5baCh0L01hdGguc3FydChlKSkqYmEvZyxoKDEtMioodi1zKm8tcipsKygxK2MtMipyKmYpKmcpL2EpXX0sbn1mdW5jdGlvbiBRbigpe3ZhciB0PTEsbj1TYShTbiksYT1uKHQpO3JldHVybiBhLnJhdGlvPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP24odD0rYSk6dH0sYX1mdW5jdGlvbiBSbih0LG4pe3JldHVybiBuPi1DYT8odD14YSh0LG4pLHRbMV0rPURhLHQpOkUodCxuKX1mdW5jdGlvbiBUbih0LG4pe3JldHVybiBNYXRoLmFicyhuKT5DYT8odD14YSh0LG4pLHRbMV0tPW4+MD9EYTotRGEsdCk6RSh0LG4pfWZ1bmN0aW9uIHhuKHQsbil7cmV0dXJuWzMqdC8oMipiYSkqTWF0aC5zcXJ0KGJhKmJhLzMtbipuKSxuXX1mdW5jdGlvbiBFbih0KXtmdW5jdGlvbiBuKG4sYSl7aWYoTWF0aC5hYnMoTWF0aC5hYnMoYSktcGEpPGdhKXJldHVyblswLDA+YT8tMjoyXTt2YXIgcj1NYXRoLnNpbihhKSxlPU1hdGgucG93KCgxK3IpLygxLXIpLHQvMiksbz0uNSooZSsxL2UpK01hdGguY29zKG4qPXQpO3JldHVyblsyKk1hdGguc2luKG4pL28sKGUtMS9lKS9vXX1yZXR1cm4gbi5pbnZlcnQ9ZnVuY3Rpb24obixhKXt2YXIgcj1NYXRoLmFicyhhKTtpZihNYXRoLmFicyhyLTIpPGdhKXJldHVybiBuP251bGw6WzAsaShhKSpwYV07aWYocj4yKXJldHVybiBudWxsO24vPTIsYS89Mjt2YXIgZT1uKm4sbz1hKmEsdT0yKmEvKDErZStvKTtyZXR1cm4gdT1NYXRoLnBvdygoMSt1KS8oMS11KSwxL3QpLFtNYXRoLmF0YW4yKDIqbiwxLWUtbykvdCxoKCh1LTEpLyh1KzEpKV19LG59ZnVuY3Rpb24ga24oKXt2YXIgdD0uNSxuPVNhKEVuKSxhPW4odCk7cmV0dXJuIGEuc3BhY2luZz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uKHQ9K2EpOnR9LGF9ZnVuY3Rpb24gUG4odCxuKXtyZXR1cm5bdCooMStNYXRoLnNxcnQoTWF0aC5jb3MobikpKS8yLG4vKE1hdGguY29zKG4vMikqTWF0aC5jb3ModC82KSldfWZ1bmN0aW9uIF9uKHQsbil7dmFyIGE9dCp0LHI9bipuO3JldHVyblt0KiguOTc1NTM0K3IqKC0uMTE5MTYxK2EqLS4wMTQzMDU5K3IqLS4wNTQ3MDA5KSksbiooMS4wMDM4NCthKiguMDgwMjg5NCtyKi0uMDI4NTUrMTk5MDI1ZS05KmEpK3IqKC4wOTk4OTA5K3IqLS4wNDkxMDMyKSldfWZ1bmN0aW9uIHpuKHQsbil7cmV0dXJuW01hdGguc2luKHQpL01hdGguY29zKG4pLE1hdGgudGFuKG4pKk1hdGguY29zKHQpXX1mdW5jdGlvbiBCbih0KXtmdW5jdGlvbiBuKG4sZSl7dmFyIG89ZS10LGk9TWF0aC5hYnMobyk8Z2E/biphOk1hdGguYWJzKGk9YmEvNCtlLzIpPGdhfHxNYXRoLmFicyhNYXRoLmFicyhpKS1wYSk8Z2E/MDpuKm8vTWF0aC5sb2coTWF0aC50YW4oaSkvcik7cmV0dXJuW2ksb119dmFyIGE9TWF0aC5jb3ModCkscj1NYXRoLnRhbihiYS80K3QvMik7cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKG4sZSl7dmFyIG8saT1lK3Q7cmV0dXJuW01hdGguYWJzKGUpPGdhP24vYTpNYXRoLmFicyhvPWJhLzQraS8yKTxnYXx8TWF0aC5hYnMoTWF0aC5hYnMobyktcGEpPGdhPzA6bipNYXRoLmxvZyhNYXRoLnRhbihvKS9yKS9lLGldfSxufWZ1bmN0aW9uIEZuKHQsbil7cmV0dXJuW3QsMS4yNSpNYXRoLmxvZyhNYXRoLnRhbihiYS80Ky40Km4pKV19ZnVuY3Rpb24gQW4odCl7ZnVuY3Rpb24gbihuLHIpe2Zvcih2YXIgZSxvPU1hdGguY29zKHIpLGk9Mi8oMStvKk1hdGguY29zKG4pKSxoPWkqbypNYXRoLnNpbihuKSx1PWkqTWF0aC5zaW4ociksTT1hLHM9dFtNXSxjPXNbMF0sZj1zWzFdOy0tTT49MDspcz10W01dLGM9c1swXStoKihlPWMpLXUqZixmPXNbMV0raCpmK3UqZTtyZXR1cm4gYz1oKihlPWMpLXUqZixmPWgqZit1KmUsW2MsZl19dmFyIGE9dC5sZW5ndGgtMTtyZXR1cm4gbi5pbnZlcnQ9ZnVuY3Rpb24obixyKXt2YXIgZT0yMCxvPW4saT1yO2Rve2Zvcih2YXIgdSxNPWEscz10W01dLGM9c1swXSxmPXNbMV0sdj0wLGw9MDstLU0+PTA7KXM9dFtNXSx2PWMrbyoodT12KS1pKmwsbD1mK28qbCtpKnUsYz1zWzBdK28qKHU9YyktaSpmLGY9c1sxXStvKmYraSp1O3Y9YytvKih1PXYpLWkqbCxsPWYrbypsK2kqdSxjPW8qKHU9YyktaSpmLW4sZj1vKmYraSp1LXI7dmFyIGcsZCxiPXYqditsKmw7by09Zz0oYyp2K2YqbCkvYixpLT1kPShmKnYtYypsKS9ifXdoaWxlKE1hdGguYWJzKGcpK01hdGguYWJzKGQpPmdhKmdhJiYtLWU+MCk7aWYoZSl7dmFyIHA9TWF0aC5zcXJ0KG8qbytpKmkpLHc9MipNYXRoLmF0YW4oLjUqcCkscT1NYXRoLnNpbih3KTtyZXR1cm5bTWF0aC5hdGFuMihvKnEscCpNYXRoLmNvcyh3KSkscD9oKGkqcS9wKTowXX19LG59ZnVuY3Rpb24gR24oKXt2YXIgdD1MYS5taWxsZXIsbj1TYShBbiksYT1uKHQpO3JldHVybiBhLmNvZWZmaWNpZW50cz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9uKHQ9XCJzdHJpbmdcIj09dHlwZW9mIGE/TGFbYV06YSk6dH0sYX1mdW5jdGlvbiBqbih0LG4pe3ZhciBhPU1hdGguc3FydCg2KSxyPU1hdGguc3FydCg3KSxlPU1hdGguYXNpbig3Kk1hdGguc2luKG4pLygzKmEpKTtyZXR1cm5bYSp0KigyKk1hdGguY29zKDIqZS8zKS0xKS9yLDkqTWF0aC5zaW4oZS8zKS9yXX1mdW5jdGlvbiBDbih0LG4pe2Zvcih2YXIgYSxyPSgxK01hdGguU1FSVDFfMikqTWF0aC5zaW4obiksZT1uLG89MDsyNT5vJiYoZS09YT0oTWF0aC5zaW4oZS8yKStNYXRoLnNpbihlKS1yKS8oLjUqTWF0aC5jb3MoZS8yKStNYXRoLmNvcyhlKSksIShNYXRoLmFicyhhKTxnYSkpO28rKyk7cmV0dXJuW3QqKDErMipNYXRoLmNvcyhlKS9NYXRoLmNvcyhlLzIpKS8oMypNYXRoLlNRUlQyKSwyKk1hdGguc3FydCgzKSpNYXRoLnNpbihlLzIpL01hdGguc3FydCgyK01hdGguU1FSVDIpXX1mdW5jdGlvbiBEbih0LG4pe2Zvcih2YXIgYSxyPU1hdGguc3FydCg2Lyg0K2JhKSksZT0oMStiYS80KSpNYXRoLnNpbihuKSxvPW4vMixpPTA7MjU+aSYmKG8tPWE9KG8vMitNYXRoLnNpbihvKS1lKS8oLjUrTWF0aC5jb3MobykpLCEoTWF0aC5hYnMoYSk8Z2EpKTtpKyspO3JldHVybltyKiguNStNYXRoLmNvcyhvKSkqdC8xLjUscipvXX1mdW5jdGlvbiBMbih0LG4pe3ZhciBhPW4qbixyPWEqYTtyZXR1cm5bdCooLjg3MDctLjEzMTk3OSphK3IqKC0uMDEzNzkxK3IqKC4wMDM5NzEqYS0uMDAxNTI5KnIpKSksbiooMS4wMDcyMjYrYSooLjAxNTA4NStyKigtLjA0NDQ3NSsuMDI4ODc0KmEtLjAwNTkxNipyKSkpXX1mdW5jdGlvbiBPbih0LG4pe3JldHVyblt0KigxK01hdGguY29zKG4pKS8yLDIqKG4tTWF0aC50YW4obi8yKSldfWZ1bmN0aW9uIEhuKHQsbil7dmFyIGE9bipuO3JldHVyblt0LG4qKE9hK2EqYSooSGErYSooSWErSmEqYSkpKV19ZnVuY3Rpb24gSW4odCxuKXtpZihNYXRoLmFicyhuKTxnYSlyZXR1cm5bdCwwXTt2YXIgYT1NYXRoLnRhbihuKSxyPXQqTWF0aC5zaW4obik7cmV0dXJuW01hdGguc2luKHIpL2EsbisoMS1NYXRoLmNvcyhyKSkvYV19ZnVuY3Rpb24gSm4odCl7ZnVuY3Rpb24gbihuLHIpe3ZhciBlPWE/TWF0aC50YW4obiphLzIpL2E6bi8yO2lmKCFyKXJldHVyblsyKmUsLXRdO3ZhciBvPTIqTWF0aC5hdGFuKGUqTWF0aC5zaW4ocikpLGk9MS9NYXRoLnRhbihyKTtyZXR1cm5bTWF0aC5zaW4obykqaSxyKygxLU1hdGguY29zKG8pKSppLXRdfXZhciBhPU1hdGguc2luKHQpO3JldHVybiBuLmludmVydD1mdW5jdGlvbihuLHIpe2lmKE1hdGguYWJzKHIrPXQpPGdhKXJldHVyblthPzIqTWF0aC5hdGFuKGEqbi8yKS9hOm4sMF07dmFyIGUsbz1uKm4rcipyLGk9MCxNPTEwO2Rve3ZhciBzPU1hdGgudGFuKGkpLGM9MS9NYXRoLmNvcyhpKSxmPW8tMipyKmkraSppO2ktPWU9KHMqZisyKihpLXIpKS8oMitmKmMqYysyKihpLXIpKnMpfXdoaWxlKE1hdGguYWJzKGUpPmdhJiYtLU0+MCk7dmFyIHY9bioocz1NYXRoLnRhbihpKSksbD1NYXRoLnRhbihNYXRoLmFicyhyKTxNYXRoLmFicyhpKzEvcyk/LjUqaCh2KTouNSp1KHYpK2JhLzQpL01hdGguc2luKGkpO3JldHVyblthPzIqTWF0aC5hdGFuKGEqbCkvYToyKmwsaV19LG59ZnVuY3Rpb24gS24odCxuKXt2YXIgYSxyPU1hdGgubWluKDE4LDM2Kk1hdGguYWJzKG4pL2JhKSxlPU1hdGguZmxvb3Iociksbz1yLWUsaT0oYT1ZYVtlXSlbMF0saD1hWzFdLHU9KGE9WWFbKytlXSlbMF0sTT1hWzFdLHM9KGE9WWFbTWF0aC5taW4oMTksKytlKV0pWzBdLGM9YVsxXTtyZXR1cm5bdCoodStvKihzLWkpLzIrbypvKihzLTIqdStpKS8yKSwobj4wP3BhOi1wYSkqKE0rbyooYy1oKS8yK28qbyooYy0yKk0raCkvMildfWZ1bmN0aW9uIE5uKHQpe2Z1bmN0aW9uIG4obixhKXt2YXIgcj1NYXRoLmNvcyhhKSxlPSh0LTEpLyh0LXIqTWF0aC5jb3MobikpO3JldHVybltlKnIqTWF0aC5zaW4obiksZSpNYXRoLnNpbihhKV19cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKG4sYSl7dmFyIHI9bipuK2EqYSxlPU1hdGguc3FydChyKSxvPSh0LU1hdGguc3FydCgxLXIqKHQrMSkvKHQtMSkpKS8oKHQtMSkvZStlLyh0LTEpKTtyZXR1cm5bTWF0aC5hdGFuMihuKm8sZSpNYXRoLnNxcnQoMS1vKm8pKSxlP2goYSpvL2UpOjBdfSxufWZ1bmN0aW9uIFVuKHQsbil7ZnVuY3Rpb24gYShuLGEpe3ZhciBpPXIobixhKSxoPWlbMV0sdT1oKm8vKHQtMSkrZTtyZXR1cm5baVswXSplL3UsaC91XX12YXIgcj1Obih0KTtpZighbilyZXR1cm4gcjt2YXIgZT1NYXRoLmNvcyhuKSxvPU1hdGguc2luKG4pO3JldHVybiBhLmludmVydD1mdW5jdGlvbihuLGEpe3ZhciBpPSh0LTEpLyh0LTEtYSpvKTtyZXR1cm4gci5pbnZlcnQoaSpuLGkqYSplKX0sYX1mdW5jdGlvbiBWbigpe3ZhciB0PTEuNCxuPTAsYT1TYShVbikscj1hKHQsbik7cmV0dXJuIHIuZGlzdGFuY2U9ZnVuY3Rpb24ocil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YSh0PStyLG4pOnR9LHIudGlsdD1mdW5jdGlvbihyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hKHQsbj1yKmJhLzE4MCk6MTgwKm4vYmF9LHJ9ZnVuY3Rpb24gV24odCxuKXt2YXIgYT1NYXRoLnRhbihuLzIpLHI9TWF0aC5zaW4oYmEvNCphKTtyZXR1cm5bdCooLjc0NDgyLS4zNDU4OCpyKnIpLDEuNzA3MTEqYV19ZnVuY3Rpb24gWG4odCl7ZnVuY3Rpb24gbihuLG8pe3ZhciBpPXUoTWF0aC5jb3MobykqTWF0aC5jb3Mobi1hKSksaD11KE1hdGguY29zKG8pKk1hdGguY29zKG4tcikpLHM9MD5vPy0xOjE7cmV0dXJuIGkqPWksaCo9aCxbKGktaCkvKDIqdCkscypNKDQqZSpoLShlLWkraCkqKGUtaStoKSkvKDIqdCldfWlmKCF0KXJldHVybiBkMy5nZW8uYXppbXV0aGFsRXF1aWRpc3RhbnQucmF3O3ZhciBhPS10LzIscj0tYSxlPXQqdCxvPU1hdGgudGFuKHIpLGk9LjUvTWF0aC5zaW4ocik7cmV0dXJuIG4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGUsaCxNPW4qbixzPU1hdGguY29zKE1hdGguc3FydChNKyhlPXQrYSkqZSkpLGM9TWF0aC5jb3MoTWF0aC5zcXJ0KE0rKGU9dCtyKSplKSk7cmV0dXJuW01hdGguYXRhbjIoaD1zLWMsZT0ocytjKSpvKSwoMD5uPy0xOjEpKnUoTWF0aC5zcXJ0KGUqZStoKmgpKmkpXX0sbn1mdW5jdGlvbiBZbigpe3ZhciB0PVtbMCwwXSxbMCwwXV0sbj1TYShYbiksYT1uKDApLHI9YS5yb3RhdGU7cmV0dXJuIGRlbGV0ZSBhLnJvdGF0ZSxhLnBvaW50cz1mdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdDt0PWE7dmFyIGU9ZDMuZ2VvLmludGVycG9sYXRlKGFbMF0sYVsxXSksbz1lKC41KSxpPWQzLmdlby5yb3RhdGlvbihbLW9bMF0sLW9bMV1dKShhWzBdKSx1PS41KmUuZGlzdGFuY2UsTT0taChNYXRoLnNpbihpWzFdKnFhKS9NYXRoLnNpbih1KSk7cmV0dXJuIGlbMF0+MCYmKE09YmEtTSksci5jYWxsKGksWy1vWzBdLC1vWzFdLC1NKm1hXSksbigyKnUpfSxhfWZ1bmN0aW9uIFpuKHQpe2Z1bmN0aW9uIG4odCxuKXt2YXIgcj1kMy5nZW8uZ25vbW9uaWMucmF3KHQsbik7cmV0dXJuIHJbMF0qPWEscn12YXIgYT1NYXRoLmNvcyh0KTtyZXR1cm4gbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZDMuZ2VvLmdub21vbmljLnJhdy5pbnZlcnQodC9hLG4pfSxufWZ1bmN0aW9uICRuKCl7dmFyIHQ9W1swLDBdLFswLDBdXSxuPVNhKFpuKSxhPW4oMCkscj1hLnJvdGF0ZTtyZXR1cm4gZGVsZXRlIGEucm90YXRlLGEucG9pbnRzPWZ1bmN0aW9uKGEpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0O3Q9YTt2YXIgZT1kMy5nZW8uaW50ZXJwb2xhdGUoYVswXSxhWzFdKSxvPWUoLjUpLGk9ZDMuZ2VvLnJvdGF0aW9uKFstb1swXSwtb1sxXV0pKGFbMF0pLHU9LjUqZS5kaXN0YW5jZSxNPS1oKE1hdGguc2luKGlbMV0qcWEpL01hdGguc2luKHUpKTtyZXR1cm4gaVswXT4wJiYoTT1iYS1NKSxyLmNhbGwoaSxbLW9bMF0sLW9bMV0sLU0qbWFdKSxuKHUpfSxhfWZ1bmN0aW9uIHRhKHQsbil7aWYoTWF0aC5hYnMobik8Z2EpcmV0dXJuW3QsMF07dmFyIGE9TWF0aC5hYnMobi9wYSkscj1oKGEpO2lmKE1hdGguYWJzKHQpPGdhfHxNYXRoLmFicyhNYXRoLmFicyhuKS1wYSk8Z2EpcmV0dXJuWzAsaShuKSpiYSpNYXRoLnRhbihyLzIpXTt2YXIgZT1NYXRoLmNvcyhyKSxvPU1hdGguYWJzKGJhL3QtdC9iYSkvMix1PW8qbyxNPWUvKGErZS0xKSxzPU0qKDIvYS0xKSxjPXMqcyxmPWMrdSx2PU0tYyxsPXUrTTtyZXR1cm5baSh0KSpiYSoobyp2K01hdGguc3FydCh1KnYqdi1mKihNKk0tYykpKS9mLGkobikqYmEqKHMqbC1vKk1hdGguc3FydCgodSsxKSpmLWwqbCkpL2ZdfWZ1bmN0aW9uIG5hKHQsbil7aWYoTWF0aC5hYnMobik8Z2EpcmV0dXJuW3QsMF07dmFyIGE9TWF0aC5hYnMobi9wYSkscj1oKGEpO2lmKE1hdGguYWJzKHQpPGdhfHxNYXRoLmFicyhNYXRoLmFicyhuKS1wYSk8Z2EpcmV0dXJuWzAsaShuKSpiYSpNYXRoLnRhbihyLzIpXTt2YXIgZT1NYXRoLmNvcyhyKSxvPU1hdGguYWJzKGJhL3QtdC9iYSkvMix1PW8qbyxzPWUqKE1hdGguc3FydCgxK3UpLW8qZSkvKDErdSphKmEpO3JldHVybltpKHQpKmJhKnMsaShuKSpiYSpNKDEtcyooMipvK3MpKV19ZnVuY3Rpb24gYWEodCxuKXtpZihNYXRoLmFicyhuKTxnYSlyZXR1cm5bdCwwXTt2YXIgYT1uL3BhLHI9aChhKTtpZihNYXRoLmFicyh0KTxnYXx8TWF0aC5hYnMoTWF0aC5hYnMobiktcGEpPGdhKXJldHVyblswLGJhKk1hdGgudGFuKHIvMildO3ZhciBlPShiYS90LXQvYmEpLzIsbz1hLygxK01hdGguY29zKHIpKTtyZXR1cm5bYmEqKGkodCkqTShlKmUrMS1vKm8pLWUpLGJhKm9dfWZ1bmN0aW9uIHJhKHQsbil7aWYoIW4pcmV0dXJuW3QsMF07dmFyIGE9TWF0aC5hYnMobik7aWYoIXR8fGE9PT1wYSlyZXR1cm5bMCxuXTt2YXIgcj1hL3BhLGU9cipyLG89KDgqci1lKihlKzIpLTUpLygyKmUqKHItMSkpLGg9bypvLHU9cipvLHM9ZStoKzIqdSxjPXIrMypvLGY9dC9wYSx2PWYrMS9mLGw9aShNYXRoLmFicyh0KS1wYSkqTWF0aC5zcXJ0KHYqdi00KSxnPWwqbCxkPXMqKGUraCpnLTEpKygxLWUpKihlKihjKmMrNCpoKSsxMip1KmgrNCpoKmgpLGI9KGwqKHMraC0xKSsyKk0oZCkpLyg0KnMrZyk7cmV0dXJuW2kodCkqcGEqYixpKG4pKnBhKk0oMStsKk1hdGguYWJzKGIpLWIqYildfWZ1bmN0aW9uIGVhKHQsbil7cmV0dXJuW3QqTWF0aC5zcXJ0KDEtMypuKm4vKGJhKmJhKSksbl19ZnVuY3Rpb24gb2EodCxuKXt2YXIgYT0uOTA2MzEqTWF0aC5zaW4obikscj1NYXRoLnNxcnQoMS1hKmEpLGU9TWF0aC5zcXJ0KDIvKDErcipNYXRoLmNvcyh0Lz0zKSkpO3JldHVyblsyLjY2NzIzKnIqZSpNYXRoLnNpbih0KSwxLjI0MTA0KmEqZV19ZnVuY3Rpb24gaWEodCxuKXt2YXIgYT1NYXRoLmNvcyhuKSxyPU1hdGguY29zKHQpKmEsZT0xLXIsbz1NYXRoLmNvcyh0PU1hdGguYXRhbjIoTWF0aC5zaW4odCkqYSwtTWF0aC5zaW4obikpKSxpPU1hdGguc2luKHQpO3JldHVybiBhPU0oMS1yKnIpLFtpKmEtbyplLC1vKmEtaSplXX1mdW5jdGlvbiBoYSh0LG4pe3ZhciBhPWYodCxuKTtyZXR1cm5bKGFbMF0rdC9wYSkvMiwoYVsxXStuKS8yXX1kMy5nZW8ucHJvamVjdD1mdW5jdGlvbih0LGEpe3ZhciByPWEuc3RyZWFtO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIm5vdCB5ZXQgc3VwcG9ydGVkXCIpO3JldHVybih0JiZ1YS5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpP3VhW3QudHlwZV06bikodCxyKX07dmFyIHVhPXtGZWF0dXJlOnQsRmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24obixhKXtyZXR1cm57dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6bi5mZWF0dXJlcy5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobixhKX0pfX19LE1hPVtdLHNhPVtdLGNhPXtwb2ludDpmdW5jdGlvbih0LG4pe01hLnB1c2goW3Qsbl0pfSxyZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgdD1NYS5sZW5ndGg/TWEubGVuZ3RoPDI/e3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOk1hWzBdfTp7dHlwZTpcIk11bHRpUG9pbnRcIixjb29yZGluYXRlczpNYX06bnVsbDtyZXR1cm4gTWE9W10sdH19LGZhPXtsaW5lU3RhcnQ6YSxwb2ludDpmdW5jdGlvbih0LG4pe01hLnB1c2goW3Qsbl0pfSxsaW5lRW5kOmZ1bmN0aW9uKCl7TWEubGVuZ3RoJiYoc2EucHVzaChNYSksTWE9W10pfSxyZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgdD1zYS5sZW5ndGg/c2EubGVuZ3RoPDI/e3R5cGU6XCJMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6c2FbMF19Ont0eXBlOlwiTXVsdGlMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6c2F9Om51bGw7cmV0dXJuIHNhPVtdLHR9fSx2YT17cG9seWdvblN0YXJ0OmEsbGluZVN0YXJ0OmEscG9pbnQ6ZnVuY3Rpb24odCxuKXtNYS5wdXNoKFt0LG5dKX0sbGluZUVuZDpmdW5jdGlvbigpe3ZhciB0PU1hLmxlbmd0aDtpZih0KXtkbyBNYS5wdXNoKE1hWzBdLnNsaWNlKCkpO3doaWxlKCsrdDw0KTtzYS5wdXNoKE1hKSxNYT1bXX19LHBvbHlnb25FbmQ6YSxyZXN1bHQ6ZnVuY3Rpb24oKXtpZighc2EubGVuZ3RoKXJldHVybiBudWxsO3ZhciB0PVtdLG49W107cmV0dXJuIHNhLmZvckVhY2goZnVuY3Rpb24oYSl7cihhKT90LnB1c2goW2FdKTpuLnB1c2goYSl9KSxuLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGE9blswXTt0LnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIGUodFswXSxhKT8odC5wdXNoKG4pLCEwKTp2b2lkIDB9KXx8dC5wdXNoKFtuXSl9KSxzYT1bXSx0Lmxlbmd0aD90Lmxlbmd0aD4xP3t0eXBlOlwiTXVsdGlQb2x5Z29uXCIsY29vcmRpbmF0ZXM6dH06e3R5cGU6XCJQb2x5Z29uXCIsY29vcmRpbmF0ZXM6dFswXX06bnVsbH19LGxhPXtQb2ludDpjYSxNdWx0aVBvaW50OmNhLExpbmVTdHJpbmc6ZmEsTXVsdGlMaW5lU3RyaW5nOmZhLFBvbHlnb246dmEsTXVsdGlQb2x5Z29uOnZhLFNwaGVyZTp2YX0sZ2E9MWUtNixkYT1nYSpnYSxiYT1NYXRoLlBJLHBhPWJhLzIsd2E9TWF0aC5zcXJ0KGJhKSxxYT1iYS8xODAsbWE9MTgwL2JhLHlhPWQzLmdlby5wcm9qZWN0aW9uLFNhPWQzLmdlby5wcm9qZWN0aW9uTXV0YXRvcjtkMy5nZW8uaW50ZXJydXB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obixhKXtmb3IodmFyIHI9MD5hPy0xOjEsZT1oWysoMD5hKV0sbz0wLGk9ZS5sZW5ndGgtMTtpPm8mJm4+ZVtvXVsyXVswXTsrK28pO3ZhciB1PXQobi1lW29dWzFdWzBdLGEpO3JldHVybiB1WzBdKz10KGVbb11bMV1bMF0sciphPnIqZVtvXVswXVsxXT9lW29dWzBdWzFdOmEpWzBdLHV9ZnVuY3Rpb24gYSgpe2k9aC5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKG4pe3ZhciBhLHI9dChuWzBdWzBdLG5bMF1bMV0pWzBdLGU9dChuWzJdWzBdLG5bMl1bMV0pWzBdLG89dChuWzFdWzBdLG5bMF1bMV0pWzFdLGk9dChuWzFdWzBdLG5bMV1bMV0pWzFdO3JldHVybiBvPmkmJihhPW8sbz1pLGk9YSksW1tyLG9dLFtlLGldXX0pfSl9ZnVuY3Rpb24gcigpe2Zvcih2YXIgdD0xZS02LG49W10sYT0wLHI9aFswXS5sZW5ndGg7cj5hOysrYSl7dmFyIG89aFswXVthXSxpPTE4MCpvWzBdWzBdL2JhLHU9MTgwKm9bMF1bMV0vYmEsTT0xODAqb1sxXVsxXS9iYSxzPTE4MCpvWzJdWzBdL2JhLGM9MTgwKm9bMl1bMV0vYmE7bi5wdXNoKGUoW1tpK3QsdSt0XSxbaSt0LE0tdF0sW3MtdCxNLXRdLFtzLXQsYyt0XV0sMzApKX1mb3IodmFyIGE9aFsxXS5sZW5ndGgtMTthPj0wOy0tYSl7dmFyIG89aFsxXVthXSxpPTE4MCpvWzBdWzBdL2JhLHU9MTgwKm9bMF1bMV0vYmEsTT0xODAqb1sxXVsxXS9iYSxzPTE4MCpvWzJdWzBdL2JhLGM9MTgwKm9bMl1bMV0vYmE7bi5wdXNoKGUoW1tzLXQsYy10XSxbcy10LE0rdF0sW2krdCxNK3RdLFtpK3QsdS10XV0sMzApKX1yZXR1cm57dHlwZTpcIlBvbHlnb25cIixjb29yZGluYXRlczpbZDMubWVyZ2UobildfX1mdW5jdGlvbiBlKHQsbil7Zm9yKHZhciBhLHIsZSxvPS0xLGk9dC5sZW5ndGgsaD10WzBdLHU9W107KytvPGk7KXthPXRbb10scj0oYVswXS1oWzBdKS9uLGU9KGFbMV0taFsxXSkvbjtmb3IodmFyIE09MDtuPk07KytNKXUucHVzaChbaFswXStNKnIsaFsxXStNKmVdKTtoPWF9cmV0dXJuIHUucHVzaChhKSx1fWZ1bmN0aW9uIG8odCxuKXtyZXR1cm4gTWF0aC5hYnModFswXS1uWzBdKTxnYSYmTWF0aC5hYnModFsxXS1uWzFdKTxnYX12YXIgaSxoPVtbW1stYmEsMF0sWzAscGFdLFtiYSwwXV1dLFtbWy1iYSwwXSxbMCwtcGFdLFtiYSwwXV1dXTt0LmludmVydCYmKG4uaW52ZXJ0PWZ1bmN0aW9uKGEscil7Zm9yKHZhciBlPWlbKygwPnIpXSx1PWhbKygwPnIpXSxNPTAscz1lLmxlbmd0aDtzPk07KytNKXt2YXIgYz1lW01dO2lmKGNbMF1bMF08PWEmJmE8Y1sxXVswXSYmY1swXVsxXTw9ciYmcjxjWzFdWzFdKXt2YXIgZj10LmludmVydChhLXQodVtNXVsxXVswXSwwKVswXSxyKTtyZXR1cm4gZlswXSs9dVtNXVsxXVswXSxvKG4oZlswXSxmWzFdKSxbYSxyXSk/ZjpudWxsfX19KTt2YXIgdT1kMy5nZW8ucHJvamVjdGlvbihuKSxNPXUuc3RyZWFtO3JldHVybiB1LnN0cmVhbT1mdW5jdGlvbih0KXt2YXIgbj11LnJvdGF0ZSgpLGE9TSh0KSxlPSh1LnJvdGF0ZShbMCwwXSksTSh0KSk7cmV0dXJuIHUucm90YXRlKG4pLGEuc3BoZXJlPWZ1bmN0aW9uKCl7ZDMuZ2VvLnN0cmVhbShyKCksZSl9LGF9LHUubG9iZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybltbdFswXVswXSpiYS8xODAsdFswXVsxXSpiYS8xODBdLFt0WzFdWzBdKmJhLzE4MCx0WzFdWzFdKmJhLzE4MF0sW3RbMl1bMF0qYmEvMTgwLHRbMl1bMV0qYmEvMTgwXV19KX0pLGEoKSx1KTpoLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuW1sxODAqdFswXVswXS9iYSwxODAqdFswXVsxXS9iYV0sWzE4MCp0WzFdWzBdL2JhLDE4MCp0WzFdWzFdL2JhXSxbMTgwKnRbMl1bMF0vYmEsMTgwKnRbMl1bMV0vYmFdXX0pfSl9LHV9LChkMy5nZW8uYWlyeT1jKS5yYXc9cyxmLmludmVydD1mdW5jdGlvbih0LG4pe2lmKCEodCp0KzQqbipuPmJhKmJhK2dhKSl7dmFyIGE9dCxyPW4sZT0yNTtkb3t2YXIgbyxpPU1hdGguc2luKGEpLGg9TWF0aC5zaW4oYS8yKSxNPU1hdGguY29zKGEvMikscz1NYXRoLnNpbihyKSxjPU1hdGguY29zKHIpLGY9TWF0aC5zaW4oMipyKSx2PXMqcyxsPWMqYyxnPWgqaCxkPTEtbCpNKk0sYj1kP3UoYypNKSpNYXRoLnNxcnQobz0xL2QpOm89MCxwPTIqYipjKmgtdCx3PWIqcy1uLHE9byoobCpnK2IqYypNKnYpLG09byooLjUqaSpmLTIqYipzKmgpLHk9LjI1Km8qKGYqaC1iKnMqbCppKSxTPW8qKHYqTStiKmcqYyksUT1tKnktUypxO2lmKCFRKWJyZWFrO3ZhciBSPSh3Km0tcCpTKS9RLFQ9KHAqeS13KnEpL1E7YS09UixyLT1UfXdoaWxlKChNYXRoLmFicyhSKT5nYXx8TWF0aC5hYnMoVCk+Z2EpJiYtLWU+MCk7cmV0dXJuW2Escl19fSwoZDMuZ2VvLmFpdG9mZj1mdW5jdGlvbigpe3JldHVybiB5YShmKX0pLnJhdz1mLChkMy5nZW8uYXJtYWRpbGxvPWwpLnJhdz12LHEuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7aWYodCo9My84LG4qPTMvOCwhdCYmTWF0aC5hYnMobik+MSlyZXR1cm4gbnVsbDt2YXIgYT10KnQscj1uKm4sZT0xK2ErcixvPU1hdGguc3FydCguNSooZS1NYXRoLnNxcnQoZSplLTQqbipuKSkpLHU9aChvKS8zLE09bz93KE1hdGguYWJzKG4vbykpLzM6cChNYXRoLmFicyh0KSkvMyxzPU1hdGguY29zKHUpLGM9YihNKSxmPWMqYy1zKnM7cmV0dXJuWzIqaSh0KSpNYXRoLmF0YW4yKGQoTSkqcywuMjUtZiksMippKG4pKk1hdGguYXRhbjIoYypNYXRoLnNpbih1KSwuMjUrZildfSwoZDMuZ2VvLmF1Z3VzdD1mdW5jdGlvbigpe3JldHVybiB5YShxKX0pLnJhdz1xO3ZhciBRYT1NYXRoLmxvZygxK01hdGguU1FSVDIpO20uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7aWYoKHI9TWF0aC5hYnMobikpPFFhKXJldHVyblt0LDIqTWF0aC5hdGFuKE1hdGguZXhwKG4pKS1wYV07dmFyIGEscixlPU1hdGguc3FydCg4KSxvPWJhLzQsaD0yNTtkb3t2YXIgdT1NYXRoLmNvcyhvLzIpLE09TWF0aC50YW4oby8yKTtvLT1hPShlKihvLWJhLzQpLU1hdGgubG9nKE0pLXIpLyhlLS41KnUqdS9NKX13aGlsZShNYXRoLmFicyhhKT5kYSYmLS1oPjApO3JldHVyblt0LyhNYXRoLmNvcyhvKSooZS0xL01hdGguc2luKG8pKSksaShuKSpvXX0sKGQzLmdlby5iYWtlcj1mdW5jdGlvbigpe3JldHVybiB5YShtKVxufSkucmF3PW07dmFyIFJhPWQzLmdlby5hemltdXRoYWxFcXVpZGlzdGFudC5yYXc7KGQzLmdlby5iZXJnaGF1cz1TKS5yYXc9eTt2YXIgVGE9UShiYSkseGE9UihNYXRoLlNRUlQyL3BhLE1hdGguU1FSVDIsYmEpOyhkMy5nZW8ubW9sbHdlaWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKHhhKX0pLnJhdz14YSxULmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhLHIsZT0yLjAwMjc2LG89ZSpuLGk9MD5uPy1iYS80OmJhLzQsaD0yNTtkbyByPW8tTWF0aC5TUVJUMipNYXRoLnNpbihpKSxpLT1hPShNYXRoLnNpbigyKmkpKzIqaS1iYSpNYXRoLnNpbihyKSkvKDIqTWF0aC5jb3MoMippKSsyK2JhKk1hdGguY29zKHIpKk1hdGguU1FSVDIqTWF0aC5jb3MoaSkpO3doaWxlKE1hdGguYWJzKGEpPmdhJiYtLWg+MCk7cmV0dXJuIHI9by1NYXRoLlNRUlQyKk1hdGguc2luKGkpLFt0KigxL01hdGguY29zKHIpKzEuMTEwNzIvTWF0aC5jb3MoaSkpL2Uscl19LChkMy5nZW8uYm9nZ3M9ZnVuY3Rpb24oKXtyZXR1cm4geWEoVCl9KS5yYXc9VCxFLmludmVydD1mdW5jdGlvbih0LG4pe3JldHVyblt0L01hdGguY29zKG4pLG5dfSwoZDMuZ2VvLnNpbnVzb2lkYWw9ZnVuY3Rpb24oKXtyZXR1cm4geWEoRSl9KS5yYXc9RSwoZDMuZ2VvLmJvbm5lPWZ1bmN0aW9uKCl7cmV0dXJuIHgoaykucGFyYWxsZWwoNDUpfSkucmF3PWs7dmFyIEVhPVIoMSw0L2JhLGJhKTsoZDMuZ2VvLmJyb21sZXk9ZnVuY3Rpb24oKXtyZXR1cm4geWEoRWEpfSkucmF3PUVhLChkMy5nZW8uY2hhbWJlcmxpbj1fKS5yYXc9UCxHLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPShhPW4vd2EtMSkqYTtyZXR1cm5bYT4wP3QqTWF0aC5zcXJ0KGJhL2EpLzI6MCxoKDEtYSldfSwoZDMuZ2VvLmNvbGxpZ25vbj1mdW5jdGlvbigpe3JldHVybiB5YShHKX0pLnJhdz1HLChkMy5nZW8uY3JhaWc9ZnVuY3Rpb24oKXtyZXR1cm4geChqKX0pLnJhdz1qLEMuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9TWF0aC5zcXJ0KDMpLHI9MypoKG4vKGEqd2EpKTtyZXR1cm5bd2EqdC8oYSooMipNYXRoLmNvcygyKnIvMyktMSkpLHJdfSwoZDMuZ2VvLmNyYXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4geWEoQyl9KS5yYXc9QywoZDMuZ2VvLmN5bGluZHJpY2FsRXF1YWxBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHgoRCl9KS5yYXc9RCwoZDMuZ2VvLmN5bGluZHJpY2FsU3RlcmVvZ3JhcGhpYz1mdW5jdGlvbigpe3JldHVybiB4KEwpfSkucmF3PUwsTy5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT1NYXRoLnNxcnQoOC8oMypiYSkpLHI9bi9hO3JldHVyblt0LyhhKigxLU1hdGguYWJzKHIpL2JhKSkscl19LChkMy5nZW8uZWNrZXJ0MT1mdW5jdGlvbigpe3JldHVybiB5YShPKX0pLnJhdz1PLEguaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9Mi1NYXRoLmFicyhuKS9NYXRoLnNxcnQoMipiYS8zKTtyZXR1cm5bdCpNYXRoLnNxcnQoNipiYSkvKDIqYSksaShuKSpoKCg0LWEqYSkvMyldfSwoZDMuZ2VvLmVja2VydDI9ZnVuY3Rpb24oKXtyZXR1cm4geWEoSCl9KS5yYXc9SCxJLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPU1hdGguc3FydChiYSooNCtiYSkpLzI7cmV0dXJuW3QqYS8oMStNKDEtbipuKig0K2JhKS8oNCpiYSkpKSxuKmEvMl19LChkMy5nZW8uZWNrZXJ0Mz1mdW5jdGlvbigpe3JldHVybiB5YShJKX0pLnJhdz1JLEouaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9LjUqbipNYXRoLnNxcnQoKDQrYmEpL2JhKSxyPWgoYSksZT1NYXRoLmNvcyhyKTtyZXR1cm5bdC8oMi9NYXRoLnNxcnQoYmEqKDQrYmEpKSooMStlKSksaCgocithKihlKzIpKS8oMitwYSkpXX0sKGQzLmdlby5lY2tlcnQ0PWZ1bmN0aW9uKCl7cmV0dXJuIHlhKEopfSkucmF3PUosSy5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT1NYXRoLnNxcnQoMitiYSkscj1uKmEvMjtyZXR1cm5bYSp0LygxK01hdGguY29zKHIpKSxyXX0sKGQzLmdlby5lY2tlcnQ1PWZ1bmN0aW9uKCl7cmV0dXJuIHlhKEspfSkucmF3PUssTi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT0xK3BhLHI9TWF0aC5zcXJ0KGEvMik7cmV0dXJuWzIqdCpyLygxK01hdGguY29zKG4qPXIpKSxoKChuK01hdGguc2luKG4pKS9hKV19LChkMy5nZW8uZWNrZXJ0Nj1mdW5jdGlvbigpe3JldHVybiB5YShOKX0pLnJhdz1OLFUuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9ZDMuZ2VvLmF1Z3VzdC5yYXcuaW52ZXJ0KHQvMS4yLDEuMDY1Km4pO2lmKCFhKXJldHVybiBudWxsO3ZhciByPWFbMF0sZT1hWzFdLG89MjA7dC89a2Esbi89a2E7ZG97dmFyIGk9ci8yLGg9ZS8yLHU9TWF0aC5zaW4oaSksTT1NYXRoLmNvcyhpKSxzPU1hdGguc2luKGgpLGM9TWF0aC5jb3MoaCksZj1NYXRoLmNvcyhlKSx2PU1hdGguc3FydChmKSxsPXMvKGMrTWF0aC5TUVJUMipNKnYpLGc9bCpsLGQ9TWF0aC5zcXJ0KDIvKDErZykpLGI9TWF0aC5TUVJUMipjKyhNK3UpKnYscD1NYXRoLlNRUlQyKmMrKE0tdSkqdix3PWIvcCxxPU1hdGguc3FydCh3KSxtPXEtMS9xLHk9cSsxL3EsUz1kKm0tMipNYXRoLmxvZyhxKS10LFE9ZCpsKnktMipNYXRoLmF0YW4obCktbixSPXMmJk1hdGguU1FSVDFfMip2KnUqZy9zLFQ9KE1hdGguU1FSVDIqTSpjK3YpLygyKihjK01hdGguU1FSVDIqTSp2KSooYytNYXRoLlNRUlQyKk0qdikqdikseD0tLjUqbCpkKmQqZCxFPXgqUixrPXgqVCxQPShQPTIqYytNYXRoLlNRUlQyKnYqKE0tdSkpKlAqcSxfPShNYXRoLlNRUlQyKk0qYyp2K2YpL1Asej0tKE1hdGguU1FSVDIqdSpzKS8odipQKSxCPW0qRS0yKl8vcStkKihfK18vdyksRj1tKmstMip6L3ErZCooeit6L3cpLEE9bCp5KkUtMipSLygxK2cpK2QqeSpSK2QqbCooXy1fL3cpLEc9bCp5KmstMipULygxK2cpK2QqeSpUK2QqbCooei16L3cpLGo9RipBLUcqQjtpZighailicmVhazt2YXIgQz0oUSpGLVMqRykvaixEPShTKkEtUSpCKS9qO3ItPUMsZT1NYXRoLm1heCgtcGEsTWF0aC5taW4ocGEsZS1EKSl9d2hpbGUoKE1hdGguYWJzKEMpPmdhfHxNYXRoLmFicyhEKT5nYSkmJi0tbz4wKTtyZXR1cm4gTWF0aC5hYnMoTWF0aC5hYnMoZSktcGEpPGdhP1swLGVdOm8mJltyLGVdfTt2YXIga2E9MysyKk1hdGguU1FSVDI7KGQzLmdlby5laXNlbmxvaHI9ZnVuY3Rpb24oKXtyZXR1cm4geWEoVSl9KS5yYXc9VSxWLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPW4vKDErUGEpO3JldHVyblt0P3QvKFBhKk0oMS1hKmEpKTowLDIqTWF0aC5hdGFuKGEpXX07dmFyIFBhPU1hdGguY29zKDM1KnFhKTsoZDMuZ2VvLmZhaGV5PWZ1bmN0aW9uKCl7cmV0dXJuIHlhKFYpfSkucmF3PVYsVy5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT1NYXRoLmF0YW4obi93YSkscj1NYXRoLmNvcyhhKSxlPTIqYTtyZXR1cm5bLjUqdCp3YS8oTWF0aC5jb3MoZSkqcipyKSxlXX0sKGQzLmdlby5mb3VjYXV0PWZ1bmN0aW9uKCl7cmV0dXJuIHlhKFcpfSkucmF3PVcsZDMuZ2VvLmdpbGJlcnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gdChbLjUqblswXSxoKE1hdGgudGFuKC41Km5bMV0qcWEpKSptYV0pfXZhciBhPWQzLmdlby5lcXVpcmVjdGFuZ3VsYXIoKS5zY2FsZShtYSkudHJhbnNsYXRlKFswLDBdKTtyZXR1cm4gdC5pbnZlcnQmJihuLmludmVydD1mdW5jdGlvbihuKXtyZXR1cm4gbj10LmludmVydChuKSxuWzBdKj0yLG5bMV09MipNYXRoLmF0YW4oTWF0aC5zaW4oblsxXSpxYSkpKm1hLG59KSxuLnN0cmVhbT1mdW5jdGlvbihuKXtuPXQuc3RyZWFtKG4pO3ZhciByPWEuc3RyZWFtKHtwb2ludDpmdW5jdGlvbih0LGEpe24ucG9pbnQoLjUqdCxoKE1hdGgudGFuKC41Ki1hKnFhKSkqbWEpfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtuLmxpbmVTdGFydCgpfSxsaW5lRW5kOmZ1bmN0aW9uKCl7bi5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe24ucG9seWdvblN0YXJ0KCl9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtuLnBvbHlnb25FbmQoKX19KTtyZXR1cm4gci5zcGhlcmU9ZnVuY3Rpb24oKXtuLnNwaGVyZSgpfSxyLnZhbGlkPSExLHJ9LG59O3ZhciBfYT1kMy5nZW8uYXppbXV0aGFsRXF1aWRpc3RhbnQucmF3OyhkMy5nZW8uZ2luZ2VyeT1aKS5yYXc9WDt2YXIgemE9dG4oMi44Mjg0LC0xLjY5ODgsLjc1NDMyLC0uMTgwNzEsMS43NjAwMywtLjM4OTE0LC4wNDI1NTUpOyhkMy5nZW8uZ2luemJ1cmc0PWZ1bmN0aW9uKCl7cmV0dXJuIHlhKHphKX0pLnJhdz16YTt2YXIgQmE9dG4oMi41ODM4MTksLS44MzU4MjcsLjE3MDM1NCwtLjAzODA5NCwxLjU0MzMxMywtLjQxMTQzNSwuMDgyNzQyKTsoZDMuZ2VvLmdpbnpidXJnNT1mdW5jdGlvbigpe3JldHVybiB5YShCYSl9KS5yYXc9QmE7dmFyIEZhPXRuKDUvNipiYSwtLjYyNjM2LC0uMDM0NCwwLDEuMzQ5MywtLjA1NTI0LDAsLjA0NSk7KGQzLmdlby5naW56YnVyZzY9ZnVuY3Rpb24oKXtyZXR1cm4geWEoRmEpfSkucmF3PUZhLG5uLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhLHI9dCxlPW4sbz01MDtkb3t2YXIgaT1lKmU7ZS09YT0oZSooMStpLzEyKS1uKS8oMStpLzQpfXdoaWxlKE1hdGguYWJzKGEpPmdhJiYtLW8+MCk7bz01MCx0Lz0xLS4xNjIzODgqaTtkb3t2YXIgaD0oaD1yKnIpKmg7ci09YT0ociooLjg3LTk1MjQyNmUtOSpoKS10KS8oLjg3LS4wMDQ3NjIxMypoKX13aGlsZShNYXRoLmFicyhhKT5nYSYmLS1vPjApO3JldHVybltyLGVdfSwoZDMuZ2VvLmdpbnpidXJnOD1mdW5jdGlvbigpe3JldHVybiB5YShubil9KS5yYXc9bm47dmFyIEFhPXRuKDIuNjUxNiwtLjc2NTM0LC4xOTEyMywtLjA0NzA5NCwxLjM2Mjg5LC0uMTM5NjUsLjAzMTc2Mik7KGQzLmdlby5naW56YnVyZzk9ZnVuY3Rpb24oKXtyZXR1cm4geWEoQWEpfSkucmF3PUFhLHJuLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPWkodCkscj1pKG4pLGU9LWEqdCxvPS1yKm4sdT0xPm8vZSxNPW9uKHU/bzplLHU/ZTpvKSxzPU1bMF0sYz1NWzFdO3UmJihzPS1wYS1zKTt2YXIgZj1NYXRoLmNvcyhjKSx0PU1hdGguY29zKHMpKmYsbj1NYXRoLnNpbihzKSpmLHY9TWF0aC5zaW4oYyk7cmV0dXJuW2EqKE1hdGguYXRhbjIobiwtdikrYmEpLHIqaCh0KV19LGQzLmdlby5ncmluZ29ydGVuPWFuKHJuKSxjbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT0oTWF0aC5TUVJUMi0xKS8oTWF0aC5TUVJUMisxKSxyPU1hdGguc3FydCgxLWEqYSksZT1zbihwYSxyKnIpLG89LTEsaT1obiguNSplLW4sLXQscipyKSxoPXZuKGlbMF0saVsxXSksdT1NYXRoLmF0YW4yKGhbMV0saFswXSkvbztyZXR1cm5bdSwyKk1hdGguYXRhbihNYXRoLmV4cCguNS9vKk1hdGgubG9nKGEqaFswXSpoWzBdK2EqaFsxXSpoWzFdKSkpLXBhXX0sZDMuZ2VvLmd1eW91PWFuKGNuKSwoZDMuZ2VvLmhhbW1lclJldHJvYXppbXV0aGFsPWRuKS5yYXc9bG47dmFyIEdhPWQzLmdlby5hemltdXRoYWxFcXVhbEFyZWEucmF3O3duLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPTIqaChuLzIpO3JldHVyblt0Kk1hdGguY29zKGEvMikvTWF0aC5jb3MoYSksYV19LChkMy5nZW8uaGFtbWVyPXBuKS5yYXc9Ym4scW4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9TWF0aC5hYnMoYT1uKigwPm4/LjUxNzk5NTE1MTU2NTM4MTM6LjU2ODYzNzM3NDI2MDA2MDcpKT4xLWdhP2E+MD9wYTotcGE6aChhKTtyZXR1cm5bMS4xNzY0NzA1ODgyMzUyOTQyKnQvTWF0aC5jb3MoYSksTWF0aC5hYnMoYT0oKGErPWEpK01hdGguc2luKGEpKSooMD5uPy40MTAyMzQ1MzEwODE0MTkzOi4zNzM2OTkwNjAxNDY4NjM3KSk+MS1nYT9hPjA/cGE6LXBhOmgoYSldfSwoZDMuZ2VvLmhhdGFubz1mdW5jdGlvbigpe3JldHVybiB5YShxbil9KS5yYXc9cW47dmFyIGphPTQxKzQ4LzM2KzM3LzM2MDA7KGQzLmdlby5oZWFscGl4PXluKS5yYXc9bW4sKGQzLmdlby5oaWxsPVFuKS5yYXc9U247dmFyIENhPS43MTA5ODg5NTk2MjA3NTY3LERhPS4wNTI4MDM1Mjc0NTQyO1JuLmludmVydD1mdW5jdGlvbih0LG4pe3JldHVybiBuPi1DYT94YS5pbnZlcnQodCxuLURhKTpFLmludmVydCh0LG4pfSwoZDMuZ2VvLnNpbnVNb2xsd2VpZGU9ZnVuY3Rpb24oKXtyZXR1cm4geWEoUm4pLnJvdGF0ZShbLTIwLC01NV0pfSkucmF3PVJuLFRuLmludmVydD1mdW5jdGlvbih0LG4pe3JldHVybiBNYXRoLmFicyhuKT5DYT94YS5pbnZlcnQodCxuKyhuPjA/RGE6LURhKSk6RS5pbnZlcnQodCxuKX0sKGQzLmdlby5ob21vbG9zaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKFRuKX0pLnJhdz1Ubix4bi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXtyZXR1cm5bMi8zKmJhKnQvTWF0aC5zcXJ0KGJhKmJhLzMtbipuKSxuXX0sKGQzLmdlby5rYXZyYXlza2l5Nz1mdW5jdGlvbigpe3JldHVybiB5YSh4bil9KS5yYXc9eG4sKGQzLmdlby5sYWdyYW5nZT1rbikucmF3PUVuLFBuLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPU1hdGguYWJzKHQpLHI9TWF0aC5hYnMobiksZT1iYS9NYXRoLlNRUlQyLG89Z2EsaT1wYTtlPnI/aSo9ci9lOm8rPTYqdShlL3IpO2Zvcih2YXIgaD0wOzI1Pmg7aCsrKXt2YXIgcz1NYXRoLnNpbihpKSxjPU0oTWF0aC5jb3MoaSkpLGY9TWF0aC5zaW4oaS8yKSx2PU1hdGguY29zKGkvMiksbD1NYXRoLnNpbihvLzYpLGc9TWF0aC5jb3Moby82KSxkPS41Km8qKDErYyktYSxiPWkvKHYqZyktcixwPWM/LS4yNSpvKnMvYzowLHc9LjUqKDErYykscT0oMSsuNSppKmYvdikvKHYqZyksbT1pL3YqKGwvNikvKGcqZykseT1wKm0tcSp3LFM9KGQqbS1iKncpL3ksUT0oYipwLWQqcSkveTtpZihpLT1TLG8tPVEsTWF0aC5hYnMoUyk8Z2EmJk1hdGguYWJzKFEpPGdhKWJyZWFrfXJldHVyblswPnQ/LW86bywwPm4/LWk6aV19LChkMy5nZW8ubGFycml2ZWU9ZnVuY3Rpb24oKXtyZXR1cm4geWEoUG4pfSkucmF3PVBuLF9uLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPWkodCkqYmEscj1uLzIsZT01MDtkb3t2YXIgbz1hKmEsaD1yKnIsdT1hKnIsTT1hKiguOTc1NTM0K2gqKC0uMTE5MTYxK28qLS4wMTQzMDU5K2gqLS4wNTQ3MDA5KSktdCxzPXIqKDEuMDAzODQrbyooLjA4MDI4OTQraCotLjAyODU1KzE5OTAyNWUtOSpvKStoKiguMDk5ODkwOStoKi0uMDQ5MTAzMikpLW4sYz0uOTc1NTM0LWgqKC4xMTkxNjErLjAxNDMwNTkqMypvKy4wNTQ3MDA5KmgpLGY9LXUqKC4yMzgzMjIrLjIxODgwMzYqaCsuMDI4NjExOCpvKSx2PXUqKC4xNjA1Nzg4Kzc5NjFlLTcqbystMC4wNTcxKmgpLGw9MS4wMDM4NCtvKiguMDgwMjg5NCsxOTkwMjVlLTkqbykraCooMyooLjA5OTg5MDktLjAyODU1Km8pLS4yNDU1MTYqaCksZz1mKnYtbCpjLGQ9KHMqZi1NKmwpL2csYj0oTSp2LXMqYykvZzthLT1kLHItPWJ9d2hpbGUoKE1hdGguYWJzKGQpPmdhfHxNYXRoLmFicyhiKT5nYSkmJi0tZT4wKTtyZXR1cm4gZSYmW2Escl19LChkMy5nZW8ubGFza293c2tpPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKF9uKX0pLnJhdz1fbix6bi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT10KnQscj1uKm4sZT1yKzEsbz10P01hdGguU1FSVDFfMipNYXRoLnNxcnQoKGUtTWF0aC5zcXJ0KGEqYSsyKmEqKHItMSkrZSplKSkvYSsxKToxL01hdGguc3FydChlKTtyZXR1cm5baCh0Km8pLGkobikqdShvKV19LChkMy5nZW8ubGl0dHJvdz1mdW5jdGlvbigpe3JldHVybiB5YSh6bil9KS5yYXc9em4sKGQzLmdlby5sb3hpbXV0aGFsPWZ1bmN0aW9uKCl7cmV0dXJuIHgoQm4pLnBhcmFsbGVsKDQwKX0pLnJhdz1CbixGbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXtyZXR1cm5bdCwyLjUqTWF0aC5hdGFuKE1hdGguZXhwKC44Km4pKS0uNjI1KmJhXX0sKGQzLmdlby5taWxsZXI9ZnVuY3Rpb24oKXtyZXR1cm4geWEoRm4pfSkucmF3PUZuO3ZhciBMYT17YWxhc2thOltbLjk5NzI1MjMsMF0sWy4wMDUyNTEzLC0uMDA0MTE3NV0sWy4wMDc0NjA2LC4wMDQ4MTI1XSxbLS4wMTUzNzgzLC0uMTk2ODI1M10sWy4wNjM2ODcxLC0uMTQwODAyN10sWy4zNjYwOTc2LC0uMjkzNzM4Ml1dLGdzNDg6W1suOTg4NzksMF0sWzAsMF0sWy0uMDUwOTA5LDBdLFswLDBdLFsuMDc1NTI4LDBdXSxnczUwOltbLjk4NDI5OSwwXSxbLjAyMTE2NDIsLjAwMzc2MDhdLFstLjEwMzYwMTgsLS4wNTc1MTAyXSxbLS4wMzI5MDk1LC0uMDMyMDExOV0sWy4wNDk5NDcxLC4xMjIzMzM1XSxbLjAyNjA0NiwuMDg5OTgwNV0sWzczODhlLTcsLS4xNDM1NzkyXSxbLjAwNzU4NDgsLS4xMzM0MTA4XSxbLS4wMjE2NDczLC4wNzc2NjQ1XSxbLS4wMjI1MTYxLC4wODUzNjczXV0sbWlsbGVyOltbLjkyNDUsMF0sWzAsMF0sWy4wMTk0MywwXV0sbGVlOltbLjcyMTMxNiwwXSxbMCwwXSxbLS4wMDg4MTYyNSwtLjAwNjE3MzI1XV19OyhkMy5nZW8ubW9kaWZpZWRTdGVyZW9ncmFwaGljPUduKS5yYXc9QW4sam4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9TWF0aC5zcXJ0KDYpLHI9TWF0aC5zcXJ0KDcpLGU9MypoKG4qci85KTtyZXR1cm5bdCpyLyhhKigyKk1hdGguY29zKDIqZS8zKS0xKSksaCgzKk1hdGguc2luKGUpKmEvNyldfSwoZDMuZ2VvLm10RmxhdFBvbGFyUGFyYWJvbGljPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKGpuKX0pLnJhdz1qbixDbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT1uKk1hdGguc3FydCgyK01hdGguU1FSVDIpLygyKk1hdGguc3FydCgzKSkscj0yKmgoYSk7cmV0dXJuWzMqTWF0aC5TUVJUMip0LygxKzIqTWF0aC5jb3MocikvTWF0aC5jb3Moci8yKSksaCgoYStNYXRoLnNpbihyKSkvKDErTWF0aC5TUVJUMV8yKSldfSwoZDMuZ2VvLm10RmxhdFBvbGFyUXVhcnRpYz1mdW5jdGlvbigpe3JldHVybiB5YShDbil9KS5yYXc9Q24sRG4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9TWF0aC5zcXJ0KDYvKDQrYmEpKSxyPW4vYTtyZXR1cm4gTWF0aC5hYnMoTWF0aC5hYnMociktcGEpPGdhJiYocj0wPnI/LXBhOnBhKSxbMS41KnQvKGEqKC41K01hdGguY29zKHIpKSksaCgoci8yK01hdGguc2luKHIpKS8oMStiYS80KSldfSwoZDMuZ2VvLm10RmxhdFBvbGFyU2ludXNvaWRhbD1mdW5jdGlvbigpe3JldHVybiB5YShEbil9KS5yYXc9RG4sTG4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGEscj1uLGU9MjU7ZG97dmFyIG89cipyLGk9bypvO3ItPWE9KHIqKDEuMDA3MjI2K28qKC4wMTUwODUraSooLS4wNDQ0NzUrLjAyODg3NCpvLS4wMDU5MTYqaSkpKS1uKS8oMS4wMDcyMjYrbyooLjA0NTI1NStpKigtMC4zMTEzMjUrLjI1OTg2NipvLS4wMDU5MTYqMTEqaSkpKX13aGlsZShNYXRoLmFicyhhKT5nYSYmLS1lPjApO3JldHVyblt0LyguODcwNysobz1yKnIpKigtLjEzMTk3OStvKigtLjAxMzc5MStvKm8qbyooLjAwMzk3MS0uMDAxNTI5Km8pKSkpLHJdfSwoZDMuZ2VvLm5hdHVyYWxFYXJ0aD1mdW5jdGlvbigpe3JldHVybiB5YShMbil9KS5yYXc9TG4sT24uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7Zm9yKHZhciBhPW4vMixyPTAsZT0xLzA7MTA+ciYmTWF0aC5hYnMoZSk+Z2E7cisrKXt2YXIgbz1NYXRoLmNvcyhuLzIpO24tPWU9KG4tTWF0aC50YW4obi8yKS1hKS8oMS0uNS8obypvKSl9cmV0dXJuWzIqdC8oMStNYXRoLmNvcyhuKSksbl19LChkMy5nZW8ubmVsbEhhbW1lcj1mdW5jdGlvbigpe3JldHVybiB5YShPbil9KS5yYXc9T247dmFyIE9hPTEuMDE0OCxIYT0uMjMxODUsSWE9LS4xNDQ5OSxKYT0uMDI0MDYsS2E9T2EsTmE9NSpIYSxVYT03KklhLFZhPTkqSmEsV2E9MS43OTA4NTcxODM7SG4uaW52ZXJ0PWZ1bmN0aW9uKHQsbil7bj5XYT9uPVdhOi1XYT5uJiYobj0tV2EpO3ZhciBhLHI9bjtkb3t2YXIgZT1yKnI7ci09YT0ociooT2ErZSplKihIYStlKihJYStKYSplKSkpLW4pLyhLYStlKmUqKE5hK2UqKFVhK1ZhKmUpKSl9d2hpbGUoTWF0aC5hYnMoYSk+Z2EpO3JldHVyblt0LHJdfSwoZDMuZ2VvLnBhdHRlcnNvbj1mdW5jdGlvbigpe3JldHVybiB5YShIbil9KS5yYXc9SG47dmFyIFhhPWFuKGNuKTsoZDMuZ2VvLnBlaXJjZVF1aW5jdW5jaWFsPWZ1bmN0aW9uKCl7cmV0dXJuIFhhKCkucXVpbmN1bmNpYWwoITApLnJvdGF0ZShbLTkwLC05MCw0NV0pLmNsaXBBbmdsZSgxODAtMWUtNil9KS5yYXc9WGEucmF3LEluLmludmVydD1mdW5jdGlvbih0LG4pe2lmKE1hdGguYWJzKG4pPGdhKXJldHVyblt0LDBdO3ZhciBhLHI9dCp0K24qbixlPS41Km4sbz0xMDtkb3t2YXIgTT1NYXRoLnRhbihlKSxzPTEvTWF0aC5jb3MoZSksYz1yLTIqbiplK2UqZTtlLT1hPShNKmMrMiooZS1uKSkvKDIrYypzKnMrMiooZS1uKSpNKX13aGlsZShNYXRoLmFicyhhKT5nYSYmLS1vPjApO3JldHVybiBNPU1hdGgudGFuKGUpLFsoTWF0aC5hYnMobik8TWF0aC5hYnMoZSsxL00pP2godCpNKTppKHQpKih1KE1hdGguYWJzKHQqTSkpK3BhKSkvTWF0aC5zaW4oZSksZV19LChkMy5nZW8ucG9seWNvbmljPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKEluKX0pLnJhdz1JbiwoZDMuZ2VvLnJlY3Rhbmd1bGFyUG9seWNvbmljPWZ1bmN0aW9uKCl7cmV0dXJuIHgoSm4pfSkucmF3PUpuO3ZhciBZYT1bWy45OTg2LC0uMDYyXSxbMSwwXSxbLjk5ODYsLjA2Ml0sWy45OTU0LC4xMjRdLFsuOTksLjE4Nl0sWy45ODIyLC4yNDhdLFsuOTczLC4zMV0sWy45NiwuMzcyXSxbLjk0MjcsLjQzNF0sWy45MjE2LC40OTU4XSxbLjg5NjIsLjU1NzFdLFsuODY3OSwuNjE3Nl0sWy44MzUsLjY3NjldLFsuNzk4NiwuNzM0Nl0sWy43NTk3LC43OTAzXSxbLjcxODYsLjg0MzVdLFsuNjczMiwuODkzNl0sWy42MjEzLC45Mzk0XSxbLjU3MjIsLjk3NjFdLFsuNTMyMiwxXV07WWEuZm9yRWFjaChmdW5jdGlvbih0KXt0WzFdKj0xLjAxNDR9KSxLbi5pbnZlcnQ9ZnVuY3Rpb24odCxuKXt2YXIgYT1uL3BhLHI9OTAqYSxlPU1hdGgubWluKDE4LE1hdGguYWJzKHIvNSkpLG89TWF0aC5tYXgoMCxNYXRoLmZsb29yKGUpKTtkb3t2YXIgaT1ZYVtvXVsxXSxoPVlhW28rMV1bMV0sdT1ZYVtNYXRoLm1pbigxOSxvKzIpXVsxXSxNPXUtaSxzPXUtMipoK2ksYz0yKihNYXRoLmFicyhhKS1oKS9NLGY9cy9NLHY9YyooMS1mKmMqKDEtMipmKmMpKTtpZih2Pj0wfHwxPT09byl7cj0obj49MD81Oi01KSooditlKTt2YXIgbCxnPTUwO2RvIGU9TWF0aC5taW4oMTgsTWF0aC5hYnMocikvNSksbz1NYXRoLmZsb29yKGUpLHY9ZS1vLGk9WWFbb11bMV0saD1ZYVtvKzFdWzFdLHU9WWFbTWF0aC5taW4oMTksbysyKV1bMV0sci09KGw9KG4+PTA/cGE6LXBhKSooaCt2Kih1LWkpLzIrdip2Kih1LTIqaCtpKS8yKS1uKSptYTt3aGlsZShNYXRoLmFicyhsKT5kYSYmLS1nPjApO2JyZWFrfX13aGlsZSgtLW8+PTApO3ZhciBkPVlhW29dWzBdLGI9WWFbbysxXVswXSxwPVlhW01hdGgubWluKDE5LG8rMildWzBdO3JldHVyblt0LyhiK3YqKHAtZCkvMit2KnYqKHAtMipiK2QpLzIpLHIqcWFdfSwoZDMuZ2VvLnJvYmluc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHlhKEtuKX0pLnJhdz1LbiwoZDMuZ2VvLnNhdGVsbGl0ZT1WbikucmF3PVVuLFduLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPW4vMS43MDcxMSxyPU1hdGguc2luKGJhLzQqYSk7cmV0dXJuW3QvKC43NDQ4Mi0uMzQ1ODgqcipyKSwyKk1hdGguYXRhbihhKV19LChkMy5nZW8udGltZXM9ZnVuY3Rpb24oKXtyZXR1cm4geWEoV24pfSkucmF3PVduLChkMy5nZW8udHdvUG9pbnRFcXVpZGlzdGFudD1ZbikucmF3PVhuLChkMy5nZW8udHdvUG9pbnRBemltdXRoYWw9JG4pLnJhdz1abix0YS5pbnZlcnQ9ZnVuY3Rpb24odCxuKXtpZihNYXRoLmFicyhuKTxnYSlyZXR1cm5bdCwwXTtpZihNYXRoLmFicyh0KTxnYSlyZXR1cm5bMCxwYSpNYXRoLnNpbigyKk1hdGguYXRhbihuL2JhKSldO3ZhciBhPSh0Lz1iYSkqdCxyPShuLz1iYSkqbixlPWErcixvPWUqZSxoPS1NYXRoLmFicyhuKSooMStlKSxNPWgtMipyK2Escz0tMipoKzErMipyK28sYz1yL3MrKDIqTSpNKk0vKHMqcypzKS05KmgqTS8ocypzKSkvMjcsZj0oaC1NKk0vKDMqcykpL3Msdj0yKk1hdGguc3FydCgtZi8zKSxsPXUoMypjLyhmKnYpKS8zO3JldHVybltiYSooZS0xK01hdGguc3FydCgxKzIqKGEtcikrbykpLygyKnQpLGkobikqYmEqKC12Kk1hdGguY29zKGwrYmEvMyktTS8oMypzKSldfSwoZDMuZ2VvLnZhbkRlckdyaW50ZW49ZnVuY3Rpb24oKXtyZXR1cm4geWEodGEpfSkucmF3PXRhLG5hLmludmVydD1mdW5jdGlvbih0LG4pe2lmKCF0KXJldHVyblswLHBhKk1hdGguc2luKDIqTWF0aC5hdGFuKG4vYmEpKV07dmFyIGE9TWF0aC5hYnModC9iYSkscj0oMS1hKmEtKG4vPWJhKSpuKS8oMiphKSxlPXIqcixvPU1hdGguc3FydChlKzEpO3JldHVybltpKHQpKmJhKihvLXIpLGkobikqcGEqTWF0aC5zaW4oMipNYXRoLmF0YW4yKE1hdGguc3FydCgoMS0yKnIqYSkqKHIrbyktYSksTWF0aC5zcXJ0KG8rcithKSkpXX0sKGQzLmdlby52YW5EZXJHcmludGVuMj1mdW5jdGlvbigpe3JldHVybiB5YShuYSl9KS5yYXc9bmEsYWEuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7aWYoIW4pcmV0dXJuW3QsMF07dmFyIGE9bi9iYSxyPShiYSpiYSooMS1hKmEpLXQqdCkvKDIqYmEqdCk7cmV0dXJuW3Q/YmEqKGkodCkqTWF0aC5zcXJ0KHIqcisxKS1yKTowLHBhKk1hdGguc2luKDIqTWF0aC5hdGFuKGEpKV19LChkMy5nZW8udmFuRGVyR3JpbnRlbjM9ZnVuY3Rpb24oKXtyZXR1cm4geWEoYWEpfSkucmF3PWFhLHJhLmludmVydD1mdW5jdGlvbih0LG4pe2lmKCF0fHwhbilyZXR1cm5bdCxuXTtuLz1iYTt2YXIgYT1pKHQpKnQvcGEscj0oYSphLTErNCpuKm4pL01hdGguYWJzKGEpLGU9cipyLG89MipuLGg9NTA7ZG97dmFyIHU9bypvLE09KDgqby11Kih1KzIpLTUpLygyKnUqKG8tMSkpLHM9KDMqby11Km8tMTApLygyKnUqbyksYz1NKk0sZj1vKk0sdj1vK00sbD12KnYsZz1vKzMqTSxkPWwqKHUrYyplLTEpKygxLXUpKih1KihnKmcrNCpjKStjKigxMipmKzQqYykpLGI9LTIqdiooNCpmKmMrKDEtNCp1KzMqdSp1KSooMStzKStjKigtNisxNCp1LWUrKC04KzgqdS0yKmUpKnMpK2YqKC04KzEyKnUrKC0xMCsxMCp1LWUpKnMpKSxwPU1hdGguc3FydChkKSx3PXIqKGwrYy0xKSsyKnAtYSooNCpsK2UpLHE9ciooMipNKnMrMip2KigxK3MpKStiL3AtOCp2KihyKigtMStjK2wpKzIqcCkqKDErcykvKGUrNCpsKTtvLT3OtD13L3F9d2hpbGUozrQ+Z2EmJi0taD4wKTtyZXR1cm5baSh0KSooTWF0aC5zcXJ0KHIqcis0KStyKSpiYS80LHBhKm9dfSwoZDMuZ2VvLnZhbkRlckdyaW50ZW40PWZ1bmN0aW9uKCl7cmV0dXJuIHlhKHJhKX0pLnJhdz1yYTt2YXIgWmE9ZnVuY3Rpb24oKXt2YXIgdD00KmJhKzMqTWF0aC5zcXJ0KDMpLG49MipNYXRoLnNxcnQoMipiYSpNYXRoLnNxcnQoMykvdCk7cmV0dXJuIFIobipNYXRoLnNxcnQoMykvYmEsbix0LzYpfSgpOyhkMy5nZW8ud2FnbmVyND1mdW5jdGlvbigpe3JldHVybiB5YShaYSl9KS5yYXc9WmEsZWEuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7cmV0dXJuW3QvTWF0aC5zcXJ0KDEtMypuKm4vKGJhKmJhKSksbl19LChkMy5nZW8ud2FnbmVyNj1mdW5jdGlvbigpe3JldHVybiB5YShlYSl9KS5yYXc9ZWEsb2EuaW52ZXJ0PWZ1bmN0aW9uKHQsbil7dmFyIGE9dC8yLjY2NzIzLHI9bi8xLjI0MTA0LGU9TWF0aC5zcXJ0KGEqYStyKnIpLG89MipoKGUvMik7cmV0dXJuWzMqTWF0aC5hdGFuMih0Kk1hdGgudGFuKG8pLDIuNjY3MjMqZSksZSYmaChuKk1hdGguc2luKG8pLygxLjI0MTA0Ki45MDYzMSplKSldfSwoZDMuZ2VvLndhZ25lcjc9ZnVuY3Rpb24oKXtyZXR1cm4geWEob2EpfSkucmF3PW9hLGlhLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPS0uNSoodCp0K24qbikscj1NYXRoLnNxcnQoLWEqKDIrYSkpLGU9biphK3QqcixvPXQqYS1uKnIsaT1NYXRoLnNxcnQobypvK2UqZSk7cmV0dXJuW01hdGguYXRhbjIociplLGkqKDErYSkpLGk/LWgocipvL2kpOjBdfSwoZDMuZ2VvLndpZWNoZWw9ZnVuY3Rpb24oKXtyZXR1cm4geWEoaWEpfSkucmF3PWlhLGhhLmludmVydD1mdW5jdGlvbih0LG4pe3ZhciBhPXQscj1uLGU9MjU7ZG97dmFyIG8saT1NYXRoLmNvcyhyKSxoPU1hdGguc2luKHIpLE09TWF0aC5zaW4oMipyKSxzPWgqaCxjPWkqaSxmPU1hdGguc2luKGEpLHY9TWF0aC5jb3MoYS8yKSxsPU1hdGguc2luKGEvMiksZz1sKmwsZD0xLWMqdip2LGI9ZD91KGkqdikqTWF0aC5zcXJ0KG89MS9kKTpvPTAscD0uNSooMipiKmkqbCthL3BhKS10LHc9LjUqKGIqaCtyKS1uLHE9LjUqbyooYypnK2IqaSp2KnMpKy41L3BhLG09byooZipNLzQtYipoKmwpLHk9LjEyNSpvKihNKmwtYipoKmMqZiksUz0uNSpvKihzKnYrYipnKmkpKy41LFE9bSp5LVMqcSxSPSh3Km0tcCpTKS9RLFQ9KHAqeS13KnEpL1E7YS09UixyLT1UfXdoaWxlKChNYXRoLmFicyhSKT5nYXx8TWF0aC5hYnMoVCk+Z2EpJiYtLWU+MCk7cmV0dXJuW2Escl19LChkMy5nZW8ud2lua2VsMz1mdW5jdGlvbigpe3JldHVybiB5YShoYSl9KS5yYXc9aGF9KCk7XG4hZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4sdCl7ZnVuY3Rpb24gcih0KXt2YXIgcixlPW4uYXJjc1swPnQ/fnQ6dF0sbz1lWzBdO3JldHVybiBuLnRyYW5zZm9ybT8ocj1bMCwwXSxlLmZvckVhY2goZnVuY3Rpb24obil7clswXSs9blswXSxyWzFdKz1uWzFdfSkpOnI9ZVtlLmxlbmd0aC0xXSwwPnQ/W3Isb106W28scl19ZnVuY3Rpb24gZShuLHQpe2Zvcih2YXIgciBpbiBuKXt2YXIgZT1uW3JdO2RlbGV0ZSB0W2Uuc3RhcnRdLGRlbGV0ZSBlLnN0YXJ0LGRlbGV0ZSBlLmVuZCxlLmZvckVhY2goZnVuY3Rpb24obil7b1swPm4/fm46bl09MX0pLGYucHVzaChlKX19dmFyIG89e30saT17fSx1PXt9LGY9W10sYz0tMTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHIsZSl7dmFyIG8saT1uLmFyY3NbMD5yP35yOnJdO2kubGVuZ3RoPDMmJiFpWzFdWzBdJiYhaVsxXVsxXSYmKG89dFsrK2NdLHRbY109cix0W2VdPW8pfSksdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciB0LGUsbz1yKG4pLGY9b1swXSxjPW9bMV07aWYodD11W2ZdKWlmKGRlbGV0ZSB1W3QuZW5kXSx0LnB1c2gobiksdC5lbmQ9YyxlPWlbY10pe2RlbGV0ZSBpW2Uuc3RhcnRdO3ZhciBhPWU9PT10P3Q6dC5jb25jYXQoZSk7aVthLnN0YXJ0PXQuc3RhcnRdPXVbYS5lbmQ9ZS5lbmRdPWF9ZWxzZSBpW3Quc3RhcnRdPXVbdC5lbmRdPXQ7ZWxzZSBpZih0PWlbY10paWYoZGVsZXRlIGlbdC5zdGFydF0sdC51bnNoaWZ0KG4pLHQuc3RhcnQ9ZixlPXVbZl0pe2RlbGV0ZSB1W2UuZW5kXTt2YXIgcz1lPT09dD90OmUuY29uY2F0KHQpO2lbcy5zdGFydD1lLnN0YXJ0XT11W3MuZW5kPXQuZW5kXT1zfWVsc2UgaVt0LnN0YXJ0XT11W3QuZW5kXT10O2Vsc2UgdD1bbl0saVt0LnN0YXJ0PWZdPXVbdC5lbmQ9Y109dH0pLGUodSxpKSxlKGksdSksdC5mb3JFYWNoKGZ1bmN0aW9uKG4pe29bMD5uP35uOm5dfHxmLnB1c2goW25dKX0pLGZ9ZnVuY3Rpb24gcihuLHIsZSl7ZnVuY3Rpb24gbyhuKXt2YXIgdD0wPm4/fm46bjsoc1t0XXx8KHNbdF09W10pKS5wdXNoKHtpOm4sZzphfSl9ZnVuY3Rpb24gaShuKXtuLmZvckVhY2gobyl9ZnVuY3Rpb24gdShuKXtuLmZvckVhY2goaSl9ZnVuY3Rpb24gZihuKXtcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09bi50eXBlP24uZ2VvbWV0cmllcy5mb3JFYWNoKGYpOm4udHlwZSBpbiBsJiYoYT1uLGxbbi50eXBlXShuLmFyY3MpKX12YXIgYz1bXTtpZihhcmd1bWVudHMubGVuZ3RoPjEpe3ZhciBhLHM9W10sbD17TGluZVN0cmluZzppLE11bHRpTGluZVN0cmluZzp1LFBvbHlnb246dSxNdWx0aVBvbHlnb246ZnVuY3Rpb24obil7bi5mb3JFYWNoKHUpfX07ZihyKSxzLmZvckVhY2goYXJndW1lbnRzLmxlbmd0aDwzP2Z1bmN0aW9uKG4pe2MucHVzaChuWzBdLmkpfTpmdW5jdGlvbihuKXtlKG5bMF0uZyxuW24ubGVuZ3RoLTFdLmcpJiZjLnB1c2goblswXS5pKX0pfWVsc2UgZm9yKHZhciBoPTAscD1uLmFyY3MubGVuZ3RoO3A+aDsrK2gpYy5wdXNoKGgpO3JldHVybnt0eXBlOlwiTXVsdGlMaW5lU3RyaW5nXCIsYXJjczp0KG4sYyl9fWZ1bmN0aW9uIGUocixlKXtmdW5jdGlvbiBvKG4pe24uZm9yRWFjaChmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7KGZbdD0wPnQ/fnQ6dF18fChmW3RdPVtdKSkucHVzaChuKX0pfSksYy5wdXNoKG4pfWZ1bmN0aW9uIGkobil7cmV0dXJuIGwodShyLHt0eXBlOlwiUG9seWdvblwiLGFyY3M6W25dfSkuY29vcmRpbmF0ZXNbMF0pPjB9dmFyIGY9e30sYz1bXSxhPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24obil7XCJQb2x5Z29uXCI9PT1uLnR5cGU/byhuLmFyY3MpOlwiTXVsdGlQb2x5Z29uXCI9PT1uLnR5cGUmJm4uYXJjcy5mb3JFYWNoKG8pfSksYy5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCFuLl8pe3ZhciB0PVtdLHI9W25dO2ZvcihuLl89MSxhLnB1c2godCk7bj1yLnBvcCgpOyl0LnB1c2gobiksbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uZm9yRWFjaChmdW5jdGlvbihuKXtmWzA+bj9+bjpuXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uX3x8KG4uXz0xLHIucHVzaChuKSl9KX0pfSl9fSksYy5mb3JFYWNoKGZ1bmN0aW9uKG4pe2RlbGV0ZSBuLl99KSx7dHlwZTpcIk11bHRpUG9seWdvblwiLGFyY3M6YS5tYXAoZnVuY3Rpb24oZSl7dmFyIG89W107aWYoZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe24uZm9yRWFjaChmdW5jdGlvbihuKXtuLmZvckVhY2goZnVuY3Rpb24obil7ZlswPm4/fm46bl0ubGVuZ3RoPDImJm8ucHVzaChuKX0pfSl9KSxvPXQocixvKSwobj1vLmxlbmd0aCk+MSlmb3IodmFyIHUsYz1pKGVbMF1bMF0pLGE9MDtuPmE7KythKWlmKGM9PT1pKG9bYV0pKXt1PW9bMF0sb1swXT1vW2FdLG9bYV09dTticmVha31yZXR1cm4gb30pfX1mdW5jdGlvbiBvKG4sdCl7cmV0dXJuXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PXQudHlwZT97dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6dC5nZW9tZXRyaWVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaShuLHQpfSl9Omkobix0KX1mdW5jdGlvbiBpKG4sdCl7dmFyIHI9e3R5cGU6XCJGZWF0dXJlXCIsaWQ6dC5pZCxwcm9wZXJ0aWVzOnQucHJvcGVydGllc3x8e30sZ2VvbWV0cnk6dShuLHQpfTtyZXR1cm4gbnVsbD09dC5pZCYmZGVsZXRlIHIuaWQscn1mdW5jdGlvbiB1KG4sdCl7ZnVuY3Rpb24gcihuLHQpe3QubGVuZ3RoJiZ0LnBvcCgpO2Zvcih2YXIgcixlPXNbMD5uP35uOm5dLG89MCxpPWUubGVuZ3RoO2k+bzsrK28pdC5wdXNoKHI9ZVtvXS5zbGljZSgpKSxhKHIsbyk7MD5uJiZmKHQsaSl9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbj1uLnNsaWNlKCksYShuLDApLG59ZnVuY3Rpb24gbyhuKXtmb3IodmFyIHQ9W10sZT0wLG89bi5sZW5ndGg7bz5lOysrZSlyKG5bZV0sdCk7cmV0dXJuIHQubGVuZ3RoPDImJnQucHVzaCh0WzBdLnNsaWNlKCkpLHR9ZnVuY3Rpb24gaShuKXtmb3IodmFyIHQ9byhuKTt0Lmxlbmd0aDw0Oyl0LnB1c2godFswXS5zbGljZSgpKTtyZXR1cm4gdH1mdW5jdGlvbiB1KG4pe3JldHVybiBuLm1hcChpKX1mdW5jdGlvbiBjKG4pe3ZhciB0PW4udHlwZTtyZXR1cm5cIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09dD97dHlwZTp0LGdlb21ldHJpZXM6bi5nZW9tZXRyaWVzLm1hcChjKX06dCBpbiBsP3t0eXBlOnQsY29vcmRpbmF0ZXM6bFt0XShuKX06bnVsbH12YXIgYT12KG4udHJhbnNmb3JtKSxzPW4uYXJjcyxsPXtQb2ludDpmdW5jdGlvbihuKXtyZXR1cm4gZShuLmNvb3JkaW5hdGVzKX0sTXVsdGlQb2ludDpmdW5jdGlvbihuKXtyZXR1cm4gbi5jb29yZGluYXRlcy5tYXAoZSl9LExpbmVTdHJpbmc6ZnVuY3Rpb24obil7cmV0dXJuIG8obi5hcmNzKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKG4pe3JldHVybiBuLmFyY3MubWFwKG8pfSxQb2x5Z29uOmZ1bmN0aW9uKG4pe3JldHVybiB1KG4uYXJjcyl9LE11bHRpUG9seWdvbjpmdW5jdGlvbihuKXtyZXR1cm4gbi5hcmNzLm1hcCh1KX19O3JldHVybiBjKHQpfWZ1bmN0aW9uIGYobix0KXtmb3IodmFyIHIsZT1uLmxlbmd0aCxvPWUtdDtvPC0tZTspcj1uW29dLG5bbysrXT1uW2VdLG5bZV09cn1mdW5jdGlvbiBjKG4sdCl7Zm9yKHZhciByPTAsZT1uLmxlbmd0aDtlPnI7KXt2YXIgbz1yK2U+Pj4xO25bb108dD9yPW8rMTplPW99cmV0dXJuIHJ9ZnVuY3Rpb24gYShuKXtmdW5jdGlvbiB0KG4sdCl7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pezA+biYmKG49fm4pO3ZhciByPW9bbl07cj9yLnB1c2godCk6b1tuXT1bdF19KX1mdW5jdGlvbiByKG4scil7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QobixyKX0pfWZ1bmN0aW9uIGUobix0KXtcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09bi50eXBlP24uZ2VvbWV0cmllcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe2Uobix0KX0pOm4udHlwZSBpbiB1JiZ1W24udHlwZV0obi5hcmNzLHQpfXZhciBvPXt9LGk9bi5tYXAoZnVuY3Rpb24oKXtyZXR1cm5bXX0pLHU9e0xpbmVTdHJpbmc6dCxNdWx0aUxpbmVTdHJpbmc6cixQb2x5Z29uOnIsTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKG4sdCl7bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe3Iobix0KX0pfX07bi5mb3JFYWNoKGUpO2Zvcih2YXIgZiBpbiBvKWZvcih2YXIgYT1vW2ZdLHM9YS5sZW5ndGgsbD0wO3M+bDsrK2wpZm9yKHZhciBoPWwrMTtzPmg7KytoKXt2YXIgcCxnPWFbbF0sdj1hW2hdOyhwPWlbZ10pW2Y9YyhwLHYpXSE9PXYmJnAuc3BsaWNlKGYsMCx2KSwocD1pW3ZdKVtmPWMocCxnKV0hPT1nJiZwLnNwbGljZShmLDAsZyl9cmV0dXJuIGl9ZnVuY3Rpb24gcyhuLHQpe2Z1bmN0aW9uIHIobil7aS5yZW1vdmUobiksblsxXVsyXT10KG4pLGkucHVzaChuKX12YXIgZT12KG4udHJhbnNmb3JtKSxvPW0obi50cmFuc2Zvcm0pLGk9ZygpO3JldHVybiB0fHwodD1oKSxuLmFyY3MuZm9yRWFjaChmdW5jdGlvbihuKXtmb3IodmFyIHUsZixjPVtdLGE9MCxzPTAsbD1uLmxlbmd0aDtsPnM7KytzKWY9bltzXSxlKG5bc109W2ZbMF0sZlsxXSwxLzBdLHMpO2Zvcih2YXIgcz0xLGw9bi5sZW5ndGgtMTtsPnM7KytzKXU9bi5zbGljZShzLTEscysyKSx1WzFdWzJdPXQodSksYy5wdXNoKHUpLGkucHVzaCh1KTtmb3IodmFyIHM9MCxsPWMubGVuZ3RoO2w+czsrK3MpdT1jW3NdLHUucHJldmlvdXM9Y1tzLTFdLHUubmV4dD1jW3MrMV07Zm9yKDt1PWkucG9wKCk7KXt2YXIgaD11LnByZXZpb3VzLHA9dS5uZXh0O3VbMV1bMl08YT91WzFdWzJdPWE6YT11WzFdWzJdLGgmJihoLm5leHQ9cCxoWzJdPXVbMl0scihoKSkscCYmKHAucHJldmlvdXM9aCxwWzBdPXVbMF0scihwKSl9bi5mb3JFYWNoKG8pfSksbn1mdW5jdGlvbiBsKG4pe2Zvcih2YXIgdCxyPS0xLGU9bi5sZW5ndGgsbz1uW2UtMV0saT0wOysrcjxlOyl0PW8sbz1uW3JdLGkrPXRbMF0qb1sxXS10WzFdKm9bMF07cmV0dXJuLjUqaX1mdW5jdGlvbiBoKG4pe3ZhciB0PW5bMF0scj1uWzFdLGU9blsyXTtyZXR1cm4gTWF0aC5hYnMoKHRbMF0tZVswXSkqKHJbMV0tdFsxXSktKHRbMF0tclswXSkqKGVbMV0tdFsxXSkpfWZ1bmN0aW9uIHAobix0KXtyZXR1cm4gblsxXVsyXS10WzFdWzJdfWZ1bmN0aW9uIGcoKXtmdW5jdGlvbiBuKG4sdCl7Zm9yKDt0PjA7KXt2YXIgcj0odCsxPj4xKS0xLG89ZVtyXTtpZihwKG4sbyk+PTApYnJlYWs7ZVtvLl89dF09byxlW24uXz10PXJdPW59fWZ1bmN0aW9uIHQobix0KXtmb3IoOzspe3ZhciByPXQrMTw8MSxpPXItMSx1PXQsZj1lW3VdO2lmKG8+aSYmcChlW2ldLGYpPDAmJihmPWVbdT1pXSksbz5yJiZwKGVbcl0sZik8MCYmKGY9ZVt1PXJdKSx1PT09dClicmVhaztlW2YuXz10XT1mLGVbbi5fPXQ9dV09bn19dmFyIHI9e30sZT1bXSxvPTA7cmV0dXJuIHIucHVzaD1mdW5jdGlvbih0KXtyZXR1cm4gbihlW3QuXz1vXT10LG8rKyksb30sci5wb3A9ZnVuY3Rpb24oKXtpZighKDA+PW8pKXt2YXIgbixyPWVbMF07cmV0dXJuLS1vPjAmJihuPWVbb10sdChlW24uXz0wXT1uLDApKSxyfX0sci5yZW1vdmU9ZnVuY3Rpb24ocil7dmFyIGksdT1yLl87aWYoZVt1XT09PXIpcmV0dXJuIHUhPT0tLW8mJihpPWVbb10sKHAoaSxyKTwwP246dCkoZVtpLl89dV09aSx1KSksdX0scn1mdW5jdGlvbiB2KG4pe2lmKCFuKXJldHVybiB5O3ZhciB0LHIsZT1uLnNjYWxlWzBdLG89bi5zY2FsZVsxXSxpPW4udHJhbnNsYXRlWzBdLHU9bi50cmFuc2xhdGVbMV07cmV0dXJuIGZ1bmN0aW9uKG4sZil7Znx8KHQ9cj0wKSxuWzBdPSh0Kz1uWzBdKSplK2ksblsxXT0ocis9blsxXSkqbyt1fX1mdW5jdGlvbiBtKG4pe2lmKCFuKXJldHVybiB5O3ZhciB0LHIsZT1uLnNjYWxlWzBdLG89bi5zY2FsZVsxXSxpPW4udHJhbnNsYXRlWzBdLHU9bi50cmFuc2xhdGVbMV07cmV0dXJuIGZ1bmN0aW9uKG4sZil7Znx8KHQ9cj0wKTt2YXIgYz0oblswXS1pKS9lfDAsYT0oblsxXS11KS9vfDA7blswXT1jLXQsblsxXT1hLXIsdD1jLHI9YX19ZnVuY3Rpb24geSgpe312YXIgZD17dmVyc2lvbjpcIjEuNi4xOVwiLG1lc2g6ZnVuY3Rpb24obil7cmV0dXJuIHUobixyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LG1lc2hBcmNzOnIsbWVyZ2U6ZnVuY3Rpb24obil7cmV0dXJuIHUobixlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LG1lcmdlQXJjczplLGZlYXR1cmU6byxuZWlnaGJvcnM6YSxwcmVzaW1wbGlmeTpzfTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGQpOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWQ6dGhpcy50b3BvanNvbj1kfSgpOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIGFkZEFjY2Vzc29yKGYsZSxkKXtmW2VdPWZ1bmN0aW9uKGMpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBjP2YucHJvcGVydGllc1tlXXx8ZDooZi5wcm9wZXJ0aWVzW2VdPWMsZil9fWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhmLGUpe2lmKCEoZiBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGYsZSl7aWYoIShmIGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBfaW5oZXJpdHMoZixlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgZSk7Zi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmYsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmKGYuX19wcm90b19fPWUpfXZhciBjb2xvcmJyZXdlcj17WWxHbjp7MzpbXCIjZjdmY2I5XCIsXCIjYWRkZDhlXCIsXCIjMzFhMzU0XCJdLDQ6W1wiI2ZmZmZjY1wiLFwiI2MyZTY5OVwiLFwiIzc4YzY3OVwiLFwiIzIzODQ0M1wiXSw1OltcIiNmZmZmY2NcIixcIiNjMmU2OTlcIixcIiM3OGM2NzlcIixcIiMzMWEzNTRcIixcIiMwMDY4MzdcIl0sNjpbXCIjZmZmZmNjXCIsXCIjZDlmMGEzXCIsXCIjYWRkZDhlXCIsXCIjNzhjNjc5XCIsXCIjMzFhMzU0XCIsXCIjMDA2ODM3XCJdLDc6W1wiI2ZmZmZjY1wiLFwiI2Q5ZjBhM1wiLFwiI2FkZGQ4ZVwiLFwiIzc4YzY3OVwiLFwiIzQxYWI1ZFwiLFwiIzIzODQ0M1wiLFwiIzAwNWEzMlwiXSw4OltcIiNmZmZmZTVcIixcIiNmN2ZjYjlcIixcIiNkOWYwYTNcIixcIiNhZGRkOGVcIixcIiM3OGM2NzlcIixcIiM0MWFiNWRcIixcIiMyMzg0NDNcIixcIiMwMDVhMzJcIl0sOTpbXCIjZmZmZmU1XCIsXCIjZjdmY2I5XCIsXCIjZDlmMGEzXCIsXCIjYWRkZDhlXCIsXCIjNzhjNjc5XCIsXCIjNDFhYjVkXCIsXCIjMjM4NDQzXCIsXCIjMDA2ODM3XCIsXCIjMDA0NTI5XCJdfSxZbEduQnU6ezM6W1wiI2VkZjhiMVwiLFwiIzdmY2RiYlwiLFwiIzJjN2ZiOFwiXSw0OltcIiNmZmZmY2NcIixcIiNhMWRhYjRcIixcIiM0MWI2YzRcIixcIiMyMjVlYThcIl0sNTpbXCIjZmZmZmNjXCIsXCIjYTFkYWI0XCIsXCIjNDFiNmM0XCIsXCIjMmM3ZmI4XCIsXCIjMjUzNDk0XCJdLDY6W1wiI2ZmZmZjY1wiLFwiI2M3ZTliNFwiLFwiIzdmY2RiYlwiLFwiIzQxYjZjNFwiLFwiIzJjN2ZiOFwiLFwiIzI1MzQ5NFwiXSw3OltcIiNmZmZmY2NcIixcIiNjN2U5YjRcIixcIiM3ZmNkYmJcIixcIiM0MWI2YzRcIixcIiMxZDkxYzBcIixcIiMyMjVlYThcIixcIiMwYzJjODRcIl0sODpbXCIjZmZmZmQ5XCIsXCIjZWRmOGIxXCIsXCIjYzdlOWI0XCIsXCIjN2ZjZGJiXCIsXCIjNDFiNmM0XCIsXCIjMWQ5MWMwXCIsXCIjMjI1ZWE4XCIsXCIjMGMyYzg0XCJdLDk6W1wiI2ZmZmZkOVwiLFwiI2VkZjhiMVwiLFwiI2M3ZTliNFwiLFwiIzdmY2RiYlwiLFwiIzQxYjZjNFwiLFwiIzFkOTFjMFwiLFwiIzIyNWVhOFwiLFwiIzI1MzQ5NFwiLFwiIzA4MWQ1OFwiXX0sR25CdTp7MzpbXCIjZTBmM2RiXCIsXCIjYThkZGI1XCIsXCIjNDNhMmNhXCJdLDQ6W1wiI2YwZjllOFwiLFwiI2JhZTRiY1wiLFwiIzdiY2NjNFwiLFwiIzJiOGNiZVwiXSw1OltcIiNmMGY5ZThcIixcIiNiYWU0YmNcIixcIiM3YmNjYzRcIixcIiM0M2EyY2FcIixcIiMwODY4YWNcIl0sNjpbXCIjZjBmOWU4XCIsXCIjY2NlYmM1XCIsXCIjYThkZGI1XCIsXCIjN2JjY2M0XCIsXCIjNDNhMmNhXCIsXCIjMDg2OGFjXCJdLDc6W1wiI2YwZjllOFwiLFwiI2NjZWJjNVwiLFwiI2E4ZGRiNVwiLFwiIzdiY2NjNFwiLFwiIzRlYjNkM1wiLFwiIzJiOGNiZVwiLFwiIzA4NTg5ZVwiXSw4OltcIiNmN2ZjZjBcIixcIiNlMGYzZGJcIixcIiNjY2ViYzVcIixcIiNhOGRkYjVcIixcIiM3YmNjYzRcIixcIiM0ZWIzZDNcIixcIiMyYjhjYmVcIixcIiMwODU4OWVcIl0sOTpbXCIjZjdmY2YwXCIsXCIjZTBmM2RiXCIsXCIjY2NlYmM1XCIsXCIjYThkZGI1XCIsXCIjN2JjY2M0XCIsXCIjNGViM2QzXCIsXCIjMmI4Y2JlXCIsXCIjMDg2OGFjXCIsXCIjMDg0MDgxXCJdfSxCdUduOnszOltcIiNlNWY1ZjlcIixcIiM5OWQ4YzlcIixcIiMyY2EyNWZcIl0sNDpbXCIjZWRmOGZiXCIsXCIjYjJlMmUyXCIsXCIjNjZjMmE0XCIsXCIjMjM4YjQ1XCJdLDU6W1wiI2VkZjhmYlwiLFwiI2IyZTJlMlwiLFwiIzY2YzJhNFwiLFwiIzJjYTI1ZlwiLFwiIzAwNmQyY1wiXSw2OltcIiNlZGY4ZmJcIixcIiNjY2VjZTZcIixcIiM5OWQ4YzlcIixcIiM2NmMyYTRcIixcIiMyY2EyNWZcIixcIiMwMDZkMmNcIl0sNzpbXCIjZWRmOGZiXCIsXCIjY2NlY2U2XCIsXCIjOTlkOGM5XCIsXCIjNjZjMmE0XCIsXCIjNDFhZTc2XCIsXCIjMjM4YjQ1XCIsXCIjMDA1ODI0XCJdLDg6W1wiI2Y3ZmNmZFwiLFwiI2U1ZjVmOVwiLFwiI2NjZWNlNlwiLFwiIzk5ZDhjOVwiLFwiIzY2YzJhNFwiLFwiIzQxYWU3NlwiLFwiIzIzOGI0NVwiLFwiIzAwNTgyNFwiXSw5OltcIiNmN2ZjZmRcIixcIiNlNWY1ZjlcIixcIiNjY2VjZTZcIixcIiM5OWQ4YzlcIixcIiM2NmMyYTRcIixcIiM0MWFlNzZcIixcIiMyMzhiNDVcIixcIiMwMDZkMmNcIixcIiMwMDQ0MWJcIl19LFB1QnVHbjp7MzpbXCIjZWNlMmYwXCIsXCIjYTZiZGRiXCIsXCIjMWM5MDk5XCJdLDQ6W1wiI2Y2ZWZmN1wiLFwiI2JkYzllMVwiLFwiIzY3YTljZlwiLFwiIzAyODE4YVwiXSw1OltcIiNmNmVmZjdcIixcIiNiZGM5ZTFcIixcIiM2N2E5Y2ZcIixcIiMxYzkwOTlcIixcIiMwMTZjNTlcIl0sNjpbXCIjZjZlZmY3XCIsXCIjZDBkMWU2XCIsXCIjYTZiZGRiXCIsXCIjNjdhOWNmXCIsXCIjMWM5MDk5XCIsXCIjMDE2YzU5XCJdLDc6W1wiI2Y2ZWZmN1wiLFwiI2QwZDFlNlwiLFwiI2E2YmRkYlwiLFwiIzY3YTljZlwiLFwiIzM2OTBjMFwiLFwiIzAyODE4YVwiLFwiIzAxNjQ1MFwiXSw4OltcIiNmZmY3ZmJcIixcIiNlY2UyZjBcIixcIiNkMGQxZTZcIixcIiNhNmJkZGJcIixcIiM2N2E5Y2ZcIixcIiMzNjkwYzBcIixcIiMwMjgxOGFcIixcIiMwMTY0NTBcIl0sOTpbXCIjZmZmN2ZiXCIsXCIjZWNlMmYwXCIsXCIjZDBkMWU2XCIsXCIjYTZiZGRiXCIsXCIjNjdhOWNmXCIsXCIjMzY5MGMwXCIsXCIjMDI4MThhXCIsXCIjMDE2YzU5XCIsXCIjMDE0NjM2XCJdfSxQdUJ1OnszOltcIiNlY2U3ZjJcIixcIiNhNmJkZGJcIixcIiMyYjhjYmVcIl0sNDpbXCIjZjFlZWY2XCIsXCIjYmRjOWUxXCIsXCIjNzRhOWNmXCIsXCIjMDU3MGIwXCJdLDU6W1wiI2YxZWVmNlwiLFwiI2JkYzllMVwiLFwiIzc0YTljZlwiLFwiIzJiOGNiZVwiLFwiIzA0NWE4ZFwiXSw2OltcIiNmMWVlZjZcIixcIiNkMGQxZTZcIixcIiNhNmJkZGJcIixcIiM3NGE5Y2ZcIixcIiMyYjhjYmVcIixcIiMwNDVhOGRcIl0sNzpbXCIjZjFlZWY2XCIsXCIjZDBkMWU2XCIsXCIjYTZiZGRiXCIsXCIjNzRhOWNmXCIsXCIjMzY5MGMwXCIsXCIjMDU3MGIwXCIsXCIjMDM0ZTdiXCJdLDg6W1wiI2ZmZjdmYlwiLFwiI2VjZTdmMlwiLFwiI2QwZDFlNlwiLFwiI2E2YmRkYlwiLFwiIzc0YTljZlwiLFwiIzM2OTBjMFwiLFwiIzA1NzBiMFwiLFwiIzAzNGU3YlwiXSw5OltcIiNmZmY3ZmJcIixcIiNlY2U3ZjJcIixcIiNkMGQxZTZcIixcIiNhNmJkZGJcIixcIiM3NGE5Y2ZcIixcIiMzNjkwYzBcIixcIiMwNTcwYjBcIixcIiMwNDVhOGRcIixcIiMwMjM4NThcIl19LEJ1UHU6ezM6W1wiI2UwZWNmNFwiLFwiIzllYmNkYVwiLFwiIzg4NTZhN1wiXSw0OltcIiNlZGY4ZmJcIixcIiNiM2NkZTNcIixcIiM4Yzk2YzZcIixcIiM4ODQxOWRcIl0sNTpbXCIjZWRmOGZiXCIsXCIjYjNjZGUzXCIsXCIjOGM5NmM2XCIsXCIjODg1NmE3XCIsXCIjODEwZjdjXCJdLDY6W1wiI2VkZjhmYlwiLFwiI2JmZDNlNlwiLFwiIzllYmNkYVwiLFwiIzhjOTZjNlwiLFwiIzg4NTZhN1wiLFwiIzgxMGY3Y1wiXSw3OltcIiNlZGY4ZmJcIixcIiNiZmQzZTZcIixcIiM5ZWJjZGFcIixcIiM4Yzk2YzZcIixcIiM4YzZiYjFcIixcIiM4ODQxOWRcIixcIiM2ZTAxNmJcIl0sODpbXCIjZjdmY2ZkXCIsXCIjZTBlY2Y0XCIsXCIjYmZkM2U2XCIsXCIjOWViY2RhXCIsXCIjOGM5NmM2XCIsXCIjOGM2YmIxXCIsXCIjODg0MTlkXCIsXCIjNmUwMTZiXCJdLDk6W1wiI2Y3ZmNmZFwiLFwiI2UwZWNmNFwiLFwiI2JmZDNlNlwiLFwiIzllYmNkYVwiLFwiIzhjOTZjNlwiLFwiIzhjNmJiMVwiLFwiIzg4NDE5ZFwiLFwiIzgxMGY3Y1wiLFwiIzRkMDA0YlwiXX0sUmRQdTp7MzpbXCIjZmRlMGRkXCIsXCIjZmE5ZmI1XCIsXCIjYzUxYjhhXCJdLDQ6W1wiI2ZlZWJlMlwiLFwiI2ZiYjRiOVwiLFwiI2Y3NjhhMVwiLFwiI2FlMDE3ZVwiXSw1OltcIiNmZWViZTJcIixcIiNmYmI0YjlcIixcIiNmNzY4YTFcIixcIiNjNTFiOGFcIixcIiM3YTAxNzdcIl0sNjpbXCIjZmVlYmUyXCIsXCIjZmNjNWMwXCIsXCIjZmE5ZmI1XCIsXCIjZjc2OGExXCIsXCIjYzUxYjhhXCIsXCIjN2EwMTc3XCJdLDc6W1wiI2ZlZWJlMlwiLFwiI2ZjYzVjMFwiLFwiI2ZhOWZiNVwiLFwiI2Y3NjhhMVwiLFwiI2RkMzQ5N1wiLFwiI2FlMDE3ZVwiLFwiIzdhMDE3N1wiXSw4OltcIiNmZmY3ZjNcIixcIiNmZGUwZGRcIixcIiNmY2M1YzBcIixcIiNmYTlmYjVcIixcIiNmNzY4YTFcIixcIiNkZDM0OTdcIixcIiNhZTAxN2VcIixcIiM3YTAxNzdcIl0sOTpbXCIjZmZmN2YzXCIsXCIjZmRlMGRkXCIsXCIjZmNjNWMwXCIsXCIjZmE5ZmI1XCIsXCIjZjc2OGExXCIsXCIjZGQzNDk3XCIsXCIjYWUwMTdlXCIsXCIjN2EwMTc3XCIsXCIjNDkwMDZhXCJdfSxQdVJkOnszOltcIiNlN2UxZWZcIixcIiNjOTk0YzdcIixcIiNkZDFjNzdcIl0sNDpbXCIjZjFlZWY2XCIsXCIjZDdiNWQ4XCIsXCIjZGY2NWIwXCIsXCIjY2UxMjU2XCJdLDU6W1wiI2YxZWVmNlwiLFwiI2Q3YjVkOFwiLFwiI2RmNjViMFwiLFwiI2RkMWM3N1wiLFwiIzk4MDA0M1wiXSw2OltcIiNmMWVlZjZcIixcIiNkNGI5ZGFcIixcIiNjOTk0YzdcIixcIiNkZjY1YjBcIixcIiNkZDFjNzdcIixcIiM5ODAwNDNcIl0sNzpbXCIjZjFlZWY2XCIsXCIjZDRiOWRhXCIsXCIjYzk5NGM3XCIsXCIjZGY2NWIwXCIsXCIjZTcyOThhXCIsXCIjY2UxMjU2XCIsXCIjOTEwMDNmXCJdLDg6W1wiI2Y3ZjRmOVwiLFwiI2U3ZTFlZlwiLFwiI2Q0YjlkYVwiLFwiI2M5OTRjN1wiLFwiI2RmNjViMFwiLFwiI2U3Mjk4YVwiLFwiI2NlMTI1NlwiLFwiIzkxMDAzZlwiXSw5OltcIiNmN2Y0ZjlcIixcIiNlN2UxZWZcIixcIiNkNGI5ZGFcIixcIiNjOTk0YzdcIixcIiNkZjY1YjBcIixcIiNlNzI5OGFcIixcIiNjZTEyNTZcIixcIiM5ODAwNDNcIixcIiM2NzAwMWZcIl19LE9yUmQ6ezM6W1wiI2ZlZThjOFwiLFwiI2ZkYmI4NFwiLFwiI2UzNGEzM1wiXSw0OltcIiNmZWYwZDlcIixcIiNmZGNjOGFcIixcIiNmYzhkNTlcIixcIiNkNzMwMWZcIl0sNTpbXCIjZmVmMGQ5XCIsXCIjZmRjYzhhXCIsXCIjZmM4ZDU5XCIsXCIjZTM0YTMzXCIsXCIjYjMwMDAwXCJdLDY6W1wiI2ZlZjBkOVwiLFwiI2ZkZDQ5ZVwiLFwiI2ZkYmI4NFwiLFwiI2ZjOGQ1OVwiLFwiI2UzNGEzM1wiLFwiI2IzMDAwMFwiXSw3OltcIiNmZWYwZDlcIixcIiNmZGQ0OWVcIixcIiNmZGJiODRcIixcIiNmYzhkNTlcIixcIiNlZjY1NDhcIixcIiNkNzMwMWZcIixcIiM5OTAwMDBcIl0sODpbXCIjZmZmN2VjXCIsXCIjZmVlOGM4XCIsXCIjZmRkNDllXCIsXCIjZmRiYjg0XCIsXCIjZmM4ZDU5XCIsXCIjZWY2NTQ4XCIsXCIjZDczMDFmXCIsXCIjOTkwMDAwXCJdLDk6W1wiI2ZmZjdlY1wiLFwiI2ZlZThjOFwiLFwiI2ZkZDQ5ZVwiLFwiI2ZkYmI4NFwiLFwiI2ZjOGQ1OVwiLFwiI2VmNjU0OFwiLFwiI2Q3MzAxZlwiLFwiI2IzMDAwMFwiLFwiIzdmMDAwMFwiXX0sWWxPclJkOnszOltcIiNmZmVkYTBcIixcIiNmZWIyNGNcIixcIiNmMDNiMjBcIl0sNDpbXCIjZmZmZmIyXCIsXCIjZmVjYzVjXCIsXCIjZmQ4ZDNjXCIsXCIjZTMxYTFjXCJdLDU6W1wiI2ZmZmZiMlwiLFwiI2ZlY2M1Y1wiLFwiI2ZkOGQzY1wiLFwiI2YwM2IyMFwiLFwiI2JkMDAyNlwiXSw2OltcIiNmZmZmYjJcIixcIiNmZWQ5NzZcIixcIiNmZWIyNGNcIixcIiNmZDhkM2NcIixcIiNmMDNiMjBcIixcIiNiZDAwMjZcIl0sNzpbXCIjZmZmZmIyXCIsXCIjZmVkOTc2XCIsXCIjZmViMjRjXCIsXCIjZmQ4ZDNjXCIsXCIjZmM0ZTJhXCIsXCIjZTMxYTFjXCIsXCIjYjEwMDI2XCJdLDg6W1wiI2ZmZmZjY1wiLFwiI2ZmZWRhMFwiLFwiI2ZlZDk3NlwiLFwiI2ZlYjI0Y1wiLFwiI2ZkOGQzY1wiLFwiI2ZjNGUyYVwiLFwiI2UzMWExY1wiLFwiI2IxMDAyNlwiXSw5OltcIiNmZmZmY2NcIixcIiNmZmVkYTBcIixcIiNmZWQ5NzZcIixcIiNmZWIyNGNcIixcIiNmZDhkM2NcIixcIiNmYzRlMmFcIixcIiNlMzFhMWNcIixcIiNiZDAwMjZcIixcIiM4MDAwMjZcIl19LFlsT3JCcjp7MzpbXCIjZmZmN2JjXCIsXCIjZmVjNDRmXCIsXCIjZDk1ZjBlXCJdLDQ6W1wiI2ZmZmZkNFwiLFwiI2ZlZDk4ZVwiLFwiI2ZlOTkyOVwiLFwiI2NjNGMwMlwiXSw1OltcIiNmZmZmZDRcIixcIiNmZWQ5OGVcIixcIiNmZTk5MjlcIixcIiNkOTVmMGVcIixcIiM5OTM0MDRcIl0sNjpbXCIjZmZmZmQ0XCIsXCIjZmVlMzkxXCIsXCIjZmVjNDRmXCIsXCIjZmU5OTI5XCIsXCIjZDk1ZjBlXCIsXCIjOTkzNDA0XCJdLDc6W1wiI2ZmZmZkNFwiLFwiI2ZlZTM5MVwiLFwiI2ZlYzQ0ZlwiLFwiI2ZlOTkyOVwiLFwiI2VjNzAxNFwiLFwiI2NjNGMwMlwiLFwiIzhjMmQwNFwiXSw4OltcIiNmZmZmZTVcIixcIiNmZmY3YmNcIixcIiNmZWUzOTFcIixcIiNmZWM0NGZcIixcIiNmZTk5MjlcIixcIiNlYzcwMTRcIixcIiNjYzRjMDJcIixcIiM4YzJkMDRcIl0sOTpbXCIjZmZmZmU1XCIsXCIjZmZmN2JjXCIsXCIjZmVlMzkxXCIsXCIjZmVjNDRmXCIsXCIjZmU5OTI5XCIsXCIjZWM3MDE0XCIsXCIjY2M0YzAyXCIsXCIjOTkzNDA0XCIsXCIjNjYyNTA2XCJdfSxQdXJwbGVzOnszOltcIiNlZmVkZjVcIixcIiNiY2JkZGNcIixcIiM3NTZiYjFcIl0sNDpbXCIjZjJmMGY3XCIsXCIjY2JjOWUyXCIsXCIjOWU5YWM4XCIsXCIjNmE1MWEzXCJdLDU6W1wiI2YyZjBmN1wiLFwiI2NiYzllMlwiLFwiIzllOWFjOFwiLFwiIzc1NmJiMVwiLFwiIzU0Mjc4ZlwiXSw2OltcIiNmMmYwZjdcIixcIiNkYWRhZWJcIixcIiNiY2JkZGNcIixcIiM5ZTlhYzhcIixcIiM3NTZiYjFcIixcIiM1NDI3OGZcIl0sNzpbXCIjZjJmMGY3XCIsXCIjZGFkYWViXCIsXCIjYmNiZGRjXCIsXCIjOWU5YWM4XCIsXCIjODA3ZGJhXCIsXCIjNmE1MWEzXCIsXCIjNGExNDg2XCJdLDg6W1wiI2ZjZmJmZFwiLFwiI2VmZWRmNVwiLFwiI2RhZGFlYlwiLFwiI2JjYmRkY1wiLFwiIzllOWFjOFwiLFwiIzgwN2RiYVwiLFwiIzZhNTFhM1wiLFwiIzRhMTQ4NlwiXSw5OltcIiNmY2ZiZmRcIixcIiNlZmVkZjVcIixcIiNkYWRhZWJcIixcIiNiY2JkZGNcIixcIiM5ZTlhYzhcIixcIiM4MDdkYmFcIixcIiM2YTUxYTNcIixcIiM1NDI3OGZcIixcIiMzZjAwN2RcIl19LEJsdWVzOnszOltcIiNkZWViZjdcIixcIiM5ZWNhZTFcIixcIiMzMTgyYmRcIl0sNDpbXCIjZWZmM2ZmXCIsXCIjYmRkN2U3XCIsXCIjNmJhZWQ2XCIsXCIjMjE3MWI1XCJdLDU6W1wiI2VmZjNmZlwiLFwiI2JkZDdlN1wiLFwiIzZiYWVkNlwiLFwiIzMxODJiZFwiLFwiIzA4NTE5Y1wiXSw2OltcIiNlZmYzZmZcIixcIiNjNmRiZWZcIixcIiM5ZWNhZTFcIixcIiM2YmFlZDZcIixcIiMzMTgyYmRcIixcIiMwODUxOWNcIl0sNzpbXCIjZWZmM2ZmXCIsXCIjYzZkYmVmXCIsXCIjOWVjYWUxXCIsXCIjNmJhZWQ2XCIsXCIjNDI5MmM2XCIsXCIjMjE3MWI1XCIsXCIjMDg0NTk0XCJdLDg6W1wiI2Y3ZmJmZlwiLFwiI2RlZWJmN1wiLFwiI2M2ZGJlZlwiLFwiIzllY2FlMVwiLFwiIzZiYWVkNlwiLFwiIzQyOTJjNlwiLFwiIzIxNzFiNVwiLFwiIzA4NDU5NFwiXSw5OltcIiNmN2ZiZmZcIixcIiNkZWViZjdcIixcIiNjNmRiZWZcIixcIiM5ZWNhZTFcIixcIiM2YmFlZDZcIixcIiM0MjkyYzZcIixcIiMyMTcxYjVcIixcIiMwODUxOWNcIixcIiMwODMwNmJcIl19LEdyZWVuczp7MzpbXCIjZTVmNWUwXCIsXCIjYTFkOTliXCIsXCIjMzFhMzU0XCJdLDQ6W1wiI2VkZjhlOVwiLFwiI2JhZTRiM1wiLFwiIzc0YzQ3NlwiLFwiIzIzOGI0NVwiXSw1OltcIiNlZGY4ZTlcIixcIiNiYWU0YjNcIixcIiM3NGM0NzZcIixcIiMzMWEzNTRcIixcIiMwMDZkMmNcIl0sNjpbXCIjZWRmOGU5XCIsXCIjYzdlOWMwXCIsXCIjYTFkOTliXCIsXCIjNzRjNDc2XCIsXCIjMzFhMzU0XCIsXCIjMDA2ZDJjXCJdLDc6W1wiI2VkZjhlOVwiLFwiI2M3ZTljMFwiLFwiI2ExZDk5YlwiLFwiIzc0YzQ3NlwiLFwiIzQxYWI1ZFwiLFwiIzIzOGI0NVwiLFwiIzAwNWEzMlwiXSw4OltcIiNmN2ZjZjVcIixcIiNlNWY1ZTBcIixcIiNjN2U5YzBcIixcIiNhMWQ5OWJcIixcIiM3NGM0NzZcIixcIiM0MWFiNWRcIixcIiMyMzhiNDVcIixcIiMwMDVhMzJcIl0sOTpbXCIjZjdmY2Y1XCIsXCIjZTVmNWUwXCIsXCIjYzdlOWMwXCIsXCIjYTFkOTliXCIsXCIjNzRjNDc2XCIsXCIjNDFhYjVkXCIsXCIjMjM4YjQ1XCIsXCIjMDA2ZDJjXCIsXCIjMDA0NDFiXCJdfSxPcmFuZ2VzOnszOltcIiNmZWU2Y2VcIixcIiNmZGFlNmJcIixcIiNlNjU1MGRcIl0sNDpbXCIjZmVlZGRlXCIsXCIjZmRiZTg1XCIsXCIjZmQ4ZDNjXCIsXCIjZDk0NzAxXCJdLDU6W1wiI2ZlZWRkZVwiLFwiI2ZkYmU4NVwiLFwiI2ZkOGQzY1wiLFwiI2U2NTUwZFwiLFwiI2E2MzYwM1wiXSw2OltcIiNmZWVkZGVcIixcIiNmZGQwYTJcIixcIiNmZGFlNmJcIixcIiNmZDhkM2NcIixcIiNlNjU1MGRcIixcIiNhNjM2MDNcIl0sNzpbXCIjZmVlZGRlXCIsXCIjZmRkMGEyXCIsXCIjZmRhZTZiXCIsXCIjZmQ4ZDNjXCIsXCIjZjE2OTEzXCIsXCIjZDk0ODAxXCIsXCIjOGMyZDA0XCJdLDg6W1wiI2ZmZjVlYlwiLFwiI2ZlZTZjZVwiLFwiI2ZkZDBhMlwiLFwiI2ZkYWU2YlwiLFwiI2ZkOGQzY1wiLFwiI2YxNjkxM1wiLFwiI2Q5NDgwMVwiLFwiIzhjMmQwNFwiXSw5OltcIiNmZmY1ZWJcIixcIiNmZWU2Y2VcIixcIiNmZGQwYTJcIixcIiNmZGFlNmJcIixcIiNmZDhkM2NcIixcIiNmMTY5MTNcIixcIiNkOTQ4MDFcIixcIiNhNjM2MDNcIixcIiM3ZjI3MDRcIl19LFJlZHM6ezM6W1wiI2ZlZTBkMlwiLFwiI2ZjOTI3MlwiLFwiI2RlMmQyNlwiXSw0OltcIiNmZWU1ZDlcIixcIiNmY2FlOTFcIixcIiNmYjZhNGFcIixcIiNjYjE4MWRcIl0sNTpbXCIjZmVlNWQ5XCIsXCIjZmNhZTkxXCIsXCIjZmI2YTRhXCIsXCIjZGUyZDI2XCIsXCIjYTUwZjE1XCJdLDY6W1wiI2ZlZTVkOVwiLFwiI2ZjYmJhMVwiLFwiI2ZjOTI3MlwiLFwiI2ZiNmE0YVwiLFwiI2RlMmQyNlwiLFwiI2E1MGYxNVwiXSw3OltcIiNmZWU1ZDlcIixcIiNmY2JiYTFcIixcIiNmYzkyNzJcIixcIiNmYjZhNGFcIixcIiNlZjNiMmNcIixcIiNjYjE4MWRcIixcIiM5OTAwMGRcIl0sODpbXCIjZmZmNWYwXCIsXCIjZmVlMGQyXCIsXCIjZmNiYmExXCIsXCIjZmM5MjcyXCIsXCIjZmI2YTRhXCIsXCIjZWYzYjJjXCIsXCIjY2IxODFkXCIsXCIjOTkwMDBkXCJdLDk6W1wiI2ZmZjVmMFwiLFwiI2ZlZTBkMlwiLFwiI2ZjYmJhMVwiLFwiI2ZjOTI3MlwiLFwiI2ZiNmE0YVwiLFwiI2VmM2IyY1wiLFwiI2NiMTgxZFwiLFwiI2E1MGYxNVwiLFwiIzY3MDAwZFwiXX0sR3JleXM6ezM6W1wiI2YwZjBmMFwiLFwiI2JkYmRiZFwiLFwiIzYzNjM2M1wiXSw0OltcIiNmN2Y3ZjdcIixcIiNjY2NjY2NcIixcIiM5Njk2OTZcIixcIiM1MjUyNTJcIl0sNTpbXCIjZjdmN2Y3XCIsXCIjY2NjY2NjXCIsXCIjOTY5Njk2XCIsXCIjNjM2MzYzXCIsXCIjMjUyNTI1XCJdLDY6W1wiI2Y3ZjdmN1wiLFwiI2Q5ZDlkOVwiLFwiI2JkYmRiZFwiLFwiIzk2OTY5NlwiLFwiIzYzNjM2M1wiLFwiIzI1MjUyNVwiXSw3OltcIiNmN2Y3ZjdcIixcIiNkOWQ5ZDlcIixcIiNiZGJkYmRcIixcIiM5Njk2OTZcIixcIiM3MzczNzNcIixcIiM1MjUyNTJcIixcIiMyNTI1MjVcIl0sODpbXCIjZmZmZmZmXCIsXCIjZjBmMGYwXCIsXCIjZDlkOWQ5XCIsXCIjYmRiZGJkXCIsXCIjOTY5Njk2XCIsXCIjNzM3MzczXCIsXCIjNTI1MjUyXCIsXCIjMjUyNTI1XCJdLDk6W1wiI2ZmZmZmZlwiLFwiI2YwZjBmMFwiLFwiI2Q5ZDlkOVwiLFwiI2JkYmRiZFwiLFwiIzk2OTY5NlwiLFwiIzczNzM3M1wiLFwiIzUyNTI1MlwiLFwiIzI1MjUyNVwiLFwiIzAwMDAwMFwiXX0sUHVPcjp7MzpbXCIjZjFhMzQwXCIsXCIjZjdmN2Y3XCIsXCIjOTk4ZWMzXCJdLDQ6W1wiI2U2NjEwMVwiLFwiI2ZkYjg2M1wiLFwiI2IyYWJkMlwiLFwiIzVlM2M5OVwiXSw1OltcIiNlNjYxMDFcIixcIiNmZGI4NjNcIixcIiNmN2Y3ZjdcIixcIiNiMmFiZDJcIixcIiM1ZTNjOTlcIl0sNjpbXCIjYjM1ODA2XCIsXCIjZjFhMzQwXCIsXCIjZmVlMGI2XCIsXCIjZDhkYWViXCIsXCIjOTk4ZWMzXCIsXCIjNTQyNzg4XCJdLDc6W1wiI2IzNTgwNlwiLFwiI2YxYTM0MFwiLFwiI2ZlZTBiNlwiLFwiI2Y3ZjdmN1wiLFwiI2Q4ZGFlYlwiLFwiIzk5OGVjM1wiLFwiIzU0Mjc4OFwiXSw4OltcIiNiMzU4MDZcIixcIiNlMDgyMTRcIixcIiNmZGI4NjNcIixcIiNmZWUwYjZcIixcIiNkOGRhZWJcIixcIiNiMmFiZDJcIixcIiM4MDczYWNcIixcIiM1NDI3ODhcIl0sOTpbXCIjYjM1ODA2XCIsXCIjZTA4MjE0XCIsXCIjZmRiODYzXCIsXCIjZmVlMGI2XCIsXCIjZjdmN2Y3XCIsXCIjZDhkYWViXCIsXCIjYjJhYmQyXCIsXCIjODA3M2FjXCIsXCIjNTQyNzg4XCJdLDEwOltcIiM3ZjNiMDhcIixcIiNiMzU4MDZcIixcIiNlMDgyMTRcIixcIiNmZGI4NjNcIixcIiNmZWUwYjZcIixcIiNkOGRhZWJcIixcIiNiMmFiZDJcIixcIiM4MDczYWNcIixcIiM1NDI3ODhcIixcIiMyZDAwNGJcIl0sMTE6W1wiIzdmM2IwOFwiLFwiI2IzNTgwNlwiLFwiI2UwODIxNFwiLFwiI2ZkYjg2M1wiLFwiI2ZlZTBiNlwiLFwiI2Y3ZjdmN1wiLFwiI2Q4ZGFlYlwiLFwiI2IyYWJkMlwiLFwiIzgwNzNhY1wiLFwiIzU0Mjc4OFwiLFwiIzJkMDA0YlwiXX0sQnJCRzp7MzpbXCIjZDhiMzY1XCIsXCIjZjVmNWY1XCIsXCIjNWFiNGFjXCJdLDQ6W1wiI2E2NjExYVwiLFwiI2RmYzI3ZFwiLFwiIzgwY2RjMVwiLFwiIzAxODU3MVwiXSw1OltcIiNhNjYxMWFcIixcIiNkZmMyN2RcIixcIiNmNWY1ZjVcIixcIiM4MGNkYzFcIixcIiMwMTg1NzFcIl0sNjpbXCIjOGM1MTBhXCIsXCIjZDhiMzY1XCIsXCIjZjZlOGMzXCIsXCIjYzdlYWU1XCIsXCIjNWFiNGFjXCIsXCIjMDE2NjVlXCJdLDc6W1wiIzhjNTEwYVwiLFwiI2Q4YjM2NVwiLFwiI2Y2ZThjM1wiLFwiI2Y1ZjVmNVwiLFwiI2M3ZWFlNVwiLFwiIzVhYjRhY1wiLFwiIzAxNjY1ZVwiXSw4OltcIiM4YzUxMGFcIixcIiNiZjgxMmRcIixcIiNkZmMyN2RcIixcIiNmNmU4YzNcIixcIiNjN2VhZTVcIixcIiM4MGNkYzFcIixcIiMzNTk3OGZcIixcIiMwMTY2NWVcIl0sOTpbXCIjOGM1MTBhXCIsXCIjYmY4MTJkXCIsXCIjZGZjMjdkXCIsXCIjZjZlOGMzXCIsXCIjZjVmNWY1XCIsXCIjYzdlYWU1XCIsXCIjODBjZGMxXCIsXCIjMzU5NzhmXCIsXCIjMDE2NjVlXCJdLDEwOltcIiM1NDMwMDVcIixcIiM4YzUxMGFcIixcIiNiZjgxMmRcIixcIiNkZmMyN2RcIixcIiNmNmU4YzNcIixcIiNjN2VhZTVcIixcIiM4MGNkYzFcIixcIiMzNTk3OGZcIixcIiMwMTY2NWVcIixcIiMwMDNjMzBcIl0sMTE6W1wiIzU0MzAwNVwiLFwiIzhjNTEwYVwiLFwiI2JmODEyZFwiLFwiI2RmYzI3ZFwiLFwiI2Y2ZThjM1wiLFwiI2Y1ZjVmNVwiLFwiI2M3ZWFlNVwiLFwiIzgwY2RjMVwiLFwiIzM1OTc4ZlwiLFwiIzAxNjY1ZVwiLFwiIzAwM2MzMFwiXX0sUFJHbjp7MzpbXCIjYWY4ZGMzXCIsXCIjZjdmN2Y3XCIsXCIjN2ZiZjdiXCJdLDQ6W1wiIzdiMzI5NFwiLFwiI2MyYTVjZlwiLFwiI2E2ZGJhMFwiLFwiIzAwODgzN1wiXSw1OltcIiM3YjMyOTRcIixcIiNjMmE1Y2ZcIixcIiNmN2Y3ZjdcIixcIiNhNmRiYTBcIixcIiMwMDg4MzdcIl0sNjpbXCIjNzYyYTgzXCIsXCIjYWY4ZGMzXCIsXCIjZTdkNGU4XCIsXCIjZDlmMGQzXCIsXCIjN2ZiZjdiXCIsXCIjMWI3ODM3XCJdLDc6W1wiIzc2MmE4M1wiLFwiI2FmOGRjM1wiLFwiI2U3ZDRlOFwiLFwiI2Y3ZjdmN1wiLFwiI2Q5ZjBkM1wiLFwiIzdmYmY3YlwiLFwiIzFiNzgzN1wiXSw4OltcIiM3NjJhODNcIixcIiM5OTcwYWJcIixcIiNjMmE1Y2ZcIixcIiNlN2Q0ZThcIixcIiNkOWYwZDNcIixcIiNhNmRiYTBcIixcIiM1YWFlNjFcIixcIiMxYjc4MzdcIl0sOTpbXCIjNzYyYTgzXCIsXCIjOTk3MGFiXCIsXCIjYzJhNWNmXCIsXCIjZTdkNGU4XCIsXCIjZjdmN2Y3XCIsXCIjZDlmMGQzXCIsXCIjYTZkYmEwXCIsXCIjNWFhZTYxXCIsXCIjMWI3ODM3XCJdLDEwOltcIiM0MDAwNGJcIixcIiM3NjJhODNcIixcIiM5OTcwYWJcIixcIiNjMmE1Y2ZcIixcIiNlN2Q0ZThcIixcIiNkOWYwZDNcIixcIiNhNmRiYTBcIixcIiM1YWFlNjFcIixcIiMxYjc4MzdcIixcIiMwMDQ0MWJcIl0sMTE6W1wiIzQwMDA0YlwiLFwiIzc2MmE4M1wiLFwiIzk5NzBhYlwiLFwiI2MyYTVjZlwiLFwiI2U3ZDRlOFwiLFwiI2Y3ZjdmN1wiLFwiI2Q5ZjBkM1wiLFwiI2E2ZGJhMFwiLFwiIzVhYWU2MVwiLFwiIzFiNzgzN1wiLFwiIzAwNDQxYlwiXX0sUGlZRzp7MzpbXCIjZTlhM2M5XCIsXCIjZjdmN2Y3XCIsXCIjYTFkNzZhXCJdLDQ6W1wiI2QwMWM4YlwiLFwiI2YxYjZkYVwiLFwiI2I4ZTE4NlwiLFwiIzRkYWMyNlwiXSw1OltcIiNkMDFjOGJcIixcIiNmMWI2ZGFcIixcIiNmN2Y3ZjdcIixcIiNiOGUxODZcIixcIiM0ZGFjMjZcIl0sNjpbXCIjYzUxYjdkXCIsXCIjZTlhM2M5XCIsXCIjZmRlMGVmXCIsXCIjZTZmNWQwXCIsXCIjYTFkNzZhXCIsXCIjNGQ5MjIxXCJdLDc6W1wiI2M1MWI3ZFwiLFwiI2U5YTNjOVwiLFwiI2ZkZTBlZlwiLFwiI2Y3ZjdmN1wiLFwiI2U2ZjVkMFwiLFwiI2ExZDc2YVwiLFwiIzRkOTIyMVwiXSw4OltcIiNjNTFiN2RcIixcIiNkZTc3YWVcIixcIiNmMWI2ZGFcIixcIiNmZGUwZWZcIixcIiNlNmY1ZDBcIixcIiNiOGUxODZcIixcIiM3ZmJjNDFcIixcIiM0ZDkyMjFcIl0sOTpbXCIjYzUxYjdkXCIsXCIjZGU3N2FlXCIsXCIjZjFiNmRhXCIsXCIjZmRlMGVmXCIsXCIjZjdmN2Y3XCIsXCIjZTZmNWQwXCIsXCIjYjhlMTg2XCIsXCIjN2ZiYzQxXCIsXCIjNGQ5MjIxXCJdLDEwOltcIiM4ZTAxNTJcIixcIiNjNTFiN2RcIixcIiNkZTc3YWVcIixcIiNmMWI2ZGFcIixcIiNmZGUwZWZcIixcIiNlNmY1ZDBcIixcIiNiOGUxODZcIixcIiM3ZmJjNDFcIixcIiM0ZDkyMjFcIixcIiMyNzY0MTlcIl0sMTE6W1wiIzhlMDE1MlwiLFwiI2M1MWI3ZFwiLFwiI2RlNzdhZVwiLFwiI2YxYjZkYVwiLFwiI2ZkZTBlZlwiLFwiI2Y3ZjdmN1wiLFwiI2U2ZjVkMFwiLFwiI2I4ZTE4NlwiLFwiIzdmYmM0MVwiLFwiIzRkOTIyMVwiLFwiIzI3NjQxOVwiXX0sUmRCdTp7MzpbXCIjZWY4YTYyXCIsXCIjZjdmN2Y3XCIsXCIjNjdhOWNmXCJdLDQ6W1wiI2NhMDAyMFwiLFwiI2Y0YTU4MlwiLFwiIzkyYzVkZVwiLFwiIzA1NzFiMFwiXSw1OltcIiNjYTAwMjBcIixcIiNmNGE1ODJcIixcIiNmN2Y3ZjdcIixcIiM5MmM1ZGVcIixcIiMwNTcxYjBcIl0sNjpbXCIjYjIxODJiXCIsXCIjZWY4YTYyXCIsXCIjZmRkYmM3XCIsXCIjZDFlNWYwXCIsXCIjNjdhOWNmXCIsXCIjMjE2NmFjXCJdLDc6W1wiI2IyMTgyYlwiLFwiI2VmOGE2MlwiLFwiI2ZkZGJjN1wiLFwiI2Y3ZjdmN1wiLFwiI2QxZTVmMFwiLFwiIzY3YTljZlwiLFwiIzIxNjZhY1wiXSw4OltcIiNiMjE4MmJcIixcIiNkNjYwNGRcIixcIiNmNGE1ODJcIixcIiNmZGRiYzdcIixcIiNkMWU1ZjBcIixcIiM5MmM1ZGVcIixcIiM0MzkzYzNcIixcIiMyMTY2YWNcIl0sOTpbXCIjYjIxODJiXCIsXCIjZDY2MDRkXCIsXCIjZjRhNTgyXCIsXCIjZmRkYmM3XCIsXCIjZjdmN2Y3XCIsXCIjZDFlNWYwXCIsXCIjOTJjNWRlXCIsXCIjNDM5M2MzXCIsXCIjMjE2NmFjXCJdLDEwOltcIiM2NzAwMWZcIixcIiNiMjE4MmJcIixcIiNkNjYwNGRcIixcIiNmNGE1ODJcIixcIiNmZGRiYzdcIixcIiNkMWU1ZjBcIixcIiM5MmM1ZGVcIixcIiM0MzkzYzNcIixcIiMyMTY2YWNcIixcIiMwNTMwNjFcIl0sMTE6W1wiIzY3MDAxZlwiLFwiI2IyMTgyYlwiLFwiI2Q2NjA0ZFwiLFwiI2Y0YTU4MlwiLFwiI2ZkZGJjN1wiLFwiI2Y3ZjdmN1wiLFwiI2QxZTVmMFwiLFwiIzkyYzVkZVwiLFwiIzQzOTNjM1wiLFwiIzIxNjZhY1wiLFwiIzA1MzA2MVwiXX0sUmRHeTp7MzpbXCIjZWY4YTYyXCIsXCIjZmZmZmZmXCIsXCIjOTk5OTk5XCJdLDQ6W1wiI2NhMDAyMFwiLFwiI2Y0YTU4MlwiLFwiI2JhYmFiYVwiLFwiIzQwNDA0MFwiXSw1OltcIiNjYTAwMjBcIixcIiNmNGE1ODJcIixcIiNmZmZmZmZcIixcIiNiYWJhYmFcIixcIiM0MDQwNDBcIl0sNjpbXCIjYjIxODJiXCIsXCIjZWY4YTYyXCIsXCIjZmRkYmM3XCIsXCIjZTBlMGUwXCIsXCIjOTk5OTk5XCIsXCIjNGQ0ZDRkXCJdLDc6W1wiI2IyMTgyYlwiLFwiI2VmOGE2MlwiLFwiI2ZkZGJjN1wiLFwiI2ZmZmZmZlwiLFwiI2UwZTBlMFwiLFwiIzk5OTk5OVwiLFwiIzRkNGQ0ZFwiXSw4OltcIiNiMjE4MmJcIixcIiNkNjYwNGRcIixcIiNmNGE1ODJcIixcIiNmZGRiYzdcIixcIiNlMGUwZTBcIixcIiNiYWJhYmFcIixcIiM4Nzg3ODdcIixcIiM0ZDRkNGRcIl0sOTpbXCIjYjIxODJiXCIsXCIjZDY2MDRkXCIsXCIjZjRhNTgyXCIsXCIjZmRkYmM3XCIsXCIjZmZmZmZmXCIsXCIjZTBlMGUwXCIsXCIjYmFiYWJhXCIsXCIjODc4Nzg3XCIsXCIjNGQ0ZDRkXCJdLDEwOltcIiM2NzAwMWZcIixcIiNiMjE4MmJcIixcIiNkNjYwNGRcIixcIiNmNGE1ODJcIixcIiNmZGRiYzdcIixcIiNlMGUwZTBcIixcIiNiYWJhYmFcIixcIiM4Nzg3ODdcIixcIiM0ZDRkNGRcIixcIiMxYTFhMWFcIl0sMTE6W1wiIzY3MDAxZlwiLFwiI2IyMTgyYlwiLFwiI2Q2NjA0ZFwiLFwiI2Y0YTU4MlwiLFwiI2ZkZGJjN1wiLFwiI2ZmZmZmZlwiLFwiI2UwZTBlMFwiLFwiI2JhYmFiYVwiLFwiIzg3ODc4N1wiLFwiIzRkNGQ0ZFwiLFwiIzFhMWExYVwiXX0sUmRZbEJ1OnszOltcIiNmYzhkNTlcIixcIiNmZmZmYmZcIixcIiM5MWJmZGJcIl0sNDpbXCIjZDcxOTFjXCIsXCIjZmRhZTYxXCIsXCIjYWJkOWU5XCIsXCIjMmM3YmI2XCJdLDU6W1wiI2Q3MTkxY1wiLFwiI2ZkYWU2MVwiLFwiI2ZmZmZiZlwiLFwiI2FiZDllOVwiLFwiIzJjN2JiNlwiXSw2OltcIiNkNzMwMjdcIixcIiNmYzhkNTlcIixcIiNmZWUwOTBcIixcIiNlMGYzZjhcIixcIiM5MWJmZGJcIixcIiM0NTc1YjRcIl0sNzpbXCIjZDczMDI3XCIsXCIjZmM4ZDU5XCIsXCIjZmVlMDkwXCIsXCIjZmZmZmJmXCIsXCIjZTBmM2Y4XCIsXCIjOTFiZmRiXCIsXCIjNDU3NWI0XCJdLDg6W1wiI2Q3MzAyN1wiLFwiI2Y0NmQ0M1wiLFwiI2ZkYWU2MVwiLFwiI2ZlZTA5MFwiLFwiI2UwZjNmOFwiLFwiI2FiZDllOVwiLFwiIzc0YWRkMVwiLFwiIzQ1NzViNFwiXSw5OltcIiNkNzMwMjdcIixcIiNmNDZkNDNcIixcIiNmZGFlNjFcIixcIiNmZWUwOTBcIixcIiNmZmZmYmZcIixcIiNlMGYzZjhcIixcIiNhYmQ5ZTlcIixcIiM3NGFkZDFcIixcIiM0NTc1YjRcIl0sMTA6W1wiI2E1MDAyNlwiLFwiI2Q3MzAyN1wiLFwiI2Y0NmQ0M1wiLFwiI2ZkYWU2MVwiLFwiI2ZlZTA5MFwiLFwiI2UwZjNmOFwiLFwiI2FiZDllOVwiLFwiIzc0YWRkMVwiLFwiIzQ1NzViNFwiLFwiIzMxMzY5NVwiXSwxMTpbXCIjYTUwMDI2XCIsXCIjZDczMDI3XCIsXCIjZjQ2ZDQzXCIsXCIjZmRhZTYxXCIsXCIjZmVlMDkwXCIsXCIjZmZmZmJmXCIsXCIjZTBmM2Y4XCIsXCIjYWJkOWU5XCIsXCIjNzRhZGQxXCIsXCIjNDU3NWI0XCIsXCIjMzEzNjk1XCJdfSxTcGVjdHJhbDp7MzpbXCIjZmM4ZDU5XCIsXCIjZmZmZmJmXCIsXCIjOTlkNTk0XCJdLDQ6W1wiI2Q3MTkxY1wiLFwiI2ZkYWU2MVwiLFwiI2FiZGRhNFwiLFwiIzJiODNiYVwiXSw1OltcIiNkNzE5MWNcIixcIiNmZGFlNjFcIixcIiNmZmZmYmZcIixcIiNhYmRkYTRcIixcIiMyYjgzYmFcIl0sNjpbXCIjZDUzZTRmXCIsXCIjZmM4ZDU5XCIsXCIjZmVlMDhiXCIsXCIjZTZmNTk4XCIsXCIjOTlkNTk0XCIsXCIjMzI4OGJkXCJdLDc6W1wiI2Q1M2U0ZlwiLFwiI2ZjOGQ1OVwiLFwiI2ZlZTA4YlwiLFwiI2ZmZmZiZlwiLFwiI2U2ZjU5OFwiLFwiIzk5ZDU5NFwiLFwiIzMyODhiZFwiXSw4OltcIiNkNTNlNGZcIixcIiNmNDZkNDNcIixcIiNmZGFlNjFcIixcIiNmZWUwOGJcIixcIiNlNmY1OThcIixcIiNhYmRkYTRcIixcIiM2NmMyYTVcIixcIiMzMjg4YmRcIl0sOTpbXCIjZDUzZTRmXCIsXCIjZjQ2ZDQzXCIsXCIjZmRhZTYxXCIsXCIjZmVlMDhiXCIsXCIjZmZmZmJmXCIsXCIjZTZmNTk4XCIsXCIjYWJkZGE0XCIsXCIjNjZjMmE1XCIsXCIjMzI4OGJkXCJdLDEwOltcIiM5ZTAxNDJcIixcIiNkNTNlNGZcIixcIiNmNDZkNDNcIixcIiNmZGFlNjFcIixcIiNmZWUwOGJcIixcIiNlNmY1OThcIixcIiNhYmRkYTRcIixcIiM2NmMyYTVcIixcIiMzMjg4YmRcIixcIiM1ZTRmYTJcIl0sMTE6W1wiIzllMDE0MlwiLFwiI2Q1M2U0ZlwiLFwiI2Y0NmQ0M1wiLFwiI2ZkYWU2MVwiLFwiI2ZlZTA4YlwiLFwiI2ZmZmZiZlwiLFwiI2U2ZjU5OFwiLFwiI2FiZGRhNFwiLFwiIzY2YzJhNVwiLFwiIzMyODhiZFwiLFwiIzVlNGZhMlwiXX0sUmRZbEduOnszOltcIiNmYzhkNTlcIixcIiNmZmZmYmZcIixcIiM5MWNmNjBcIl0sNDpbXCIjZDcxOTFjXCIsXCIjZmRhZTYxXCIsXCIjYTZkOTZhXCIsXCIjMWE5NjQxXCJdLDU6W1wiI2Q3MTkxY1wiLFwiI2ZkYWU2MVwiLFwiI2ZmZmZiZlwiLFwiI2E2ZDk2YVwiLFwiIzFhOTY0MVwiXSw2OltcIiNkNzMwMjdcIixcIiNmYzhkNTlcIixcIiNmZWUwOGJcIixcIiNkOWVmOGJcIixcIiM5MWNmNjBcIixcIiMxYTk4NTBcIl0sNzpbXCIjZDczMDI3XCIsXCIjZmM4ZDU5XCIsXCIjZmVlMDhiXCIsXCIjZmZmZmJmXCIsXCIjZDllZjhiXCIsXCIjOTFjZjYwXCIsXCIjMWE5ODUwXCJdLDg6W1wiI2Q3MzAyN1wiLFwiI2Y0NmQ0M1wiLFwiI2ZkYWU2MVwiLFwiI2ZlZTA4YlwiLFwiI2Q5ZWY4YlwiLFwiI2E2ZDk2YVwiLFwiIzY2YmQ2M1wiLFwiIzFhOTg1MFwiXSw5OltcIiNkNzMwMjdcIixcIiNmNDZkNDNcIixcIiNmZGFlNjFcIixcIiNmZWUwOGJcIixcIiNmZmZmYmZcIixcIiNkOWVmOGJcIixcIiNhNmQ5NmFcIixcIiM2NmJkNjNcIixcIiMxYTk4NTBcIl0sMTA6W1wiI2E1MDAyNlwiLFwiI2Q3MzAyN1wiLFwiI2Y0NmQ0M1wiLFwiI2ZkYWU2MVwiLFwiI2ZlZTA4YlwiLFwiI2Q5ZWY4YlwiLFwiI2E2ZDk2YVwiLFwiIzY2YmQ2M1wiLFwiIzFhOTg1MFwiLFwiIzAwNjgzN1wiXSwxMTpbXCIjYTUwMDI2XCIsXCIjZDczMDI3XCIsXCIjZjQ2ZDQzXCIsXCIjZmRhZTYxXCIsXCIjZmVlMDhiXCIsXCIjZmZmZmJmXCIsXCIjZDllZjhiXCIsXCIjYTZkOTZhXCIsXCIjNjZiZDYzXCIsXCIjMWE5ODUwXCIsXCIjMDA2ODM3XCJdfSxBY2NlbnQ6ezM6W1wiIzdmYzk3ZlwiLFwiI2JlYWVkNFwiLFwiI2ZkYzA4NlwiXSw0OltcIiM3ZmM5N2ZcIixcIiNiZWFlZDRcIixcIiNmZGMwODZcIixcIiNmZmZmOTlcIl0sNTpbXCIjN2ZjOTdmXCIsXCIjYmVhZWQ0XCIsXCIjZmRjMDg2XCIsXCIjZmZmZjk5XCIsXCIjMzg2Y2IwXCJdLDY6W1wiIzdmYzk3ZlwiLFwiI2JlYWVkNFwiLFwiI2ZkYzA4NlwiLFwiI2ZmZmY5OVwiLFwiIzM4NmNiMFwiLFwiI2YwMDI3ZlwiXSw3OltcIiM3ZmM5N2ZcIixcIiNiZWFlZDRcIixcIiNmZGMwODZcIixcIiNmZmZmOTlcIixcIiMzODZjYjBcIixcIiNmMDAyN2ZcIixcIiNiZjViMTdcIl0sODpbXCIjN2ZjOTdmXCIsXCIjYmVhZWQ0XCIsXCIjZmRjMDg2XCIsXCIjZmZmZjk5XCIsXCIjMzg2Y2IwXCIsXCIjZjAwMjdmXCIsXCIjYmY1YjE3XCIsXCIjNjY2NjY2XCJdfSxEYXJrMjp7MzpbXCIjMWI5ZTc3XCIsXCIjZDk1ZjAyXCIsXCIjNzU3MGIzXCJdLDQ6W1wiIzFiOWU3N1wiLFwiI2Q5NWYwMlwiLFwiIzc1NzBiM1wiLFwiI2U3Mjk4YVwiXSw1OltcIiMxYjllNzdcIixcIiNkOTVmMDJcIixcIiM3NTcwYjNcIixcIiNlNzI5OGFcIixcIiM2NmE2MWVcIl0sNjpbXCIjMWI5ZTc3XCIsXCIjZDk1ZjAyXCIsXCIjNzU3MGIzXCIsXCIjZTcyOThhXCIsXCIjNjZhNjFlXCIsXCIjZTZhYjAyXCJdLDc6W1wiIzFiOWU3N1wiLFwiI2Q5NWYwMlwiLFwiIzc1NzBiM1wiLFwiI2U3Mjk4YVwiLFwiIzY2YTYxZVwiLFwiI2U2YWIwMlwiLFwiI2E2NzYxZFwiXSw4OltcIiMxYjllNzdcIixcIiNkOTVmMDJcIixcIiM3NTcwYjNcIixcIiNlNzI5OGFcIixcIiM2NmE2MWVcIixcIiNlNmFiMDJcIixcIiNhNjc2MWRcIixcIiM2NjY2NjZcIl19LFBhaXJlZDp7MzpbXCIjYTZjZWUzXCIsXCIjMWY3OGI0XCIsXCIjYjJkZjhhXCJdLDQ6W1wiI2E2Y2VlM1wiLFwiIzFmNzhiNFwiLFwiI2IyZGY4YVwiLFwiIzMzYTAyY1wiXSw1OltcIiNhNmNlZTNcIixcIiMxZjc4YjRcIixcIiNiMmRmOGFcIixcIiMzM2EwMmNcIixcIiNmYjlhOTlcIl0sNjpbXCIjYTZjZWUzXCIsXCIjMWY3OGI0XCIsXCIjYjJkZjhhXCIsXCIjMzNhMDJjXCIsXCIjZmI5YTk5XCIsXCIjZTMxYTFjXCJdLDc6W1wiI2E2Y2VlM1wiLFwiIzFmNzhiNFwiLFwiI2IyZGY4YVwiLFwiIzMzYTAyY1wiLFwiI2ZiOWE5OVwiLFwiI2UzMWExY1wiLFwiI2ZkYmY2ZlwiXSw4OltcIiNhNmNlZTNcIixcIiMxZjc4YjRcIixcIiNiMmRmOGFcIixcIiMzM2EwMmNcIixcIiNmYjlhOTlcIixcIiNlMzFhMWNcIixcIiNmZGJmNmZcIixcIiNmZjdmMDBcIl0sOTpbXCIjYTZjZWUzXCIsXCIjMWY3OGI0XCIsXCIjYjJkZjhhXCIsXCIjMzNhMDJjXCIsXCIjZmI5YTk5XCIsXCIjZTMxYTFjXCIsXCIjZmRiZjZmXCIsXCIjZmY3ZjAwXCIsXCIjY2FiMmQ2XCJdLDEwOltcIiNhNmNlZTNcIixcIiMxZjc4YjRcIixcIiNiMmRmOGFcIixcIiMzM2EwMmNcIixcIiNmYjlhOTlcIixcIiNlMzFhMWNcIixcIiNmZGJmNmZcIixcIiNmZjdmMDBcIixcIiNjYWIyZDZcIixcIiM2YTNkOWFcIl0sMTE6W1wiI2E2Y2VlM1wiLFwiIzFmNzhiNFwiLFwiI2IyZGY4YVwiLFwiIzMzYTAyY1wiLFwiI2ZiOWE5OVwiLFwiI2UzMWExY1wiLFwiI2ZkYmY2ZlwiLFwiI2ZmN2YwMFwiLFwiI2NhYjJkNlwiLFwiIzZhM2Q5YVwiLFwiI2ZmZmY5OVwiXSwxMjpbXCIjYTZjZWUzXCIsXCIjMWY3OGI0XCIsXCIjYjJkZjhhXCIsXCIjMzNhMDJjXCIsXCIjZmI5YTk5XCIsXCIjZTMxYTFjXCIsXCIjZmRiZjZmXCIsXCIjZmY3ZjAwXCIsXCIjY2FiMmQ2XCIsXCIjNmEzZDlhXCIsXCIjZmZmZjk5XCIsXCIjYjE1OTI4XCJdfSxQYXN0ZWwxOnszOltcIiNmYmI0YWVcIixcIiNiM2NkZTNcIixcIiNjY2ViYzVcIl0sNDpbXCIjZmJiNGFlXCIsXCIjYjNjZGUzXCIsXCIjY2NlYmM1XCIsXCIjZGVjYmU0XCJdLDU6W1wiI2ZiYjRhZVwiLFwiI2IzY2RlM1wiLFwiI2NjZWJjNVwiLFwiI2RlY2JlNFwiLFwiI2ZlZDlhNlwiXSw2OltcIiNmYmI0YWVcIixcIiNiM2NkZTNcIixcIiNjY2ViYzVcIixcIiNkZWNiZTRcIixcIiNmZWQ5YTZcIixcIiNmZmZmY2NcIl0sNzpbXCIjZmJiNGFlXCIsXCIjYjNjZGUzXCIsXCIjY2NlYmM1XCIsXCIjZGVjYmU0XCIsXCIjZmVkOWE2XCIsXCIjZmZmZmNjXCIsXCIjZTVkOGJkXCJdLDg6W1wiI2ZiYjRhZVwiLFwiI2IzY2RlM1wiLFwiI2NjZWJjNVwiLFwiI2RlY2JlNFwiLFwiI2ZlZDlhNlwiLFwiI2ZmZmZjY1wiLFwiI2U1ZDhiZFwiLFwiI2ZkZGFlY1wiXSw5OltcIiNmYmI0YWVcIixcIiNiM2NkZTNcIixcIiNjY2ViYzVcIixcIiNkZWNiZTRcIixcIiNmZWQ5YTZcIixcIiNmZmZmY2NcIixcIiNlNWQ4YmRcIixcIiNmZGRhZWNcIixcIiNmMmYyZjJcIl19LFBhc3RlbDI6ezM6W1wiI2IzZTJjZFwiLFwiI2ZkY2RhY1wiLFwiI2NiZDVlOFwiXSw0OltcIiNiM2UyY2RcIixcIiNmZGNkYWNcIixcIiNjYmQ1ZThcIixcIiNmNGNhZTRcIl0sNTpbXCIjYjNlMmNkXCIsXCIjZmRjZGFjXCIsXCIjY2JkNWU4XCIsXCIjZjRjYWU0XCIsXCIjZTZmNWM5XCJdLDY6W1wiI2IzZTJjZFwiLFwiI2ZkY2RhY1wiLFwiI2NiZDVlOFwiLFwiI2Y0Y2FlNFwiLFwiI2U2ZjVjOVwiLFwiI2ZmZjJhZVwiXSw3OltcIiNiM2UyY2RcIixcIiNmZGNkYWNcIixcIiNjYmQ1ZThcIixcIiNmNGNhZTRcIixcIiNlNmY1YzlcIixcIiNmZmYyYWVcIixcIiNmMWUyY2NcIl0sODpbXCIjYjNlMmNkXCIsXCIjZmRjZGFjXCIsXCIjY2JkNWU4XCIsXCIjZjRjYWU0XCIsXCIjZTZmNWM5XCIsXCIjZmZmMmFlXCIsXCIjZjFlMmNjXCIsXCIjY2NjY2NjXCJdfSxTZXQxOnszOltcIiNlNDFhMWNcIixcIiMzNzdlYjhcIixcIiM0ZGFmNGFcIl0sNDpbXCIjZTQxYTFjXCIsXCIjMzc3ZWI4XCIsXCIjNGRhZjRhXCIsXCIjOTg0ZWEzXCJdLDU6W1wiI2U0MWExY1wiLFwiIzM3N2ViOFwiLFwiIzRkYWY0YVwiLFwiIzk4NGVhM1wiLFwiI2ZmN2YwMFwiXSw2OltcIiNlNDFhMWNcIixcIiMzNzdlYjhcIixcIiM0ZGFmNGFcIixcIiM5ODRlYTNcIixcIiNmZjdmMDBcIixcIiNmZmZmMzNcIl0sNzpbXCIjZTQxYTFjXCIsXCIjMzc3ZWI4XCIsXCIjNGRhZjRhXCIsXCIjOTg0ZWEzXCIsXCIjZmY3ZjAwXCIsXCIjZmZmZjMzXCIsXCIjYTY1NjI4XCJdLDg6W1wiI2U0MWExY1wiLFwiIzM3N2ViOFwiLFwiIzRkYWY0YVwiLFwiIzk4NGVhM1wiLFwiI2ZmN2YwMFwiLFwiI2ZmZmYzM1wiLFwiI2E2NTYyOFwiLFwiI2Y3ODFiZlwiXSw5OltcIiNlNDFhMWNcIixcIiMzNzdlYjhcIixcIiM0ZGFmNGFcIixcIiM5ODRlYTNcIixcIiNmZjdmMDBcIixcIiNmZmZmMzNcIixcIiNhNjU2MjhcIixcIiNmNzgxYmZcIixcIiM5OTk5OTlcIl19LFNldDI6ezM6W1wiIzY2YzJhNVwiLFwiI2ZjOGQ2MlwiLFwiIzhkYTBjYlwiXSw0OltcIiM2NmMyYTVcIixcIiNmYzhkNjJcIixcIiM4ZGEwY2JcIixcIiNlNzhhYzNcIl0sNTpbXCIjNjZjMmE1XCIsXCIjZmM4ZDYyXCIsXCIjOGRhMGNiXCIsXCIjZTc4YWMzXCIsXCIjYTZkODU0XCJdLDY6W1wiIzY2YzJhNVwiLFwiI2ZjOGQ2MlwiLFwiIzhkYTBjYlwiLFwiI2U3OGFjM1wiLFwiI2E2ZDg1NFwiLFwiI2ZmZDkyZlwiXSw3OltcIiM2NmMyYTVcIixcIiNmYzhkNjJcIixcIiM4ZGEwY2JcIixcIiNlNzhhYzNcIixcIiNhNmQ4NTRcIixcIiNmZmQ5MmZcIixcIiNlNWM0OTRcIl0sODpbXCIjNjZjMmE1XCIsXCIjZmM4ZDYyXCIsXCIjOGRhMGNiXCIsXCIjZTc4YWMzXCIsXCIjYTZkODU0XCIsXCIjZmZkOTJmXCIsXCIjZTVjNDk0XCIsXCIjYjNiM2IzXCJdfSxTZXQzOnszOltcIiM4ZGQzYzdcIixcIiNmZmZmYjNcIixcIiNiZWJhZGFcIl0sNDpbXCIjOGRkM2M3XCIsXCIjZmZmZmIzXCIsXCIjYmViYWRhXCIsXCIjZmI4MDcyXCJdLDU6W1wiIzhkZDNjN1wiLFwiI2ZmZmZiM1wiLFwiI2JlYmFkYVwiLFwiI2ZiODA3MlwiLFwiIzgwYjFkM1wiXSw2OltcIiM4ZGQzYzdcIixcIiNmZmZmYjNcIixcIiNiZWJhZGFcIixcIiNmYjgwNzJcIixcIiM4MGIxZDNcIixcIiNmZGI0NjJcIl0sNzpbXCIjOGRkM2M3XCIsXCIjZmZmZmIzXCIsXCIjYmViYWRhXCIsXCIjZmI4MDcyXCIsXCIjODBiMWQzXCIsXCIjZmRiNDYyXCIsXCIjYjNkZTY5XCJdLDg6W1wiIzhkZDNjN1wiLFwiI2ZmZmZiM1wiLFwiI2JlYmFkYVwiLFwiI2ZiODA3MlwiLFwiIzgwYjFkM1wiLFwiI2ZkYjQ2MlwiLFwiI2IzZGU2OVwiLFwiI2ZjY2RlNVwiXSw5OltcIiM4ZGQzYzdcIixcIiNmZmZmYjNcIixcIiNiZWJhZGFcIixcIiNmYjgwNzJcIixcIiM4MGIxZDNcIixcIiNmZGI0NjJcIixcIiNiM2RlNjlcIixcIiNmY2NkZTVcIixcIiNkOWQ5ZDlcIl0sMTA6W1wiIzhkZDNjN1wiLFwiI2ZmZmZiM1wiLFwiI2JlYmFkYVwiLFwiI2ZiODA3MlwiLFwiIzgwYjFkM1wiLFwiI2ZkYjQ2MlwiLFwiI2IzZGU2OVwiLFwiI2ZjY2RlNVwiLFwiI2Q5ZDlkOVwiLFwiI2JjODBiZFwiXSwxMTpbXCIjOGRkM2M3XCIsXCIjZmZmZmIzXCIsXCIjYmViYWRhXCIsXCIjZmI4MDcyXCIsXCIjODBiMWQzXCIsXCIjZmRiNDYyXCIsXCIjYjNkZTY5XCIsXCIjZmNjZGU1XCIsXCIjZDlkOWQ5XCIsXCIjYmM4MGJkXCIsXCIjY2NlYmM1XCJdLDEyOltcIiM4ZGQzYzdcIixcIiNmZmZmYjNcIixcIiNiZWJhZGFcIixcIiNmYjgwNzJcIixcIiM4MGIxZDNcIixcIiNmZGI0NjJcIixcIiNiM2RlNjlcIixcIiNmY2NkZTVcIixcIiNkOWQ5ZDlcIixcIiNiYzgwYmRcIixcIiNjY2ViYzVcIixcIiNmZmVkNmZcIl19fSxfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGYsZSl7Zm9yKHZhciBkPTA7ZDxlLmxlbmd0aDtkKyspe3ZhciBjPWVbZF07Yy5lbnVtZXJhYmxlPWMuZW51bWVyYWJsZXx8ITEsYy5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gYyYmKGMud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLGMua2V5LGMpfX1yZXR1cm4gZnVuY3Rpb24oZSxkLGMpe3JldHVybiBkJiZmKGUucHJvdG90eXBlLGQpLGMmJmYoZSxjKSxlfX0oKSxHZW9tYXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsZiksdGhpcy5wcm9wZXJ0aWVzPXtnZW9maWxlOm51bGwsaGVpZ2h0Om51bGwscG9zdFVwZGF0ZTpudWxsLHByb2plY3Rpb246ZDMuZ2VvLm5hdHVyYWxFYXJ0aCxyb3RhdGU6WzAsMCwwXSxzY2FsZTpudWxsLHRyYW5zbGF0ZTpudWxsLHVuaXRJZDpcImlzbzNcIix1bml0UHJlZml4OlwidW5pdC1cIix1bml0czpcInVuaXRzXCIsdW5pdFRpdGxlOmZ1bmN0aW9uKGYpe3JldHVybiBmLnByb3BlcnRpZXMubmFtZX0sd2lkdGg6bnVsbCx6b29tRmFjdG9yOjR9O2Zvcih2YXIgZSBpbiB0aGlzLnByb3BlcnRpZXMpYWRkQWNjZXNzb3IodGhpcyxlLHRoaXMucHJvcGVydGllc1tlXSk7dGhpcy5fPXt9fXJldHVybiBfY3JlYXRlQ2xhc3MoZixbe2tleTpcImNsaWNrZWRcIix2YWx1ZTpmdW5jdGlvbihmKXt2YXIgZT10aGlzLGQ9MSxjPXRoaXMucHJvcGVydGllcy53aWR0aC8yLGE9dGhpcy5wcm9wZXJ0aWVzLmhlaWdodC8yLGI9Yyx0PWE7aWYoZiYmZi5oYXNPd25Qcm9wZXJ0eShcImdlb21ldHJ5XCIpJiZ0aGlzLl8uY2VudGVyZWQhPT1mKXt2YXIgcj10aGlzLnBhdGguY2VudHJvaWQoZik7Yj1yWzBdLHQ9clsxXSxkPXRoaXMucHJvcGVydGllcy56b29tRmFjdG9yLHRoaXMuXy5jZW50ZXJlZD1mfWVsc2UgdGhpcy5fLmNlbnRlcmVkPW51bGw7dGhpcy5zdmcuc2VsZWN0QWxsKFwicGF0aC51bml0XCIpLmNsYXNzZWQoXCJhY3RpdmVcIix0aGlzLl8uY2VudGVyZWQmJmZ1bmN0aW9uKGYpe3JldHVybiBmPT09ZS5fLmNlbnRlcmVkfSksdGhpcy5zdmcuc2VsZWN0QWxsKFwiZy56b29tXCIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApLmF0dHIoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIitjK1wiLCBcIithK1wiKXNjYWxlKFwiK2QrXCIpdHJhbnNsYXRlKC1cIitiK1wiLCAtXCIrdCtcIilcIil9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKGYsZSl7ZS5wcm9wZXJ0aWVzLndpZHRofHwoZS5wcm9wZXJ0aWVzLndpZHRoPWYubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKSxlLnByb3BlcnRpZXMuaGVpZ2h0fHwoZS5wcm9wZXJ0aWVzLmhlaWdodD1lLnByb3BlcnRpZXMud2lkdGgvMS45MiksZS5wcm9wZXJ0aWVzLnNjYWxlfHwoZS5wcm9wZXJ0aWVzLnNjYWxlPWUucHJvcGVydGllcy53aWR0aC81LjgpLGUucHJvcGVydGllcy50cmFuc2xhdGV8fChlLnByb3BlcnRpZXMudHJhbnNsYXRlPVtlLnByb3BlcnRpZXMud2lkdGgvMixlLnByb3BlcnRpZXMuaGVpZ2h0LzJdKSxlLnN2Zz1mLmFwcGVuZChcInN2Z1wiKS5hdHRyKFwid2lkdGhcIixlLnByb3BlcnRpZXMud2lkdGgpLmF0dHIoXCJoZWlnaHRcIixlLnByb3BlcnRpZXMuaGVpZ2h0KSxlLnN2Zy5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJjbGFzc1wiLFwiYmFja2dyb3VuZFwiKS5hdHRyKFwid2lkdGhcIixlLnByb3BlcnRpZXMud2lkdGgpLmF0dHIoXCJoZWlnaHRcIixlLnByb3BlcnRpZXMuaGVpZ2h0KS5vbihcImNsaWNrXCIsZS5jbGlja2VkLmJpbmQoZSkpO3ZhciBkPWUucHJvcGVydGllcy5wcm9qZWN0aW9uKCkuc2NhbGUoZS5wcm9wZXJ0aWVzLnNjYWxlKS50cmFuc2xhdGUoZS5wcm9wZXJ0aWVzLnRyYW5zbGF0ZSkucHJlY2lzaW9uKC4xKTtkLmhhc093blByb3BlcnR5KFwicm90YXRlXCIpJiZlLnByb3BlcnRpZXMucm90YXRlJiZkLnJvdGF0ZShlLnByb3BlcnRpZXMucm90YXRlKSxlLnBhdGg9ZDMuZ2VvLnBhdGgoKS5wcm9qZWN0aW9uKGQpLGQzLmpzb24oZS5wcm9wZXJ0aWVzLmdlb2ZpbGUsZnVuY3Rpb24oZixkKXtlLmdlbz1kLGUuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsXCJ1bml0cyB6b29tXCIpLnNlbGVjdEFsbChcInBhdGhcIikuZGF0YSh0b3BvanNvbi5mZWF0dXJlKGQsZC5vYmplY3RzW2UucHJvcGVydGllcy51bml0c10pLmZlYXR1cmVzKS5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZil7cmV0dXJuXCJ1bml0IFwiK2UucHJvcGVydGllcy51bml0UHJlZml4K2YuaWR9KS5hdHRyKFwiZFwiLGUucGF0aCkub24oXCJjbGlja1wiLGUuY2xpY2tlZC5iaW5kKGUpKS5hcHBlbmQoXCJ0aXRsZVwiKS50ZXh0KGUucHJvcGVydGllcy51bml0VGl0bGUpLGUudXBkYXRlKCl9KX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJvcGVydGllcy5wb3N0VXBkYXRlJiZ0aGlzLnByb3BlcnRpZXMucG9zdFVwZGF0ZSgpfX1dKSxmfSgpO2QzLmdlb21hcD1mdW5jdGlvbigpe3JldHVybiBuZXcgR2VvbWFwfTt2YXIgX2NyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihmLGUpe2Zvcih2YXIgZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgYz1lW2RdO2MuZW51bWVyYWJsZT1jLmVudW1lcmFibGV8fCExLGMuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGMmJihjLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZixjLmtleSxjKX19cmV0dXJuIGZ1bmN0aW9uKGUsZCxjKXtyZXR1cm4gZCYmZihlLnByb3RvdHlwZSxkKSxjJiZmKGUsYyksZX19KCksX2dldD1mdW5jdGlvbihmLGUsZCl7Zm9yKHZhciBjPSEwO2M7KXt2YXIgYT1mLGI9ZSx0PWQ7cj1pPW49dm9pZCAwLGM9ITE7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpO2lmKHZvaWQgMCE9PXIpe2lmKFwidmFsdWVcImluIHIpcmV0dXJuIHIudmFsdWU7dmFyIG49ci5nZXQ7cmV0dXJuIHZvaWQgMD09PW4/dm9pZCAwOm4uY2FsbCh0KX12YXIgaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSk7aWYobnVsbD09PWkpcmV0dXJuIHZvaWQgMDtmPWksZT1iLGQ9dCxjPSEwfX0sQ2hvcm9wbGV0aD1mdW5jdGlvbihmKXtmdW5jdGlvbiBlKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsZSksX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBmPXtjb2xvcnM6Y29sb3JicmV3ZXIuT3JSZFs5XSxjb2x1bW46bnVsbCxkb21haW46bnVsbCxkdXJhdGlvbjpudWxsLGZvcm1hdDpkMy5mb3JtYXQoXCIsLjAyZlwiKSxsZWdlbmQ6ITEsdmFsdWVTY2FsZTpkMy5zY2FsZS5xdWFudGl6ZX07Zm9yKHZhciBkIGluIGYpdGhpcy5wcm9wZXJ0aWVzW2RdPWZbZF0sYWRkQWNjZXNzb3IodGhpcyxkLGZbZF0pfXJldHVybiBfaW5oZXJpdHMoZSxmKSxfY3JlYXRlQ2xhc3MoZSxbe2tleTpcImNvbHVtblZhbFwiLHZhbHVlOmZ1bmN0aW9uKGYpe3JldHVybitmW3RoaXMucHJvcGVydGllcy5jb2x1bW5dfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbihmLGQpe2QuZGF0YT1mLmRhdHVtKCksX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZS5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyxmLGQpfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGY9dGhpcztmLmV4dGVudD1kMy5leHRlbnQoZi5kYXRhLGYuY29sdW1uVmFsLmJpbmQoZikpLGYuY29sb3JTY2FsZT1mLnByb3BlcnRpZXMudmFsdWVTY2FsZSgpLmRvbWFpbihmLnByb3BlcnRpZXMuZG9tYWlufHxmLmV4dGVudCkucmFuZ2UoZi5wcm9wZXJ0aWVzLmNvbG9ycyksZi5zdmcuc2VsZWN0QWxsKFwicGF0aC51bml0XCIpLnN0eWxlKFwiZmlsbFwiLG51bGwpLGYuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBkPWVbZi5wcm9wZXJ0aWVzLnVuaXRJZF0sYz1lW2YucHJvcGVydGllcy5jb2x1bW5dLGE9Zi5jb2xvclNjYWxlKGMpLGI9Zi5zdmcuc2VsZWN0QWxsKFwiLlwiK2YucHJvcGVydGllcy51bml0UHJlZml4K2QpO2lmKCFiLmVtcHR5KCkpe2YucHJvcGVydGllcy5kdXJhdGlvbj9iLnRyYW5zaXRpb24oKS5kdXJhdGlvbihmLnByb3BlcnRpZXMuZHVyYXRpb24pLnN0eWxlKFwiZmlsbFwiLGEpOmIuc3R5bGUoXCJmaWxsXCIsYSk7dmFyIHQ9Zi5wcm9wZXJ0aWVzLnVuaXRUaXRsZShiLmRhdHVtKCkpO2M9Zi5wcm9wZXJ0aWVzLmZvcm1hdChjKSxiLnNlbGVjdChcInRpdGxlXCIpLnRleHQoXCJcIit0K1wiXFxuXFxuXCIrZi5wcm9wZXJ0aWVzLmNvbHVtbitcIjogXCIrYyl9fSksZi5wcm9wZXJ0aWVzLmxlZ2VuZCYmZi5kcmF3TGVnZW5kKGYucHJvcGVydGllcy5sZWdlbmQpLF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucHJvdG90eXBlKSxcInVwZGF0ZVwiLHRoaXMpLmNhbGwodGhpcyl9fSx7a2V5OlwiZHJhd0xlZ2VuZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGY9dm9pZCAwPT09YXJndW1lbnRzWzBdP251bGw6YXJndW1lbnRzWzBdLGU9dGhpcyxkPWUucHJvcGVydGllcy5jb2xvcnMubGVuZ3RoLGM9dm9pZCAwLGE9dm9pZCAwLGI9MTAsdD0zO2Y9PT0hMD8oYz1lLnByb3BlcnRpZXMud2lkdGgvYixhPWUucHJvcGVydGllcy5oZWlnaHQvdCk6KGM9Zi53aWR0aCxhPWYuaGVpZ2h0KTt2YXIgcj1jLyguNzUqYiksbj1hLWEvKDEuOCp0KSxpPXIvMixvPWUucHJvcGVydGllcy5oZWlnaHQtYSxzPVwidHJhbnNsYXRlKFwiK2krXCIsXCIrMyppK1wiKVwiO2Uuc3ZnLnNlbGVjdChcImcubGVnZW5kXCIpLnJlbW92ZSgpO3ZhciBwPWUucHJvcGVydGllcy5jb2xvcnMuc2xpY2UoKS5yZXZlcnNlKCksbD1uL2QsdT10L2wsaD1lLnN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLFwibGVnZW5kXCIpLmF0dHIoXCJ3aWR0aFwiLGMpLmF0dHIoXCJoZWlnaHRcIixhKS5hdHRyKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCxcIitvK1wiKVwiKTtoLmFwcGVuZChcInJlY3RcIikuc3R5bGUoXCJmaWxsXCIsXCIjZmZmXCIpLmF0dHIoXCJjbGFzc1wiLFwibGVnZW5kLWJnXCIpLmF0dHIoXCJ3aWR0aFwiLGMpLmF0dHIoXCJoZWlnaHRcIixhKSxoLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsXCJsZWdlbmQtYmFyXCIpLmF0dHIoXCJ3aWR0aFwiLHIpLmF0dHIoXCJoZWlnaHRcIixuKS5hdHRyKFwidHJhbnNmb3JtXCIscyk7dmFyIGc9aC5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixzKTtnLnNlbGVjdEFsbChcInJlY3RcIikuZGF0YShwKS5lbnRlcigpLmFwcGVuZChcInJlY3RcIikuYXR0cihcInlcIixmdW5jdGlvbihmLGUpe3JldHVybiBlKmx9KS5hdHRyKFwiZmlsbFwiLGZ1bmN0aW9uKGYsZSl7cmV0dXJuIHBbZV19KS5hdHRyKFwid2lkdGhcIixyKS5hdHRyKFwiaGVpZ2h0XCIsbCk7dmFyIHY9ZS5leHRlbnRbMF0sbT1lLmV4dGVudFsxXSx5PSExLHc9ITE7ZS5wcm9wZXJ0aWVzLmRvbWFpbiYmKGUucHJvcGVydGllcy5kb21haW5bMV08bSYmKHc9ITApLG09ZS5wcm9wZXJ0aWVzLmRvbWFpblsxXSxlLnByb3BlcnRpZXMuZG9tYWluWzBdPnYmJih5PSEwKSx2PWUucHJvcGVydGllcy5kb21haW5bMF0pLGcuc2VsZWN0QWxsKFwidGV4dFwiKS5kYXRhKHApLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKS50ZXh0KGZ1bmN0aW9uKGYsYyl7aWYoYz09PWQtMSl7dmFyIGE9ZS5wcm9wZXJ0aWVzLmZvcm1hdCh2KTtyZXR1cm4geSYmKGE9XCI8IFwiK2EpLGF9cmV0dXJuIGUucHJvcGVydGllcy5mb3JtYXQoZS5jb2xvclNjYWxlLmludmVydEV4dGVudChmKVswXSl9KS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihmLGUpe3JldHVyblwidGV4dC1cIitlfSkuYXR0cihcInhcIixyK2kpLmF0dHIoXCJ5XCIsZnVuY3Rpb24oZixlKXtyZXR1cm4gZSpsKyhsK2wqdSl9KSxnLmFwcGVuZChcInRleHRcIikudGV4dChmdW5jdGlvbigpe3ZhciBmPWUucHJvcGVydGllcy5mb3JtYXQobSk7cmV0dXJuIHcmJihmPVwiPiBcIitmKSxmfSkuYXR0cihcInhcIixyK2kpLmF0dHIoXCJ5XCIsaSp1KjIpfX1dKSxlfShHZW9tYXApO2QzLmdlb21hcC5jaG9yb3BsZXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDaG9yb3BsZXRofTsiLCIvLyBkMy50aXBcbi8vIENvcHlyaWdodCAoYykgMjAxMyBKdXN0aW4gUGFsbWVyXG4vL1xuLy8gVG9vbHRpcHMgZm9yIGQzLmpzIFNWRyB2aXN1YWxpemF0aW9uc1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB3aXRoIGQzIGFzIGEgZGVwZW5kZW5jeS5cbiAgICBkZWZpbmUoWydkMyddLCBmYWN0b3J5KVxuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGQzKSB7XG4gICAgICBkMy50aXAgPSBmYWN0b3J5KGQzKVxuICAgICAgcmV0dXJuIGQzLnRpcFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbC5cbiAgICByb290LmQzLnRpcCA9IGZhY3Rvcnkocm9vdC5kMylcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoZDMpIHtcblxuICAvLyBQdWJsaWMgLSBjb250cnVjdHMgYSBuZXcgdG9vbHRpcFxuICAvL1xuICAvLyBSZXR1cm5zIGEgdGlwXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gZDNfdGlwX2RpcmVjdGlvbixcbiAgICAgICAgb2Zmc2V0ICAgID0gZDNfdGlwX29mZnNldCxcbiAgICAgICAgaHRtbCAgICAgID0gZDNfdGlwX2h0bWwsXG4gICAgICAgIG5vZGUgICAgICA9IGluaXROb2RlKCksXG4gICAgICAgIHN2ZyAgICAgICA9IG51bGwsXG4gICAgICAgIHBvaW50ICAgICA9IG51bGwsXG4gICAgICAgIHRhcmdldCAgICA9IG51bGxcblxuICAgIGZ1bmN0aW9uIHRpcCh2aXMpIHtcbiAgICAgIHN2ZyA9IGdldFNWR05vZGUodmlzKVxuICAgICAgcG9pbnQgPSBzdmcuY3JlYXRlU1ZHUG9pbnQoKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKVxuICAgIH1cblxuICAgIC8vIFB1YmxpYyAtIHNob3cgdGhlIHRvb2x0aXAgb24gdGhlIHNjcmVlblxuICAgIC8vXG4gICAgLy8gUmV0dXJucyBhIHRpcFxuICAgIHRpcC5zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICAgIGlmKGFyZ3NbYXJncy5sZW5ndGggLSAxXSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHRhcmdldCA9IGFyZ3MucG9wKClcblxuICAgICAgdmFyIGNvbnRlbnQgPSBodG1sLmFwcGx5KHRoaXMsIGFyZ3MpLFxuICAgICAgICAgIHBvZmZzZXQgPSBvZmZzZXQuYXBwbHkodGhpcywgYXJncyksXG4gICAgICAgICAgZGlyICAgICA9IGRpcmVjdGlvbi5hcHBseSh0aGlzLCBhcmdzKSxcbiAgICAgICAgICBub2RlbCAgID0gZ2V0Tm9kZUVsKCksXG4gICAgICAgICAgaSAgICAgICA9IGRpcmVjdGlvbnMubGVuZ3RoLFxuICAgICAgICAgIGNvb3JkcyxcbiAgICAgICAgICBzY3JvbGxUb3AgID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0XG5cbiAgICAgIG5vZGVsLmh0bWwoY29udGVudClcbiAgICAgICAgLnN0eWxlKHsgb3BhY2l0eTogMSwgJ3BvaW50ZXItZXZlbnRzJzogJ2FsbCcgfSlcblxuICAgICAgd2hpbGUoaS0tKSBub2RlbC5jbGFzc2VkKGRpcmVjdGlvbnNbaV0sIGZhbHNlKVxuICAgICAgY29vcmRzID0gZGlyZWN0aW9uX2NhbGxiYWNrcy5nZXQoZGlyKS5hcHBseSh0aGlzKVxuICAgICAgbm9kZWwuY2xhc3NlZChkaXIsIHRydWUpLnN0eWxlKHtcbiAgICAgICAgdG9wOiAoY29vcmRzLnRvcCArICBwb2Zmc2V0WzBdKSArIHNjcm9sbFRvcCArICdweCcsXG4gICAgICAgIGxlZnQ6IChjb29yZHMubGVmdCArIHBvZmZzZXRbMV0pICsgc2Nyb2xsTGVmdCArICdweCdcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiB0aXBcbiAgICB9XG5cbiAgICAvLyBQdWJsaWMgLSBoaWRlIHRoZSB0b29sdGlwXG4gICAgLy9cbiAgICAvLyBSZXR1cm5zIGEgdGlwXG4gICAgdGlwLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub2RlbCA9IGdldE5vZGVFbCgpXG4gICAgICBub2RlbC5zdHlsZSh7IG9wYWNpdHk6IDAsICdwb2ludGVyLWV2ZW50cyc6ICdub25lJyB9KVxuICAgICAgcmV0dXJuIHRpcFxuICAgIH1cblxuICAgIC8vIFB1YmxpYzogUHJveHkgYXR0ciBjYWxscyB0byB0aGUgZDMgdGlwIGNvbnRhaW5lci4gIFNldHMgb3IgZ2V0cyBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgLy9cbiAgICAvLyBuIC0gbmFtZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgLy8gdiAtIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGVcbiAgICAvL1xuICAgIC8vIFJldHVybnMgdGlwIG9yIGF0dHJpYnV0ZSB2YWx1ZVxuICAgIHRpcC5hdHRyID0gZnVuY3Rpb24obiwgdikge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyICYmIHR5cGVvZiBuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZ2V0Tm9kZUVsKCkuYXR0cihuKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFyZ3MgPSAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgICAgICBkMy5zZWxlY3Rpb24ucHJvdG90eXBlLmF0dHIuYXBwbHkoZ2V0Tm9kZUVsKCksIGFyZ3MpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aXBcbiAgICB9XG5cbiAgICAvLyBQdWJsaWM6IFByb3h5IHN0eWxlIGNhbGxzIHRvIHRoZSBkMyB0aXAgY29udGFpbmVyLiAgU2V0cyBvciBnZXRzIGEgc3R5bGUgdmFsdWUuXG4gICAgLy9cbiAgICAvLyBuIC0gbmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAvLyB2IC0gdmFsdWUgb2YgdGhlIHByb3BlcnR5XG4gICAgLy9cbiAgICAvLyBSZXR1cm5zIHRpcCBvciBzdHlsZSBwcm9wZXJ0eSB2YWx1ZVxuICAgIHRpcC5zdHlsZSA9IGZ1bmN0aW9uKG4sIHYpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiB0eXBlb2YgbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGdldE5vZGVFbCgpLnN0eWxlKG4pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYXJncyA9ICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgICAgIGQzLnNlbGVjdGlvbi5wcm90b3R5cGUuc3R5bGUuYXBwbHkoZ2V0Tm9kZUVsKCksIGFyZ3MpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aXBcbiAgICB9XG5cbiAgICAvLyBQdWJsaWM6IFNldCBvciBnZXQgdGhlIGRpcmVjdGlvbiBvZiB0aGUgdG9vbHRpcFxuICAgIC8vXG4gICAgLy8gdiAtIE9uZSBvZiBuKG5vcnRoKSwgcyhzb3V0aCksIGUoZWFzdCksIG9yIHcod2VzdCksIG53KG5vcnRod2VzdCksXG4gICAgLy8gICAgIHN3KHNvdXRod2VzdCksIG5lKG5vcnRoZWFzdCkgb3Igc2Uoc291dGhlYXN0KVxuICAgIC8vXG4gICAgLy8gUmV0dXJucyB0aXAgb3IgZGlyZWN0aW9uXG4gICAgdGlwLmRpcmVjdGlvbiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGRpcmVjdGlvblxuICAgICAgZGlyZWN0aW9uID0gdiA9PSBudWxsID8gdiA6IGQzLmZ1bmN0b3IodilcblxuICAgICAgcmV0dXJuIHRpcFxuICAgIH1cblxuICAgIC8vIFB1YmxpYzogU2V0cyBvciBnZXRzIHRoZSBvZmZzZXQgb2YgdGhlIHRpcFxuICAgIC8vXG4gICAgLy8gdiAtIEFycmF5IG9mIFt4LCB5XSBvZmZzZXRcbiAgICAvL1xuICAgIC8vIFJldHVybnMgb2Zmc2V0IG9yXG4gICAgdGlwLm9mZnNldCA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG9mZnNldFxuICAgICAgb2Zmc2V0ID0gdiA9PSBudWxsID8gdiA6IGQzLmZ1bmN0b3IodilcblxuICAgICAgcmV0dXJuIHRpcFxuICAgIH1cblxuICAgIC8vIFB1YmxpYzogc2V0cyBvciBnZXRzIHRoZSBodG1sIHZhbHVlIG9mIHRoZSB0b29sdGlwXG4gICAgLy9cbiAgICAvLyB2IC0gU3RyaW5nIHZhbHVlIG9mIHRoZSB0aXBcbiAgICAvL1xuICAgIC8vIFJldHVybnMgaHRtbCB2YWx1ZSBvciB0aXBcbiAgICB0aXAuaHRtbCA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGh0bWxcbiAgICAgIGh0bWwgPSB2ID09IG51bGwgPyB2IDogZDMuZnVuY3Rvcih2KVxuXG4gICAgICByZXR1cm4gdGlwXG4gICAgfVxuXG4gICAgLy8gUHVibGljOiBkZXN0cm95cyB0aGUgdG9vbHRpcCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBET01cbiAgICAvL1xuICAgIC8vIFJldHVybnMgYSB0aXBcbiAgICB0aXAuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYobm9kZSkge1xuICAgICAgICBnZXROb2RlRWwoKS5yZW1vdmUoKTtcbiAgICAgICAgbm9kZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGlwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGQzX3RpcF9kaXJlY3Rpb24oKSB7IHJldHVybiAnbicgfVxuICAgIGZ1bmN0aW9uIGQzX3RpcF9vZmZzZXQoKSB7IHJldHVybiBbMCwgMF0gfVxuICAgIGZ1bmN0aW9uIGQzX3RpcF9odG1sKCkgeyByZXR1cm4gJyAnIH1cblxuICAgIHZhciBkaXJlY3Rpb25fY2FsbGJhY2tzID0gZDMubWFwKHtcbiAgICAgIG46ICBkaXJlY3Rpb25fbixcbiAgICAgIHM6ICBkaXJlY3Rpb25fcyxcbiAgICAgIGU6ICBkaXJlY3Rpb25fZSxcbiAgICAgIHc6ICBkaXJlY3Rpb25fdyxcbiAgICAgIG53OiBkaXJlY3Rpb25fbncsXG4gICAgICBuZTogZGlyZWN0aW9uX25lLFxuICAgICAgc3c6IGRpcmVjdGlvbl9zdyxcbiAgICAgIHNlOiBkaXJlY3Rpb25fc2VcbiAgICB9KSxcblxuICAgIGRpcmVjdGlvbnMgPSBkaXJlY3Rpb25fY2FsbGJhY2tzLmtleXMoKVxuXG4gICAgZnVuY3Rpb24gZGlyZWN0aW9uX24oKSB7XG4gICAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAgYmJveC5uLnkgLSBub2RlLm9mZnNldEhlaWdodCxcbiAgICAgICAgbGVmdDogYmJveC5uLnggLSBub2RlLm9mZnNldFdpZHRoIC8gMlxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpcmVjdGlvbl9zKCkge1xuICAgICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogIGJib3gucy55LFxuICAgICAgICBsZWZ0OiBiYm94LnMueCAtIG5vZGUub2Zmc2V0V2lkdGggLyAyXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlyZWN0aW9uX2UoKSB7XG4gICAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAgYmJveC5lLnkgLSBub2RlLm9mZnNldEhlaWdodCAvIDIsXG4gICAgICAgIGxlZnQ6IGJib3guZS54XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlyZWN0aW9uX3coKSB7XG4gICAgICB2YXIgYmJveCA9IGdldFNjcmVlbkJCb3goKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAgYmJveC53LnkgLSBub2RlLm9mZnNldEhlaWdodCAvIDIsXG4gICAgICAgIGxlZnQ6IGJib3gudy54IC0gbm9kZS5vZmZzZXRXaWR0aFxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpcmVjdGlvbl9udygpIHtcbiAgICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6ICBiYm94Lm53LnkgLSBub2RlLm9mZnNldEhlaWdodCxcbiAgICAgICAgbGVmdDogYmJveC5udy54IC0gbm9kZS5vZmZzZXRXaWR0aFxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpcmVjdGlvbl9uZSgpIHtcbiAgICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6ICBiYm94Lm5lLnkgLSBub2RlLm9mZnNldEhlaWdodCxcbiAgICAgICAgbGVmdDogYmJveC5uZS54XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlyZWN0aW9uX3N3KCkge1xuICAgICAgdmFyIGJib3ggPSBnZXRTY3JlZW5CQm94KClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogIGJib3guc3cueSxcbiAgICAgICAgbGVmdDogYmJveC5zdy54IC0gbm9kZS5vZmZzZXRXaWR0aFxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpcmVjdGlvbl9zZSgpIHtcbiAgICAgIHZhciBiYm94ID0gZ2V0U2NyZWVuQkJveCgpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6ICBiYm94LnNlLnksXG4gICAgICAgIGxlZnQ6IGJib3guZS54XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdE5vZGUoKSB7XG4gICAgICB2YXIgbm9kZSA9IGQzLnNlbGVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICAgIG5vZGUuc3R5bGUoe1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gICAgICAgICdib3gtc2l6aW5nJzogJ2JvcmRlci1ib3gnXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gbm9kZS5ub2RlKClcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTVkdOb2RlKGVsKSB7XG4gICAgICBlbCA9IGVsLm5vZGUoKVxuICAgICAgaWYoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3ZnJylcbiAgICAgICAgcmV0dXJuIGVsXG5cbiAgICAgIHJldHVybiBlbC5vd25lclNWR0VsZW1lbnRcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXROb2RlRWwoKSB7XG4gICAgICBpZihub2RlID09PSBudWxsKSB7XG4gICAgICAgIG5vZGUgPSBpbml0Tm9kZSgpO1xuICAgICAgICAvLyByZS1hZGQgbm9kZSB0byBET01cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gZDMuc2VsZWN0KG5vZGUpO1xuICAgIH1cblxuICAgIC8vIFByaXZhdGUgLSBnZXRzIHRoZSBzY3JlZW4gY29vcmRpbmF0ZXMgb2YgYSBzaGFwZVxuICAgIC8vXG4gICAgLy8gR2l2ZW4gYSBzaGFwZSBvbiB0aGUgc2NyZWVuLCB3aWxsIHJldHVybiBhbiBTVkdQb2ludCBmb3IgdGhlIGRpcmVjdGlvbnNcbiAgICAvLyBuKG5vcnRoKSwgcyhzb3V0aCksIGUoZWFzdCksIHcod2VzdCksIG5lKG5vcnRoZWFzdCksIHNlKHNvdXRoZWFzdCksIG53KG5vcnRod2VzdCksXG4gICAgLy8gc3coc291dGh3ZXN0KS5cbiAgICAvL1xuICAgIC8vICAgICstKy0rXG4gICAgLy8gICAgfCAgIHxcbiAgICAvLyAgICArICAgK1xuICAgIC8vICAgIHwgICB8XG4gICAgLy8gICAgKy0rLStcbiAgICAvL1xuICAgIC8vIFJldHVybnMgYW4gT2JqZWN0IHtuLCBzLCBlLCB3LCBudywgc3csIG5lLCBzZX1cbiAgICBmdW5jdGlvbiBnZXRTY3JlZW5CQm94KCkge1xuICAgICAgdmFyIHRhcmdldGVsICAgPSB0YXJnZXQgfHwgZDMuZXZlbnQudGFyZ2V0O1xuXG4gICAgICB3aGlsZSAoJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB0YXJnZXRlbC5nZXRTY3JlZW5DVE0gJiYgJ3VuZGVmaW5lZCcgPT09IHRhcmdldGVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB0YXJnZXRlbCA9IHRhcmdldGVsLnBhcmVudE5vZGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBiYm94ICAgICAgID0ge30sXG4gICAgICAgICAgbWF0cml4ICAgICA9IHRhcmdldGVsLmdldFNjcmVlbkNUTSgpLFxuICAgICAgICAgIHRiYm94ICAgICAgPSB0YXJnZXRlbC5nZXRCQm94KCksXG4gICAgICAgICAgd2lkdGggICAgICA9IHRiYm94LndpZHRoLFxuICAgICAgICAgIGhlaWdodCAgICAgPSB0YmJveC5oZWlnaHQsXG4gICAgICAgICAgeCAgICAgICAgICA9IHRiYm94LngsXG4gICAgICAgICAgeSAgICAgICAgICA9IHRiYm94LnlcblxuICAgICAgcG9pbnQueCA9IHhcbiAgICAgIHBvaW50LnkgPSB5XG4gICAgICBiYm94Lm53ID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICAgIHBvaW50LnggKz0gd2lkdGhcbiAgICAgIGJib3gubmUgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgICAgcG9pbnQueSArPSBoZWlnaHRcbiAgICAgIGJib3guc2UgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgICAgcG9pbnQueCAtPSB3aWR0aFxuICAgICAgYmJveC5zdyA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpXG4gICAgICBwb2ludC55IC09IGhlaWdodCAvIDJcbiAgICAgIGJib3gudyAgPSBwb2ludC5tYXRyaXhUcmFuc2Zvcm0obWF0cml4KVxuICAgICAgcG9pbnQueCArPSB3aWR0aFxuICAgICAgYmJveC5lID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcbiAgICAgIHBvaW50LnggLT0gd2lkdGggLyAyXG4gICAgICBwb2ludC55IC09IGhlaWdodCAvIDJcbiAgICAgIGJib3gubiA9IHBvaW50Lm1hdHJpeFRyYW5zZm9ybShtYXRyaXgpXG4gICAgICBwb2ludC55ICs9IGhlaWdodFxuICAgICAgYmJveC5zID0gcG9pbnQubWF0cml4VHJhbnNmb3JtKG1hdHJpeClcblxuICAgICAgcmV0dXJuIGJib3hcbiAgICB9XG5cbiAgICByZXR1cm4gdGlwXG4gIH07XG5cbn0pKTsiLCIvLyBTVkdQYXRoU2VnIEFQSSBwb2x5ZmlsbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Byb2dlcnMvcGF0aHNlZ1xuLy9cbi8vIFRoaXMgaXMgYSBkcm9wLWluIHJlcGxhY2VtZW50IGZvciB0aGUgU1ZHUGF0aFNlZyBhbmQgU1ZHUGF0aFNlZ0xpc3QgQVBJcyB0aGF0IHdlcmUgcmVtb3ZlZCBmcm9tXG4vLyBTVkcyIChodHRwczovL2xpc3RzLnczLm9yZy9BcmNoaXZlcy9QdWJsaWMvd3d3LXN2Zy8yMDE1SnVuLzAwNDQuaHRtbCksIGluY2x1ZGluZyB0aGUgbGF0ZXN0IHNwZWNcbi8vIGNoYW5nZXMgd2hpY2ggd2VyZSBpbXBsZW1lbnRlZCBpbiBGaXJlZm94IDQzIGFuZCBDaHJvbWUgNDYuXG5cbihmdW5jdGlvbigpIHsgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgaWYgKCEoXCJTVkdQYXRoU2VnXCIgaW4gd2luZG93KSkge1xuICAgICAgICAvLyBTcGVjOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9zaW5nbGUtcGFnZS5odG1sI3BhdGhzLUludGVyZmFjZVNWR1BhdGhTZWdcbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWcgPSBmdW5jdGlvbih0eXBlLCB0eXBlQXNMZXR0ZXIsIG93bmluZ1BhdGhTZWdMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLnBhdGhTZWdUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciA9IHR5cGVBc0xldHRlcjtcbiAgICAgICAgICAgIHRoaXMuX293bmluZ1BhdGhTZWdMaXN0ID0gb3duaW5nUGF0aFNlZ0xpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBTVkdQYXRoU2VnLnByb3RvdHlwZS5jbGFzc25hbWUgPSBcIlNWR1BhdGhTZWdcIjtcblxuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfVU5LTk9XTiA9IDA7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19DTE9TRVBBVEggPSAxO1xuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX0FCUyA9IDI7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMID0gMztcbiAgICAgICAgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19BQlMgPSA0O1xuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1JFTCA9IDU7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX0FCUyA9IDY7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTCA9IDc7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19BQlMgPSA4O1xuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfUkVMID0gOTtcbiAgICAgICAgU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19BQlMgPSAxMDtcbiAgICAgICAgU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19SRUwgPSAxMTtcbiAgICAgICAgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX0FCUyA9IDEyO1xuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfUkVMID0gMTM7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfQUJTID0gMTQ7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfUkVMID0gMTU7XG4gICAgICAgIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlMgPSAxNjtcbiAgICAgICAgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfU01PT1RIX1JFTCA9IDE3O1xuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX0FCUyA9IDE4O1xuICAgICAgICBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX1JFTCA9IDE5O1xuXG4gICAgICAgIC8vIE5vdGlmeSBvd25pbmcgUGF0aFNlZ0xpc3Qgb24gYW55IGNoYW5nZXMgc28gdGhleSBjYW4gYmUgc3luY2hyb25pemVkIGJhY2sgdG8gdGhlIHBhdGggZWxlbWVudC5cbiAgICAgICAgU1ZHUGF0aFNlZy5wcm90b3R5cGUuX3NlZ21lbnRDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3duaW5nUGF0aFNlZ0xpc3QpXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duaW5nUGF0aFNlZ0xpc3Quc2VnbWVudENoYW5nZWQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0Nsb3NlUGF0aCA9IGZ1bmN0aW9uKG93bmluZ1BhdGhTZWdMaXN0KSB7XG4gICAgICAgICAgICBTVkdQYXRoU2VnLmNhbGwodGhpcywgU1ZHUGF0aFNlZy5QQVRIU0VHX0NMT1NFUEFUSCwgXCJ6XCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBTVkdQYXRoU2VnQ2xvc2VQYXRoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICBTVkdQYXRoU2VnQ2xvc2VQYXRoLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDbG9zZVBhdGhdXCI7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0Nsb3NlUGF0aC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyOyB9XG4gICAgICAgIFNWR1BhdGhTZWdDbG9zZVBhdGgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0Nsb3NlUGF0aCh1bmRlZmluZWQpOyB9XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdNb3ZldG9BYnMgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTLCBcIk1cIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgfVxuICAgICAgICBTVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICBTVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdNb3ZldG9BYnNdXCI7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ01vdmV0b0Ficy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95OyB9XG4gICAgICAgIFNWR1BhdGhTZWdNb3ZldG9BYnMucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ01vdmV0b0Ficyh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3kpOyB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTW92ZXRvQWJzLnByb3RvdHlwZSwgXCJ4XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3g7IH0sIHNldDogZnVuY3Rpb24oeCkgeyB0aGlzLl94ID0geDsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdNb3ZldG9BYnMucHJvdG90eXBlLCBcInlcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTsgfSwgc2V0OiBmdW5jdGlvbih5KSB7IHRoaXMuX3kgPSB5OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTW92ZXRvUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHkpIHtcbiAgICAgICAgICAgIFNWR1BhdGhTZWcuY2FsbCh0aGlzLCBTVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX1JFTCwgXCJtXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ01vdmV0b1JlbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ01vdmV0b1JlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnTW92ZXRvUmVsXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdNb3ZldG9SZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTsgfVxuICAgICAgICBTVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IFNWR1BhdGhTZWdNb3ZldG9SZWwodW5kZWZpbmVkLCB0aGlzLl94LCB0aGlzLl95KTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ01vdmV0b1JlbC5wcm90b3R5cGUsIFwieFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94OyB9LCBzZXQ6IGZ1bmN0aW9uKHgpIHsgdGhpcy5feCA9IHg7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTW92ZXRvUmVsLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0FicyA9IGZ1bmN0aW9uKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5KSB7XG4gICAgICAgICAgICBTVkdQYXRoU2VnLmNhbGwodGhpcywgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19BQlMsIFwiTFwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB9XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b0Fic11cIjsgfVxuICAgICAgICBTVkdQYXRoU2VnTGluZXRvQWJzLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvQWJzKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSk7IH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaW5ldG9BYnMucHJvdG90eXBlLCBcInhcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feDsgfSwgc2V0OiBmdW5jdGlvbih4KSB7IHRoaXMuX3ggPSB4OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0xpbmV0b0Ficy5wcm90b3R5cGUsIFwieVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl95OyB9LCBzZXQ6IGZ1bmN0aW9uKHkpIHsgdGhpcy5feSA9IHk7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9SZWwgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMLCBcImxcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgfVxuICAgICAgICBTVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICBTVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9SZWxdXCI7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b1JlbC5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95OyB9XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9SZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3kpOyB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTGluZXRvUmVsLnByb3RvdHlwZSwgXCJ4XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3g7IH0sIHNldDogZnVuY3Rpb24oeCkgeyB0aGlzLl94ID0geDsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaW5ldG9SZWwucHJvdG90eXBlLCBcInlcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTsgfSwgc2V0OiBmdW5jdGlvbih5KSB7IHRoaXMuX3kgPSB5OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgICAgICBTVkdQYXRoU2VnLmNhbGwodGhpcywgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfQUJTLCBcIkNcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgICAgIHRoaXMuX3gxID0geDE7XG4gICAgICAgICAgICB0aGlzLl95MSA9IHkxO1xuICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgIHRoaXMuX3kyID0geTI7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feDEgKyBcIiBcIiArIHRoaXMuX3kxICsgXCIgXCIgKyB0aGlzLl94MiArIFwiIFwiICsgdGhpcy5feTIgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feDEsIHRoaXMuX3kxLCB0aGlzLl94MiwgdGhpcy5feTIpOyB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZSwgXCJ4XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3g7IH0sIHNldDogZnVuY3Rpb24oeCkgeyB0aGlzLl94ID0geDsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCBcInlcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTsgfSwgc2V0OiBmdW5jdGlvbih5KSB7IHRoaXMuX3kgPSB5OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUsIFwieDFcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feDE7IH0sIHNldDogZnVuY3Rpb24oeDEpIHsgdGhpcy5feDEgPSB4MTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMucHJvdG90eXBlLCBcInkxXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3kxOyB9LCBzZXQ6IGZ1bmN0aW9uKHkxKSB7IHRoaXMuX3kxID0geTE7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljQWJzLnByb3RvdHlwZSwgXCJ4MlwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94MjsgfSwgc2V0OiBmdW5jdGlvbih4MikgeyB0aGlzLl94MiA9IHgyOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficy5wcm90b3R5cGUsIFwieTJcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTI7IH0sIHNldDogZnVuY3Rpb24oeTIpIHsgdGhpcy5feTIgPSB5MjsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbCA9IGZ1bmN0aW9uKG93bmluZ1BhdGhTZWdMaXN0LCB4LCB5LCB4MSwgeTEsIHgyLCB5Mikge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTCwgXCJjXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB0aGlzLl94MSA9IHgxO1xuICAgICAgICAgICAgdGhpcy5feTEgPSB5MTtcbiAgICAgICAgICAgIHRoaXMuX3gyID0geDI7XG4gICAgICAgICAgICB0aGlzLl95MiA9IHkyO1xuICAgICAgICB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbF1cIjsgfVxuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3gxICsgXCIgXCIgKyB0aGlzLl95MSArIFwiIFwiICsgdGhpcy5feDIgKyBcIiBcIiArIHRoaXMuX3kyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95OyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gxLCB0aGlzLl95MSwgdGhpcy5feDIsIHRoaXMuX3kyKTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUsIFwieFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94OyB9LCBzZXQ6IGZ1bmN0aW9uKHgpIHsgdGhpcy5feCA9IHg7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCBcIngxXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3gxOyB9LCBzZXQ6IGZ1bmN0aW9uKHgxKSB7IHRoaXMuX3gxID0geDE7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsLnByb3RvdHlwZSwgXCJ5MVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl95MTsgfSwgc2V0OiBmdW5jdGlvbih5MSkgeyB0aGlzLl95MSA9IHkxOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbC5wcm90b3R5cGUsIFwieDJcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feDI7IH0sIHNldDogZnVuY3Rpb24oeDIpIHsgdGhpcy5feDIgPSB4MjsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNSZWwucHJvdG90eXBlLCBcInkyXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3kyOyB9LCBzZXQ6IGZ1bmN0aW9uKHkyKSB7IHRoaXMuX3kyID0geTI7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHgxLCB5MSkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19BQlMsIFwiUVwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5feDEgPSB4MTtcbiAgICAgICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3gxICsgXCIgXCIgKyB0aGlzLl95MSArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTsgfVxuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficyh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gxLCB0aGlzLl95MSk7IH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZSwgXCJ4XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3g7IH0sIHNldDogZnVuY3Rpb24oeCkgeyB0aGlzLl94ID0geDsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzLnByb3RvdHlwZSwgXCJ4MVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94MTsgfSwgc2V0OiBmdW5jdGlvbih4MSkgeyB0aGlzLl94MSA9IHgxOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMucHJvdG90eXBlLCBcInkxXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3kxOyB9LCBzZXQ6IGZ1bmN0aW9uKHkxKSB7IHRoaXMuX3kxID0geTE7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHgxLCB5MSkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19SRUwsIFwicVwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5feDEgPSB4MTtcbiAgICAgICAgICAgIHRoaXMuX3kxID0geTE7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3gxICsgXCIgXCIgKyB0aGlzLl95MSArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTsgfVxuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gxLCB0aGlzLl95MSk7IH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZSwgXCJ4XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3g7IH0sIHNldDogZnVuY3Rpb24oeCkgeyB0aGlzLl94ID0geDsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsLnByb3RvdHlwZSwgXCJ4MVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94MTsgfSwgc2V0OiBmdW5jdGlvbih4MSkgeyB0aGlzLl94MSA9IHgxOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwucHJvdG90eXBlLCBcInkxXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3kxOyB9LCBzZXQ6IGZ1bmN0aW9uKHkxKSB7IHRoaXMuX3kxID0geTE7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdBcmNBYnMgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcpIHtcbiAgICAgICAgICAgIFNWR1BhdGhTZWcuY2FsbCh0aGlzLCBTVkdQYXRoU2VnLlBBVEhTRUdfQVJDX0FCUywgXCJBXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB0aGlzLl9yMSA9IHIxO1xuICAgICAgICAgICAgdGhpcy5fcjIgPSByMjtcbiAgICAgICAgICAgIHRoaXMuX2FuZ2xlID0gYW5nbGU7XG4gICAgICAgICAgICB0aGlzLl9sYXJnZUFyY0ZsYWcgPSBsYXJnZUFyY0ZsYWc7XG4gICAgICAgICAgICB0aGlzLl9zd2VlcEZsYWcgPSBzd2VlcEZsYWc7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnQXJjQWJzXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5fcjEgKyBcIiBcIiArIHRoaXMuX3IyICsgXCIgXCIgKyB0aGlzLl9hbmdsZSArIFwiIFwiICsgKHRoaXMuX2xhcmdlQXJjRmxhZyA/IFwiMVwiIDogXCIwXCIpICsgXCIgXCIgKyAodGhpcy5fc3dlZXBGbGFnID8gXCIxXCIgOiBcIjBcIikgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQXJjQWJzKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSwgdGhpcy5fcjEsIHRoaXMuX3IyLCB0aGlzLl9hbmdsZSwgdGhpcy5fbGFyZ2VBcmNGbGFnLCB0aGlzLl9zd2VlcEZsYWcpOyB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSwgXCJ4XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3g7IH0sIHNldDogZnVuY3Rpb24oeCkgeyB0aGlzLl94ID0geDsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCBcInlcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTsgfSwgc2V0OiBmdW5jdGlvbih5KSB7IHRoaXMuX3kgPSB5OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUsIFwicjFcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fcjE7IH0sIHNldDogZnVuY3Rpb24ocjEpIHsgdGhpcy5fcjEgPSByMTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNBYnMucHJvdG90eXBlLCBcInIyXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3IyOyB9LCBzZXQ6IGZ1bmN0aW9uKHIyKSB7IHRoaXMuX3IyID0gcjI7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjQWJzLnByb3RvdHlwZSwgXCJhbmdsZVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9hbmdsZTsgfSwgc2V0OiBmdW5jdGlvbihhbmdsZSkgeyB0aGlzLl9hbmdsZSA9IGFuZ2xlOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUsIFwibGFyZ2VBcmNGbGFnXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2xhcmdlQXJjRmxhZzsgfSwgc2V0OiBmdW5jdGlvbihsYXJnZUFyY0ZsYWcpIHsgdGhpcy5fbGFyZ2VBcmNGbGFnID0gbGFyZ2VBcmNGbGFnOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY0Ficy5wcm90b3R5cGUsIFwic3dlZXBGbGFnXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3N3ZWVwRmxhZzsgfSwgc2V0OiBmdW5jdGlvbihzd2VlcEZsYWcpIHsgdGhpcy5fc3dlZXBGbGFnID0gc3dlZXBGbGFnOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQXJjUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHIxLCByMiwgYW5nbGUsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnKSB7XG4gICAgICAgICAgICBTVkdQYXRoU2VnLmNhbGwodGhpcywgU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19SRUwsIFwiYVwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5fcjEgPSByMTtcbiAgICAgICAgICAgIHRoaXMuX3IyID0gcjI7XG4gICAgICAgICAgICB0aGlzLl9hbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgdGhpcy5fbGFyZ2VBcmNGbGFnID0gbGFyZ2VBcmNGbGFnO1xuICAgICAgICAgICAgdGhpcy5fc3dlZXBGbGFnID0gc3dlZXBGbGFnO1xuICAgICAgICB9XG4gICAgICAgIFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0FyY1JlbF1cIjsgfVxuICAgICAgICBTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3IxICsgXCIgXCIgKyB0aGlzLl9yMiArIFwiIFwiICsgdGhpcy5fYW5nbGUgKyBcIiBcIiArICh0aGlzLl9sYXJnZUFyY0ZsYWcgPyBcIjFcIiA6IFwiMFwiKSArIFwiIFwiICsgKHRoaXMuX3N3ZWVwRmxhZyA/IFwiMVwiIDogXCIwXCIpICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95OyB9XG4gICAgICAgIFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0FyY1JlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3IxLCB0aGlzLl9yMiwgdGhpcy5fYW5nbGUsIHRoaXMuX2xhcmdlQXJjRmxhZywgdGhpcy5fc3dlZXBGbGFnKTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsIFwieFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94OyB9LCBzZXQ6IGZ1bmN0aW9uKHgpIHsgdGhpcy5feCA9IHg7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCBcInIxXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3IxOyB9LCBzZXQ6IGZ1bmN0aW9uKHIxKSB7IHRoaXMuX3IxID0gcjE7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQXJjUmVsLnByb3RvdHlwZSwgXCJyMlwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9yMjsgfSwgc2V0OiBmdW5jdGlvbihyMikgeyB0aGlzLl9yMiA9IHIyOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0FyY1JlbC5wcm90b3R5cGUsIFwiYW5nbGVcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fYW5nbGU7IH0sIHNldDogZnVuY3Rpb24oYW5nbGUpIHsgdGhpcy5fYW5nbGUgPSBhbmdsZTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCBcImxhcmdlQXJjRmxhZ1wiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9sYXJnZUFyY0ZsYWc7IH0sIHNldDogZnVuY3Rpb24obGFyZ2VBcmNGbGFnKSB7IHRoaXMuX2xhcmdlQXJjRmxhZyA9IGxhcmdlQXJjRmxhZzsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdBcmNSZWwucHJvdG90eXBlLCBcInN3ZWVwRmxhZ1wiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9zd2VlcEZsYWc7IH0sIHNldDogZnVuY3Rpb24oc3dlZXBGbGFnKSB7IHRoaXMuX3N3ZWVwRmxhZyA9IHN3ZWVwRmxhZzsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeCkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9BQlMsIFwiSFwiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgfVxuICAgICAgICBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnNdXCI7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feDsgfVxuICAgICAgICBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyh1bmRlZmluZWQsIHRoaXMuX3gpOyB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicy5wcm90b3R5cGUsIFwieFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94OyB9LCBzZXQ6IGZ1bmN0aW9uKHgpIHsgdGhpcy5feCA9IHg7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgpIHtcbiAgICAgICAgICAgIFNWR1BhdGhTZWcuY2FsbCh0aGlzLCBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfUkVMLCBcImhcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3g7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwodW5kZWZpbmVkLCB0aGlzLl94KTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwucHJvdG90eXBlLCBcInhcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feDsgfSwgc2V0OiBmdW5jdGlvbih4KSB7IHRoaXMuX3ggPSB4OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeSkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fVkVSVElDQUxfQUJTLCBcIlZcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl95OyB9XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnModW5kZWZpbmVkLCB0aGlzLl95KTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHkpIHtcbiAgICAgICAgICAgIFNWR1BhdGhTZWcuY2FsbCh0aGlzLCBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX1JFTCwgXCJ2XCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICB9XG4gICAgICAgIFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbF1cIjsgfVxuICAgICAgICBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feTsgfVxuICAgICAgICBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsUmVsKHVuZGVmaW5lZCwgdGhpcy5feSk7IH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbC5wcm90b3R5cGUsIFwieVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl95OyB9LCBzZXQ6IGZ1bmN0aW9uKHkpIHsgdGhpcy5feSA9IHk7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSwgeDIsIHkyKSB7XG4gICAgICAgICAgICBTVkdQYXRoU2VnLmNhbGwodGhpcywgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfU01PT1RIX0FCUywgXCJTXCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgICAgICB0aGlzLl94MiA9IHgyO1xuICAgICAgICAgICAgdGhpcy5feTIgPSB5MjtcbiAgICAgICAgfVxuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU1ZHUGF0aFNlZy5wcm90b3R5cGUpO1xuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnNdXCI7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUuX2FzUGF0aFN0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wYXRoU2VnVHlwZUFzTGV0dGVyICsgXCIgXCIgKyB0aGlzLl94MiArIFwiIFwiICsgdGhpcy5feTIgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKHVuZGVmaW5lZCwgdGhpcy5feCwgdGhpcy5feSwgdGhpcy5feDIsIHRoaXMuX3kyKTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicy5wcm90b3R5cGUsIFwieFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94OyB9LCBzZXQ6IGZ1bmN0aW9uKHgpIHsgdGhpcy5feCA9IHg7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZSwgXCJ5XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3k7IH0sIHNldDogZnVuY3Rpb24oeSkgeyB0aGlzLl95ID0geTsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnMucHJvdG90eXBlLCBcIngyXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3gyOyB9LCBzZXQ6IGZ1bmN0aW9uKHgyKSB7IHRoaXMuX3gyID0geDI7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzLnByb3RvdHlwZSwgXCJ5MlwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl95MjsgfSwgc2V0OiBmdW5jdGlvbih5MikgeyB0aGlzLl95MiA9IHkyOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHksIHgyLCB5Mikge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUwsIFwic1wiLCBvd25pbmdQYXRoU2VnTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgICAgICAgdGhpcy5feDIgPSB4MjtcbiAgICAgICAgICAgIHRoaXMuX3kyID0geTI7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIFwiW29iamVjdCBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feDIgKyBcIiBcIiArIHRoaXMuX3kyICsgXCIgXCIgKyB0aGlzLl94ICsgXCIgXCIgKyB0aGlzLl95OyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbCh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gyLCB0aGlzLl95Mik7IH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhSZWwucHJvdG90eXBlLCBcInhcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feDsgfSwgc2V0OiBmdW5jdGlvbih4KSB7IHRoaXMuX3ggPSB4OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUsIFwieVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl95OyB9LCBzZXQ6IGZ1bmN0aW9uKHkpIHsgdGhpcy5feSA9IHk7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsLnByb3RvdHlwZSwgXCJ4MlwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94MjsgfSwgc2V0OiBmdW5jdGlvbih4MikgeyB0aGlzLl94MiA9IHgyOyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbC5wcm90b3R5cGUsIFwieTJcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTI7IH0sIHNldDogZnVuY3Rpb24oeTIpIHsgdGhpcy5feTIgPSB5MjsgdGhpcy5fc2VnbWVudENoYW5nZWQoKTsgfSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuICAgICAgICB3aW5kb3cuU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMgPSBmdW5jdGlvbihvd25pbmdQYXRoU2VnTGlzdCwgeCwgeSkge1xuICAgICAgICAgICAgU1ZHUGF0aFNlZy5jYWxsKHRoaXMsIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfQUJTLCBcIlRcIiwgb3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgfVxuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNWR1BhdGhTZWcucHJvdG90eXBlKTtcbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIltvYmplY3QgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnNdXCI7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMucHJvdG90eXBlLl9hc1BhdGhTdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ1R5cGVBc0xldHRlciArIFwiIFwiICsgdGhpcy5feCArIFwiIFwiICsgdGhpcy5feTsgfVxuICAgICAgICBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyh1bmRlZmluZWQsIHRoaXMuX3gsIHRoaXMuX3kpOyB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUsIFwieFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl94OyB9LCBzZXQ6IGZ1bmN0aW9uKHgpIHsgdGhpcy5feCA9IHg7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicy5wcm90b3R5cGUsIFwieVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl95OyB9LCBzZXQ6IGZ1bmN0aW9uKHkpIHsgdGhpcy5feSA9IHk7IHRoaXMuX3NlZ21lbnRDaGFuZ2VkKCk7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgd2luZG93LlNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsID0gZnVuY3Rpb24ob3duaW5nUGF0aFNlZ0xpc3QsIHgsIHkpIHtcbiAgICAgICAgICAgIFNWR1BhdGhTZWcuY2FsbCh0aGlzLCBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX1JFTCwgXCJ0XCIsIG93bmluZ1BhdGhTZWdMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTVkdQYXRoU2VnLnByb3RvdHlwZSk7XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJbb2JqZWN0IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsXVwiOyB9XG4gICAgICAgIFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsLnByb3RvdHlwZS5fYXNQYXRoU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdUeXBlQXNMZXR0ZXIgKyBcIiBcIiArIHRoaXMuX3ggKyBcIiBcIiArIHRoaXMuX3k7IH1cbiAgICAgICAgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwodW5kZWZpbmVkLCB0aGlzLl94LCB0aGlzLl95KTsgfVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlLCBcInhcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feDsgfSwgc2V0OiBmdW5jdGlvbih4KSB7IHRoaXMuX3ggPSB4OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwucHJvdG90eXBlLCBcInlcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5feTsgfSwgc2V0OiBmdW5jdGlvbih5KSB7IHRoaXMuX3kgPSB5OyB0aGlzLl9zZWdtZW50Q2hhbmdlZCgpOyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjcmVhdGVTVkdQYXRoU2VnKiBmdW5jdGlvbnMgdG8gU1ZHUGF0aEVsZW1lbnQuXG4gICAgICAgIC8vIFNwZWM6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL3NpbmdsZS1wYWdlLmh0bWwjcGF0aHMtSW50ZXJmYWNlU1ZHUGF0aEVsZW1lbnQuXG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ2xvc2VQYXRoID0gZnVuY3Rpb24oKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0Nsb3NlUGF0aCh1bmRlZmluZWQpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTW92ZXRvQWJzID0gZnVuY3Rpb24oeCwgeSkgeyByZXR1cm4gbmV3IFNWR1BhdGhTZWdNb3ZldG9BYnModW5kZWZpbmVkLCB4LCB5KTsgfVxuICAgICAgICBTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ01vdmV0b1JlbCA9IGZ1bmN0aW9uKHgsIHkpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTW92ZXRvUmVsKHVuZGVmaW5lZCwgeCwgeSk7IH1cbiAgICAgICAgU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMgPSBmdW5jdGlvbih4LCB5KSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b0Ficyh1bmRlZmluZWQsIHgsIHkpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvUmVsID0gZnVuY3Rpb24oeCwgeSkgeyByZXR1cm4gbmV3IFNWR1BhdGhTZWdMaW5ldG9SZWwodW5kZWZpbmVkLCB4LCB5KTsgfVxuICAgICAgICBTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0FicyA9IGZ1bmN0aW9uKHgsIHksIHgxLCB5MSwgeDIsIHkyKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0Ficyh1bmRlZmluZWQsIHgsIHksIHgxLCB5MSwgeDIsIHkyKTsgfVxuICAgICAgICBTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbCA9IGZ1bmN0aW9uKHgsIHksIHgxLCB5MSwgeDIsIHkyKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1JlbCh1bmRlZmluZWQsIHgsIHksIHgxLCB5MSwgeDIsIHkyKTsgfVxuICAgICAgICBTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMgPSBmdW5jdGlvbih4LCB5LCB4MSwgeTEpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0Ficyh1bmRlZmluZWQsIHgsIHksIHgxLCB5MSk7IH1cbiAgICAgICAgU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljUmVsID0gZnVuY3Rpb24oeCwgeSwgeDEsIHkxKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNSZWwodW5kZWZpbmVkLCB4LCB5LCB4MSwgeTEpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQXJjQWJzID0gZnVuY3Rpb24oeCwgeSwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQXJjQWJzKHVuZGVmaW5lZCwgeCwgeSwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQXJjUmVsID0gZnVuY3Rpb24oeCwgeSwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQXJjUmVsKHVuZGVmaW5lZCwgeCwgeSwgcjEsIHIyLCBhbmdsZSwgbGFyZ2VBcmNGbGFnLCBzd2VlcEZsYWcpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyh1bmRlZmluZWQsIHgpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbCA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbFJlbCh1bmRlZmluZWQsIHgpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMgPSBmdW5jdGlvbih5KSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzKHVuZGVmaW5lZCwgeSk7IH1cbiAgICAgICAgU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbCA9IGZ1bmN0aW9uKHkpIHsgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwodW5kZWZpbmVkLCB5KTsgfVxuICAgICAgICBTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aEFicyA9IGZ1bmN0aW9uKHgsIHksIHgyLCB5MikgeyByZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnModW5kZWZpbmVkLCB4LCB5LCB4MiwgeTIpOyB9XG4gICAgICAgIFNWR1BhdGhFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsID0gZnVuY3Rpb24oeCwgeSwgeDIsIHkyKSB7IHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbCh1bmRlZmluZWQsIHgsIHksIHgyLCB5Mik7IH1cbiAgICAgICAgU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzID0gZnVuY3Rpb24oeCwgeSkgeyByZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKHVuZGVmaW5lZCwgeCwgeSk7IH1cbiAgICAgICAgU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsID0gZnVuY3Rpb24oeCwgeSkgeyByZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoUmVsKHVuZGVmaW5lZCwgeCwgeSk7IH1cbiAgICB9XG5cbiAgICBpZiAoIShcIlNWR1BhdGhTZWdMaXN0XCIgaW4gd2luZG93KSkge1xuICAgICAgICAvLyBTcGVjOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9zaW5nbGUtcGFnZS5odG1sI3BhdGhzLUludGVyZmFjZVNWR1BhdGhTZWdMaXN0XG4gICAgICAgIHdpbmRvdy5TVkdQYXRoU2VnTGlzdCA9IGZ1bmN0aW9uKHBhdGhFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXRoRWxlbWVudCA9IHBhdGhFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fbGlzdCA9IHRoaXMuX3BhcnNlUGF0aCh0aGlzLl9wYXRoRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkXCIpKTtcblxuICAgICAgICAgICAgLy8gVXNlIGEgTXV0YXRpb25PYnNlcnZlciB0byBjYXRjaCBjaGFuZ2VzIHRvIHRoZSBwYXRoJ3MgXCJkXCIgYXR0cmlidXRlLlxuICAgICAgICAgICAgdGhpcy5fbXV0YXRpb25PYnNlcnZlckNvbmZpZyA9IHsgXCJhdHRyaWJ1dGVzXCI6IHRydWUsIFwiYXR0cmlidXRlRmlsdGVyXCI6IFtcImRcIl0gfTtcbiAgICAgICAgICAgIHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuX3VwZGF0ZUxpc3RGcm9tUGF0aE11dGF0aW9ucy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuX3BhdGhFbGVtZW50LCB0aGlzLl9tdXRhdGlvbk9ic2VydmVyQ29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5jbGFzc25hbWUgPSBcIlNWR1BhdGhTZWdMaXN0XCI7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZSwgXCJudW1iZXJPZkl0ZW1zXCIsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBwYXRoU2VnTGlzdCBhY2Nlc3NvcnMgdG8gU1ZHUGF0aEVsZW1lbnQuXG4gICAgICAgIC8vIFNwZWM6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL3NpbmdsZS1wYWdlLmh0bWwjcGF0aHMtSW50ZXJmYWNlU1ZHQW5pbWF0ZWRQYXRoRGF0YVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLCBcInBhdGhTZWdMaXN0XCIsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9wYXRoU2VnTGlzdClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGF0aFNlZ0xpc3QgPSBuZXcgU1ZHUGF0aFNlZ0xpc3QodGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGhTZWdMaXN0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEZJWE1FOiBUaGUgZm9sbG93aW5nIGFyZSBub3QgaW1wbGVtZW50ZWQgYW5kIHNpbXBseSByZXR1cm4gU1ZHUGF0aEVsZW1lbnQucGF0aFNlZ0xpc3QuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUsIFwibm9ybWFsaXplZFBhdGhTZWdMaXN0XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ0xpc3Q7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTVkdQYXRoRWxlbWVudC5wcm90b3R5cGUsIFwiYW5pbWF0ZWRQYXRoU2VnTGlzdFwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnBhdGhTZWdMaXN0OyB9LCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU1ZHUGF0aEVsZW1lbnQucHJvdG90eXBlLCBcImFuaW1hdGVkTm9ybWFsaXplZFBhdGhTZWdMaXN0XCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucGF0aFNlZ0xpc3Q7IH0sIGVudW1lcmFibGU6IHRydWUgfSk7XG5cbiAgICAgICAgLy8gUHJvY2VzcyBhbnkgcGVuZGluZyBtdXRhdGlvbnMgdG8gdGhlIHBhdGggZWxlbWVudCBhbmQgdXBkYXRlIHRoZSBsaXN0IGFzIG5lZWRlZC5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0IGNhbGwgb2YgYWxsIHB1YmxpYyBmdW5jdGlvbnMgYW5kIGlzIG5lZWRlZCBiZWNhdXNlXG4gICAgICAgIC8vIE11dGF0aW9uT2JzZXJ2ZXJzIGFyZSBub3Qgc3luY2hyb25vdXMgc28gd2UgY2FuIGhhdmUgcGVuZGluZyBhc3luY2hyb25vdXMgbXV0YXRpb25zLlxuICAgICAgICBTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGlzdEZyb21QYXRoTXV0YXRpb25zKHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5fdXBkYXRlTGlzdEZyb21QYXRoTXV0YXRpb25zID0gZnVuY3Rpb24obXV0YXRpb25SZWNvcmRzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BhdGhFbGVtZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBoYXNQYXRoTXV0YXRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICBtdXRhdGlvblJlY29yZHMuZm9yRWFjaChmdW5jdGlvbihyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmF0dHJpYnV0ZU5hbWUgPT0gXCJkXCIpXG4gICAgICAgICAgICAgICAgICAgIGhhc1BhdGhNdXRhdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaGFzUGF0aE11dGF0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLl9saXN0ID0gdGhpcy5fcGFyc2VQYXRoKHRoaXMuX3BhdGhFbGVtZW50LmdldEF0dHJpYnV0ZShcImRcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VyaWFsaXplIHRoZSBsaXN0IGFuZCB1cGRhdGUgdGhlIHBhdGgncyAnZCcgYXR0cmlidXRlLlxuICAgICAgICBTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuX3dyaXRlTGlzdFRvUGF0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fcGF0aEVsZW1lbnRNdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuX3BhdGhFbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgU1ZHUGF0aFNlZ0xpc3QuX3BhdGhTZWdBcnJheUFzU3RyaW5nKHRoaXMuX2xpc3QpKTtcbiAgICAgICAgICAgIHRoaXMuX3BhdGhFbGVtZW50TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuX3BhdGhFbGVtZW50LCB0aGlzLl9tdXRhdGlvbk9ic2VydmVyQ29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gYSBwYXRoIHNlZ21lbnQgY2hhbmdlcyB0aGUgbGlzdCBuZWVkcyB0byBiZSBzeW5jaHJvbml6ZWQgYmFjayB0byB0aGUgcGF0aCBlbGVtZW50LlxuICAgICAgICBTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUuc2VnbWVudENoYW5nZWQgPSBmdW5jdGlvbihwYXRoU2VnKSB7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpc3QuZm9yRWFjaChmdW5jdGlvbihwYXRoU2VnKSB7XG4gICAgICAgICAgICAgICAgcGF0aFNlZy5fb3duaW5nUGF0aFNlZ0xpc3QgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9saXN0ID0gW107XG4gICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24obmV3SXRlbSkge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2xpc3QgPSBbbmV3SXRlbV07XG4gICAgICAgICAgICBuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLl9jaGVja1ZhbGlkSW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgaWYgKGlzTmFOKGluZGV4KSB8fCBpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5udW1iZXJPZkl0ZW1zKVxuICAgICAgICAgICAgICAgIHRocm93IFwiSU5ERVhfU0laRV9FUlJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIFNWR1BhdGhTZWdMaXN0LnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9jaGVja1ZhbGlkSW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLmluc2VydEl0ZW1CZWZvcmUgPSBmdW5jdGlvbihuZXdJdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tQYXRoU3luY2hyb25pemVkVG9MaXN0KCk7XG5cbiAgICAgICAgICAgIC8vIFNwZWM6IElmIHRoZSBpbmRleCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbnVtYmVyT2ZJdGVtcywgdGhlbiB0aGUgbmV3IGl0ZW0gaXMgYXBwZW5kZWQgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdC5cbiAgICAgICAgICAgIGlmIChpbmRleCA+IHRoaXMubnVtYmVyT2ZJdGVtcylcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMubnVtYmVyT2ZJdGVtcztcbiAgICAgICAgICAgIGlmIChuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNWRzIgc3BlYyBzYXlzIHRvIG1ha2UgYSBjb3B5LlxuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdJdGVtLmNsb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9saXN0LnNwbGljZShpbmRleCwgMCwgbmV3SXRlbSk7XG4gICAgICAgICAgICBuZXdJdGVtLl9vd25pbmdQYXRoU2VnTGlzdCA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLnJlcGxhY2VJdGVtID0gZnVuY3Rpb24obmV3SXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrUGF0aFN5bmNocm9uaXplZFRvTGlzdCgpO1xuXG4gICAgICAgICAgICBpZiAobmV3SXRlbS5fb3duaW5nUGF0aFNlZ0xpc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBTVkcyIHNwZWMgc2F5cyB0byBtYWtlIGEgY29weS5cbiAgICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3SXRlbS5jbG9uZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2hlY2tWYWxpZEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RbaW5kZXhdID0gbmV3SXRlbTtcbiAgICAgICAgICAgIG5ld0l0ZW0uX293bmluZ1BhdGhTZWdMaXN0ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuX3dyaXRlTGlzdFRvUGF0aCgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0l0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBTVkdQYXRoU2VnTGlzdC5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKTtcblxuICAgICAgICAgICAgdGhpcy5fY2hlY2tWYWxpZEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5fbGlzdFtpbmRleF07XG4gICAgICAgICAgICB0aGlzLl9saXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLl93cml0ZUxpc3RUb1BhdGgoKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLmFwcGVuZEl0ZW0gPSBmdW5jdGlvbihuZXdJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja1BhdGhTeW5jaHJvbml6ZWRUb0xpc3QoKTtcblxuICAgICAgICAgICAgaWYgKG5ld0l0ZW0uX293bmluZ1BhdGhTZWdMaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gU1ZHMiBzcGVjIHNheXMgdG8gbWFrZSBhIGNvcHkuXG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld0l0ZW0uY2xvbmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xpc3QucHVzaChuZXdJdGVtKTtcbiAgICAgICAgICAgIG5ld0l0ZW0uX293bmluZ1BhdGhTZWdMaXN0ID0gdGhpcztcbiAgICAgICAgICAgIC8vIFRPRE86IE9wdGltaXplIHRoaXMgdG8ganVzdCBhcHBlbmQgdG8gdGhlIGV4aXN0aW5nIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIHRoaXMuX3dyaXRlTGlzdFRvUGF0aCgpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0l0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBTVkdQYXRoU2VnTGlzdC5fcGF0aFNlZ0FycmF5QXNTdHJpbmcgPSBmdW5jdGlvbihwYXRoU2VnQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhdGhTZWdBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHBhdGhTZWcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IHBhdGhTZWcuX2FzUGF0aFN0cmluZygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBcIiBcIiArIHBhdGhTZWcuX2FzUGF0aFN0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgY2xvc2VseSBmb2xsb3dzIFNWR1BhdGhQYXJzZXI6OnBhcnNlUGF0aCBmcm9tIFNvdXJjZS9jb3JlL3N2Zy9TVkdQYXRoUGFyc2VyLmNwcC5cbiAgICAgICAgU1ZHUGF0aFNlZ0xpc3QucHJvdG90eXBlLl9wYXJzZVBhdGggPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgICAgIGlmICghc3RyaW5nIHx8IHN0cmluZy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG5cbiAgICAgICAgICAgIHZhciBvd25pbmdQYXRoU2VnTGlzdCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBCdWlsZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoU2VnTGlzdCA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmRTZWdtZW50ID0gZnVuY3Rpb24ocGF0aFNlZykge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0aFNlZ0xpc3QucHVzaChwYXRoU2VnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIFNvdXJjZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cmluZyA9IHN0cmluZztcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuZEluZGV4ID0gdGhpcy5fc3RyaW5nLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NvbW1hbmQgPSBTVkdQYXRoU2VnLlBBVEhTRUdfVU5LTk9XTjtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9pc0N1cnJlbnRTcGFjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXIgPSB0aGlzLl9zdHJpbmdbdGhpcy5fY3VycmVudEluZGV4XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyIDw9IFwiIFwiICYmIChjaGFyYWN0ZXIgPT0gXCIgXCIgfHwgY2hhcmFjdGVyID09IFwiXFxuXCIgfHwgY2hhcmFjdGVyID09IFwiXFx0XCIgfHwgY2hhcmFjdGVyID09IFwiXFxyXCIgfHwgY2hhcmFjdGVyID09IFwiXFxmXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9za2lwT3B0aW9uYWxTcGFjZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXggJiYgdGhpcy5faXNDdXJyZW50U3BhY2UoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9za2lwT3B0aW9uYWxTcGFjZXNPckRlbGltaXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleCAmJiAhdGhpcy5faXNDdXJyZW50U3BhY2UoKSAmJiB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgIT0gXCIsXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA9PSBcIixcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9za2lwT3B0aW9uYWxTcGFjZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuaGFzTW9yZURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUucGVla1NlZ21lbnRUeXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvb2thaGVhZCA9IHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXRoU2VnVHlwZUZyb21DaGFyKGxvb2thaGVhZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuX3BhdGhTZWdUeXBlRnJvbUNoYXIgPSBmdW5jdGlvbihsb29rYWhlYWQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGxvb2thaGVhZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DTE9TRVBBVEg7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk1cIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX1JFTDtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19BQlM7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJDXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19BQlM7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1JFTDtcbiAgICAgICAgICAgICAgICBjYXNlIFwiUVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX0FCUztcbiAgICAgICAgICAgICAgICBjYXNlIFwicVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1JFTDtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19BQlM7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19BUkNfUkVMO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfQUJTO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJoXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0hPUklaT05UQUxfUkVMO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX0FCUztcbiAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9SRUw7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlM7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUw7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19TTU9PVEhfQUJTO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfU01PT1RIX1JFTDtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9uZXh0Q29tbWFuZEhlbHBlciA9IGZ1bmN0aW9uKGxvb2thaGVhZCwgcHJldmlvdXNDb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlbWFpbmluZyBjb29yZGluYXRlcyBpbiB0aGUgY3VycmVudCBjb21tYW5kLlxuICAgICAgICAgICAgICAgIGlmICgobG9va2FoZWFkID09IFwiK1wiIHx8IGxvb2thaGVhZCA9PSBcIi1cIiB8fCBsb29rYWhlYWQgPT0gXCIuXCIgfHwgKGxvb2thaGVhZCA+PSBcIjBcIiAmJiBsb29rYWhlYWQgPD0gXCI5XCIpKSAmJiBwcmV2aW91c0NvbW1hbmQgIT0gU1ZHUGF0aFNlZy5QQVRIU0VHX0NMT1NFUEFUSCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDb21tYW5kID09IFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fQUJTO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDb21tYW5kID09IFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fUkVMO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNDb21tYW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV047XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUuaW5pdGlhbENvbW1hbmRJc01vdmVUbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwYXRoIGlzIGVtcHR5IGl0IGlzIHN0aWxsIHZhbGlkLCBzbyByZXR1cm4gdHJ1ZS5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaGFzTW9yZURhdGEoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSB0aGlzLnBlZWtTZWdtZW50VHlwZSgpO1xuICAgICAgICAgICAgICAgIC8vIFBhdGggbXVzdCBzdGFydCB3aXRoIG1vdmVUby5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZCA9PSBTVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX0FCUyB8fCBjb21tYW5kID09IFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fUkVMO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQYXJzZSBhIG51bWJlciBmcm9tIGFuIFNWRyBwYXRoLiBUaGlzIHZlcnkgY2xvc2VseSBmb2xsb3dzIGdlbmVyaWNQYXJzZU51bWJlciguLi4pIGZyb20gU291cmNlL2NvcmUvc3ZnL1NWR1BhcnNlclV0aWxpdGllcy5jcHAuXG4gICAgICAgICAgICAvLyBTcGVjOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9zaW5nbGUtcGFnZS5odG1sI3BhdGhzLVBhdGhEYXRhQk5GXG4gICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9wYXJzZU51bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBleHBvbmVudCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGludGVnZXIgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBmcmFjID0gMTtcbiAgICAgICAgICAgICAgICB2YXIgZGVjaW1hbCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIHNpZ24gPSAxO1xuICAgICAgICAgICAgICAgIHZhciBleHBzaWduID0gMTtcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5fY3VycmVudEluZGV4O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc2tpcE9wdGlvbmFsU3BhY2VzKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZWFkIHRoZSBzaWduLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleCAmJiB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPT0gXCIrXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgc2lnbiA9IC0xO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPT0gdGhpcy5fZW5kSW5kZXggfHwgKCh0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPCBcIjBcIiB8fCB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPiBcIjlcIikgJiYgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpICE9IFwiLlwiKSlcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIG51bWJlciBtdXN0IGJlIG9uZSBvZiBbMC05Ky0uXS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIC8vIFJlYWQgdGhlIGludGVnZXIgcGFydCwgYnVpbGQgcmlnaHQtdG8tbGVmdC5cbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbnRQYXJ0SW5kZXggPSB0aGlzLl9jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX2VuZEluZGV4ICYmIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA+PSBcIjBcIiAmJiB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPD0gXCI5XCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrOyAvLyBBZHZhbmNlIHRvIGZpcnN0IG5vbi1kaWdpdC5cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggIT0gc3RhcnRJbnRQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjYW5JbnRQYXJ0SW5kZXggPSB0aGlzLl9jdXJyZW50SW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChzY2FuSW50UGFydEluZGV4ID49IHN0YXJ0SW50UGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ2VyICs9IG11bHRpcGxpZXIgKiAodGhpcy5fc3RyaW5nLmNoYXJBdChzY2FuSW50UGFydEluZGV4LS0pIC0gXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGllciAqPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlYWQgdGhlIGRlY2ltYWxzLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleCAmJiB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPT0gXCIuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgbXVzdCBiZSBhIGxlYXN0IG9uZSBkaWdpdCBmb2xsb3dpbmcgdGhlIC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCA+PSB0aGlzLl9lbmRJbmRleCB8fCB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPCBcIjBcIiB8fCB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPiBcIjlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLl9jdXJyZW50SW5kZXggPCB0aGlzLl9lbmRJbmRleCAmJiB0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPj0gXCIwXCIgJiYgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpIDw9IFwiOVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjaW1hbCArPSAodGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgrKykgLSBcIjBcIikgKiAoZnJhYyAqPSAwLjEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFJlYWQgdGhlIGV4cG9uZW50IHBhcnQuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRJbmRleCAhPSBzdGFydEluZGV4ICYmIHRoaXMuX2N1cnJlbnRJbmRleCArIDEgPCB0aGlzLl9lbmRJbmRleCAmJiAodGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID09IFwiZVwiIHx8IHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA9PSBcIkVcIikgJiYgKHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4ICsgMSkgIT0gXCJ4XCIgJiYgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXggKyAxKSAhPSBcIm1cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCB0aGUgc2lnbiBvZiB0aGUgZXhwb25lbnQuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdHJpbmcuY2hhckF0KHRoaXMuX2N1cnJlbnRJbmRleCkgPT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA9PSBcIi1cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBzaWduID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBtdXN0IGJlIGFuIGV4cG9uZW50LlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ID49IHRoaXMuX2VuZEluZGV4IHx8IHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA8IFwiMFwiIHx8IHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA+IFwiOVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudEluZGV4IDwgdGhpcy5fZW5kSW5kZXggJiYgdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpID49IFwiMFwiICYmIHRoaXMuX3N0cmluZy5jaGFyQXQodGhpcy5fY3VycmVudEluZGV4KSA8PSBcIjlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwb25lbnQgKj0gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudCArPSAodGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgpIC0gXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0gaW50ZWdlciArIGRlY2ltYWw7XG4gICAgICAgICAgICAgICAgbnVtYmVyICo9IHNpZ247XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhwb25lbnQpXG4gICAgICAgICAgICAgICAgICAgIG51bWJlciAqPSBNYXRoLnBvdygxMCwgZXhwc2lnbiAqIGV4cG9uZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4ID09IHRoaXMuX2N1cnJlbnRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTb3VyY2UucHJvdG90eXBlLl9wYXJzZUFyY0ZsYWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEluZGV4ID49IHRoaXMuX2VuZEluZGV4KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWdDaGFyID0gdGhpcy5fc3RyaW5nLmNoYXJBdCh0aGlzLl9jdXJyZW50SW5kZXgrKyk7XG4gICAgICAgICAgICAgICAgaWYgKGZsYWdDaGFyID09IFwiMFwiKVxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmxhZ0NoYXIgPT0gXCIxXCIpXG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlc09yRGVsaW1pdGVyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsYWc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFNvdXJjZS5wcm90b3R5cGUucGFyc2VTZWdtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxvb2thaGVhZCA9IHRoaXMuX3N0cmluZ1t0aGlzLl9jdXJyZW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5fcGF0aFNlZ1R5cGVGcm9tQ2hhcihsb29rYWhlYWQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kID09IFNWR1BhdGhTZWcuUEFUSFNFR19VTktOT1dOKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBvc3NpYmx5IGFuIGltcGxpY2l0IGNvbW1hbmQuIE5vdCBhbGxvd2VkIGlmIHRoaXMgaXMgdGhlIGZpcnN0IGNvbW1hbmQuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wcmV2aW91c0NvbW1hbmQgPT0gU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV04pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9IHRoaXMuX25leHRDb21tYW5kSGVscGVyKGxvb2thaGVhZCwgdGhpcy5fcHJldmlvdXNDb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT0gU1ZHUGF0aFNlZy5QQVRIU0VHX1VOS05PV04pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c0NvbW1hbmQgPSBjb21tYW5kO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfTU9WRVRPX1JFTDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTW92ZXRvUmVsKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpLCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19NT1ZFVE9fQUJTOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNWR1BhdGhTZWdNb3ZldG9BYnMob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCksIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19SRUw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b1JlbChvd25pbmdQYXRoU2VnTGlzdCwgdGhpcy5fcGFyc2VOdW1iZXIoKSwgdGhpcy5fcGFyc2VOdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgY2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX0FCUzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvQWJzKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpLCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19MSU5FVE9fSE9SSVpPTlRBTF9SRUw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b0hvcml6b250YWxSZWwob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19IT1JJWk9OVEFMX0FCUzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyhvd25pbmdQYXRoU2VnTGlzdCwgdGhpcy5fcGFyc2VOdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgY2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfTElORVRPX1ZFUlRJQ0FMX1JFTDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnTGluZXRvVmVydGljYWxSZWwob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0xJTkVUT19WRVJUSUNBTF9BQlM6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzKG93bmluZ1BhdGhTZWdMaXN0LCB0aGlzLl9wYXJzZU51bWJlcigpKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DTE9TRVBBVEg6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NraXBPcHRpb25hbFNwYWNlcygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNWR1BhdGhTZWdDbG9zZVBhdGgob3duaW5nUGF0aFNlZ0xpc3QpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fQ1VCSUNfUkVMOlxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0ge3gxOiB0aGlzLl9wYXJzZU51bWJlcigpLCB5MTogdGhpcy5fcGFyc2VOdW1iZXIoKSwgeDI6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkyOiB0aGlzLl9wYXJzZU51bWJlcigpLCB4OiB0aGlzLl9wYXJzZU51bWJlcigpLCB5OiB0aGlzLl9wYXJzZU51bWJlcigpfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsKG93bmluZ1BhdGhTZWdMaXN0LCBwb2ludHMueCwgcG9pbnRzLnksIHBvaW50cy54MSwgcG9pbnRzLnkxLCBwb2ludHMueDIsIHBvaW50cy55Mik7XG4gICAgICAgICAgICAgICAgY2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19DVUJJQ19BQlM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7eDE6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkxOiB0aGlzLl9wYXJzZU51bWJlcigpLCB4MjogdGhpcy5fcGFyc2VOdW1iZXIoKSwgeTI6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHg6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHk6IHRoaXMuX3BhcnNlTnVtYmVyKCl9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy54MiwgcG9pbnRzLnkyKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9SRUw6XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7eDI6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkyOiB0aGlzLl9wYXJzZU51bWJlcigpLCB4OiB0aGlzLl9wYXJzZU51bWJlcigpLCB5OiB0aGlzLl9wYXJzZU51bWJlcigpfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoUmVsKG93bmluZ1BhdGhTZWdMaXN0LCBwb2ludHMueCwgcG9pbnRzLnksIHBvaW50cy54MiwgcG9pbnRzLnkyKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX0NVQklDX1NNT09USF9BQlM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7eDI6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkyOiB0aGlzLl9wYXJzZU51bWJlcigpLCB4OiB0aGlzLl9wYXJzZU51bWJlcigpLCB5OiB0aGlzLl9wYXJzZU51bWJlcigpfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKG93bmluZ1BhdGhTZWdMaXN0LCBwb2ludHMueCwgcG9pbnRzLnksIHBvaW50cy54MiwgcG9pbnRzLnkyKTtcbiAgICAgICAgICAgICAgICBjYXNlIFNWR1BhdGhTZWcuUEFUSFNFR19DVVJWRVRPX1FVQURSQVRJQ19SRUw6XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7eDE6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkxOiB0aGlzLl9wYXJzZU51bWJlcigpLCB4OiB0aGlzLl9wYXJzZU51bWJlcigpLCB5OiB0aGlzLl9wYXJzZU51bWJlcigpfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbChvd25pbmdQYXRoU2VnTGlzdCwgcG9pbnRzLngsIHBvaW50cy55LCBwb2ludHMueDEsIHBvaW50cy55MSk7XG4gICAgICAgICAgICAgICAgY2FzZSBTVkdQYXRoU2VnLlBBVEhTRUdfQ1VSVkVUT19RVUFEUkFUSUNfQUJTOlxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0ge3gxOiB0aGlzLl9wYXJzZU51bWJlcigpLCB5MTogdGhpcy5fcGFyc2VOdW1iZXIoKSwgeDogdGhpcy5fcGFyc2VOdW1iZXIoKSwgeTogdGhpcy5fcGFyc2VOdW1iZXIoKX07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9SRUw6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhSZWwob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCksIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0NVUlZFVE9fUVVBRFJBVElDX1NNT09USF9BQlM6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNTbW9vdGhBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHRoaXMuX3BhcnNlTnVtYmVyKCksIHRoaXMuX3BhcnNlTnVtYmVyKCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19SRUw6XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7eDE6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkxOiB0aGlzLl9wYXJzZU51bWJlcigpLCBhcmNBbmdsZTogdGhpcy5fcGFyc2VOdW1iZXIoKSwgYXJjTGFyZ2U6IHRoaXMuX3BhcnNlQXJjRmxhZygpLCBhcmNTd2VlcDogdGhpcy5fcGFyc2VBcmNGbGFnKCksIHg6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHk6IHRoaXMuX3BhcnNlTnVtYmVyKCl9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNWR1BhdGhTZWdBcmNSZWwob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy5hcmNBbmdsZSwgcG9pbnRzLmFyY0xhcmdlLCBwb2ludHMuYXJjU3dlZXApO1xuICAgICAgICAgICAgICAgIGNhc2UgU1ZHUGF0aFNlZy5QQVRIU0VHX0FSQ19BQlM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB7eDE6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHkxOiB0aGlzLl9wYXJzZU51bWJlcigpLCBhcmNBbmdsZTogdGhpcy5fcGFyc2VOdW1iZXIoKSwgYXJjTGFyZ2U6IHRoaXMuX3BhcnNlQXJjRmxhZygpLCBhcmNTd2VlcDogdGhpcy5fcGFyc2VBcmNGbGFnKCksIHg6IHRoaXMuX3BhcnNlTnVtYmVyKCksIHk6IHRoaXMuX3BhcnNlTnVtYmVyKCl9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNWR1BhdGhTZWdBcmNBYnMob3duaW5nUGF0aFNlZ0xpc3QsIHBvaW50cy54LCBwb2ludHMueSwgcG9pbnRzLngxLCBwb2ludHMueTEsIHBvaW50cy5hcmNBbmdsZSwgcG9pbnRzLmFyY0xhcmdlLCBwb2ludHMuYXJjU3dlZXApO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiVW5rbm93biBwYXRoIHNlZyB0eXBlLlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gbmV3IFNvdXJjZShzdHJpbmcpO1xuXG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5pbml0aWFsQ29tbWFuZElzTW92ZVRvKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgd2hpbGUgKHNvdXJjZS5oYXNNb3JlRGF0YSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhTZWcgPSBzb3VyY2UucGFyc2VTZWdtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXRoU2VnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmRTZWdtZW50KHBhdGhTZWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYnVpbGRlci5wYXRoU2VnTGlzdDtcbiAgICAgICAgfVxuICAgIH1cbn0oKSk7IiwiIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7dGhpcy5vd25lcj1hfWZ1bmN0aW9uIGMoYSxiKXtpZihPYmplY3QuY3JlYXRlKWIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpO2Vsc2V7dmFyIGM9ZnVuY3Rpb24oKXt9O2MucHJvdG90eXBlPWEucHJvdG90eXBlLGIucHJvdG90eXBlPW5ldyBjfXJldHVybiBiLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1iLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj10aGlzLmludGVybmFsPW5ldyBlKHRoaXMpO2IubG9hZENvbmZpZyhhKSxiLmluaXQoKSxmdW5jdGlvbiBjKGEsYixkKXtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2JbZV09YVtlXS5iaW5kKGQpLE9iamVjdC5rZXlzKGFbZV0pLmxlbmd0aD4wJiZjKGFbZV0sYltlXSxkKX0pfShoLHRoaXMsdGhpcyl9ZnVuY3Rpb24gZShiKXt2YXIgYz10aGlzO2MuZDM9YS5kMz9hLmQzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1aXJlP3JlcXVpcmUoXCJkM1wiKTp2b2lkIDAsYy5hcGk9YixjLmNvbmZpZz1jLmdldERlZmF1bHRDb25maWcoKSxjLmRhdGE9e30sYy5jYWNoZT17fSxjLmF4ZXM9e319ZnVuY3Rpb24gZihhKXtiLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBnKGEsYil7ZnVuY3Rpb24gYyhhLGIpe2EuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGEpe3JldHVyblwidHJhbnNsYXRlKFwiK01hdGguY2VpbChiKGEpK3UpK1wiLCAwKVwifSl9ZnVuY3Rpb24gZChhLGIpe2EuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGEpe3JldHVyblwidHJhbnNsYXRlKDAsXCIrTWF0aC5jZWlsKGIoYSkpK1wiKVwifSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hWzBdLGM9YVthLmxlbmd0aC0xXTtyZXR1cm4gYz5iP1tiLGNdOltjLGJdfWZ1bmN0aW9uIGYoYSl7dmFyIGIsYyxkPVtdO2lmKGEudGlja3MpcmV0dXJuIGEudGlja3MuYXBwbHkoYSxuKTtmb3IoYz1hLmRvbWFpbigpLGI9TWF0aC5jZWlsKGNbMF0pO2I8Y1sxXTtiKyspZC5wdXNoKGIpO3JldHVybiBkLmxlbmd0aD4wJiZkWzBdPjAmJmQudW5zaGlmdChkWzBdLShkWzFdLWRbMF0pKSxkfWZ1bmN0aW9uIGcoKXt2YXIgYSxjPXAuY29weSgpO3JldHVybiBiLmlzQ2F0ZWdvcnkmJihhPXAuZG9tYWluKCksYy5kb21haW4oW2FbMF0sYVsxXS0xXSkpLGN9ZnVuY3Rpb24gaChhKXt2YXIgYj1tP20oYSk6YTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYj9iOlwiXCJ9ZnVuY3Rpb24gaShhKXtpZih6KXJldHVybiB6O3ZhciBiPXtoOjExLjUsdzo1LjV9O3JldHVybiBhLnNlbGVjdChcInRleHRcIikudGV4dChoKS5lYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZD1oKGEpLGU9Yy5oZWlnaHQsZj1kP2Mud2lkdGgvZC5sZW5ndGg6dm9pZCAwO2UmJmYmJihiLmg9ZSxiLnc9Zil9KS50ZXh0KFwiXCIpLHo9YixifWZ1bmN0aW9uIGooYyl7cmV0dXJuIGIud2l0aG91dFRyYW5zaXRpb24/YzphLnRyYW5zaXRpb24oYyl9ZnVuY3Rpb24gayhtKXttLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBtKGEsYyl7ZnVuY3Rpb24gZChhLGIpe2Y9dm9pZCAwO2Zvcih2YXIgaD0xO2g8Yi5sZW5ndGg7aCsrKWlmKFwiIFwiPT09Yi5jaGFyQXQoaCkmJihmPWgpLGU9Yi5zdWJzdHIoMCxoKzEpLGc9VS53KmUubGVuZ3RoLGc+YylyZXR1cm4gZChhLmNvbmNhdChiLnN1YnN0cigwLGY/ZjpoKSksYi5zbGljZShmP2YrMTpoKSk7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBlLGYsZyxpPWgoYSksaj1bXTtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaSk/aTooKCFjfHwwPj1jKSYmKGM9WD85NTpiLmlzQ2F0ZWdvcnk/TWF0aC5jZWlsKEYoR1sxXSktRihHWzBdKSktMTI6MTEwKSxkKGosaStcIlwiKSl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPVUuaDtyZXR1cm4gMD09PWImJihjPVwibGVmdFwiPT09cXx8XCJyaWdodFwiPT09cT8tKChWW2EuaW5kZXhdLTEpKihVLmgvMiktMyk6XCIuNzFlbVwiKSxjfWZ1bmN0aW9uIHYoYSl7dmFyIGI9cChhKSsobz8wOnUpO3JldHVybiBMWzBdPGImJmI8TFsxXT9yOjB9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYT9hPjA/XCJzdGFydFwiOlwiZW5kXCI6XCJtaWRkbGVcIn1mdW5jdGlvbiB4KGEpe3JldHVybiBhP1wicm90YXRlKFwiK2ErXCIpXCI6XCJcIn1mdW5jdGlvbiB5KGEpe3JldHVybiBhPzgqTWF0aC5zaW4oTWF0aC5QSSooYS8xODApKTowfWZ1bmN0aW9uIHooYSl7cmV0dXJuIGE/MTEuNS0yLjUqKGEvMTUpKihhPjA/MTotMSk6V312YXIgQSxCLEMsRD1rLmc9YS5zZWxlY3QodGhpcyksRT10aGlzLl9fY2hhcnRfX3x8cCxGPXRoaXMuX19jaGFydF9fPWcoKSxHPXQ/dDpmKEYpLEg9RC5zZWxlY3RBbGwoXCIudGlja1wiKS5kYXRhKEcsRiksST1ILmVudGVyKCkuaW5zZXJ0KFwiZ1wiLFwiLmRvbWFpblwiKS5hdHRyKFwiY2xhc3NcIixcInRpY2tcIikuc3R5bGUoXCJvcGFjaXR5XCIsMWUtNiksSj1ILmV4aXQoKS5yZW1vdmUoKSxLPWooSCkuc3R5bGUoXCJvcGFjaXR5XCIsMSksTD1wLnJhbmdlRXh0ZW50P3AucmFuZ2VFeHRlbnQoKTplKHAucmFuZ2UoKSksTT1ELnNlbGVjdEFsbChcIi5kb21haW5cIikuZGF0YShbMF0pLE49KE0uZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLFwiZG9tYWluXCIpLGooTSkpO0kuYXBwZW5kKFwibGluZVwiKSxJLmFwcGVuZChcInRleHRcIik7dmFyIE89SS5zZWxlY3QoXCJsaW5lXCIpLFA9Sy5zZWxlY3QoXCJsaW5lXCIpLFE9SS5zZWxlY3QoXCJ0ZXh0XCIpLFI9Sy5zZWxlY3QoXCJ0ZXh0XCIpO2IuaXNDYXRlZ29yeT8odT1NYXRoLmNlaWwoKEYoMSktRigwKSkvMiksQj1vPzA6dSxDPW8/dTowKTp1PUI9MDt2YXIgUyxULFU9aShELnNlbGVjdChcIi50aWNrXCIpKSxWPVtdLFc9TWF0aC5tYXgociwwKStzLFg9XCJsZWZ0XCI9PT1xfHxcInJpZ2h0XCI9PT1xO1M9SC5zZWxlY3QoXCJ0ZXh0XCIpLFQ9Uy5zZWxlY3RBbGwoXCJ0c3BhblwiKS5kYXRhKGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi50aWNrTXVsdGlsaW5lP20oYSxiLnRpY2tXaWR0aCk6W10uY29uY2F0KGgoYSkpO3JldHVybiBWW2NdPWQubGVuZ3RoLGQubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbmRleDpjLHNwbGl0dGVkOmF9fSl9KSxULmVudGVyKCkuYXBwZW5kKFwidHNwYW5cIiksVC5leGl0KCkucmVtb3ZlKCksVC50ZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnNwbGl0dGVkfSk7dmFyIFk9Yi50aWNrVGV4dFJvdGF0ZTtzd2l0Y2gocSl7Y2FzZVwiYm90dG9tXCI6QT1jLE8uYXR0cihcInkyXCIsciksUS5hdHRyKFwieVwiLFcpLFAuYXR0cihcIngxXCIsQikuYXR0cihcIngyXCIsQikuYXR0cihcInkyXCIsdiksUi5hdHRyKFwieFwiLDApLmF0dHIoXCJ5XCIseihZKSkuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLHcoWSkpLmF0dHIoXCJ0cmFuc2Zvcm1cIix4KFkpKSxULmF0dHIoXCJ4XCIsMCkuYXR0cihcImR5XCIsbikuYXR0cihcImR4XCIseShZKSksTi5hdHRyKFwiZFwiLFwiTVwiK0xbMF0rXCIsXCIrbCtcIlYwSFwiK0xbMV0rXCJWXCIrbCk7YnJlYWs7Y2FzZVwidG9wXCI6QT1jLE8uYXR0cihcInkyXCIsLXIpLFEuYXR0cihcInlcIiwtVyksUC5hdHRyKFwieDJcIiwwKS5hdHRyKFwieTJcIiwtciksUi5hdHRyKFwieFwiLDApLmF0dHIoXCJ5XCIsLVcpLFMuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLFQuYXR0cihcInhcIiwwKS5hdHRyKFwiZHlcIixcIjBlbVwiKSxOLmF0dHIoXCJkXCIsXCJNXCIrTFswXStcIixcIistbCtcIlYwSFwiK0xbMV0rXCJWXCIrLWwpO2JyZWFrO2Nhc2VcImxlZnRcIjpBPWQsTy5hdHRyKFwieDJcIiwtciksUS5hdHRyKFwieFwiLC1XKSxQLmF0dHIoXCJ4MlwiLC1yKS5hdHRyKFwieTFcIixDKS5hdHRyKFwieTJcIixDKSxSLmF0dHIoXCJ4XCIsLVcpLmF0dHIoXCJ5XCIsdSksUy5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJlbmRcIiksVC5hdHRyKFwieFwiLC1XKS5hdHRyKFwiZHlcIixuKSxOLmF0dHIoXCJkXCIsXCJNXCIrLWwrXCIsXCIrTFswXStcIkgwVlwiK0xbMV0rXCJIXCIrLWwpO2JyZWFrO2Nhc2VcInJpZ2h0XCI6QT1kLE8uYXR0cihcIngyXCIsciksUS5hdHRyKFwieFwiLFcpLFAuYXR0cihcIngyXCIscikuYXR0cihcInkyXCIsMCksUi5hdHRyKFwieFwiLFcpLmF0dHIoXCJ5XCIsMCksUy5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJzdGFydFwiKSxULmF0dHIoXCJ4XCIsVykuYXR0cihcImR5XCIsbiksTi5hdHRyKFwiZFwiLFwiTVwiK2wrXCIsXCIrTFswXStcIkgwVlwiK0xbMV0rXCJIXCIrbCl9aWYoRi5yYW5nZUJhbmQpe3ZhciBaPUYsJD1aLnJhbmdlQmFuZCgpLzI7RT1GPWZ1bmN0aW9uKGEpe3JldHVybiBaKGEpKyR9fWVsc2UgRS5yYW5nZUJhbmQ/RT1GOkouY2FsbChBLEYpO0kuY2FsbChBLEUpLEsuY2FsbChBLEYpfSl9dmFyIGwsbSxuLG8scD1hLnNjYWxlLmxpbmVhcigpLHE9XCJib3R0b21cIixyPTYscz0zLHQ9bnVsbCx1PTAsdj0hMDtyZXR1cm4gYj1ifHx7fSxsPWIud2l0aE91dGVyVGljaz82OjAsay5zY2FsZT1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1hLGspOnB9LGsub3JpZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhxPWEgaW57dG9wOjEscmlnaHQ6MSxib3R0b206MSxsZWZ0OjF9P2ErXCJcIjpcImJvdHRvbVwiLGspOnF9LGsudGlja0Zvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obT1hLGspOm19LGsudGlja0NlbnRlcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhvPWEsayk6b30say50aWNrT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHV9LGsudGlja0ludGVydmFsPWZ1bmN0aW9uKCl7dmFyIGEsYztyZXR1cm4gYi5pc0NhdGVnb3J5P2E9Mip1OihjPWsuZy5zZWxlY3QoXCJwYXRoLmRvbWFpblwiKS5ub2RlKCkuZ2V0VG90YWxMZW5ndGgoKS0yKmwsYT1jL2suZy5zZWxlY3RBbGwoXCJsaW5lXCIpLnNpemUoKSksMS8wPT09YT8wOmF9LGsudGlja3M9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1hcmd1bWVudHMsayk6bn0say50aWNrQ3VsbGluZz1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odj1hLGspOnZ9LGsudGlja1ZhbHVlcz1mdW5jdGlvbihhKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhKXQ9ZnVuY3Rpb24oKXtyZXR1cm4gYShwLmRvbWFpbigpKX07ZWxzZXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdDt0PWF9cmV0dXJuIGt9LGt9dmFyIGgsaSxqLGs9e3ZlcnNpb246XCIwLjQuMTBcIn07ay5nZW5lcmF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGQoYSl9LGsuY2hhcnQ9e2ZuOmQucHJvdG90eXBlLGludGVybmFsOntmbjplLnByb3RvdHlwZSxheGlzOntmbjpmLnByb3RvdHlwZX19fSxoPWsuY2hhcnQuZm4saT1rLmNoYXJ0LmludGVybmFsLmZuLGo9ay5jaGFydC5pbnRlcm5hbC5heGlzLmZuLGkuaW5pdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZztpZihhLmluaXRQYXJhbXMoKSxiLmRhdGFfdXJsKWEuY29udmVydFVybFRvRGF0YShiLmRhdGFfdXJsLGIuZGF0YV9taW1lVHlwZSxiLmRhdGFfa2V5cyxhLmluaXRXaXRoRGF0YSk7ZWxzZSBpZihiLmRhdGFfanNvbilhLmluaXRXaXRoRGF0YShhLmNvbnZlcnRKc29uVG9EYXRhKGIuZGF0YV9qc29uLGIuZGF0YV9rZXlzKSk7ZWxzZSBpZihiLmRhdGFfcm93cylhLmluaXRXaXRoRGF0YShhLmNvbnZlcnRSb3dzVG9EYXRhKGIuZGF0YV9yb3dzKSk7ZWxzZXtpZighYi5kYXRhX2NvbHVtbnMpdGhyb3cgRXJyb3IoXCJ1cmwgb3IganNvbiBvciByb3dzIG9yIGNvbHVtbnMgaXMgcmVxdWlyZWQuXCIpO2EuaW5pdFdpdGhEYXRhKGEuY29udmVydENvbHVtbnNUb0RhdGEoYi5kYXRhX2NvbHVtbnMpKX19LGkuaW5pdFBhcmFtcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmQzLGM9YS5jb25maWc7YS5jbGlwSWQ9XCJjMy1cIisgK25ldyBEYXRlK1wiLWNsaXBcIixhLmNsaXBJZEZvclhBeGlzPWEuY2xpcElkK1wiLXhheGlzXCIsYS5jbGlwSWRGb3JZQXhpcz1hLmNsaXBJZCtcIi15YXhpc1wiLGEuY2xpcElkRm9yR3JpZD1hLmNsaXBJZCtcIi1ncmlkXCIsYS5jbGlwSWRGb3JTdWJjaGFydD1hLmNsaXBJZCtcIi1zdWJjaGFydFwiLGEuY2xpcFBhdGg9YS5nZXRDbGlwUGF0aChhLmNsaXBJZCksYS5jbGlwUGF0aEZvclhBeGlzPWEuZ2V0Q2xpcFBhdGgoYS5jbGlwSWRGb3JYQXhpcyksYS5jbGlwUGF0aEZvcllBeGlzPWEuZ2V0Q2xpcFBhdGgoYS5jbGlwSWRGb3JZQXhpcyksYS5jbGlwUGF0aEZvckdyaWQ9YS5nZXRDbGlwUGF0aChhLmNsaXBJZEZvckdyaWQpLGEuY2xpcFBhdGhGb3JTdWJjaGFydD1hLmdldENsaXBQYXRoKGEuY2xpcElkRm9yU3ViY2hhcnQpLGEuZHJhZ1N0YXJ0PW51bGwsYS5kcmFnZ2luZz0hMSxhLmZsb3dpbmc9ITEsYS5jYW5jZWxDbGljaz0hMSxhLm1vdXNlb3Zlcj0hMSxhLnRyYW5zaXRpbmc9ITEsYS5jb2xvcj1hLmdlbmVyYXRlQ29sb3IoKSxhLmxldmVsQ29sb3I9YS5nZW5lcmF0ZUxldmVsQ29sb3IoKSxhLmRhdGFUaW1lRm9ybWF0PWMuZGF0YV94TG9jYWx0aW1lP2IudGltZS5mb3JtYXQ6Yi50aW1lLmZvcm1hdC51dGMsYS5heGlzVGltZUZvcm1hdD1jLmF4aXNfeF9sb2NhbHRpbWU/Yi50aW1lLmZvcm1hdDpiLnRpbWUuZm9ybWF0LnV0YyxhLmRlZmF1bHRBeGlzVGltZUZvcm1hdD1hLmF4aXNUaW1lRm9ybWF0Lm11bHRpKFtbXCIuJUxcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNaWxsaXNlY29uZHMoKX1dLFtcIjolU1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFNlY29uZHMoKX1dLFtcIiVJOiVNXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0TWludXRlcygpfV0sW1wiJUkgJXBcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRIb3VycygpfV0sW1wiJS1tLyUtZFwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldERheSgpJiYxIT09YS5nZXREYXRlKCl9XSxbXCIlLW0vJS1kXCIsZnVuY3Rpb24oYSl7cmV0dXJuIDEhPT1hLmdldERhdGUoKX1dLFtcIiUtbS8lLWRcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRNb250aCgpfV0sW1wiJVkvJS1tLyUtZFwiLGZ1bmN0aW9uKCl7cmV0dXJuITB9XV0pLGEuaGlkZGVuVGFyZ2V0SWRzPVtdLGEuaGlkZGVuTGVnZW5kSWRzPVtdLGEuZm9jdXNlZFRhcmdldElkcz1bXSxhLmRlZm9jdXNlZFRhcmdldElkcz1bXSxhLnhPcmllbnQ9Yy5heGlzX3JvdGF0ZWQ/XCJsZWZ0XCI6XCJib3R0b21cIixhLnlPcmllbnQ9Yy5heGlzX3JvdGF0ZWQ/Yy5heGlzX3lfaW5uZXI/XCJ0b3BcIjpcImJvdHRvbVwiOmMuYXhpc195X2lubmVyP1wicmlnaHRcIjpcImxlZnRcIixhLnkyT3JpZW50PWMuYXhpc19yb3RhdGVkP2MuYXhpc195Ml9pbm5lcj9cImJvdHRvbVwiOlwidG9wXCI6Yy5heGlzX3kyX2lubmVyP1wibGVmdFwiOlwicmlnaHRcIixhLnN1YlhPcmllbnQ9Yy5heGlzX3JvdGF0ZWQ/XCJsZWZ0XCI6XCJib3R0b21cIixhLmlzTGVnZW5kUmlnaHQ9XCJyaWdodFwiPT09Yy5sZWdlbmRfcG9zaXRpb24sYS5pc0xlZ2VuZEluc2V0PVwiaW5zZXRcIj09PWMubGVnZW5kX3Bvc2l0aW9uLGEuaXNMZWdlbmRUb3A9XCJ0b3AtbGVmdFwiPT09Yy5sZWdlbmRfaW5zZXRfYW5jaG9yfHxcInRvcC1yaWdodFwiPT09Yy5sZWdlbmRfaW5zZXRfYW5jaG9yLGEuaXNMZWdlbmRMZWZ0PVwidG9wLWxlZnRcIj09PWMubGVnZW5kX2luc2V0X2FuY2hvcnx8XCJib3R0b20tbGVmdFwiPT09Yy5sZWdlbmRfaW5zZXRfYW5jaG9yLGEubGVnZW5kU3RlcD0wLGEubGVnZW5kSXRlbVdpZHRoPTAsYS5sZWdlbmRJdGVtSGVpZ2h0PTAsYS5jdXJyZW50TWF4VGlja1dpZHRocz17eDowLHk6MCx5MjowfSxhLnJvdGF0ZWRfcGFkZGluZ19sZWZ0PTMwLGEucm90YXRlZF9wYWRkaW5nX3JpZ2h0PWMuYXhpc19yb3RhdGVkJiYhYy5heGlzX3hfc2hvdz8wOjMwLGEucm90YXRlZF9wYWRkaW5nX3RvcD01LGEud2l0aG91dEZhZGVJbj17fSxhLmludGVydmFsRm9yT2JzZXJ2ZUluc2VydGVkPXZvaWQgMCxhLmF4ZXMuc3VieD1iLnNlbGVjdEFsbChbXSl9LGkuaW5pdENoYXJ0RWxlbWVudHM9ZnVuY3Rpb24oKXt0aGlzLmluaXRCYXImJnRoaXMuaW5pdEJhcigpLHRoaXMuaW5pdExpbmUmJnRoaXMuaW5pdExpbmUoKSx0aGlzLmluaXRBcmMmJnRoaXMuaW5pdEFyYygpLHRoaXMuaW5pdEdhdWdlJiZ0aGlzLmluaXRHYXVnZSgpLHRoaXMuaW5pdFRleHQmJnRoaXMuaW5pdFRleHQoKX0saS5pbml0V2l0aERhdGE9ZnVuY3Rpb24oYil7dmFyIGMsZCxlPXRoaXMsZz1lLmQzLGg9ZS5jb25maWcsaT0hMDtlLmF4aXM9bmV3IGYoZSksZS5pbml0UGllJiZlLmluaXRQaWUoKSxlLmluaXRCcnVzaCYmZS5pbml0QnJ1c2goKSxlLmluaXRab29tJiZlLmluaXRab29tKCksZS5zZWxlY3RDaGFydD1oLmJpbmR0bz9cImZ1bmN0aW9uXCI9PXR5cGVvZiBoLmJpbmR0by5ub2RlP2guYmluZHRvOmcuc2VsZWN0KGguYmluZHRvKTpnLnNlbGVjdEFsbChbXSksZS5zZWxlY3RDaGFydC5lbXB0eSgpJiYoZS5zZWxlY3RDaGFydD1nLnNlbGVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zdHlsZShcIm9wYWNpdHlcIiwwKSxlLm9ic2VydmVJbnNlcnRlZChlLnNlbGVjdENoYXJ0KSxpPSExKSxlLnNlbGVjdENoYXJ0Lmh0bWwoXCJcIikuY2xhc3NlZChcImMzXCIsITApLGUuZGF0YS54cz17fSxlLmRhdGEudGFyZ2V0cz1lLmNvbnZlcnREYXRhVG9UYXJnZXRzKGIpLGguZGF0YV9maWx0ZXImJihlLmRhdGEudGFyZ2V0cz1lLmRhdGEudGFyZ2V0cy5maWx0ZXIoaC5kYXRhX2ZpbHRlcikpLGguZGF0YV9oaWRlJiZlLmFkZEhpZGRlblRhcmdldElkcyhoLmRhdGFfaGlkZT09PSEwP2UubWFwVG9JZHMoZS5kYXRhLnRhcmdldHMpOmguZGF0YV9oaWRlKSxoLmxlZ2VuZF9oaWRlJiZlLmFkZEhpZGRlbkxlZ2VuZElkcyhoLmxlZ2VuZF9oaWRlPT09ITA/ZS5tYXBUb0lkcyhlLmRhdGEudGFyZ2V0cyk6aC5sZWdlbmRfaGlkZSksZS5oYXNUeXBlKFwiZ2F1Z2VcIikmJihoLmxlZ2VuZF9zaG93PSExKSxlLnVwZGF0ZVNpemVzKCksZS51cGRhdGVTY2FsZXMoKSxlLnguZG9tYWluKGcuZXh0ZW50KGUuZ2V0WERvbWFpbihlLmRhdGEudGFyZ2V0cykpKSxlLnkuZG9tYWluKGUuZ2V0WURvbWFpbihlLmRhdGEudGFyZ2V0cyxcInlcIikpLGUueTIuZG9tYWluKGUuZ2V0WURvbWFpbihlLmRhdGEudGFyZ2V0cyxcInkyXCIpKSxlLnN1YlguZG9tYWluKGUueC5kb21haW4oKSksZS5zdWJZLmRvbWFpbihlLnkuZG9tYWluKCkpLGUuc3ViWTIuZG9tYWluKGUueTIuZG9tYWluKCkpLGUub3JnWERvbWFpbj1lLnguZG9tYWluKCksZS5icnVzaCYmZS5icnVzaC5zY2FsZShlLnN1YlgpLGguem9vbV9lbmFibGVkJiZlLnpvb20uc2NhbGUoZS54KSxlLnN2Zz1lLnNlbGVjdENoYXJ0LmFwcGVuZChcInN2Z1wiKS5zdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIikub24oXCJtb3VzZWVudGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gaC5vbm1vdXNlb3Zlci5jYWxsKGUpfSkub24oXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oKXtyZXR1cm4gaC5vbm1vdXNlb3V0LmNhbGwoZSl9KSxjPWUuc3ZnLmFwcGVuZChcImRlZnNcIiksZS5jbGlwQ2hhcnQ9ZS5hcHBlbmRDbGlwKGMsZS5jbGlwSWQpLGUuY2xpcFhBeGlzPWUuYXBwZW5kQ2xpcChjLGUuY2xpcElkRm9yWEF4aXMpLGUuY2xpcFlBeGlzPWUuYXBwZW5kQ2xpcChjLGUuY2xpcElkRm9yWUF4aXMpLGUuY2xpcEdyaWQ9ZS5hcHBlbmRDbGlwKGMsZS5jbGlwSWRGb3JHcmlkKSxlLmNsaXBTdWJjaGFydD1lLmFwcGVuZENsaXAoYyxlLmNsaXBJZEZvclN1YmNoYXJ0KSxlLnVwZGF0ZVN2Z1NpemUoKSxkPWUubWFpbj1lLnN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixlLmdldFRyYW5zbGF0ZShcIm1haW5cIikpLGUuaW5pdFN1YmNoYXJ0JiZlLmluaXRTdWJjaGFydCgpLGUuaW5pdFRvb2x0aXAmJmUuaW5pdFRvb2x0aXAoKSxlLmluaXRMZWdlbmQmJmUuaW5pdExlZ2VuZCgpLGQuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixsLnRleHQrXCIgXCIrbC5lbXB0eSkuYXR0cihcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIikuYXR0cihcImRvbWluYW50LWJhc2VsaW5lXCIsXCJtaWRkbGVcIiksZS5pbml0UmVnaW9uKCksZS5pbml0R3JpZCgpLGQuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xpcC1wYXRoXCIsZS5jbGlwUGF0aCkuYXR0cihcImNsYXNzXCIsbC5jaGFydCksaC5ncmlkX2xpbmVzX2Zyb250JiZlLmluaXRHcmlkTGluZXMoKSxlLmluaXRFdmVudFJlY3QoKSxlLmluaXRDaGFydEVsZW1lbnRzKCksZC5pbnNlcnQoXCJyZWN0XCIsaC56b29tX3ByaXZpbGVnZWQ/bnVsbDpcImcuXCIrbC5yZWdpb25zKS5hdHRyKFwiY2xhc3NcIixsLnpvb21SZWN0KS5hdHRyKFwid2lkdGhcIixlLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsZS5oZWlnaHQpLnN0eWxlKFwib3BhY2l0eVwiLDApLm9uKFwiZGJsY2xpY2suem9vbVwiLG51bGwpLGguYXhpc194X2V4dGVudCYmZS5icnVzaC5leHRlbnQoZS5nZXREZWZhdWx0RXh0ZW50KCkpLGUuYXhpcy5pbml0KCksZS51cGRhdGVUYXJnZXRzKGUuZGF0YS50YXJnZXRzKSxpJiYoZS51cGRhdGVEaW1lbnNpb24oKSxlLmNvbmZpZy5vbmluaXQuY2FsbChlKSxlLnJlZHJhdyh7d2l0aFRyYW5zaXRpb246ITEsd2l0aFRyYW5zZm9ybTohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVHJhbnNpdGlvbkZvckF4aXM6ITF9KSksbnVsbD09YS5vbnJlc2l6ZSYmKGEub25yZXNpemU9ZS5nZW5lcmF0ZVJlc2l6ZSgpKSxhLm9ucmVzaXplLmFkZCYmKGEub25yZXNpemUuYWRkKGZ1bmN0aW9uKCl7aC5vbnJlc2l6ZS5jYWxsKGUpfSksYS5vbnJlc2l6ZS5hZGQoZnVuY3Rpb24oKXtlLmFwaS5mbHVzaCgpfSksYS5vbnJlc2l6ZS5hZGQoZnVuY3Rpb24oKXtoLm9ucmVzaXplZC5jYWxsKGUpfSkpLGUuYXBpLmVsZW1lbnQ9ZS5zZWxlY3RDaGFydC5ub2RlKCl9LGkuc21vb3RoTGluZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO1wiZ3JpZFwiPT09YiYmYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9Yy5kMy5zZWxlY3QodGhpcyksYj1hLmF0dHIoXCJ4MVwiKSxkPWEuYXR0cihcIngyXCIpLGU9YS5hdHRyKFwieTFcIiksZj1hLmF0dHIoXCJ5MlwiKTthLmF0dHIoe3gxOk1hdGguY2VpbChiKSx4MjpNYXRoLmNlaWwoZCkseTE6TWF0aC5jZWlsKGUpLHkyOk1hdGguY2VpbChmKX0pfSl9LGkudXBkYXRlU2l6ZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1hLmxlZ2VuZD9hLmdldExlZ2VuZEhlaWdodCgpOjAsZD1hLmxlZ2VuZD9hLmdldExlZ2VuZFdpZHRoKCk6MCxlPWEuaXNMZWdlbmRSaWdodHx8YS5pc0xlZ2VuZEluc2V0PzA6YyxmPWEuaGFzQXJjVHlwZSgpLGc9Yi5heGlzX3JvdGF0ZWR8fGY/MDphLmdldEhvcml6b250YWxBeGlzSGVpZ2h0KFwieFwiKSxoPWIuc3ViY2hhcnRfc2hvdyYmIWY/Yi5zdWJjaGFydF9zaXplX2hlaWdodCtnOjA7YS5jdXJyZW50V2lkdGg9YS5nZXRDdXJyZW50V2lkdGgoKSxhLmN1cnJlbnRIZWlnaHQ9YS5nZXRDdXJyZW50SGVpZ2h0KCksYS5tYXJnaW49Yi5heGlzX3JvdGF0ZWQ/e3RvcDphLmdldEhvcml6b250YWxBeGlzSGVpZ2h0KFwieTJcIikrYS5nZXRDdXJyZW50UGFkZGluZ1RvcCgpLHJpZ2h0OmY/MDphLmdldEN1cnJlbnRQYWRkaW5nUmlnaHQoKSxib3R0b206YS5nZXRIb3Jpem9udGFsQXhpc0hlaWdodChcInlcIikrZSthLmdldEN1cnJlbnRQYWRkaW5nQm90dG9tKCksbGVmdDpoKyhmPzA6YS5nZXRDdXJyZW50UGFkZGluZ0xlZnQoKSl9Ont0b3A6NCthLmdldEN1cnJlbnRQYWRkaW5nVG9wKCkscmlnaHQ6Zj8wOmEuZ2V0Q3VycmVudFBhZGRpbmdSaWdodCgpLGJvdHRvbTpnK2grZSthLmdldEN1cnJlbnRQYWRkaW5nQm90dG9tKCksbGVmdDpmPzA6YS5nZXRDdXJyZW50UGFkZGluZ0xlZnQoKX0sYS5tYXJnaW4yPWIuYXhpc19yb3RhdGVkP3t0b3A6YS5tYXJnaW4udG9wLHJpZ2h0OjAvMCxib3R0b206MjArZSxsZWZ0OmEucm90YXRlZF9wYWRkaW5nX2xlZnR9Ont0b3A6YS5jdXJyZW50SGVpZ2h0LWgtZSxyaWdodDowLzAsYm90dG9tOmcrZSxsZWZ0OmEubWFyZ2luLmxlZnR9LGEubWFyZ2luMz17dG9wOjAscmlnaHQ6MC8wLGJvdHRvbTowLGxlZnQ6MH0sYS51cGRhdGVTaXplRm9yTGVnZW5kJiZhLnVwZGF0ZVNpemVGb3JMZWdlbmQoYyxkKSxhLndpZHRoPWEuY3VycmVudFdpZHRoLWEubWFyZ2luLmxlZnQtYS5tYXJnaW4ucmlnaHQsYS5oZWlnaHQ9YS5jdXJyZW50SGVpZ2h0LWEubWFyZ2luLnRvcC1hLm1hcmdpbi5ib3R0b20sYS53aWR0aDwwJiYoYS53aWR0aD0wKSxhLmhlaWdodDwwJiYoYS5oZWlnaHQ9MCksYS53aWR0aDI9Yi5heGlzX3JvdGF0ZWQ/YS5tYXJnaW4ubGVmdC1hLnJvdGF0ZWRfcGFkZGluZ19sZWZ0LWEucm90YXRlZF9wYWRkaW5nX3JpZ2h0OmEud2lkdGgsYS5oZWlnaHQyPWIuYXhpc19yb3RhdGVkP2EuaGVpZ2h0OmEuY3VycmVudEhlaWdodC1hLm1hcmdpbjIudG9wLWEubWFyZ2luMi5ib3R0b20sYS53aWR0aDI8MCYmKGEud2lkdGgyPTApLGEuaGVpZ2h0MjwwJiYoYS5oZWlnaHQyPTApLGEuYXJjV2lkdGg9YS53aWR0aC0oYS5pc0xlZ2VuZFJpZ2h0P2QrMTA6MCksYS5hcmNIZWlnaHQ9YS5oZWlnaHQtKGEuaXNMZWdlbmRSaWdodD8wOjEwKSxhLmhhc1R5cGUoXCJnYXVnZVwiKSYmKGEuYXJjSGVpZ2h0Kz1hLmhlaWdodC1hLmdldEdhdWdlTGFiZWxIZWlnaHQoKSksYS51cGRhdGVSYWRpdXMmJmEudXBkYXRlUmFkaXVzKCksYS5pc0xlZ2VuZFJpZ2h0JiZmJiYoYS5tYXJnaW4zLmxlZnQ9YS5hcmNXaWR0aC8yKzEuMSphLnJhZGl1c0V4cGFuZGVkKX0saS51cGRhdGVUYXJnZXRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi51cGRhdGVUYXJnZXRzRm9yVGV4dChhKSxiLnVwZGF0ZVRhcmdldHNGb3JCYXIoYSksYi51cGRhdGVUYXJnZXRzRm9yTGluZShhKSxiLmhhc0FyY1R5cGUoKSYmYi51cGRhdGVUYXJnZXRzRm9yQXJjJiZiLnVwZGF0ZVRhcmdldHNGb3JBcmMoYSksYi51cGRhdGVUYXJnZXRzRm9yU3ViY2hhcnQmJmIudXBkYXRlVGFyZ2V0c0ZvclN1YmNoYXJ0KGEpLGIuc2hvd1RhcmdldHMoKX0saS5zaG93VGFyZ2V0cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdmcuc2VsZWN0QWxsKFwiLlwiK2wudGFyZ2V0KS5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNUYXJnZXRUb1Nob3coYi5pZCl9KS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYS5jb25maWcudHJhbnNpdGlvbl9kdXJhdGlvbikuc3R5bGUoXCJvcGFjaXR5XCIsMSl9LGkucmVkcmF3PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksaixrLG0sbixvLHAscSxyLHMsdCx1LHYseCx5LHosQSxCLEMsRCxFLEYsRyxIPXRoaXMsST1ILm1haW4sSj1ILmQzLEs9SC5jb25maWcsTD1ILmdldFNoYXBlSW5kaWNlcyhILmlzQXJlYVR5cGUpLE09SC5nZXRTaGFwZUluZGljZXMoSC5pc0JhclR5cGUpLE49SC5nZXRTaGFwZUluZGljZXMoSC5pc0xpbmVUeXBlKSxPPUguaGFzQXJjVHlwZSgpLFA9SC5maWx0ZXJUYXJnZXRzVG9TaG93KEguZGF0YS50YXJnZXRzKSxRPUgueHYuYmluZChIKTtpZihhPWF8fHt9LGM9dyhhLFwid2l0aFlcIiwhMCksZD13KGEsXCJ3aXRoU3ViY2hhcnRcIiwhMCksZT13KGEsXCJ3aXRoVHJhbnNpdGlvblwiLCEwKSxoPXcoYSxcIndpdGhUcmFuc2Zvcm1cIiwhMSksaT13KGEsXCJ3aXRoVXBkYXRlWERvbWFpblwiLCExKSxqPXcoYSxcIndpdGhVcGRhdGVPcmdYRG9tYWluXCIsITEpLGs9dyhhLFwid2l0aFRyaW1YRG9tYWluXCIsITApLHA9dyhhLFwid2l0aFVwZGF0ZVhBeGlzXCIsaSksbT13KGEsXCJ3aXRoTGVnZW5kXCIsITEpLG49dyhhLFwid2l0aEV2ZW50UmVjdFwiLCEwKSxvPXcoYSxcIndpdGhEaW1lbnNpb25cIiwhMCksZj13KGEsXCJ3aXRoVHJhbnNpdGlvbkZvckV4aXRcIixlKSxnPXcoYSxcIndpdGhUcmFuc2l0aW9uRm9yQXhpc1wiLGUpLHY9ZT9LLnRyYW5zaXRpb25fZHVyYXRpb246MCx4PWY/djowLHk9Zz92OjAsYj1ifHxILmF4aXMuZ2VuZXJhdGVUcmFuc2l0aW9ucyh5KSxtJiZLLmxlZ2VuZF9zaG93P0gudXBkYXRlTGVnZW5kKEgubWFwVG9JZHMoSC5kYXRhLnRhcmdldHMpLGEsYik6byYmSC51cGRhdGVEaW1lbnNpb24oITApLEguaXNDYXRlZ29yaXplZCgpJiYwPT09UC5sZW5ndGgmJkgueC5kb21haW4oWzAsSC5heGVzLnguc2VsZWN0QWxsKFwiLnRpY2tcIikuc2l6ZSgpXSksUC5sZW5ndGg/KEgudXBkYXRlWERvbWFpbihQLGksaixrKSxLLmF4aXNfeF90aWNrX3ZhbHVlc3x8KEI9SC5heGlzLnVwZGF0ZVhBeGlzVGlja1ZhbHVlcyhQKSkpOihILnhBeGlzLnRpY2tWYWx1ZXMoW10pLEguc3ViWEF4aXMudGlja1ZhbHVlcyhbXSkpLEsuem9vbV9yZXNjYWxlJiYhYS5mbG93JiYoRT1ILngub3JnRG9tYWluKCkpLEgueS5kb21haW4oSC5nZXRZRG9tYWluKFAsXCJ5XCIsRSkpLEgueTIuZG9tYWluKEguZ2V0WURvbWFpbihQLFwieTJcIixFKSksIUsuYXhpc195X3RpY2tfdmFsdWVzJiZLLmF4aXNfeV90aWNrX2NvdW50JiZILnlBeGlzLnRpY2tWYWx1ZXMoSC5heGlzLmdlbmVyYXRlVGlja1ZhbHVlcyhILnkuZG9tYWluKCksSy5heGlzX3lfdGlja19jb3VudCkpLCFLLmF4aXNfeTJfdGlja192YWx1ZXMmJksuYXhpc195Ml90aWNrX2NvdW50JiZILnkyQXhpcy50aWNrVmFsdWVzKEguYXhpcy5nZW5lcmF0ZVRpY2tWYWx1ZXMoSC55Mi5kb21haW4oKSxLLmF4aXNfeTJfdGlja19jb3VudCkpLEguYXhpcy5yZWRyYXcoYixPKSxILmF4aXMudXBkYXRlTGFiZWxzKGUpLChpfHxwKSYmUC5sZW5ndGgpaWYoSy5heGlzX3hfdGlja19jdWxsaW5nJiZCKXtmb3IoQz0xO0M8Qi5sZW5ndGg7QysrKWlmKEIubGVuZ3RoL0M8Sy5heGlzX3hfdGlja19jdWxsaW5nX21heCl7RD1DO2JyZWFrfUguc3ZnLnNlbGVjdEFsbChcIi5cIitsLmF4aXNYK1wiIC50aWNrIHRleHRcIikuZWFjaChmdW5jdGlvbihhKXt2YXIgYj1CLmluZGV4T2YoYSk7Yj49MCYmSi5zZWxlY3QodGhpcykuc3R5bGUoXCJkaXNwbGF5XCIsYiVEP1wibm9uZVwiOlwiYmxvY2tcIil9KX1lbHNlIEguc3ZnLnNlbGVjdEFsbChcIi5cIitsLmF4aXNYK1wiIC50aWNrIHRleHRcIikuc3R5bGUoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTtxPUguZ2VuZXJhdGVEcmF3QXJlYT9ILmdlbmVyYXRlRHJhd0FyZWEoTCwhMSk6dm9pZCAwLHI9SC5nZW5lcmF0ZURyYXdCYXI/SC5nZW5lcmF0ZURyYXdCYXIoTSk6dm9pZCAwLHM9SC5nZW5lcmF0ZURyYXdMaW5lP0guZ2VuZXJhdGVEcmF3TGluZShOLCExKTp2b2lkIDAsdD1ILmdlbmVyYXRlWFlGb3JUZXh0KEwsTSxOLCEwKSx1PUguZ2VuZXJhdGVYWUZvclRleHQoTCxNLE4sITEpLGMmJihILnN1YlkuZG9tYWluKEguZ2V0WURvbWFpbihQLFwieVwiKSksSC5zdWJZMi5kb21haW4oSC5nZXRZRG9tYWluKFAsXCJ5MlwiKSkpLEgudG9vbHRpcC5zdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIiksSC51cGRhdGVYZ3JpZEZvY3VzKCksSS5zZWxlY3QoXCJ0ZXh0LlwiK2wudGV4dCtcIi5cIitsLmVtcHR5KS5hdHRyKFwieFwiLEgud2lkdGgvMikuYXR0cihcInlcIixILmhlaWdodC8yKS50ZXh0KEsuZGF0YV9lbXB0eV9sYWJlbF90ZXh0KS50cmFuc2l0aW9uKCkuc3R5bGUoXCJvcGFjaXR5XCIsUC5sZW5ndGg/MDoxKSxILnVwZGF0ZUdyaWQodiksSC51cGRhdGVSZWdpb24odiksSC51cGRhdGVCYXIoeCksSC51cGRhdGVMaW5lKHgpLEgudXBkYXRlQXJlYSh4KSxILnVwZGF0ZUNpcmNsZSgpLEguaGFzRGF0YUxhYmVsKCkmJkgudXBkYXRlVGV4dCh4KSxILnJlZHJhd0FyYyYmSC5yZWRyYXdBcmModix4LGgpLEgucmVkcmF3U3ViY2hhcnQmJkgucmVkcmF3U3ViY2hhcnQoZCxiLHYseCxMLE0sTiksSS5zZWxlY3RBbGwoXCIuXCIrbC5zZWxlY3RlZENpcmNsZXMpLmZpbHRlcihILmlzQmFyVHlwZS5iaW5kKEgpKS5zZWxlY3RBbGwoXCJjaXJjbGVcIikucmVtb3ZlKCksSy5pbnRlcmFjdGlvbl9lbmFibGVkJiYhYS5mbG93JiZuJiYoSC5yZWRyYXdFdmVudFJlY3QoKSxILnVwZGF0ZVpvb20mJkgudXBkYXRlWm9vbSgpKSxILnVwZGF0ZUNpcmNsZVkoKSxGPShILmNvbmZpZy5heGlzX3JvdGF0ZWQ/SC5jaXJjbGVZOkguY2lyY2xlWCkuYmluZChIKSxHPShILmNvbmZpZy5heGlzX3JvdGF0ZWQ/SC5jaXJjbGVYOkguY2lyY2xlWSkuYmluZChIKSxhLmZsb3cmJihBPUguZ2VuZXJhdGVGbG93KHt0YXJnZXRzOlAsZmxvdzphLmZsb3csZHVyYXRpb246YS5mbG93LmR1cmF0aW9uLGRyYXdCYXI6cixkcmF3TGluZTpzLGRyYXdBcmVhOnEsY3g6RixjeTpHLHh2OlEseEZvclRleHQ6dCx5Rm9yVGV4dDp1fSkpLCh2fHxBKSYmSC5pc1RhYlZpc2libGUoKT9KLnRyYW5zaXRpb24oKS5kdXJhdGlvbih2KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9W107W0gucmVkcmF3QmFyKHIsITApLEgucmVkcmF3TGluZShzLCEwKSxILnJlZHJhd0FyZWEocSwhMCksSC5yZWRyYXdDaXJjbGUoRixHLCEwKSxILnJlZHJhd1RleHQodCx1LGEuZmxvdywhMCksSC5yZWRyYXdSZWdpb24oITApLEgucmVkcmF3R3JpZCghMCldLmZvckVhY2goZnVuY3Rpb24oYSl7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2IucHVzaChhKX0pfSksej1ILmdlbmVyYXRlV2FpdCgpLGIuZm9yRWFjaChmdW5jdGlvbihhKXt6LmFkZChhKX0pfSkuY2FsbCh6LGZ1bmN0aW9uKCl7QSYmQSgpLEsub25yZW5kZXJlZCYmSy5vbnJlbmRlcmVkLmNhbGwoSCl9KTooSC5yZWRyYXdCYXIociksSC5yZWRyYXdMaW5lKHMpLEgucmVkcmF3QXJlYShxKSxILnJlZHJhd0NpcmNsZShGLEcpLEgucmVkcmF3VGV4dCh0LHUsYS5mbG93KSxILnJlZHJhd1JlZ2lvbigpLEgucmVkcmF3R3JpZCgpLEsub25yZW5kZXJlZCYmSy5vbnJlbmRlcmVkLmNhbGwoSCkpLEgubWFwVG9JZHMoSC5kYXRhLnRhcmdldHMpLmZvckVhY2goZnVuY3Rpb24oYSl7SC53aXRob3V0RmFkZUluW2FdPSEwfSl9LGkudXBkYXRlQW5kUmVkcmF3PWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnO2E9YXx8e30sYS53aXRoVHJhbnNpdGlvbj13KGEsXCJ3aXRoVHJhbnNpdGlvblwiLCEwKSxhLndpdGhUcmFuc2Zvcm09dyhhLFwid2l0aFRyYW5zZm9ybVwiLCExKSxhLndpdGhMZWdlbmQ9dyhhLFwid2l0aExlZ2VuZFwiLCExKSxhLndpdGhVcGRhdGVYRG9tYWluPSEwLGEud2l0aFVwZGF0ZU9yZ1hEb21haW49ITAsYS53aXRoVHJhbnNpdGlvbkZvckV4aXQ9ITEsYS53aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybT13KGEsXCJ3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybVwiLGEud2l0aFRyYW5zaXRpb24pLGMudXBkYXRlU2l6ZXMoKSxhLndpdGhMZWdlbmQmJmQubGVnZW5kX3Nob3d8fChiPWMuYXhpcy5nZW5lcmF0ZVRyYW5zaXRpb25zKGEud2l0aFRyYW5zaXRpb25Gb3JBeGlzP2QudHJhbnNpdGlvbl9kdXJhdGlvbjowKSxjLnVwZGF0ZVNjYWxlcygpLGMudXBkYXRlU3ZnU2l6ZSgpLGMudHJhbnNmb3JtQWxsKGEud2l0aFRyYW5zaXRpb25Gb3JUcmFuc2Zvcm0sYikpLGMucmVkcmF3KGEsYil9LGkucmVkcmF3V2l0aG91dFJlc2NhbGU9ZnVuY3Rpb24oKXt0aGlzLnJlZHJhdyh7d2l0aFk6ITEsd2l0aFN1YmNoYXJ0OiExLHdpdGhFdmVudFJlY3Q6ITEsd2l0aFRyYW5zaXRpb25Gb3JBeGlzOiExfSl9LGkuaXNUaW1lU2VyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuXCJ0aW1lc2VyaWVzXCI9PT10aGlzLmNvbmZpZy5heGlzX3hfdHlwZX0saS5pc0NhdGVnb3JpemVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmF4aXNfeF90eXBlLmluZGV4T2YoXCJjYXRlZ29yXCIpPj0wfSxpLmlzQ3VzdG9tWD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZztyZXR1cm4hYS5pc1RpbWVTZXJpZXMoKSYmKGIuZGF0YV94fHx2KGIuZGF0YV94cykpfSxpLmlzVGltZVNlcmllc1k9ZnVuY3Rpb24oKXtyZXR1cm5cInRpbWVzZXJpZXNcIj09PXRoaXMuY29uZmlnLmF4aXNfeV90eXBlfSxpLmdldFRyYW5zbGF0ZT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQuY29uZmlnO3JldHVyblwibWFpblwiPT09YT8oYj1zKGQubWFyZ2luLmxlZnQpLGM9cyhkLm1hcmdpbi50b3ApKTpcImNvbnRleHRcIj09PWE/KGI9cyhkLm1hcmdpbjIubGVmdCksYz1zKGQubWFyZ2luMi50b3ApKTpcImxlZ2VuZFwiPT09YT8oYj1kLm1hcmdpbjMubGVmdCxjPWQubWFyZ2luMy50b3ApOlwieFwiPT09YT8oYj0wLGM9ZS5heGlzX3JvdGF0ZWQ/MDpkLmhlaWdodCk6XCJ5XCI9PT1hPyhiPTAsYz1lLmF4aXNfcm90YXRlZD9kLmhlaWdodDowKTpcInkyXCI9PT1hPyhiPWUuYXhpc19yb3RhdGVkPzA6ZC53aWR0aCxjPWUuYXhpc19yb3RhdGVkPzE6MCk6XCJzdWJ4XCI9PT1hPyhiPTAsYz1lLmF4aXNfcm90YXRlZD8wOmQuaGVpZ2h0Mik6XCJhcmNcIj09PWEmJihiPWQuYXJjV2lkdGgvMixjPWQuYXJjSGVpZ2h0LzIpLFwidHJhbnNsYXRlKFwiK2IrXCIsXCIrYytcIilcIn0saS5pbml0aWFsT3BhY2l0eT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWEudmFsdWUmJnRoaXMud2l0aG91dEZhZGVJblthLmlkXT8xOjB9LGkuaW5pdGlhbE9wYWNpdHlGb3JDaXJjbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hLnZhbHVlJiZ0aGlzLndpdGhvdXRGYWRlSW5bYS5pZF0/dGhpcy5vcGFjaXR5Rm9yQ2lyY2xlKGEpOjB9LGkub3BhY2l0eUZvckNpcmNsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbmZpZy5wb2ludF9zaG93PzE6MDtyZXR1cm4gbShhLnZhbHVlKT90aGlzLmlzU2NhdHRlclR5cGUoYSk/LjU6YjowfSxpLm9wYWNpdHlGb3JUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRGF0YUxhYmVsKCk/MTowfSxpLnh4PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMueChhLngpOm51bGx9LGkueHY9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWEudmFsdWU7cmV0dXJuIGIuaXNUaW1lU2VyaWVzKCk/Yz1iLnBhcnNlRGF0ZShhLnZhbHVlKTpiLmlzQ2F0ZWdvcml6ZWQoKSYmXCJzdHJpbmdcIj09dHlwZW9mIGEudmFsdWUmJihjPWIuY29uZmlnLmF4aXNfeF9jYXRlZ29yaWVzLmluZGV4T2YoYS52YWx1ZSkpLE1hdGguY2VpbChiLngoYykpfSxpLnl2PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1hLmF4aXMmJlwieTJcIj09PWEuYXhpcz9iLnkyOmIueTtyZXR1cm4gTWF0aC5jZWlsKGMoYS52YWx1ZSkpfSxpLnN1Ynh4PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuc3ViWChhLngpOm51bGx9LGkudHJhbnNmb3JtTWFpbj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXM7YiYmYi5heGlzWD9jPWIuYXhpc1g6KGM9Zi5tYWluLnNlbGVjdChcIi5cIitsLmF4aXNYKSxhJiYoYz1jLnRyYW5zaXRpb24oKSkpLGImJmIuYXhpc1k/ZD1iLmF4aXNZOihkPWYubWFpbi5zZWxlY3QoXCIuXCIrbC5heGlzWSksYSYmKGQ9ZC50cmFuc2l0aW9uKCkpKSxiJiZiLmF4aXNZMj9lPWIuYXhpc1kyOihlPWYubWFpbi5zZWxlY3QoXCIuXCIrbC5heGlzWTIpLGEmJihlPWUudHJhbnNpdGlvbigpKSksKGE/Zi5tYWluLnRyYW5zaXRpb24oKTpmLm1haW4pLmF0dHIoXCJ0cmFuc2Zvcm1cIixmLmdldFRyYW5zbGF0ZShcIm1haW5cIikpLGMuYXR0cihcInRyYW5zZm9ybVwiLGYuZ2V0VHJhbnNsYXRlKFwieFwiKSksZC5hdHRyKFwidHJhbnNmb3JtXCIsZi5nZXRUcmFuc2xhdGUoXCJ5XCIpKSxlLmF0dHIoXCJ0cmFuc2Zvcm1cIixmLmdldFRyYW5zbGF0ZShcInkyXCIpKSxmLm1haW4uc2VsZWN0KFwiLlwiK2wuY2hhcnRBcmNzKS5hdHRyKFwidHJhbnNmb3JtXCIsZi5nZXRUcmFuc2xhdGUoXCJhcmNcIikpfSxpLnRyYW5zZm9ybUFsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy50cmFuc2Zvcm1NYWluKGEsYiksYy5jb25maWcuc3ViY2hhcnRfc2hvdyYmYy50cmFuc2Zvcm1Db250ZXh0KGEsYiksYy5sZWdlbmQmJmMudHJhbnNmb3JtTGVnZW5kKGEpfSxpLnVwZGF0ZVN2Z1NpemU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5zdmcuc2VsZWN0KFwiLmMzLWJydXNoIC5iYWNrZ3JvdW5kXCIpO2Euc3ZnLmF0dHIoXCJ3aWR0aFwiLGEuY3VycmVudFdpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsYS5jdXJyZW50SGVpZ2h0KSxhLnN2Zy5zZWxlY3RBbGwoW1wiI1wiK2EuY2xpcElkLFwiI1wiK2EuY2xpcElkRm9yR3JpZF0pLnNlbGVjdChcInJlY3RcIikuYXR0cihcIndpZHRoXCIsYS53aWR0aCkuYXR0cihcImhlaWdodFwiLGEuaGVpZ2h0KSxhLnN2Zy5zZWxlY3QoXCIjXCIrYS5jbGlwSWRGb3JYQXhpcykuc2VsZWN0KFwicmVjdFwiKS5hdHRyKFwieFwiLGEuZ2V0WEF4aXNDbGlwWC5iaW5kKGEpKS5hdHRyKFwieVwiLGEuZ2V0WEF4aXNDbGlwWS5iaW5kKGEpKS5hdHRyKFwid2lkdGhcIixhLmdldFhBeGlzQ2xpcFdpZHRoLmJpbmQoYSkpLmF0dHIoXCJoZWlnaHRcIixhLmdldFhBeGlzQ2xpcEhlaWdodC5iaW5kKGEpKSxhLnN2Zy5zZWxlY3QoXCIjXCIrYS5jbGlwSWRGb3JZQXhpcykuc2VsZWN0KFwicmVjdFwiKS5hdHRyKFwieFwiLGEuZ2V0WUF4aXNDbGlwWC5iaW5kKGEpKS5hdHRyKFwieVwiLGEuZ2V0WUF4aXNDbGlwWS5iaW5kKGEpKS5hdHRyKFwid2lkdGhcIixhLmdldFlBeGlzQ2xpcFdpZHRoLmJpbmQoYSkpLmF0dHIoXCJoZWlnaHRcIixhLmdldFlBeGlzQ2xpcEhlaWdodC5iaW5kKGEpKSxhLnN2Zy5zZWxlY3QoXCIjXCIrYS5jbGlwSWRGb3JTdWJjaGFydCkuc2VsZWN0KFwicmVjdFwiKS5hdHRyKFwid2lkdGhcIixhLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsYi5zaXplKCk/Yi5hdHRyKFwiaGVpZ2h0XCIpOjApLGEuc3ZnLnNlbGVjdChcIi5cIitsLnpvb21SZWN0KS5hdHRyKFwid2lkdGhcIixhLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsYS5oZWlnaHQpLGEuc2VsZWN0Q2hhcnQuc3R5bGUoXCJtYXgtaGVpZ2h0XCIsYS5jdXJyZW50SGVpZ2h0K1wicHhcIil9LGkudXBkYXRlRGltZW5zaW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YXx8KGIuY29uZmlnLmF4aXNfcm90YXRlZD8oYi5heGVzLnguY2FsbChiLnhBeGlzKSxiLmF4ZXMuc3VieC5jYWxsKGIuc3ViWEF4aXMpKTooYi5heGVzLnkuY2FsbChiLnlBeGlzKSxiLmF4ZXMueTIuY2FsbChiLnkyQXhpcykpKSxiLnVwZGF0ZVNpemVzKCksYi51cGRhdGVTY2FsZXMoKSxiLnVwZGF0ZVN2Z1NpemUoKSxiLnRyYW5zZm9ybUFsbCghMSl9LGkub2JzZXJ2ZUluc2VydGVkPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgTXV0YXRpb25PYnNlcnZlcj92b2lkIGEuY29uc29sZS5lcnJvcihcIk11dGF0aW9uT2JzZXJ2ZXIgbm90IGRlZmluZWQuXCIpOihjPW5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtcImNoaWxkTGlzdFwiPT09ZS50eXBlJiZlLnByZXZpb3VzU2libGluZyYmKGMuZGlzY29ubmVjdCgpLGQuaW50ZXJ2YWxGb3JPYnNlcnZlSW5zZXJ0ZWQ9YS5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Iubm9kZSgpLnBhcmVudE5vZGUmJihhLmNsZWFySW50ZXJ2YWwoZC5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZCksZC51cGRhdGVEaW1lbnNpb24oKSxkLmNvbmZpZy5vbmluaXQuY2FsbChkKSxkLnJlZHJhdyh7d2l0aFRyYW5zZm9ybTohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVHJhbnNpdGlvbjohMSx3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybTohMSx3aXRoTGVnZW5kOiEwfSksYi50cmFuc2l0aW9uKCkuc3R5bGUoXCJvcGFjaXR5XCIsMSkpfSwxMCkpfSl9KSx2b2lkIGMub2JzZXJ2ZShiLm5vZGUoKSx7YXR0cmlidXRlczohMCxjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMH0pKX0saS5nZW5lcmF0ZVJlc2l6ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtiLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9dmFyIGI9W107cmV0dXJuIGEuYWRkPWZ1bmN0aW9uKGEpe2IucHVzaChhKX0sYX0saS5lbmRhbGw9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wO2EuZWFjaChmdW5jdGlvbigpeysrY30pLmVhY2goXCJlbmRcIixmdW5jdGlvbigpey0tY3x8Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0saS5nZW5lcmF0ZVdhaXQ9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgYj0wO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLmVtcHR5KCkpcmV0dXJuIHZvaWQoYis9MSk7dHJ5e2EudHJhbnNpdGlvbigpfWNhdGNoKGMpe2IrPTF9fSksYj09PWEubGVuZ3RoJiYoY2xlYXJJbnRlcnZhbChkKSxjJiZjKCkpfSwxMCl9O3JldHVybiBiLmFkZD1mdW5jdGlvbihiKXthLnB1c2goYil9LGJ9LGkucGFyc2VEYXRlPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcztyZXR1cm4gYiBpbnN0YW5jZW9mIERhdGU/Yz1iOlwic3RyaW5nXCI9PXR5cGVvZiBiP2M9ZC5kYXRhVGltZUZvcm1hdChkLmNvbmZpZy5kYXRhX3hGb3JtYXQpLnBhcnNlKGIpOlwibnVtYmVyXCIhPXR5cGVvZiBiJiZpc05hTihiKXx8KGM9bmV3IERhdGUoK2IpKSwoIWN8fGlzTmFOKCtjKSkmJmEuY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSB4ICdcIitiK1wiJyB0byBEYXRlIG9iamVjdFwiKSxjfSxpLmlzVGFiVmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/YT1cImhpZGRlblwiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4/YT1cIm1vekhpZGRlblwiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC5tc0hpZGRlbj9hPVwibXNIaWRkZW5cIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYoYT1cIndlYmtpdEhpZGRlblwiKSxkb2N1bWVudFthXT8hMTohMH0saS5nZXREZWZhdWx0Q29uZmlnPWZ1bmN0aW9uKCl7dmFyIGE9e2JpbmR0bzpcIiNjaGFydFwiLHNpemVfd2lkdGg6dm9pZCAwLHNpemVfaGVpZ2h0OnZvaWQgMCxwYWRkaW5nX2xlZnQ6dm9pZCAwLHBhZGRpbmdfcmlnaHQ6dm9pZCAwLHBhZGRpbmdfdG9wOnZvaWQgMCxwYWRkaW5nX2JvdHRvbTp2b2lkIDAsem9vbV9lbmFibGVkOiExLHpvb21fZXh0ZW50OnZvaWQgMCx6b29tX3ByaXZpbGVnZWQ6ITEsem9vbV9yZXNjYWxlOiExLHpvb21fb256b29tOmZ1bmN0aW9uKCl7fSx6b29tX29uem9vbXN0YXJ0OmZ1bmN0aW9uKCl7fSx6b29tX29uem9vbWVuZDpmdW5jdGlvbigpe30saW50ZXJhY3Rpb25fZW5hYmxlZDohMCxvbm1vdXNlb3ZlcjpmdW5jdGlvbigpe30sb25tb3VzZW91dDpmdW5jdGlvbigpe30sb25yZXNpemU6ZnVuY3Rpb24oKXt9LG9ucmVzaXplZDpmdW5jdGlvbigpe30sb25pbml0OmZ1bmN0aW9uKCl7fSxvbnJlbmRlcmVkOmZ1bmN0aW9uKCl7fSx0cmFuc2l0aW9uX2R1cmF0aW9uOjM1MCxkYXRhX3g6dm9pZCAwLGRhdGFfeHM6e30sZGF0YV94Rm9ybWF0OlwiJVktJW0tJWRcIixkYXRhX3hMb2NhbHRpbWU6ITAsZGF0YV94U29ydDohMCxkYXRhX2lkQ29udmVydGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxkYXRhX25hbWVzOnt9LGRhdGFfY2xhc3Nlczp7fSxkYXRhX2dyb3VwczpbXSxkYXRhX2F4ZXM6e30sZGF0YV90eXBlOnZvaWQgMCxkYXRhX3R5cGVzOnt9LGRhdGFfbGFiZWxzOnt9LGRhdGFfb3JkZXI6XCJkZXNjXCIsZGF0YV9yZWdpb25zOnt9LGRhdGFfY29sb3I6dm9pZCAwLGRhdGFfY29sb3JzOnt9LGRhdGFfaGlkZTohMSxkYXRhX2ZpbHRlcjp2b2lkIDAsZGF0YV9zZWxlY3Rpb25fZW5hYmxlZDohMSxkYXRhX3NlbGVjdGlvbl9ncm91cGVkOiExLGRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZTpmdW5jdGlvbigpe3JldHVybiEwfSxkYXRhX3NlbGVjdGlvbl9tdWx0aXBsZTohMCxkYXRhX3NlbGVjdGlvbl9kcmFnZ2FibGU6ITEsZGF0YV9vbmNsaWNrOmZ1bmN0aW9uKCl7fSxkYXRhX29ubW91c2VvdmVyOmZ1bmN0aW9uKCl7fSxkYXRhX29ubW91c2VvdXQ6ZnVuY3Rpb24oKXt9LGRhdGFfb25zZWxlY3RlZDpmdW5jdGlvbigpe30sZGF0YV9vbnVuc2VsZWN0ZWQ6ZnVuY3Rpb24oKXt9LGRhdGFfdXJsOnZvaWQgMCxkYXRhX2pzb246dm9pZCAwLGRhdGFfcm93czp2b2lkIDAsZGF0YV9jb2x1bW5zOnZvaWQgMCxkYXRhX21pbWVUeXBlOnZvaWQgMCxkYXRhX2tleXM6dm9pZCAwLGRhdGFfZW1wdHlfbGFiZWxfdGV4dDpcIlwiLHN1YmNoYXJ0X3Nob3c6ITEsc3ViY2hhcnRfc2l6ZV9oZWlnaHQ6NjAsc3ViY2hhcnRfb25icnVzaDpmdW5jdGlvbigpe30sY29sb3JfcGF0dGVybjpbXSxjb2xvcl90aHJlc2hvbGQ6e30sbGVnZW5kX3Nob3c6ITAsbGVnZW5kX2hpZGU6ITEsbGVnZW5kX3Bvc2l0aW9uOlwiYm90dG9tXCIsbGVnZW5kX2luc2V0X2FuY2hvcjpcInRvcC1sZWZ0XCIsbGVnZW5kX2luc2V0X3g6MTAsbGVnZW5kX2luc2V0X3k6MCxsZWdlbmRfaW5zZXRfc3RlcDp2b2lkIDAsbGVnZW5kX2l0ZW1fb25jbGljazp2b2lkIDAsbGVnZW5kX2l0ZW1fb25tb3VzZW92ZXI6dm9pZCAwLGxlZ2VuZF9pdGVtX29ubW91c2VvdXQ6dm9pZCAwLGxlZ2VuZF9lcXVhbGx5OiExLGF4aXNfcm90YXRlZDohMSxheGlzX3hfc2hvdzohMCxheGlzX3hfdHlwZTpcImluZGV4ZWRcIixheGlzX3hfbG9jYWx0aW1lOiEwLGF4aXNfeF9jYXRlZ29yaWVzOltdLGF4aXNfeF90aWNrX2NlbnRlcmVkOiExLGF4aXNfeF90aWNrX2Zvcm1hdDp2b2lkIDAsYXhpc194X3RpY2tfY3VsbGluZzp7fSxheGlzX3hfdGlja19jdWxsaW5nX21heDoxMCxheGlzX3hfdGlja19jb3VudDp2b2lkIDAsYXhpc194X3RpY2tfZml0OiEwLGF4aXNfeF90aWNrX3ZhbHVlczpudWxsLGF4aXNfeF90aWNrX3JvdGF0ZTowLGF4aXNfeF90aWNrX291dGVyOiEwLGF4aXNfeF90aWNrX211bHRpbGluZTohMCxheGlzX3hfdGlja193aWR0aDpudWxsLGF4aXNfeF9tYXg6dm9pZCAwLGF4aXNfeF9taW46dm9pZCAwLGF4aXNfeF9wYWRkaW5nOnt9LGF4aXNfeF9oZWlnaHQ6dm9pZCAwLGF4aXNfeF9leHRlbnQ6dm9pZCAwLGF4aXNfeF9sYWJlbDp7fSxheGlzX3lfc2hvdzohMCxheGlzX3lfdHlwZTp2b2lkIDAsYXhpc195X21heDp2b2lkIDAsYXhpc195X21pbjp2b2lkIDAsYXhpc195X2ludmVydGVkOiExLGF4aXNfeV9jZW50ZXI6dm9pZCAwLGF4aXNfeV9pbm5lcjp2b2lkIDAsYXhpc195X2xhYmVsOnt9LGF4aXNfeV90aWNrX2Zvcm1hdDp2b2lkIDAsYXhpc195X3RpY2tfb3V0ZXI6ITAsYXhpc195X3RpY2tfdmFsdWVzOm51bGwsYXhpc195X3RpY2tfY291bnQ6dm9pZCAwLGF4aXNfeV90aWNrX3RpbWVfdmFsdWU6dm9pZCAwLGF4aXNfeV90aWNrX3RpbWVfaW50ZXJ2YWw6dm9pZCAwLGF4aXNfeV9wYWRkaW5nOnt9LGF4aXNfeV9kZWZhdWx0OnZvaWQgMCxheGlzX3kyX3Nob3c6ITEsYXhpc195Ml9tYXg6dm9pZCAwLGF4aXNfeTJfbWluOnZvaWQgMCxheGlzX3kyX2ludmVydGVkOiExLGF4aXNfeTJfY2VudGVyOnZvaWQgMCxheGlzX3kyX2lubmVyOnZvaWQgMCxheGlzX3kyX2xhYmVsOnt9LGF4aXNfeTJfdGlja19mb3JtYXQ6dm9pZCAwLGF4aXNfeTJfdGlja19vdXRlcjohMCxheGlzX3kyX3RpY2tfdmFsdWVzOm51bGwsYXhpc195Ml90aWNrX2NvdW50OnZvaWQgMCxheGlzX3kyX3BhZGRpbmc6e30sYXhpc195Ml9kZWZhdWx0OnZvaWQgMCxncmlkX3hfc2hvdzohMSxncmlkX3hfdHlwZTpcInRpY2tcIixncmlkX3hfbGluZXM6W10sZ3JpZF95X3Nob3c6ITEsZ3JpZF95X2xpbmVzOltdLGdyaWRfeV90aWNrczoxMCxncmlkX2ZvY3VzX3Nob3c6ITAsZ3JpZF9saW5lc19mcm9udDohMCxwb2ludF9zaG93OiEwLHBvaW50X3I6Mi41LHBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkOiEwLHBvaW50X2ZvY3VzX2V4cGFuZF9yOnZvaWQgMCxwb2ludF9zZWxlY3Rfcjp2b2lkIDAsbGluZV9jb25uZWN0TnVsbDohMSxsaW5lX3N0ZXBfdHlwZTpcInN0ZXBcIixiYXJfd2lkdGg6dm9pZCAwLGJhcl93aWR0aF9yYXRpbzouNixiYXJfd2lkdGhfbWF4OnZvaWQgMCxiYXJfemVyb2Jhc2VkOiEwLGFyZWFfemVyb2Jhc2VkOiEwLHBpZV9sYWJlbF9zaG93OiEwLHBpZV9sYWJlbF9mb3JtYXQ6dm9pZCAwLHBpZV9sYWJlbF90aHJlc2hvbGQ6LjA1LHBpZV9leHBhbmQ6ITAsZ2F1Z2VfbGFiZWxfc2hvdzohMCxnYXVnZV9sYWJlbF9mb3JtYXQ6dm9pZCAwLGdhdWdlX2V4cGFuZDohMCxnYXVnZV9taW46MCxnYXVnZV9tYXg6MTAwLGdhdWdlX3VuaXRzOnZvaWQgMCxnYXVnZV93aWR0aDp2b2lkIDAsZG9udXRfbGFiZWxfc2hvdzohMCxkb251dF9sYWJlbF9mb3JtYXQ6dm9pZCAwLGRvbnV0X2xhYmVsX3RocmVzaG9sZDouMDUsZG9udXRfd2lkdGg6dm9pZCAwLGRvbnV0X2V4cGFuZDohMCxkb251dF90aXRsZTpcIlwiLHJlZ2lvbnM6W10sdG9vbHRpcF9zaG93OiEwLHRvb2x0aXBfZ3JvdXBlZDohMCx0b29sdGlwX2Zvcm1hdF90aXRsZTp2b2lkIDAsdG9vbHRpcF9mb3JtYXRfbmFtZTp2b2lkIDAsdG9vbHRpcF9mb3JtYXRfdmFsdWU6dm9pZCAwLHRvb2x0aXBfcG9zaXRpb246dm9pZCAwLHRvb2x0aXBfY29udGVudHM6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZ2V0VG9vbHRpcENvbnRlbnQ/dGhpcy5nZXRUb29sdGlwQ29udGVudChhLGIsYyxkKTpcIlwifSx0b29sdGlwX2luaXRfc2hvdzohMSx0b29sdGlwX2luaXRfeDowLHRvb2x0aXBfaW5pdF9wb3NpdGlvbjp7dG9wOlwiMHB4XCIsbGVmdDpcIjUwcHhcIn19O3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmFkZGl0aW9uYWxDb25maWcpLmZvckVhY2goZnVuY3Rpb24oYil7YVtiXT10aGlzLmFkZGl0aW9uYWxDb25maWdbYl19LHRoaXMpLGF9LGkuYWRkaXRpb25hbENvbmZpZz17fSxpLmxvYWRDb25maWc9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWQuc2hpZnQoKTtyZXR1cm4gYSYmYyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJmEgaW4gYz8oYz1jW2FdLGIoKSk6YT92b2lkIDA6Y312YXIgYyxkLGUsZj10aGlzLmNvbmZpZztPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGcpe2M9YSxkPWcuc3BsaXQoXCJfXCIpLGU9YigpLHEoZSkmJihmW2ddPWUpfSl9LGkuZ2V0U2NhbGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjP3RoaXMuZDMudGltZS5zY2FsZSgpOnRoaXMuZDMuc2NhbGUubGluZWFyKCkpLnJhbmdlKFthLGJdKX0saS5nZXRYPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9dGhpcyxnPWYuZ2V0U2NhbGUoYSxiLGYuaXNUaW1lU2VyaWVzKCkpLGg9Yz9nLmRvbWFpbihjKTpnO2YuaXNDYXRlZ29yaXplZCgpPyhkPWR8fGZ1bmN0aW9uKCl7cmV0dXJuIDB9LGc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1oKGEpK2QoYSk7cmV0dXJuIGI/YzpNYXRoLmNlaWwoYyl9KTpnPWZ1bmN0aW9uKGEsYil7dmFyIGM9aChhKTtyZXR1cm4gYj9jOk1hdGguY2VpbChjKX07Zm9yKGUgaW4gaClnW2VdPWhbZV07cmV0dXJuIGcub3JnRG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIGguZG9tYWluKCl9LGYuaXNDYXRlZ29yaXplZCgpJiYoZy5kb21haW49ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGguZG9tYWluKGEpLGcpOihhPXRoaXMub3JnRG9tYWluKCksW2FbMF0sYVsxXSsxXSl9KSxnfSxpLmdldFk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0U2NhbGUoYSxiLHRoaXMuaXNUaW1lU2VyaWVzWSgpKTtyZXR1cm4gYyYmZC5kb21haW4oYyksZH0saS5nZXRZU2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ5MlwiPT09dGhpcy5heGlzLmdldElkKGEpP3RoaXMueTI6dGhpcy55fSxpLmdldFN1YllTY2FsZT1mdW5jdGlvbihhKXtyZXR1cm5cInkyXCI9PT10aGlzLmF4aXMuZ2V0SWQoYSk/dGhpcy5zdWJZMjp0aGlzLnN1Yll9LGkudXBkYXRlU2NhbGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9IWEueDthLnhNaW49Yi5heGlzX3JvdGF0ZWQ/MTowLGEueE1heD1iLmF4aXNfcm90YXRlZD9hLmhlaWdodDphLndpZHRoLGEueU1pbj1iLmF4aXNfcm90YXRlZD8wOmEuaGVpZ2h0LGEueU1heD1iLmF4aXNfcm90YXRlZD9hLndpZHRoOjEsYS5zdWJYTWluPWEueE1pbixhLnN1YlhNYXg9YS54TWF4LGEuc3ViWU1pbj1iLmF4aXNfcm90YXRlZD8wOmEuaGVpZ2h0MixhLnN1YllNYXg9Yi5heGlzX3JvdGF0ZWQ/YS53aWR0aDI6MSxhLng9YS5nZXRYKGEueE1pbixhLnhNYXgsYz92b2lkIDA6YS54Lm9yZ0RvbWFpbigpLGZ1bmN0aW9uKCl7cmV0dXJuIGEueEF4aXMudGlja09mZnNldCgpfSksYS55PWEuZ2V0WShhLnlNaW4sYS55TWF4LGM/Yi5heGlzX3lfZGVmYXVsdDphLnkuZG9tYWluKCkpLGEueTI9YS5nZXRZKGEueU1pbixhLnlNYXgsYz9iLmF4aXNfeTJfZGVmYXVsdDphLnkyLmRvbWFpbigpKSxhLnN1Ylg9YS5nZXRYKGEueE1pbixhLnhNYXgsYS5vcmdYRG9tYWluLGZ1bmN0aW9uKGIpe3JldHVybiBiJTE/MDphLnN1YlhBeGlzLnRpY2tPZmZzZXQoKX0pLGEuc3ViWT1hLmdldFkoYS5zdWJZTWluLGEuc3ViWU1heCxjP2IuYXhpc195X2RlZmF1bHQ6YS5zdWJZLmRvbWFpbigpKSxhLnN1YlkyPWEuZ2V0WShhLnN1YllNaW4sYS5zdWJZTWF4LGM/Yi5heGlzX3kyX2RlZmF1bHQ6YS5zdWJZMi5kb21haW4oKSksYS54QXhpc1RpY2tGb3JtYXQ9YS5heGlzLmdldFhBeGlzVGlja0Zvcm1hdCgpLGEueEF4aXNUaWNrVmFsdWVzPWEuYXhpcy5nZXRYQXhpc1RpY2tWYWx1ZXMoKSxhLnlBeGlzVGlja1ZhbHVlcz1hLmF4aXMuZ2V0WUF4aXNUaWNrVmFsdWVzKCksYS55MkF4aXNUaWNrVmFsdWVzPWEuYXhpcy5nZXRZMkF4aXNUaWNrVmFsdWVzKCksYS54QXhpcz1hLmF4aXMuZ2V0WEF4aXMoYS54LGEueE9yaWVudCxhLnhBeGlzVGlja0Zvcm1hdCxhLnhBeGlzVGlja1ZhbHVlcyxiLmF4aXNfeF90aWNrX291dGVyKSxhLnN1YlhBeGlzPWEuYXhpcy5nZXRYQXhpcyhhLnN1YlgsYS5zdWJYT3JpZW50LGEueEF4aXNUaWNrRm9ybWF0LGEueEF4aXNUaWNrVmFsdWVzLGIuYXhpc194X3RpY2tfb3V0ZXIpLGEueUF4aXM9YS5heGlzLmdldFlBeGlzKGEueSxhLnlPcmllbnQsYi5heGlzX3lfdGlja19mb3JtYXQsYS55QXhpc1RpY2tWYWx1ZXMsYi5heGlzX3lfdGlja19vdXRlciksYS55MkF4aXM9YS5heGlzLmdldFlBeGlzKGEueTIsYS55Mk9yaWVudCxiLmF4aXNfeTJfdGlja19mb3JtYXQsYS55MkF4aXNUaWNrVmFsdWVzLGIuYXhpc195Ml90aWNrX291dGVyKSxjfHwoYS5icnVzaCYmYS5icnVzaC5zY2FsZShhLnN1YlgpLGIuem9vbV9lbmFibGVkJiZhLnpvb20uc2NhbGUoYS54KSksYS51cGRhdGVBcmMmJmEudXBkYXRlQXJjKCl9LGkuZ2V0WURvbWFpbk1pbj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD10aGlzLGk9aC5jb25maWcsaj1oLm1hcFRvSWRzKGEpLGs9aC5nZXRWYWx1ZXNBc0lkS2V5ZWQoYSk7aWYoaS5kYXRhX2dyb3Vwcy5sZW5ndGg+MClmb3IoZz1oLmhhc05lZ2F0aXZlVmFsdWVJblRhcmdldHMoYSksYj0wO2I8aS5kYXRhX2dyb3Vwcy5sZW5ndGg7YisrKWlmKGU9aS5kYXRhX2dyb3Vwc1tiXS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGouaW5kZXhPZihhKT49MH0pLDAhPT1lLmxlbmd0aClmb3IoZD1lWzBdLGcmJmtbZF0mJmtbZF0uZm9yRWFjaChmdW5jdGlvbihhLGIpe2tbZF1bYl09MD5hP2E6MH0pLGM9MTtjPGUubGVuZ3RoO2MrKylmPWVbY10sa1tmXSYma1tmXS5mb3JFYWNoKGZ1bmN0aW9uKGEsYil7aC5heGlzLmdldElkKGYpIT09aC5heGlzLmdldElkKGQpfHwha1tkXXx8ZyYmK2E+MHx8KGtbZF1bYl0rPSthKX0pO3JldHVybiBoLmQzLm1pbihPYmplY3Qua2V5cyhrKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGguZDMubWluKGtbYV0pfSkpfSxpLmdldFlEb21haW5NYXg9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg9dGhpcyxpPWguY29uZmlnLGo9aC5tYXBUb0lkcyhhKSxrPWguZ2V0VmFsdWVzQXNJZEtleWVkKGEpO2lmKGkuZGF0YV9ncm91cHMubGVuZ3RoPjApZm9yKGc9aC5oYXNQb3NpdGl2ZVZhbHVlSW5UYXJnZXRzKGEpLGI9MDtiPGkuZGF0YV9ncm91cHMubGVuZ3RoO2IrKylpZihlPWkuZGF0YV9ncm91cHNbYl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBqLmluZGV4T2YoYSk+PTB9KSwwIT09ZS5sZW5ndGgpZm9yKGQ9ZVswXSxnJiZrW2RdJiZrW2RdLmZvckVhY2goZnVuY3Rpb24oYSxiKXtrW2RdW2JdPWE+MD9hOjB9KSxjPTE7YzxlLmxlbmd0aDtjKyspZj1lW2NdLGtbZl0mJmtbZl0uZm9yRWFjaChmdW5jdGlvbihhLGIpe2guYXhpcy5nZXRJZChmKSE9PWguYXhpcy5nZXRJZChkKXx8IWtbZF18fGcmJjA+K2F8fChrW2RdW2JdKz0rYSl9KTtyZXR1cm4gaC5kMy5tYXgoT2JqZWN0LmtleXMoaykubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBoLmQzLm1heChrW2FdKX0pKX0saS5nZXRZRG9tYWluPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbixvLHA9dGhpcyxxPXAuY29uZmlnLHI9YS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIHAuYXhpcy5nZXRJZChhLmlkKT09PWJ9KSxzPWM/cC5maWx0ZXJCeVhEb21haW4ocixjKTpyLHU9XCJ5MlwiPT09Yj9xLmF4aXNfeTJfbWluOnEuYXhpc195X21pbix3PVwieTJcIj09PWI/cS5heGlzX3kyX21heDpxLmF4aXNfeV9tYXgseD1wLmdldFlEb21haW5NaW4ocykseT1wLmdldFlEb21haW5NYXgocyksej1cInkyXCI9PT1iP3EuYXhpc195Ml9jZW50ZXI6cS5heGlzX3lfY2VudGVyLEE9cC5oYXNUeXBlKFwiYmFyXCIscykmJnEuYmFyX3plcm9iYXNlZHx8cC5oYXNUeXBlKFwiYXJlYVwiLHMpJiZxLmFyZWFfemVyb2Jhc2VkLEI9XCJ5MlwiPT09Yj9xLmF4aXNfeTJfaW52ZXJ0ZWQ6cS5heGlzX3lfaW52ZXJ0ZWQsQz1wLmhhc0RhdGFMYWJlbCgpJiZxLmF4aXNfcm90YXRlZCxEPXAuaGFzRGF0YUxhYmVsKCkmJiFxLmF4aXNfcm90YXRlZDtyZXR1cm4geD1tKHUpP3U6bSh3KT93Png/eDp3LTEwOngseT1tKHcpP3c6bSh1KT95PnU/eTp1KzEwOnksMD09PXMubGVuZ3RoP1wieTJcIj09PWI/cC55Mi5kb21haW4oKTpwLnkuZG9tYWluKCk6KGlzTmFOKHgpJiYoeD0wKSxpc05hTih5KSYmKHk9eCkseD09PXkmJigwPng/eT0wOng9MCksbj14Pj0wJiZ5Pj0wLG89MD49eCYmMD49eSwobSh1KSYmbnx8bSh3KSYmbykmJihBPSExKSxBJiYobiYmKHg9MCksbyYmKHk9MCkpLGU9TWF0aC5hYnMoeS14KSxmPWc9aD0uMSplLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB6JiYoaT1NYXRoLm1heChNYXRoLmFicyh4KSxNYXRoLmFicyh5KSkseT16K2kseD16LWkpLEM/KGo9cC5nZXREYXRhTGFiZWxMZW5ndGgoeCx5LFwid2lkdGhcIiksaz10KHAueS5yYW5nZSgpKSxsPVtqWzBdL2ssalsxXS9rXSxnKz1lKihsWzFdLygxLWxbMF0tbFsxXSkpLGgrPWUqKGxbMF0vKDEtbFswXS1sWzFdKSkpOkQmJihqPXAuZ2V0RGF0YUxhYmVsTGVuZ3RoKHgseSxcImhlaWdodFwiKSxnKz1wLmF4aXMuY29udmVydFBpeGVsc1RvQXhpc1BhZGRpbmcoalsxXSxlKSxoKz1wLmF4aXMuY29udmVydFBpeGVsc1RvQXhpc1BhZGRpbmcoalswXSxlKSksXCJ5XCI9PT1iJiZ2KHEuYXhpc195X3BhZGRpbmcpJiYoZz1wLmF4aXMuZ2V0UGFkZGluZyhxLmF4aXNfeV9wYWRkaW5nLFwidG9wXCIsZyxlKSxoPXAuYXhpcy5nZXRQYWRkaW5nKHEuYXhpc195X3BhZGRpbmcsXCJib3R0b21cIixoLGUpKSxcInkyXCI9PT1iJiZ2KHEuYXhpc195Ml9wYWRkaW5nKSYmKGc9cC5heGlzLmdldFBhZGRpbmcocS5heGlzX3kyX3BhZGRpbmcsXCJ0b3BcIixnLGUpLGg9cC5heGlzLmdldFBhZGRpbmcocS5heGlzX3kyX3BhZGRpbmcsXCJib3R0b21cIixoLGUpKSxBJiYobiYmKGg9eCksbyYmKGc9LXkpKSxkPVt4LWgseStnXSxCP2QucmV2ZXJzZSgpOmQpfSxpLmdldFhEb21haW5NaW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBxKGMuYXhpc194X21pbik/Yi5pc1RpbWVTZXJpZXMoKT90aGlzLnBhcnNlRGF0ZShjLmF4aXNfeF9taW4pOmMuYXhpc194X21pbjpiLmQzLm1pbihhLGZ1bmN0aW9uKGEpe3JldHVybiBiLmQzLm1pbihhLnZhbHVlcyxmdW5jdGlvbihhKXtyZXR1cm4gYS54fSl9KX0saS5nZXRYRG9tYWluTWF4PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gcShjLmF4aXNfeF9tYXgpP2IuaXNUaW1lU2VyaWVzKCk/dGhpcy5wYXJzZURhdGUoYy5heGlzX3hfbWF4KTpjLmF4aXNfeF9tYXg6Yi5kMy5tYXgoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi5kMy5tYXgoYS52YWx1ZXMsZnVuY3Rpb24oYSl7cmV0dXJuIGEueH0pfSl9LGkuZ2V0WERvbWFpblBhZGRpbmc9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZj10aGlzLGc9Zi5jb25maWcsaD1hWzFdLWFbMF07cmV0dXJuIGYuaXNDYXRlZ29yaXplZCgpP2M9MDpmLmhhc1R5cGUoXCJiYXJcIik/KGI9Zi5nZXRNYXhEYXRhQ291bnQoKSxjPWI+MT9oLyhiLTEpLzI6LjUpOmM9LjAxKmgsXCJvYmplY3RcIj09dHlwZW9mIGcuYXhpc194X3BhZGRpbmcmJnYoZy5heGlzX3hfcGFkZGluZyk/KGQ9bShnLmF4aXNfeF9wYWRkaW5nLmxlZnQpP2cuYXhpc194X3BhZGRpbmcubGVmdDpjLGU9bShnLmF4aXNfeF9wYWRkaW5nLnJpZ2h0KT9nLmF4aXNfeF9wYWRkaW5nLnJpZ2h0OmMpOmQ9ZT1cIm51bWJlclwiPT10eXBlb2YgZy5heGlzX3hfcGFkZGluZz9nLmF4aXNfeF9wYWRkaW5nOmMse2xlZnQ6ZCxyaWdodDplfX0saS5nZXRYRG9tYWluPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1bYi5nZXRYRG9tYWluTWluKGEpLGIuZ2V0WERvbWFpbk1heChhKV0sZD1jWzBdLGU9Y1sxXSxmPWIuZ2V0WERvbWFpblBhZGRpbmcoYyksZz0wLGg9MDtcbnJldHVybiBkLWUhPT0wfHxiLmlzQ2F0ZWdvcml6ZWQoKXx8KGIuaXNUaW1lU2VyaWVzKCk/KGQ9bmV3IERhdGUoLjUqZC5nZXRUaW1lKCkpLGU9bmV3IERhdGUoMS41KmUuZ2V0VGltZSgpKSk6KGQ9MD09PWQ/MTouNSpkLGU9MD09PWU/LTE6MS41KmUpKSwoZHx8MD09PWQpJiYoZz1iLmlzVGltZVNlcmllcygpP25ldyBEYXRlKGQuZ2V0VGltZSgpLWYubGVmdCk6ZC1mLmxlZnQpLChlfHwwPT09ZSkmJihoPWIuaXNUaW1lU2VyaWVzKCk/bmV3IERhdGUoZS5nZXRUaW1lKCkrZi5yaWdodCk6ZStmLnJpZ2h0KSxbZyxoXX0saS51cGRhdGVYRG9tYWluPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcyxnPWYuY29uZmlnO3JldHVybiBjJiYoZi54LmRvbWFpbihlP2U6Zi5kMy5leHRlbnQoZi5nZXRYRG9tYWluKGEpKSksZi5vcmdYRG9tYWluPWYueC5kb21haW4oKSxnLnpvb21fZW5hYmxlZCYmZi56b29tLnNjYWxlKGYueCkudXBkYXRlU2NhbGVFeHRlbnQoKSxmLnN1YlguZG9tYWluKGYueC5kb21haW4oKSksZi5icnVzaCYmZi5icnVzaC5zY2FsZShmLnN1YlgpKSxiJiYoZi54LmRvbWFpbihlP2U6IWYuYnJ1c2h8fGYuYnJ1c2guZW1wdHkoKT9mLm9yZ1hEb21haW46Zi5icnVzaC5leHRlbnQoKSksZy56b29tX2VuYWJsZWQmJmYuem9vbS5zY2FsZShmLngpLnVwZGF0ZVNjYWxlRXh0ZW50KCkpLGQmJmYueC5kb21haW4oZi50cmltWERvbWFpbihmLngub3JnRG9tYWluKCkpKSxmLnguZG9tYWluKCl9LGkudHJpbVhEb21haW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYVswXTw9Yi5vcmdYRG9tYWluWzBdJiYoYVsxXT0rYVsxXSsoYi5vcmdYRG9tYWluWzBdLWFbMF0pLGFbMF09Yi5vcmdYRG9tYWluWzBdKSxiLm9yZ1hEb21haW5bMV08PWFbMV0mJihhWzBdPSthWzBdLShhWzFdLWIub3JnWERvbWFpblsxXSksYVsxXT1iLm9yZ1hEb21haW5bMV0pLGF9LGkuaXNYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYy5kYXRhX3gmJmE9PT1jLmRhdGFfeHx8dihjLmRhdGFfeHMpJiZ4KGMuZGF0YV94cyxhKX0saS5pc05vdFg9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuaXNYKGEpfSxpLmdldFhLZXk9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBjLmRhdGFfeD9jLmRhdGFfeDp2KGMuZGF0YV94cyk/Yy5kYXRhX3hzW2FdOm51bGx9LGkuZ2V0WFZhbHVlc09mWEtleT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcyxlPWImJnYoYik/ZC5tYXBUb0lkcyhiKTpbXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2QuZ2V0WEtleShiKT09PWEmJihjPWQuZGF0YS54c1tiXSl9KSxjfSxpLmdldEluZGV4QnlYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmZpbHRlckJ5WChiLmRhdGEudGFyZ2V0cyxhKTtyZXR1cm4gYy5sZW5ndGg/Y1swXS5pbmRleDpudWxsfSxpLmdldFhWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGEgaW4gYy5kYXRhLnhzJiZjLmRhdGEueHNbYV0mJm0oYy5kYXRhLnhzW2FdW2JdKT9jLmRhdGEueHNbYV1bYl06Yn0saS5nZXRPdGhlclRhcmdldFhzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPU9iamVjdC5rZXlzKGEuZGF0YS54cyk7cmV0dXJuIGIubGVuZ3RoP2EuZGF0YS54c1tiWzBdXTpudWxsfSxpLmdldE90aGVyVGFyZ2V0WD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE90aGVyVGFyZ2V0WHMoKTtyZXR1cm4gYiYmYTxiLmxlbmd0aD9iW2FdOm51bGx9LGkuYWRkWHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2IuY29uZmlnLmRhdGFfeHNbY109YVtjXX0pfSxpLmhhc011bHRpcGxlWD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kMy5zZXQoT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSkpLnNpemUoKT4xfSxpLmlzTXVsdGlwbGVYPWZ1bmN0aW9uKCl7cmV0dXJuIHYodGhpcy5jb25maWcuZGF0YV94cyl8fCF0aGlzLmNvbmZpZy5kYXRhX3hTb3J0fHx0aGlzLmhhc1R5cGUoXCJzY2F0dGVyXCIpfSxpLmFkZE5hbWU9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzO3JldHVybiBhJiYoYj1jLmNvbmZpZy5kYXRhX25hbWVzW2EuaWRdLGEubmFtZT1iP2I6YS5pZCksYX0saS5nZXRWYWx1ZU9uSW5kZXg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbmRleD09PWJ9KTtyZXR1cm4gYy5sZW5ndGg/Y1swXTpudWxsfSxpLnVwZGF0ZVRhcmdldFg9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2EuZm9yRWFjaChmdW5jdGlvbihhKXthLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGQsZSl7ZC54PWMuZ2VuZXJhdGVUYXJnZXRYKGJbZV0sYS5pZCxlKX0pLGMuZGF0YS54c1thLmlkXT1ifSl9LGkudXBkYXRlVGFyZ2V0WHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2EuZm9yRWFjaChmdW5jdGlvbihhKXtiW2EuaWRdJiZjLnVwZGF0ZVRhcmdldFgoW2FdLGJbYS5pZF0pfSl9LGkuZ2VuZXJhdGVUYXJnZXRYPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXM7cmV0dXJuIGQ9ZS5pc1RpbWVTZXJpZXMoKT9lLnBhcnNlRGF0ZShhP2E6ZS5nZXRYVmFsdWUoYixjKSk6ZS5pc0N1c3RvbVgoKSYmIWUuaXNDYXRlZ29yaXplZCgpP20oYSk/K2E6ZS5nZXRYVmFsdWUoYixjKTpjfSxpLmNsb25lVGFyZ2V0PWZ1bmN0aW9uKGEpe3JldHVybntpZDphLmlkLGlkX29yZzphLmlkX29yZyx2YWx1ZXM6YS52YWx1ZXMubWFwKGZ1bmN0aW9uKGEpe3JldHVybnt4OmEueCx2YWx1ZTphLnZhbHVlLGlkOmEuaWR9fSl9fSxpLnVwZGF0ZVhzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmRhdGEudGFyZ2V0cy5sZW5ndGgmJihhLnhzPVtdLGEuZGF0YS50YXJnZXRzWzBdLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EueHNbYi5pbmRleF09Yi54fSkpfSxpLmdldFByZXZYPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueHNbYS0xXTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYj9iOm51bGx9LGkuZ2V0TmV4dFg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy54c1thKzFdO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiP2I6bnVsbH0saS5nZXRNYXhEYXRhQ291bnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmQzLm1heChhLmRhdGEudGFyZ2V0cyxmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXMubGVuZ3RofSl9LGkuZ2V0TWF4RGF0YUNvdW50VGFyZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5sZW5ndGgsZD0wO3JldHVybiBjPjE/YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EudmFsdWVzLmxlbmd0aD5kJiYoYj1hLGQ9YS52YWx1ZXMubGVuZ3RoKX0pOmI9Yz9hWzBdOm51bGwsYn0saS5nZXRFZGdlWD1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhLmxlbmd0aD9bYi5kMy5taW4oYSxmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXNbMF0ueH0pLGIuZDMubWF4KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWVzW2EudmFsdWVzLmxlbmd0aC0xXS54fSldOlswLDBdfSxpLm1hcFRvSWRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pfSxpLm1hcFRvVGFyZ2V0SWRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGE/byhhKT9bYV06YTpiLm1hcFRvSWRzKGIuZGF0YS50YXJnZXRzKX0saS5oYXNUYXJnZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMubWFwVG9JZHMoYSk7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKylpZihkW2NdPT09YilyZXR1cm4hMDtyZXR1cm4hMX0saS5pc1RhcmdldFRvU2hvdz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oaWRkZW5UYXJnZXRJZHMuaW5kZXhPZihhKTwwfSxpLmlzTGVnZW5kVG9TaG93PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhpZGRlbkxlZ2VuZElkcy5pbmRleE9mKGEpPDB9LGkuZmlsdGVyVGFyZ2V0c1RvU2hvdz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1RhcmdldFRvU2hvdyhhLmlkKX0pfSxpLm1hcFRhcmdldHNUb1VuaXF1ZVhzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzLnNldChiLmQzLm1lcmdlKGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuK2EueH0pfSkpKS52YWx1ZXMoKTtyZXR1cm4gYy5tYXAoYi5pc1RpbWVTZXJpZXMoKT9mdW5jdGlvbihhKXtyZXR1cm4gbmV3IERhdGUoK2EpfTpmdW5jdGlvbihhKXtyZXR1cm4rYX0pfSxpLmFkZEhpZGRlblRhcmdldElkcz1mdW5jdGlvbihhKXt0aGlzLmhpZGRlblRhcmdldElkcz10aGlzLmhpZGRlblRhcmdldElkcy5jb25jYXQoYSl9LGkucmVtb3ZlSGlkZGVuVGFyZ2V0SWRzPWZ1bmN0aW9uKGEpe3RoaXMuaGlkZGVuVGFyZ2V0SWRzPXRoaXMuaGlkZGVuVGFyZ2V0SWRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYS5pbmRleE9mKGIpPDB9KX0saS5hZGRIaWRkZW5MZWdlbmRJZHM9ZnVuY3Rpb24oYSl7dGhpcy5oaWRkZW5MZWdlbmRJZHM9dGhpcy5oaWRkZW5MZWdlbmRJZHMuY29uY2F0KGEpfSxpLnJlbW92ZUhpZGRlbkxlZ2VuZElkcz1mdW5jdGlvbihhKXt0aGlzLmhpZGRlbkxlZ2VuZElkcz10aGlzLmhpZGRlbkxlZ2VuZElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSl9LGkuZ2V0VmFsdWVzQXNJZEtleWVkPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oYSl7YlthLmlkXT1bXSxhLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGMpe2JbYS5pZF0ucHVzaChjLnZhbHVlKX0pfSksYn0saS5jaGVja1ZhbHVlSW5UYXJnZXRzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9T2JqZWN0LmtleXMoYSk7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKylmb3IoZT1hW2ZbY11dLnZhbHVlcyxkPTA7ZDxlLmxlbmd0aDtkKyspaWYoYihlW2RdLnZhbHVlKSlyZXR1cm4hMDtyZXR1cm4hMX0saS5oYXNOZWdhdGl2ZVZhbHVlSW5UYXJnZXRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNoZWNrVmFsdWVJblRhcmdldHMoYSxmdW5jdGlvbihhKXtyZXR1cm4gMD5hfSl9LGkuaGFzUG9zaXRpdmVWYWx1ZUluVGFyZ2V0cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jaGVja1ZhbHVlSW5UYXJnZXRzKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE+MH0pfSxpLmlzT3JkZXJEZXNjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEuZGF0YV9vcmRlciYmXCJkZXNjXCI9PT1hLmRhdGFfb3JkZXIudG9Mb3dlckNhc2UoKX0saS5pc09yZGVyQXNjPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25maWc7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEuZGF0YV9vcmRlciYmXCJhc2NcIj09PWEuZGF0YV9vcmRlci50b0xvd2VyQ2FzZSgpfSxpLm9yZGVyVGFyZ2V0cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1iLmlzT3JkZXJBc2MoKSxlPWIuaXNPcmRlckRlc2MoKTtyZXR1cm4gZHx8ZT9hLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhLGIpe3JldHVybiBhK01hdGguYWJzKGIudmFsdWUpfSxlPWEudmFsdWVzLnJlZHVjZShjLDApLGY9Yi52YWx1ZXMucmVkdWNlKGMsMCk7cmV0dXJuIGQ/Zi1lOmUtZn0pOm4oYy5kYXRhX29yZGVyKSYmYS5zb3J0KGMuZGF0YV9vcmRlciksYX0saS5maWx0ZXJCeVg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kMy5tZXJnZShhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXN9KSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLngtYj09PTB9KX0saS5maWx0ZXJSZW1vdmVOdWxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbShhLnZhbHVlKX0pfSxpLmZpbHRlckJ5WERvbWFpbj1mdW5jdGlvbihhLGIpe3JldHVybiBhLm1hcChmdW5jdGlvbihhKXtyZXR1cm57aWQ6YS5pZCxpZF9vcmc6YS5pZF9vcmcsdmFsdWVzOmEudmFsdWVzLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYlswXTw9YS54JiZhLng8PWJbMV19KX19KX0saS5oYXNEYXRhTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbmZpZztyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGEuZGF0YV9sYWJlbHMmJmEuZGF0YV9sYWJlbHM/ITA6XCJvYmplY3RcIj09dHlwZW9mIGEuZGF0YV9sYWJlbHMmJnYoYS5kYXRhX2xhYmVscyk/ITA6ITF9LGkuZ2V0RGF0YUxhYmVsTGVuZ3RoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9WzAsMF0sZj0xLjM7cmV0dXJuIGQuc2VsZWN0Q2hhcnQuc2VsZWN0KFwic3ZnXCIpLnNlbGVjdEFsbChcIi5kdW1teVwiKS5kYXRhKFthLGJdKS5lbnRlcigpLmFwcGVuZChcInRleHRcIikudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gZC5kYXRhTGFiZWxGb3JtYXQoYS5pZCkoYSl9KS5lYWNoKGZ1bmN0aW9uKGEsYil7ZVtiXT10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2NdKmZ9KS5yZW1vdmUoKSxlfSxpLmlzTm9uZUFyYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXNUYXJnZXQodGhpcy5kYXRhLnRhcmdldHMsYS5pZCl9LGkuaXNBcmM9ZnVuY3Rpb24oYSl7cmV0dXJuXCJkYXRhXCJpbiBhJiZ0aGlzLmhhc1RhcmdldCh0aGlzLmRhdGEudGFyZ2V0cyxhLmRhdGEuaWQpfSxpLmZpbmRTYW1lWE9mVmFsdWVzPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hW2JdLngsZT1bXTtmb3IoYz1iLTE7Yz49MCYmZD09PWFbY10ueDtjLS0pZS5wdXNoKGFbY10pO2ZvcihjPWI7YzxhLmxlbmd0aCYmZD09PWFbY10ueDtjKyspZS5wdXNoKGFbY10pO3JldHVybiBlfSxpLmZpbmRDbG9zZXN0RnJvbVRhcmdldHM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXM7cmV0dXJuIGM9YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGQuZmluZENsb3Nlc3QoYS52YWx1ZXMsYil9KSxkLmZpbmRDbG9zZXN0KGMsYil9LGkuZmluZENsb3Nlc3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMsZT0xMDA7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhJiZkLmlzQmFyVHlwZShhLmlkKX0pLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5tYWluLnNlbGVjdChcIi5cIitsLmJhcnMrZC5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChhLmlkKStcIiAuXCIrbC5iYXIrXCItXCIrYS5pbmRleCkubm9kZSgpOyFjJiZkLmlzV2l0aGluQmFyKGIpJiYoYz1hKX0pLGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhJiYhZC5pc0JhclR5cGUoYS5pZCl9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBmPWQuZGlzdChhLGIpO2U+ZiYmKGU9ZixjPWEpfSksY30saS5kaXN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9ZC5heGlzX3JvdGF0ZWQ/MTowLGY9ZC5heGlzX3JvdGF0ZWQ/MDoxLGc9Yy5jaXJjbGVZKGEsYS5pbmRleCksaD1jLngoYS54KTtyZXR1cm4gTWF0aC5wb3coaC1iW2VdLDIpK01hdGgucG93KGctYltmXSwyKX0saS5jb252ZXJ0VmFsdWVzVG9TdGVwPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W10uY29uY2F0KGEpO2lmKCF0aGlzLmlzQ2F0ZWdvcml6ZWQoKSlyZXR1cm4gYTtmb3IoYj1hLmxlbmd0aCsxO2I+MDtiLS0pY1tiXT1jW2ItMV07cmV0dXJuIGNbMF09e3g6Y1swXS54LTEsdmFsdWU6Y1swXS52YWx1ZSxpZDpjWzBdLmlkfSxjW2EubGVuZ3RoKzFdPXt4OmNbYS5sZW5ndGhdLngrMSx2YWx1ZTpjW2EubGVuZ3RoXS52YWx1ZSxpZDpjW2EubGVuZ3RoXS5pZH0sY30saS51cGRhdGVEYXRhQXR0cmlidXRlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWRbXCJkYXRhX1wiK2FdO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBiP2U6KE9iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7ZVthXT1iW2FdfSksYy5yZWRyYXcoe3dpdGhMZWdlbmQ6ITB9KSxlKX0saS5jb252ZXJ0VXJsVG9EYXRhPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMsZj1iP2I6XCJjc3ZcIjtlLmQzLnhocihhLGZ1bmN0aW9uKGEsYil7dmFyIGc7aWYoIWIpdGhyb3cgbmV3IEVycm9yKGEucmVzcG9uc2VVUkwrXCIgXCIrYS5zdGF0dXMrXCIgKFwiK2Euc3RhdHVzVGV4dCtcIilcIik7Zz1cImpzb25cIj09PWY/ZS5jb252ZXJ0SnNvblRvRGF0YShKU09OLnBhcnNlKGIucmVzcG9uc2UpLGMpOlwidHN2XCI9PT1mP2UuY29udmVydFRzdlRvRGF0YShiLnJlc3BvbnNlKTplLmNvbnZlcnRDc3ZUb0RhdGEoYi5yZXNwb25zZSksZC5jYWxsKGUsZyl9KX0saS5jb252ZXJ0WHN2VG9EYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1iLnBhcnNlUm93cyhhKTtyZXR1cm4gMT09PWQubGVuZ3RoPyhjPVt7fV0sZFswXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2NbMF1bYV09bnVsbH0pKTpjPWIucGFyc2UoYSksY30saS5jb252ZXJ0Q3N2VG9EYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbnZlcnRYc3ZUb0RhdGEoYSx0aGlzLmQzLmNzdil9LGkuY29udmVydFRzdlRvRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0WHN2VG9EYXRhKGEsdGhpcy5kMy50c3YpfSxpLmNvbnZlcnRKc29uVG9EYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPXRoaXMsZj1bXTtyZXR1cm4gYj8oYi54PyhjPWIudmFsdWUuY29uY2F0KGIueCksZS5jb25maWcuZGF0YV94PWIueCk6Yz1iLnZhbHVlLGYucHVzaChjKSxhLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9W107Yy5mb3JFYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPXAoYVtjXSk/bnVsbDphW2NdO2IucHVzaChkKX0pLGYucHVzaChiKX0pLGQ9ZS5jb252ZXJ0Um93c1RvRGF0YShmKSk6KE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oYil7Zi5wdXNoKFtiXS5jb25jYXQoYVtiXSkpfSksZD1lLmNvbnZlcnRDb2x1bW5zVG9EYXRhKGYpKSxkfSxpLmNvbnZlcnRSb3dzVG9EYXRhPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD1hWzBdLGU9e30sZj1bXTtmb3IoYj0xO2I8YS5sZW5ndGg7YisrKXtmb3IoZT17fSxjPTA7YzxhW2JdLmxlbmd0aDtjKyspe2lmKHAoYVtiXVtjXSkpdGhyb3cgbmV3IEVycm9yKFwiU291cmNlIGRhdGEgaXMgbWlzc2luZyBhIGNvbXBvbmVudCBhdCAoXCIrYitcIixcIitjK1wiKSFcIik7ZVtkW2NdXT1hW2JdW2NdfWYucHVzaChlKX1yZXR1cm4gZn0saS5jb252ZXJ0Q29sdW1uc1RvRGF0YT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT1bXTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWZvcihkPWFbYl1bMF0sYz0xO2M8YVtiXS5sZW5ndGg7YysrKXtpZihwKGVbYy0xXSkmJihlW2MtMV09e30pLHAoYVtiXVtjXSkpdGhyb3cgbmV3IEVycm9yKFwiU291cmNlIGRhdGEgaXMgbWlzc2luZyBhIGNvbXBvbmVudCBhdCAoXCIrYitcIixcIitjK1wiKSFcIik7ZVtjLTFdW2RdPWFbYl1bY119cmV0dXJuIGV9LGkuY29udmVydERhdGFUb1RhcmdldHM9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXRoaXMsZT1kLmNvbmZpZyxmPWQuZDMua2V5cyhhWzBdKS5maWx0ZXIoZC5pc05vdFgsZCksZz1kLmQzLmtleXMoYVswXSkuZmlsdGVyKGQuaXNYLGQpO3JldHVybiBmLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGY9ZC5nZXRYS2V5KGMpO2QuaXNDdXN0b21YKCl8fGQuaXNUaW1lU2VyaWVzKCk/Zy5pbmRleE9mKGYpPj0wP2QuZGF0YS54c1tjXT0oYiYmZC5kYXRhLnhzW2NdP2QuZGF0YS54c1tjXTpbXSkuY29uY2F0KGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhW2ZdfSkuZmlsdGVyKG0pLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBkLmdlbmVyYXRlVGFyZ2V0WChhLGMsYil9KSk6ZS5kYXRhX3g/ZC5kYXRhLnhzW2NdPWQuZ2V0T3RoZXJUYXJnZXRYcygpOnYoZS5kYXRhX3hzKSYmKGQuZGF0YS54c1tjXT1kLmdldFhWYWx1ZXNPZlhLZXkoZixkLmRhdGEudGFyZ2V0cykpOmQuZGF0YS54c1tjXT1hLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiBifSl9KSxmLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoIWQuZGF0YS54c1thXSl0aHJvdyBuZXcgRXJyb3IoJ3ggaXMgbm90IGRlZmluZWQgZm9yIGlkID0gXCInK2ErJ1wiLicpfSksYz1mLm1hcChmdW5jdGlvbihiLGMpe3ZhciBmPWUuZGF0YV9pZENvbnZlcnRlcihiKTtyZXR1cm57aWQ6ZixpZF9vcmc6Yix2YWx1ZXM6YS5tYXAoZnVuY3Rpb24oYSxnKXt2YXIgaD1kLmdldFhLZXkoYiksaT1hW2hdLGo9ZC5nZW5lcmF0ZVRhcmdldFgoaSxiLGcpO3JldHVybiBkLmlzQ3VzdG9tWCgpJiZkLmlzQ2F0ZWdvcml6ZWQoKSYmMD09PWMmJmkmJigwPT09ZyYmKGUuYXhpc194X2NhdGVnb3JpZXM9W10pLGUuYXhpc194X2NhdGVnb3JpZXMucHVzaChpKSksKHAoYVtiXSl8fGQuZGF0YS54c1tiXS5sZW5ndGg8PWcpJiYoaj12b2lkIDApLHt4OmosdmFsdWU6bnVsbD09PWFbYl18fGlzTmFOKGFbYl0pP251bGw6K2FbYl0saWQ6Zn19KS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIHEoYS54KX0pfX0pLGMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYjtlLmRhdGFfeFNvcnQmJihhLnZhbHVlcz1hLnZhbHVlcy5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGM9YS54fHwwPT09YS54P2EueDoxLzAsZD1iLnh8fDA9PT1iLng/Yi54OjEvMDtyZXR1cm4gYy1kfSkpLGI9MCxhLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuaW5kZXg9YisrfSksZC5kYXRhLnhzW2EuaWRdLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSl9KSxlLmRhdGFfdHlwZSYmZC5zZXRUYXJnZXRUeXBlKGQubWFwVG9JZHMoYykuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEoYSBpbiBlLmRhdGFfdHlwZXMpfSksZS5kYXRhX3R5cGUpLGMuZm9yRWFjaChmdW5jdGlvbihhKXtkLmFkZENhY2hlKGEuaWRfb3JnLGEpfSksY30saS5sb2FkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczthJiYoYi5maWx0ZXImJihhPWEuZmlsdGVyKGIuZmlsdGVyKSksKGIudHlwZXx8Yi50eXBlcykmJmEuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgZD1iLnR5cGVzJiZiLnR5cGVzW2EuaWRdP2IudHlwZXNbYS5pZF06Yi50eXBlO2Muc2V0VGFyZ2V0VHlwZShhLmlkLGQpfSksYy5kYXRhLnRhcmdldHMuZm9yRWFjaChmdW5jdGlvbihiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihiLmlkPT09YVtjXS5pZCl7Yi52YWx1ZXM9YVtjXS52YWx1ZXMsYS5zcGxpY2UoYywxKTticmVha319KSxjLmRhdGEudGFyZ2V0cz1jLmRhdGEudGFyZ2V0cy5jb25jYXQoYSkpLGMudXBkYXRlVGFyZ2V0cyhjLmRhdGEudGFyZ2V0cyksYy5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhMZWdlbmQ6ITB9KSxiLmRvbmUmJmIuZG9uZSgpfSxpLmxvYWRGcm9tQXJncz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2EuZGF0YT9iLmxvYWQoYi5jb252ZXJ0RGF0YVRvVGFyZ2V0cyhhLmRhdGEpLGEpOmEudXJsP2IuY29udmVydFVybFRvRGF0YShhLnVybCxhLm1pbWVUeXBlLGEua2V5cyxmdW5jdGlvbihjKXtiLmxvYWQoYi5jb252ZXJ0RGF0YVRvVGFyZ2V0cyhjKSxhKX0pOmEuanNvbj9iLmxvYWQoYi5jb252ZXJ0RGF0YVRvVGFyZ2V0cyhiLmNvbnZlcnRKc29uVG9EYXRhKGEuanNvbixhLmtleXMpKSxhKTphLnJvd3M/Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYi5jb252ZXJ0Um93c1RvRGF0YShhLnJvd3MpKSxhKTphLmNvbHVtbnM/Yi5sb2FkKGIuY29udmVydERhdGFUb1RhcmdldHMoYi5jb252ZXJ0Q29sdW1uc1RvRGF0YShhLmNvbHVtbnMpKSxhKTpiLmxvYWQobnVsbCxhKX0saS51bmxvYWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBifHwoYj1mdW5jdGlvbigpe30pLGE9YS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGMuaGFzVGFyZ2V0KGMuZGF0YS50YXJnZXRzLGEpfSksYSYmMCE9PWEubGVuZ3RoPyhjLnN2Zy5zZWxlY3RBbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGMuc2VsZWN0b3JUYXJnZXQoYSl9KSkudHJhbnNpdGlvbigpLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpLmNhbGwoYy5lbmRhbGwsYiksdm9pZCBhLmZvckVhY2goZnVuY3Rpb24oYSl7Yy53aXRob3V0RmFkZUluW2FdPSExLGMubGVnZW5kJiZjLmxlZ2VuZC5zZWxlY3RBbGwoXCIuXCIrbC5sZWdlbmRJdGVtK2MuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSkpLnJlbW92ZSgpLGMuZGF0YS50YXJnZXRzPWMuZGF0YS50YXJnZXRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYi5pZCE9PWF9KX0pKTp2b2lkIGIoKX0saS5jYXRlZ29yeU5hbWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb25maWc7cmV0dXJuIGE8Yi5heGlzX3hfY2F0ZWdvcmllcy5sZW5ndGg/Yi5heGlzX3hfY2F0ZWdvcmllc1thXTphfSxpLmluaXRFdmVudFJlY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubWFpbi5zZWxlY3QoXCIuXCIrbC5jaGFydCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLmV2ZW50UmVjdHMpLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsMCl9LGkucmVkcmF3RXZlbnRSZWN0PWZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMsZD1jLmNvbmZpZyxlPWMuaXNNdWx0aXBsZVgoKSxmPWMubWFpbi5zZWxlY3QoXCIuXCIrbC5ldmVudFJlY3RzKS5zdHlsZShcImN1cnNvclwiLGQuem9vbV9lbmFibGVkP2QuYXhpc19yb3RhdGVkP1wibnMtcmVzaXplXCI6XCJldy1yZXNpemVcIjpudWxsKS5jbGFzc2VkKGwuZXZlbnRSZWN0c011bHRpcGxlLGUpLmNsYXNzZWQobC5ldmVudFJlY3RzU2luZ2xlLCFlKTtmLnNlbGVjdEFsbChcIi5cIitsLmV2ZW50UmVjdCkucmVtb3ZlKCksYy5ldmVudFJlY3Q9Zi5zZWxlY3RBbGwoXCIuXCIrbC5ldmVudFJlY3QpLGU/KGE9Yy5ldmVudFJlY3QuZGF0YShbMF0pLGMuZ2VuZXJhdGVFdmVudFJlY3RzRm9yTXVsdGlwbGVYcyhhLmVudGVyKCkpLGMudXBkYXRlRXZlbnRSZWN0KGEpKTooYj1jLmdldE1heERhdGFDb3VudFRhcmdldChjLmRhdGEudGFyZ2V0cyksZi5kYXR1bShiP2IudmFsdWVzOltdKSxjLmV2ZW50UmVjdD1mLnNlbGVjdEFsbChcIi5cIitsLmV2ZW50UmVjdCksYT1jLmV2ZW50UmVjdC5kYXRhKGZ1bmN0aW9uKGEpe3JldHVybiBhfSksYy5nZW5lcmF0ZUV2ZW50UmVjdHNGb3JTaW5nbGVYKGEuZW50ZXIoKSksYy51cGRhdGVFdmVudFJlY3QoYSksYS5leGl0KCkucmVtb3ZlKCkpfSxpLnVwZGF0ZUV2ZW50UmVjdD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD10aGlzLGk9aC5jb25maWc7YT1hfHxoLmV2ZW50UmVjdC5kYXRhKGZ1bmN0aW9uKGEpe3JldHVybiBhfSksaC5pc011bHRpcGxlWCgpPyhiPTAsYz0wLGQ9aC53aWR0aCxlPWguaGVpZ2h0KTooIWguaXNDdXN0b21YKCkmJiFoLmlzVGltZVNlcmllcygpfHxoLmlzQ2F0ZWdvcml6ZWQoKT8oZj1oLmdldEV2ZW50UmVjdFdpZHRoKCksZz1mdW5jdGlvbihhKXtyZXR1cm4gaC54KGEueCktZi8yfSk6KGgudXBkYXRlWHMoKSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWguZ2V0UHJldlgoYS5pbmRleCksYz1oLmdldE5leHRYKGEuaW5kZXgpO3JldHVybiBudWxsPT09YiYmbnVsbD09PWM/aS5heGlzX3JvdGF0ZWQ/aC5oZWlnaHQ6aC53aWR0aDoobnVsbD09PWImJihiPWgueC5kb21haW4oKVswXSksbnVsbD09PWMmJihjPWgueC5kb21haW4oKVsxXSksTWF0aC5tYXgoMCwoaC54KGMpLWgueChiKSkvMikpfSxnPWZ1bmN0aW9uKGEpe3ZhciBiPWguZ2V0UHJldlgoYS5pbmRleCksYz1oLmdldE5leHRYKGEuaW5kZXgpLGQ9aC5kYXRhLnhzW2EuaWRdW2EuaW5kZXhdO3JldHVybiBudWxsPT09YiYmbnVsbD09PWM/MDoobnVsbD09PWImJihiPWgueC5kb21haW4oKVswXSksKGgueChkKStoLngoYikpLzIpfSksYj1pLmF4aXNfcm90YXRlZD8wOmcsYz1pLmF4aXNfcm90YXRlZD9nOjAsZD1pLmF4aXNfcm90YXRlZD9oLndpZHRoOmYsZT1pLmF4aXNfcm90YXRlZD9mOmguaGVpZ2h0KSxhLmF0dHIoXCJjbGFzc1wiLGguY2xhc3NFdmVudC5iaW5kKGgpKS5hdHRyKFwieFwiLGIpLmF0dHIoXCJ5XCIsYykuYXR0cihcIndpZHRoXCIsZCkuYXR0cihcImhlaWdodFwiLGUpfSxpLmdlbmVyYXRlRXZlbnRSZWN0c0ZvclNpbmdsZVg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuZDMsZD1iLmNvbmZpZzthLmFwcGVuZChcInJlY3RcIikuYXR0cihcImNsYXNzXCIsYi5jbGFzc0V2ZW50LmJpbmQoYikpLnN0eWxlKFwiY3Vyc29yXCIsZC5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiZkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWQ/XCJwb2ludGVyXCI6bnVsbCkub24oXCJtb3VzZW92ZXJcIixmdW5jdGlvbihhKXt2YXIgYz1hLmluZGV4O2IuZHJhZ2dpbmd8fGIuZmxvd2luZ3x8Yi5oYXNBcmNUeXBlKCl8fChkLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkJiZiLmV4cGFuZENpcmNsZXMoYyxudWxsLCEwKSxiLmV4cGFuZEJhcnMoYyxudWxsLCEwKSxiLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuc2hhcGUrXCItXCIrYykuZWFjaChmdW5jdGlvbihhKXtkLmRhdGFfb25tb3VzZW92ZXIuY2FsbChiLmFwaSxhKX0pKX0pLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbihhKXt2YXIgYz1hLmluZGV4O2IuY29uZmlnJiYoYi5oYXNBcmNUeXBlKCl8fChiLmhpZGVYR3JpZEZvY3VzKCksYi5oaWRlVG9vbHRpcCgpLGIudW5leHBhbmRDaXJjbGVzKCksYi51bmV4cGFuZEJhcnMoKSxiLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuc2hhcGUrXCItXCIrYykuZWFjaChmdW5jdGlvbihhKXtkLmRhdGFfb25tb3VzZW91dC5jYWxsKGIuYXBpLGEpfSkpKX0pLm9uKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oYSl7dmFyIGUsZj1hLmluZGV4LGc9Yi5zdmcuc2VsZWN0KFwiLlwiK2wuZXZlbnRSZWN0K1wiLVwiK2YpO2IuZHJhZ2dpbmd8fGIuZmxvd2luZ3x8Yi5oYXNBcmNUeXBlKCl8fChiLmlzU3RlcFR5cGUoYSkmJlwic3RlcC1hZnRlclwiPT09Yi5jb25maWcubGluZV9zdGVwX3R5cGUmJmMubW91c2UodGhpcylbMF08Yi54KGIuZ2V0WFZhbHVlKGEuaWQsZikpJiYoZi09MSksZT1iLmZpbHRlclRhcmdldHNUb1Nob3coYi5kYXRhLnRhcmdldHMpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5hZGROYW1lKGIuZ2V0VmFsdWVPbkluZGV4KGEudmFsdWVzLGYpKX0pLGQudG9vbHRpcF9ncm91cGVkJiYoYi5zaG93VG9vbHRpcChlLHRoaXMpLGIuc2hvd1hHcmlkRm9jdXMoZSkpLCghZC50b29sdGlwX2dyb3VwZWR8fGQuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmIWQuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZCkmJmIubWFpbi5zZWxlY3RBbGwoXCIuXCIrbC5zaGFwZStcIi1cIitmKS5lYWNoKGZ1bmN0aW9uKCl7Yy5zZWxlY3QodGhpcykuY2xhc3NlZChsLkVYUEFOREVELCEwKSxkLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJmcuc3R5bGUoXCJjdXJzb3JcIixkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWQ/XCJwb2ludGVyXCI6bnVsbCksZC50b29sdGlwX2dyb3VwZWR8fChiLmhpZGVYR3JpZEZvY3VzKCksYi5oaWRlVG9vbHRpcCgpLGQuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZHx8KGIudW5leHBhbmRDaXJjbGVzKGYpLGIudW5leHBhbmRCYXJzKGYpKSl9KS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGIuaXNXaXRoaW5TaGFwZSh0aGlzLGEpfSkuZWFjaChmdW5jdGlvbihhKXtkLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJihkLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWR8fGQuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGEpKSYmZy5zdHlsZShcImN1cnNvclwiLFwicG9pbnRlclwiKSxkLnRvb2x0aXBfZ3JvdXBlZHx8KGIuc2hvd1Rvb2x0aXAoW2FdLHRoaXMpLGIuc2hvd1hHcmlkRm9jdXMoW2FdKSxkLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkJiZiLmV4cGFuZENpcmNsZXMoZixhLmlkLCEwKSxiLmV4cGFuZEJhcnMoZixhLmlkLCEwKSl9KSl9KS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGU9YS5pbmRleDtpZighYi5oYXNBcmNUeXBlKCkmJmIudG9nZ2xlU2hhcGUpe2lmKGIuY2FuY2VsQ2xpY2spcmV0dXJuIHZvaWQoYi5jYW5jZWxDbGljaz0hMSk7Yi5pc1N0ZXBUeXBlKGEpJiZcInN0ZXAtYWZ0ZXJcIj09PWQubGluZV9zdGVwX3R5cGUmJmMubW91c2UodGhpcylbMF08Yi54KGIuZ2V0WFZhbHVlKGEuaWQsZSkpJiYoZS09MSksYi5tYWluLnNlbGVjdEFsbChcIi5cIitsLnNoYXBlK1wiLVwiK2UpLmVhY2goZnVuY3Rpb24oYSl7KGQuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZHx8Yi5pc1dpdGhpblNoYXBlKHRoaXMsYSkpJiYoYi50b2dnbGVTaGFwZSh0aGlzLGEsZSksYi5jb25maWcuZGF0YV9vbmNsaWNrLmNhbGwoYi5hcGksYSx0aGlzKSl9KX19KS5jYWxsKGQuZGF0YV9zZWxlY3Rpb25fZHJhZ2dhYmxlJiZiLmRyYWc/Yy5iZWhhdmlvci5kcmFnKCkub3JpZ2luKE9iamVjdCkub24oXCJkcmFnXCIsZnVuY3Rpb24oKXtiLmRyYWcoYy5tb3VzZSh0aGlzKSl9KS5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7Yi5kcmFnc3RhcnQoYy5tb3VzZSh0aGlzKSl9KS5vbihcImRyYWdlbmRcIixmdW5jdGlvbigpe2IuZHJhZ2VuZCgpfSk6ZnVuY3Rpb24oKXt9KX0saS5nZW5lcmF0ZUV2ZW50UmVjdHNGb3JNdWx0aXBsZVhzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjLnN2Zy5zZWxlY3QoXCIuXCIrbC5ldmVudFJlY3QpLnN0eWxlKFwiY3Vyc29yXCIsbnVsbCksYy5oaWRlWEdyaWRGb2N1cygpLGMuaGlkZVRvb2x0aXAoKSxjLnVuZXhwYW5kQ2lyY2xlcygpLGMudW5leHBhbmRCYXJzKCl9dmFyIGM9dGhpcyxkPWMuZDMsZT1jLmNvbmZpZzthLmFwcGVuZChcInJlY3RcIikuYXR0cihcInhcIiwwKS5hdHRyKFwieVwiLDApLmF0dHIoXCJ3aWR0aFwiLGMud2lkdGgpLmF0dHIoXCJoZWlnaHRcIixjLmhlaWdodCkuYXR0cihcImNsYXNzXCIsbC5ldmVudFJlY3QpLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbigpe2MuY29uZmlnJiYoYy5oYXNBcmNUeXBlKCl8fGIoKSl9KS5vbihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKCl7dmFyIGEsZixnLGgsaT1jLmZpbHRlclRhcmdldHNUb1Nob3coYy5kYXRhLnRhcmdldHMpO2lmKCFjLmRyYWdnaW5nJiYhYy5oYXNBcmNUeXBlKGkpKXtpZihhPWQubW91c2UodGhpcyksZj1jLmZpbmRDbG9zZXN0RnJvbVRhcmdldHMoaSxhKSwhYy5tb3VzZW92ZXJ8fGYmJmYuaWQ9PT1jLm1vdXNlb3Zlci5pZHx8KGUuZGF0YV9vbm1vdXNlb3V0LmNhbGwoYy5hcGksYy5tb3VzZW92ZXIpLGMubW91c2VvdmVyPXZvaWQgMCksIWYpcmV0dXJuIHZvaWQgYigpO2c9Yy5pc1NjYXR0ZXJUeXBlKGYpfHwhZS50b29sdGlwX2dyb3VwZWQ/W2ZdOmMuZmlsdGVyQnlYKGksZi54KSxoPWcubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLmFkZE5hbWUoYSl9KSxjLnNob3dUb29sdGlwKGgsdGhpcyksZS5wb2ludF9mb2N1c19leHBhbmRfZW5hYmxlZCYmYy5leHBhbmRDaXJjbGVzKGYuaW5kZXgsZi5pZCwhMCksYy5leHBhbmRCYXJzKGYuaW5kZXgsZi5pZCwhMCksYy5zaG93WEdyaWRGb2N1cyhoKSwoYy5pc0JhclR5cGUoZi5pZCl8fGMuZGlzdChmLGEpPDEwMCkmJihjLnN2Zy5zZWxlY3QoXCIuXCIrbC5ldmVudFJlY3QpLnN0eWxlKFwiY3Vyc29yXCIsXCJwb2ludGVyXCIpLGMubW91c2VvdmVyfHwoZS5kYXRhX29ubW91c2VvdmVyLmNhbGwoYy5hcGksZiksYy5tb3VzZW92ZXI9ZikpfX0pLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3ZhciBhLGIsZj1jLmZpbHRlclRhcmdldHNUb1Nob3coYy5kYXRhLnRhcmdldHMpO2MuaGFzQXJjVHlwZShmKXx8KGE9ZC5tb3VzZSh0aGlzKSxiPWMuZmluZENsb3Nlc3RGcm9tVGFyZ2V0cyhmLGEpLGImJihjLmlzQmFyVHlwZShiLmlkKXx8Yy5kaXN0KGIsYSk8MTAwKSYmYy5tYWluLnNlbGVjdEFsbChcIi5cIitsLnNoYXBlcytjLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIuaWQpKS5zZWxlY3RBbGwoXCIuXCIrbC5zaGFwZStcIi1cIitiLmluZGV4KS5lYWNoKGZ1bmN0aW9uKCl7KGUuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZHx8Yy5pc1dpdGhpblNoYXBlKHRoaXMsYikpJiYoYy50b2dnbGVTaGFwZSh0aGlzLGIsYi5pbmRleCksYy5jb25maWcuZGF0YV9vbmNsaWNrLmNhbGwoYy5hcGksYix0aGlzKSl9KSl9KS5jYWxsKGUuZGF0YV9zZWxlY3Rpb25fZHJhZ2dhYmxlJiZjLmRyYWc/ZC5iZWhhdmlvci5kcmFnKCkub3JpZ2luKE9iamVjdCkub24oXCJkcmFnXCIsZnVuY3Rpb24oKXtjLmRyYWcoZC5tb3VzZSh0aGlzKSl9KS5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7Yy5kcmFnc3RhcnQoZC5tb3VzZSh0aGlzKSl9KS5vbihcImRyYWdlbmRcIixmdW5jdGlvbigpe2MuZHJhZ2VuZCgpfSk6ZnVuY3Rpb24oKXt9KX0saS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzLGY9XCIuXCIrbC5ldmVudFJlY3QrKGUuaXNNdWx0aXBsZVgoKT9cIlwiOlwiLVwiK2MpLGc9ZS5tYWluLnNlbGVjdChmKS5ub2RlKCksaD1nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9aC5sZWZ0KyhkP2RbMF06MCksaj1oLnRvcCsoZD9kWzFdOjApLGs9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtrLmluaXRNb3VzZUV2ZW50KGIsITAsITAsYSwwLGksaixpLGosITEsITEsITEsITEsMCxudWxsKSxnLmRpc3BhdGNoRXZlbnQoayl9LGkuZ2V0Q3VycmVudFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO3JldHVybiBiLnNpemVfd2lkdGg/Yi5zaXplX3dpZHRoOmEuZ2V0UGFyZW50V2lkdGgoKX0saS5nZXRDdXJyZW50SGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9Yi5zaXplX2hlaWdodD9iLnNpemVfaGVpZ2h0OmEuZ2V0UGFyZW50SGVpZ2h0KCk7cmV0dXJuIGM+MD9jOjMyMC8oYS5oYXNUeXBlKFwiZ2F1Z2VcIik/MjoxKX0saS5nZXRDdXJyZW50UGFkZGluZ1RvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uZmlnO3JldHVybiBtKGEucGFkZGluZ190b3ApP2EucGFkZGluZ190b3A6MH0saS5nZXRDdXJyZW50UGFkZGluZ0JvdHRvbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uZmlnO3JldHVybiBtKGEucGFkZGluZ19ib3R0b20pP2EucGFkZGluZ19ib3R0b206MH0saS5nZXRDdXJyZW50UGFkZGluZ0xlZnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBtKGMucGFkZGluZ19sZWZ0KT9jLnBhZGRpbmdfbGVmdDpjLmF4aXNfcm90YXRlZD9jLmF4aXNfeF9zaG93P01hdGgubWF4KHIoYi5nZXRBeGlzV2lkdGhCeUF4aXNJZChcInhcIixhKSksNDApOjE6IWMuYXhpc195X3Nob3d8fGMuYXhpc195X2lubmVyP2IuYXhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKS5pc091dGVyPzMwOjE6cihiLmdldEF4aXNXaWR0aEJ5QXhpc0lkKFwieVwiLGEpKX0saS5nZXRDdXJyZW50UGFkZGluZ1JpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9MTAsZD1hLmlzTGVnZW5kUmlnaHQ/YS5nZXRMZWdlbmRXaWR0aCgpKzIwOjA7cmV0dXJuIG0oYi5wYWRkaW5nX3JpZ2h0KT9iLnBhZGRpbmdfcmlnaHQrMTpiLmF4aXNfcm90YXRlZD9jK2Q6IWIuYXhpc195Ml9zaG93fHxiLmF4aXNfeTJfaW5uZXI/MitkKyhhLmF4aXMuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpLmlzT3V0ZXI/MjA6MCk6cihhLmdldEF4aXNXaWR0aEJ5QXhpc0lkKFwieTJcIikpK2R9LGkuZ2V0UGFyZW50UmVjdFZhbHVlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPXRoaXMuc2VsZWN0Q2hhcnQubm9kZSgpO2MmJlwiQk9EWVwiIT09Yy50YWdOYW1lOyl7dHJ5e2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVthXX1jYXRjaChkKXtcIndpZHRoXCI9PT1hJiYoYj1jLm9mZnNldFdpZHRoKX1pZihiKWJyZWFrO2M9Yy5wYXJlbnROb2RlfXJldHVybiBifSxpLmdldFBhcmVudFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50UmVjdFZhbHVlKFwid2lkdGhcIil9LGkuZ2V0UGFyZW50SGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RDaGFydC5zdHlsZShcImhlaWdodFwiKTtyZXR1cm4gYS5pbmRleE9mKFwicHhcIik+MD8rYS5yZXBsYWNlKFwicHhcIixcIlwiKTowfSxpLmdldFN2Z0xlZnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yy5heGlzX3JvdGF0ZWR8fCFjLmF4aXNfcm90YXRlZCYmIWMuYXhpc195X2lubmVyLGU9Yy5heGlzX3JvdGF0ZWQ/bC5heGlzWDpsLmF4aXNZLGY9Yi5tYWluLnNlbGVjdChcIi5cIitlKS5ub2RlKCksZz1mJiZkP2YuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6e3JpZ2h0OjB9LGg9Yi5zZWxlY3RDaGFydC5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1iLmhhc0FyY1R5cGUoKSxqPWcucmlnaHQtaC5sZWZ0LShpPzA6Yi5nZXRDdXJyZW50UGFkZGluZ0xlZnQoYSkpO3JldHVybiBqPjA/ajowfSxpLmdldEF4aXNXaWR0aEJ5QXhpc0lkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuYXhpcy5nZXRMYWJlbFBvc2l0aW9uQnlJZChhKTtyZXR1cm4gYy5heGlzLmdldE1heFRpY2tXaWR0aChhLGIpKyhkLmlzSW5uZXI/MjA6NDApfSxpLmdldEhvcml6b250YWxBeGlzSGVpZ2h0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPTMwO3JldHVyblwieFwiIT09YXx8Yy5heGlzX3hfc2hvdz9cInhcIj09PWEmJmMuYXhpc194X2hlaWdodD9jLmF4aXNfeF9oZWlnaHQ6XCJ5XCIhPT1hfHxjLmF4aXNfeV9zaG93P1wieTJcIiE9PWF8fGMuYXhpc195Ml9zaG93PyhcInhcIj09PWEmJiFjLmF4aXNfcm90YXRlZCYmYy5heGlzX3hfdGlja19yb3RhdGUmJihkPTMwK2IuYXhpcy5nZXRNYXhUaWNrV2lkdGgoYSkqTWF0aC5jb3MoTWF0aC5QSSooOTAtYy5heGlzX3hfdGlja19yb3RhdGUpLzE4MCkpLGQrKGIuYXhpcy5nZXRMYWJlbFBvc2l0aW9uQnlJZChhKS5pc0lubmVyPzA6MTApKyhcInkyXCI9PT1hPy0xMDowKSk6Yi5yb3RhdGVkX3BhZGRpbmdfdG9wOiFjLmxlZ2VuZF9zaG93fHxiLmlzTGVnZW5kUmlnaHR8fGIuaXNMZWdlbmRJbnNldD8xOjEwOjh9LGkuZ2V0RXZlbnRSZWN0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCx0aGlzLnhBeGlzLnRpY2tJbnRlcnZhbCgpKX0saS5nZXRTaGFwZUluZGljZXM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMsZT1kLmNvbmZpZyxmPXt9LGc9MDtyZXR1cm4gZC5maWx0ZXJUYXJnZXRzVG9TaG93KGQuZGF0YS50YXJnZXRzLmZpbHRlcihhLGQpKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2ZvcihiPTA7YjxlLmRhdGFfZ3JvdXBzLmxlbmd0aDtiKyspaWYoIShlLmRhdGFfZ3JvdXBzW2JdLmluZGV4T2YoYS5pZCk8MCkpZm9yKGM9MDtjPGUuZGF0YV9ncm91cHNbYl0ubGVuZ3RoO2MrKylpZihlLmRhdGFfZ3JvdXBzW2JdW2NdaW4gZil7ZlthLmlkXT1mW2UuZGF0YV9ncm91cHNbYl1bY11dO2JyZWFrfXAoZlthLmlkXSkmJihmW2EuaWRdPWcrKyl9KSxmLl9fbWF4X189Zy0xLGZ9LGkuZ2V0U2hhcGVYPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMsZj1kP2Uuc3ViWDplLng7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWQuaWQgaW4gYz9jW2QuaWRdOjA7cmV0dXJuIGQueHx8MD09PWQueD9mKGQueCktYSooYi8yLWUpOjB9fSxpLmdldFNoYXBlWT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1hP2IuZ2V0U3ViWVNjYWxlKGMuaWQpOmIuZ2V0WVNjYWxlKGMuaWQpO3JldHVybiBkKGMudmFsdWUpfX0saS5nZXRTaGFwZU9mZnNldD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPWQub3JkZXJUYXJnZXRzKGQuZmlsdGVyVGFyZ2V0c1RvU2hvdyhkLmRhdGEudGFyZ2V0cy5maWx0ZXIoYSxkKSkpLGY9ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KTtyZXR1cm4gZnVuY3Rpb24oYSxnKXt2YXIgaD1jP2QuZ2V0U3ViWVNjYWxlKGEuaWQpOmQuZ2V0WVNjYWxlKGEuaWQpLGk9aCgwKSxqPWk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihjKXt2YXIgZT1kLmlzU3RlcFR5cGUoYSk/ZC5jb252ZXJ0VmFsdWVzVG9TdGVwKGMudmFsdWVzKTpjLnZhbHVlcztjLmlkIT09YS5pZCYmYltjLmlkXT09PWJbYS5pZF0mJmYuaW5kZXhPZihjLmlkKTxmLmluZGV4T2YoYS5pZCkmJmVbZ10udmFsdWUqYS52YWx1ZT49MCYmKGorPWgoZVtnXS52YWx1ZSktaSl9KSxqfX0saS5pc1dpdGhpblNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzLGU9ZC5kMy5zZWxlY3QoYSk7cmV0dXJuIGQuaXNUYXJnZXRUb1Nob3coYi5pZCk/XCJjaXJjbGVcIj09PWEubm9kZU5hbWU/Yz1kLmlzU3RlcFR5cGUoYik/ZC5pc1dpdGhpblN0ZXAoYSxkLmdldFlTY2FsZShiLmlkKShiLnZhbHVlKSk6ZC5pc1dpdGhpbkNpcmNsZShhLDEuNSpkLnBvaW50U2VsZWN0UihiKSk6XCJwYXRoXCI9PT1hLm5vZGVOYW1lJiYoYz1lLmNsYXNzZWQobC5iYXIpP2QuaXNXaXRoaW5CYXIoYSk6ITApOmM9ITEsY30saS5nZXRJbnRlcnBvbGF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBiLmlzU3BsaW5lVHlwZShhKT9cImNhcmRpbmFsXCI6Yi5pc1N0ZXBUeXBlKGEpP2IuY29uZmlnLmxpbmVfc3RlcF90eXBlOlwibGluZWFyXCJ9LGkuaW5pdExpbmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubWFpbi5zZWxlY3QoXCIuXCIrbC5jaGFydCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLmNoYXJ0TGluZXMpfSxpLnVwZGF0ZVRhcmdldHNGb3JMaW5lPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jb25maWcsZj1kLmNsYXNzQ2hhcnRMaW5lLmJpbmQoZCksZz1kLmNsYXNzTGluZXMuYmluZChkKSxoPWQuY2xhc3NBcmVhcy5iaW5kKGQpLGk9ZC5jbGFzc0NpcmNsZXMuYmluZChkKSxqPWQuY2xhc3NGb2N1cy5iaW5kKGQpO2I9ZC5tYWluLnNlbGVjdChcIi5cIitsLmNoYXJ0TGluZXMpLnNlbGVjdEFsbChcIi5cIitsLmNoYXJ0TGluZSkuZGF0YShhKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm4gZihhKStqKGEpfSksYz1iLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLGMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixnKSxjLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsaCksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBkLmdlbmVyYXRlQ2xhc3MobC5zZWxlY3RlZENpcmNsZXMsYS5pZCl9KSxjLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsaSkuc3R5bGUoXCJjdXJzb3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZS5kYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGUoYSk/XCJwb2ludGVyXCI6bnVsbH0pLGEuZm9yRWFjaChmdW5jdGlvbihhKXtkLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuc2VsZWN0ZWRDaXJjbGVzK2QuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYS5pZCkpLnNlbGVjdEFsbChcIi5cIitsLnNlbGVjdGVkQ2lyY2xlKS5lYWNoKGZ1bmN0aW9uKGIpe2IudmFsdWU9YS52YWx1ZXNbYi5pbmRleF0udmFsdWV9KX0pfSxpLnVwZGF0ZUxpbmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLm1haW5MaW5lPWIubWFpbi5zZWxlY3RBbGwoXCIuXCIrbC5saW5lcykuc2VsZWN0QWxsKFwiLlwiK2wubGluZSkuZGF0YShiLmxpbmVEYXRhLmJpbmQoYikpLGIubWFpbkxpbmUuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLGIuY2xhc3NMaW5lLmJpbmQoYikpLnN0eWxlKFwic3Ryb2tlXCIsYi5jb2xvciksYi5tYWluTGluZS5zdHlsZShcIm9wYWNpdHlcIixiLmluaXRpYWxPcGFjaXR5LmJpbmQoYikpLnN0eWxlKFwic2hhcGUtcmVuZGVyaW5nXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGIuaXNTdGVwVHlwZShhKT9cImNyaXNwRWRnZXNcIjpcIlwifSkuYXR0cihcInRyYW5zZm9ybVwiLG51bGwpLGIubWFpbkxpbmUuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0saS5yZWRyYXdMaW5lPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiP3RoaXMubWFpbkxpbmUudHJhbnNpdGlvbigpOnRoaXMubWFpbkxpbmUpLmF0dHIoXCJkXCIsYSkuc3R5bGUoXCJzdHJva2VcIix0aGlzLmNvbG9yKS5zdHlsZShcIm9wYWNpdHlcIiwxKV19LGkuZ2VuZXJhdGVEcmF3TGluZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPWMuZDMuc3ZnLmxpbmUoKSxmPWMuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzKGEsYiksZz1iP2MuZ2V0U3ViWVNjYWxlOmMuZ2V0WVNjYWxlLGg9ZnVuY3Rpb24oYSl7cmV0dXJuKGI/Yy5zdWJ4eDpjLnh4KS5jYWxsKGMsYSl9LGk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5kYXRhX2dyb3Vwcy5sZW5ndGg+MD9mKGEsYilbMF1bMV06Zy5jYWxsKGMsYS5pZCkoYS52YWx1ZSl9O3JldHVybiBlPWQuYXhpc19yb3RhdGVkP2UueChpKS55KGgpOmUueChoKS55KGkpLGQubGluZV9jb25uZWN0TnVsbHx8KGU9ZS5kZWZpbmVkKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlfSkpLGZ1bmN0aW9uKGEpe3ZhciBmLGg9ZC5saW5lX2Nvbm5lY3ROdWxsP2MuZmlsdGVyUmVtb3ZlTnVsbChhLnZhbHVlcyk6YS52YWx1ZXMsaT1iP2MueDpjLnN1Ylgsaj1nLmNhbGwoYyxhLmlkKSxrPTAsbD0wO3JldHVybiBjLmlzTGluZVR5cGUoYSk/ZC5kYXRhX3JlZ2lvbnNbYS5pZF0/Zj1jLmxpbmVXaXRoUmVnaW9ucyhoLGksaixkLmRhdGFfcmVnaW9uc1thLmlkXSk6KGMuaXNTdGVwVHlwZShhKSYmKGg9Yy5jb252ZXJ0VmFsdWVzVG9TdGVwKGgpKSxmPWUuaW50ZXJwb2xhdGUoYy5nZXRJbnRlcnBvbGF0ZShhKSkoaCkpOihoWzBdJiYoaz1pKGhbMF0ueCksbD1qKGhbMF0udmFsdWUpKSxmPWQuYXhpc19yb3RhdGVkP1wiTSBcIitsK1wiIFwiK2s6XCJNIFwiK2srXCIgXCIrbCksZj9mOlwiTSAwIDBcIn19LGkuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9YS5fX21heF9fKzEsZj1jLmdldFNoYXBlWCgwLGUsYSwhIWIpLGc9Yy5nZXRTaGFwZVkoISFiKSxoPWMuZ2V0U2hhcGVPZmZzZXQoYy5pc0xpbmVUeXBlLGEsISFiKSxpPWI/Yy5nZXRTdWJZU2NhbGU6Yy5nZXRZU2NhbGU7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dmFyIGU9aS5jYWxsKGMsYS5pZCkoMCksaj1oKGEsYil8fGUsaz1mKGEpLGw9ZyhhKTtyZXR1cm4gZC5heGlzX3JvdGF0ZWQmJigwPGEudmFsdWUmJmU+bHx8YS52YWx1ZTwwJiZsPmUpJiYobD1lKSxbW2ssbC0oZS1qKV0sW2ssbC0oZS1qKV0sW2ssbC0oZS1qKV0sW2ssbC0oZS1qKV1dfX0saS5saW5lV2l0aFJlZ2lvbnM9ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhLGIpe3ZhciBjO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXS5zdGFydDxhJiZhPD1iW2NdLmVuZClyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBmKGEpe3JldHVyblwiTVwiK2FbMF1bMF0rXCIgXCIrYVswXVsxXStcIiBcIithWzFdWzBdK1wiIFwiK2FbMV1bMV19dmFyIGcsaCxpLGosayxsLG0sbixvLHIscyx0LHU9dGhpcyx2PXUuY29uZmlnLHc9LTEseD1cIk1cIix5PXUuaXNDYXRlZ29yaXplZCgpPy41OjAsej1bXTtpZihxKGQpKWZvcihnPTA7ZzxkLmxlbmd0aDtnKyspeltnXT17fSx6W2ddLnN0YXJ0PXAoZFtnXS5zdGFydCk/YVswXS54OnUuaXNUaW1lU2VyaWVzKCk/dS5wYXJzZURhdGUoZFtnXS5zdGFydCk6ZFtnXS5zdGFydCx6W2ddLmVuZD1wKGRbZ10uZW5kKT9hW2EubGVuZ3RoLTFdLng6dS5pc1RpbWVTZXJpZXMoKT91LnBhcnNlRGF0ZShkW2ddLmVuZCk6ZFtnXS5lbmQ7Zm9yKHM9di5heGlzX3JvdGF0ZWQ/ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS52YWx1ZSl9OmZ1bmN0aW9uKGEpe3JldHVybiBiKGEueCl9LHQ9di5heGlzX3JvdGF0ZWQ/ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYS54KX06ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS52YWx1ZSl9LGk9dS5pc1RpbWVTZXJpZXMoKT9mdW5jdGlvbihhLGQsZSxnKXt2YXIgaCxpPWEueC5nZXRUaW1lKCksaj1kLngtYS54LGw9bmV3IERhdGUoaStqKmUpLG09bmV3IERhdGUoaStqKihlK2cpKTtyZXR1cm4gaD12LmF4aXNfcm90YXRlZD9bW2MoayhlKSksYihsKV0sW2MoayhlK2cpKSxiKG0pXV06W1tiKGwpLGMoayhlKSldLFtiKG0pLGMoayhlK2cpKV1dLGYoaCl9OmZ1bmN0aW9uKGEsZCxlLGcpe3ZhciBoO3JldHVybiBoPXYuYXhpc19yb3RhdGVkP1tbYyhrKGUpLCEwKSxiKGooZSkpXSxbYyhrKGUrZyksITApLGIoaihlK2cpKV1dOltbYihqKGUpLCEwKSxjKGsoZSkpXSxbYihqKGUrZyksITApLGMoayhlK2cpKV1dLGYoaCl9LGc9MDtnPGEubGVuZ3RoO2crKyl7aWYocCh6KXx8IWUoYVtnXS54LHopKXgrPVwiIFwiK3MoYVtnXSkrXCIgXCIrdChhW2ddKTtlbHNlIGZvcihqPXUuZ2V0U2NhbGUoYVtnLTFdLngreSxhW2ddLngreSx1LmlzVGltZVNlcmllcygpKSxrPXUuZ2V0U2NhbGUoYVtnLTFdLnZhbHVlLGFbZ10udmFsdWUpLGw9YihhW2ddLngpLWIoYVtnLTFdLngpLG09YyhhW2ddLnZhbHVlKS1jKGFbZy0xXS52YWx1ZSksbj1NYXRoLnNxcnQoTWF0aC5wb3cobCwyKStNYXRoLnBvdyhtLDIpKSxvPTIvbixyPTIqbyxoPW87MT49aDtoKz1yKXgrPWkoYVtnLTFdLGFbZ10saCxvKTt3PWFbZ10ueH1yZXR1cm4geH0saS51cGRhdGVBcmVhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmQzO2IubWFpbkFyZWE9Yi5tYWluLnNlbGVjdEFsbChcIi5cIitsLmFyZWFzKS5zZWxlY3RBbGwoXCIuXCIrbC5hcmVhKS5kYXRhKGIubGluZURhdGEuYmluZChiKSksYi5tYWluQXJlYS5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsYi5jbGFzc0FyZWEuYmluZChiKSkuc3R5bGUoXCJmaWxsXCIsYi5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsZnVuY3Rpb24oKXtyZXR1cm4gYi5vcmdBcmVhT3BhY2l0eT0rYy5zZWxlY3QodGhpcykuc3R5bGUoXCJvcGFjaXR5XCIpLDB9KSxiLm1haW5BcmVhLnN0eWxlKFwib3BhY2l0eVwiLGIub3JnQXJlYU9wYWNpdHkpLGIubWFpbkFyZWEuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0saS5yZWRyYXdBcmVhPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiP3RoaXMubWFpbkFyZWEudHJhbnNpdGlvbigpOnRoaXMubWFpbkFyZWEpLmF0dHIoXCJkXCIsYSkuc3R5bGUoXCJmaWxsXCIsdGhpcy5jb2xvcikuc3R5bGUoXCJvcGFjaXR5XCIsdGhpcy5vcmdBcmVhT3BhY2l0eSldfSxpLmdlbmVyYXRlRHJhd0FyZWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1jLmQzLnN2Zy5hcmVhKCksZj1jLmdlbmVyYXRlR2V0QXJlYVBvaW50cyhhLGIpLGc9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZSxoPWZ1bmN0aW9uKGEpe3JldHVybihiP2Muc3VieHg6Yy54eCkuY2FsbChjLGEpfSxpPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGQuZGF0YV9ncm91cHMubGVuZ3RoPjA/ZihhLGIpWzBdWzFdOmcuY2FsbChjLGEuaWQpKGMuZ2V0QXJlYUJhc2VWYWx1ZShhLmlkKSl9LGo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZC5kYXRhX2dyb3Vwcy5sZW5ndGg+MD9mKGEsYilbMV1bMV06Zy5jYWxsKGMsYS5pZCkoYS52YWx1ZSl9O3JldHVybiBlPWQuYXhpc19yb3RhdGVkP2UueDAoaSkueDEoaikueShoKTplLngoaCkueTAoaSkueTEoaiksZC5saW5lX2Nvbm5lY3ROdWxsfHwoZT1lLmRlZmluZWQoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hLnZhbHVlfSkpLGZ1bmN0aW9uKGEpe3ZhciBiLGY9ZC5saW5lX2Nvbm5lY3ROdWxsP2MuZmlsdGVyUmVtb3ZlTnVsbChhLnZhbHVlcyk6YS52YWx1ZXMsZz0wLGg9MDtyZXR1cm4gYy5pc0FyZWFUeXBlKGEpPyhjLmlzU3RlcFR5cGUoYSkmJihmPWMuY29udmVydFZhbHVlc1RvU3RlcChmKSksYj1lLmludGVycG9sYXRlKGMuZ2V0SW50ZXJwb2xhdGUoYSkpKGYpKTooZlswXSYmKGc9Yy54KGZbMF0ueCksaD1jLmdldFlTY2FsZShhLmlkKShmWzBdLnZhbHVlKSksYj1kLmF4aXNfcm90YXRlZD9cIk0gXCIraCtcIiBcIitnOlwiTSBcIitnK1wiIFwiK2gpLGI/YjpcIk0gMCAwXCJ9fSxpLmdldEFyZWFCYXNlVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gMH0saS5nZW5lcmF0ZUdldEFyZWFQb2ludHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5jb25maWcsZT1hLl9fbWF4X18rMSxmPWMuZ2V0U2hhcGVYKDAsZSxhLCEhYiksZz1jLmdldFNoYXBlWSghIWIpLGg9Yy5nZXRTaGFwZU9mZnNldChjLmlzQXJlYVR5cGUsYSwhIWIpLGk9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZTtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgZT1pLmNhbGwoYyxhLmlkKSgwKSxqPWgoYSxiKXx8ZSxrPWYoYSksbD1nKGEpO3JldHVybiBkLmF4aXNfcm90YXRlZCYmKDA8YS52YWx1ZSYmZT5sfHxhLnZhbHVlPDAmJmw+ZSkmJihsPWUpLFtbayxqXSxbayxsLShlLWopXSxbayxsLShlLWopXSxbayxqXV19fSxpLnVwZGF0ZUNpcmNsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluQ2lyY2xlPWEubWFpbi5zZWxlY3RBbGwoXCIuXCIrbC5jaXJjbGVzKS5zZWxlY3RBbGwoXCIuXCIrbC5jaXJjbGUpLmRhdGEoYS5saW5lT3JTY2F0dGVyRGF0YS5iaW5kKGEpKSxhLm1haW5DaXJjbGUuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcImNsYXNzXCIsYS5jbGFzc0NpcmNsZS5iaW5kKGEpKS5hdHRyKFwiclwiLGEucG9pbnRSLmJpbmQoYSkpLnN0eWxlKFwiZmlsbFwiLGEuY29sb3IpLGEubWFpbkNpcmNsZS5zdHlsZShcIm9wYWNpdHlcIixhLmluaXRpYWxPcGFjaXR5Rm9yQ2lyY2xlLmJpbmQoYSkpLGEubWFpbkNpcmNsZS5leGl0KCkucmVtb3ZlKCl9LGkucmVkcmF3Q2lyY2xlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuc2VsZWN0ZWRDaXJjbGUpO3JldHVyblsoYz90aGlzLm1haW5DaXJjbGUudHJhbnNpdGlvbigpOnRoaXMubWFpbkNpcmNsZSkuc3R5bGUoXCJvcGFjaXR5XCIsdGhpcy5vcGFjaXR5Rm9yQ2lyY2xlLmJpbmQodGhpcykpLnN0eWxlKFwiZmlsbFwiLHRoaXMuY29sb3IpLmF0dHIoXCJjeFwiLGEpLmF0dHIoXCJjeVwiLGIpLChjP2QudHJhbnNpdGlvbigpOmQpLmF0dHIoXCJjeFwiLGEpLmF0dHIoXCJjeVwiLGIpXX0saS5jaXJjbGVYPWZ1bmN0aW9uKGEpe3JldHVybiBhLnh8fDA9PT1hLng/dGhpcy54KGEueCk6bnVsbH0saS51cGRhdGVDaXJjbGVZPWZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXM7Yy5jb25maWcuZGF0YV9ncm91cHMubGVuZ3RoPjA/KGE9Yy5nZXRTaGFwZUluZGljZXMoYy5pc0xpbmVUeXBlKSxiPWMuZ2VuZXJhdGVHZXRMaW5lUG9pbnRzKGEpLGMuY2lyY2xlWT1mdW5jdGlvbihhLGMpe3JldHVybiBiKGEsYylbMF1bMV19KTpjLmNpcmNsZVk9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZ2V0WVNjYWxlKGEuaWQpKGEudmFsdWUpfX0saS5nZXRDaXJjbGVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztyZXR1cm4oYj9jLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuY2lyY2xlcytjLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIpKTpjLm1haW4pLnNlbGVjdEFsbChcIi5cIitsLmNpcmNsZSsobShhKT9cIi1cIithOlwiXCIpKX0saS5leHBhbmRDaXJjbGVzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC5wb2ludEV4cGFuZGVkUi5iaW5kKGQpO2MmJmQudW5leHBhbmRDaXJjbGVzKCksZC5nZXRDaXJjbGVzKGEsYikuY2xhc3NlZChsLkVYUEFOREVELCEwKS5hdHRyKFwiclwiLGUpfSxpLnVuZXhwYW5kQ2lyY2xlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5wb2ludFIuYmluZChiKTtiLmdldENpcmNsZXMoYSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQobC5FWFBBTkRFRCl9KS5jbGFzc2VkKGwuRVhQQU5ERUQsITEpLmF0dHIoXCJyXCIsYyl9LGkucG9pbnRSPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZztyZXR1cm4gYi5pc1N0ZXBUeXBlKGEpPzA6bihjLnBvaW50X3IpP2MucG9pbnRfcihhKTpjLnBvaW50X3J9LGkucG9pbnRFeHBhbmRlZFI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBjLnBvaW50X2ZvY3VzX2V4cGFuZF9lbmFibGVkP2MucG9pbnRfZm9jdXNfZXhwYW5kX3I/Yy5wb2ludF9mb2N1c19leHBhbmRfcjoxLjc1KmIucG9pbnRSKGEpOmIucG9pbnRSKGEpfSxpLnBvaW50U2VsZWN0Uj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7cmV0dXJuIGMucG9pbnRfc2VsZWN0X3I/Yy5wb2ludF9zZWxlY3Rfcjo0KmIucG9pbnRSKGEpfSxpLmlzV2l0aGluQ2lyY2xlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5kMyxkPWMubW91c2UoYSksZT1jLnNlbGVjdChhKSxmPStlLmF0dHIoXCJjeFwiKSxnPStlLmF0dHIoXCJjeVwiKTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGYtZFswXSwyKStNYXRoLnBvdyhnLWRbMV0sMikpPGJ9LGkuaXNXaXRoaW5TdGVwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGguYWJzKGItdGhpcy5kMy5tb3VzZShhKVsxXSk8MzB9LGkuaW5pdEJhcj1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tYWluLnNlbGVjdChcIi5cIitsLmNoYXJ0KS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGwuY2hhcnRCYXJzKX0saS51cGRhdGVUYXJnZXRzRm9yQmFyPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLGU9ZC5jb25maWcsZj1kLmNsYXNzQ2hhcnRCYXIuYmluZChkKSxnPWQuY2xhc3NCYXJzLmJpbmQoZCksaD1kLmNsYXNzRm9jdXMuYmluZChkKTtiPWQubWFpbi5zZWxlY3QoXCIuXCIrbC5jaGFydEJhcnMpLnNlbGVjdEFsbChcIi5cIitsLmNoYXJ0QmFyKS5kYXRhKGEpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmKGEpK2goYSl9KSxjPWIuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGYpLnN0eWxlKFwib3BhY2l0eVwiLDApLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIiksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGcpLnN0eWxlKFwiY3Vyc29yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGUuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGEpP1wicG9pbnRlclwiOm51bGx9KX0saS51cGRhdGVCYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuYmFyRGF0YS5iaW5kKGIpLGQ9Yi5jbGFzc0Jhci5iaW5kKGIpLGU9Yi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpLGY9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY29sb3IoYS5pZCl9O2IubWFpbkJhcj1iLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuYmFycykuc2VsZWN0QWxsKFwiLlwiK2wuYmFyKS5kYXRhKGMpLGIubWFpbkJhci5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsZCkuc3R5bGUoXCJzdHJva2VcIixmKS5zdHlsZShcImZpbGxcIixmKSxiLm1haW5CYXIuc3R5bGUoXCJvcGFjaXR5XCIsZSksYi5tYWluQmFyLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCl9LGkucmVkcmF3QmFyPWZ1bmN0aW9uKGEsYil7cmV0dXJuWyhiP3RoaXMubWFpbkJhci50cmFuc2l0aW9uKCk6dGhpcy5tYWluQmFyKS5hdHRyKFwiZFwiLGEpLnN0eWxlKFwiZmlsbFwiLHRoaXMuY29sb3IpLnN0eWxlKFwib3BhY2l0eVwiLDEpXX0saS5nZXRCYXJXPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9XCJudW1iZXJcIj09dHlwZW9mIGQuYmFyX3dpZHRoP2QuYmFyX3dpZHRoOmI/YS50aWNrSW50ZXJ2YWwoKSpkLmJhcl93aWR0aF9yYXRpby9iOjA7cmV0dXJuIGQuYmFyX3dpZHRoX21heCYmZT5kLmJhcl93aWR0aF9tYXg/ZC5iYXJfd2lkdGhfbWF4OmV9LGkuZ2V0QmFycz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuKGI/Yy5tYWluLnNlbGVjdEFsbChcIi5cIitsLmJhcnMrYy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiKSk6Yy5tYWluKS5zZWxlY3RBbGwoXCIuXCIrbC5iYXIrKG0oYSk/XCItXCIrYTpcIlwiKSl9LGkuZXhwYW5kQmFycz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcztjJiZkLnVuZXhwYW5kQmFycygpLGQuZ2V0QmFycyhhLGIpLmNsYXNzZWQobC5FWFBBTkRFRCwhMCl9LGkudW5leHBhbmRCYXJzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5nZXRCYXJzKGEpLmNsYXNzZWQobC5FWFBBTkRFRCwhMSl9LGkuZ2VuZXJhdGVEcmF3QmFyPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9Yy5nZW5lcmF0ZUdldEJhclBvaW50cyhhLGIpO3JldHVybiBmdW5jdGlvbihhLGIpe3ZhciBjPWUoYSxiKSxmPWQuYXhpc19yb3RhdGVkPzE6MCxnPWQuYXhpc19yb3RhdGVkPzA6MSxoPVwiTSBcIitjWzBdW2ZdK1wiLFwiK2NbMF1bZ10rXCIgTFwiK2NbMV1bZl0rXCIsXCIrY1sxXVtnXStcIiBMXCIrY1syXVtmXStcIixcIitjWzJdW2ddK1wiIExcIitjWzNdW2ZdK1wiLFwiK2NbM11bZ10rXCIgelwiO3JldHVybiBofX0saS5nZW5lcmF0ZUdldEJhclBvaW50cz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1iP2Muc3ViWEF4aXM6Yy54QXhpcyxlPWEuX19tYXhfXysxLGY9Yy5nZXRCYXJXKGQsZSksZz1jLmdldFNoYXBlWChmLGUsYSwhIWIpLGg9Yy5nZXRTaGFwZVkoISFiKSxpPWMuZ2V0U2hhcGVPZmZzZXQoYy5pc0JhclR5cGUsYSwhIWIpLGo9Yj9jLmdldFN1YllTY2FsZTpjLmdldFlTY2FsZTtcbnJldHVybiBmdW5jdGlvbihhLGIpe3ZhciBkPWouY2FsbChjLGEuaWQpKDApLGU9aShhLGIpfHxkLGs9ZyhhKSxsPWgoYSk7cmV0dXJuIGMuY29uZmlnLmF4aXNfcm90YXRlZCYmKDA8YS52YWx1ZSYmZD5sfHxhLnZhbHVlPDAmJmw+ZCkmJihsPWQpLFtbayxlXSxbayxsLShkLWUpXSxbaytmLGwtKGQtZSldLFtrK2YsZV1dfX0saS5pc1dpdGhpbkJhcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmQzLm1vdXNlKGEpLGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxkPWEucGF0aFNlZ0xpc3QuZ2V0SXRlbSgwKSxlPWEucGF0aFNlZ0xpc3QuZ2V0SXRlbSgxKSxmPU1hdGgubWluKGQueCxlLngpLGc9TWF0aC5taW4oZC55LGUueSksaD1jLndpZHRoLGk9Yy5oZWlnaHQsaj0yLGs9Zi1qLGw9ZitoK2osbT1nK2kraixuPWctajtyZXR1cm4gazxiWzBdJiZiWzBdPGwmJm48YlsxXSYmYlsxXTxtfSxpLmluaXRUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLm1haW4uc2VsZWN0KFwiLlwiK2wuY2hhcnQpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbC5jaGFydFRleHRzKSxhLm1haW5UZXh0PWEuZDMuc2VsZWN0QWxsKFtdKX0saS51cGRhdGVUYXJnZXRzRm9yVGV4dD1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQuY2xhc3NDaGFydFRleHQuYmluZChkKSxmPWQuY2xhc3NUZXh0cy5iaW5kKGQpLGc9ZC5jbGFzc0ZvY3VzLmJpbmQoZCk7Yj1kLm1haW4uc2VsZWN0KFwiLlwiK2wuY2hhcnRUZXh0cykuc2VsZWN0QWxsKFwiLlwiK2wuY2hhcnRUZXh0KS5kYXRhKGEpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpK2coYSl9KSxjPWIuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGUpLnN0eWxlKFwib3BhY2l0eVwiLDApLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIiksYy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGYpfSxpLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi5iYXJPckxpbmVEYXRhLmJpbmQoYiksZT1iLmNsYXNzVGV4dC5iaW5kKGIpO2IubWFpblRleHQ9Yi5tYWluLnNlbGVjdEFsbChcIi5cIitsLnRleHRzKS5zZWxlY3RBbGwoXCIuXCIrbC50ZXh0KS5kYXRhKGQpLGIubWFpblRleHQuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJjbGFzc1wiLGUpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBjLmF4aXNfcm90YXRlZD9hLnZhbHVlPDA/XCJlbmRcIjpcInN0YXJ0XCI6XCJtaWRkbGVcIn0pLnN0eWxlKFwic3Ryb2tlXCIsXCJub25lXCIpLnN0eWxlKFwiZmlsbFwiLGZ1bmN0aW9uKGEpe3JldHVybiBiLmNvbG9yKGEpfSkuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwwKSxiLm1haW5UZXh0LnRleHQoZnVuY3Rpb24oYSxjLGQpe3JldHVybiBiLmRhdGFMYWJlbEZvcm1hdChhLmlkKShhLnZhbHVlLGEuaWQsYyxkKX0pLGIubWFpblRleHQuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLDApLnJlbW92ZSgpfSxpLnJlZHJhd1RleHQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuWyhkP3RoaXMubWFpblRleHQudHJhbnNpdGlvbigpOnRoaXMubWFpblRleHQpLmF0dHIoXCJ4XCIsYSkuYXR0cihcInlcIixiKS5zdHlsZShcImZpbGxcIix0aGlzLmNvbG9yKS5zdHlsZShcImZpbGwtb3BhY2l0eVwiLGM/MDp0aGlzLm9wYWNpdHlGb3JUZXh0LmJpbmQodGhpcykpXX0saS5nZXRUZXh0UmVjdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5kMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcImRpdlwiKS5jbGFzc2VkKFwiYzNcIiwhMCksZT1kLmFwcGVuZChcInN2Z1wiKS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKS5zdHlsZShcInBvc2l0aW9uXCIsXCJmaXhlZFwiKS5zdHlsZShcInRvcFwiLDApLnN0eWxlKFwibGVmdFwiLDApO3JldHVybiBlLnNlbGVjdEFsbChcIi5kdW1teVwiKS5kYXRhKFthXSkuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpLmNsYXNzZWQoYj9iOlwiXCIsITApLnRleHQoYSkuZWFjaChmdW5jdGlvbigpe2M9dGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0pLGQucmVtb3ZlKCksY30saS5nZW5lcmF0ZVhZRm9yVGV4dD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLGY9ZS5nZW5lcmF0ZUdldEFyZWFQb2ludHMoYSwhMSksZz1lLmdlbmVyYXRlR2V0QmFyUG9pbnRzKGIsITEpLGg9ZS5nZW5lcmF0ZUdldExpbmVQb2ludHMoYywhMSksaT1kP2UuZ2V0WEZvclRleHQ6ZS5nZXRZRm9yVGV4dDtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmlzQXJlYVR5cGUoYSk/ZjplLmlzQmFyVHlwZShhKT9nOmg7cmV0dXJuIGkuY2FsbChlLGMoYSxiKSxhLHRoaXMpfX0saS5nZXRYRm9yVGV4dD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXRoaXMsZz1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBmLmNvbmZpZy5heGlzX3JvdGF0ZWQ/KGU9Zi5pc0JhclR5cGUoYik/NDo2LGQ9YVsyXVsxXStlKihiLnZhbHVlPDA/LTE6MSkpOmQ9Zi5oYXNUeXBlKFwiYmFyXCIpPyhhWzJdWzBdK2FbMF1bMF0pLzI6YVswXVswXSxudWxsPT09Yi52YWx1ZSYmKGQ+Zi53aWR0aD9kPWYud2lkdGgtZy53aWR0aDowPmQmJihkPTQpKSxkfSxpLmdldFlGb3JUZXh0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMsZj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBlLmNvbmZpZy5heGlzX3JvdGF0ZWQ/ZD0oYVswXVswXSthWzJdWzBdKy42KmYuaGVpZ2h0KS8yOihkPWFbMl1bMV0sYi52YWx1ZTwwPyhkKz1mLmhlaWdodCxlLmlzQmFyVHlwZShiKSYmZS5pc1NhZmFyaSgpP2QtPTM6IWUuaXNCYXJUeXBlKGIpJiZlLmlzQ2hyb21lKCkmJihkKz0zKSk6ZCs9ZS5pc0JhclR5cGUoYik/LTM6LTYpLG51bGwhPT1iLnZhbHVlfHxlLmNvbmZpZy5heGlzX3JvdGF0ZWR8fChkPGYuaGVpZ2h0P2Q9Zi5oZWlnaHQ6ZD50aGlzLmhlaWdodCYmKGQ9dGhpcy5oZWlnaHQtNCkpLGR9LGkuc2V0VGFyZ2V0VHlwZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZztjLm1hcFRvVGFyZ2V0SWRzKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7Yy53aXRob3V0RmFkZUluW2FdPWI9PT1kLmRhdGFfdHlwZXNbYV0sZC5kYXRhX3R5cGVzW2FdPWJ9KSxhfHwoZC5kYXRhX3R5cGU9Yil9LGkuaGFzVHlwZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZy5kYXRhX3R5cGVzLGU9ITE7cmV0dXJuIGI9Ynx8Yy5kYXRhLnRhcmdldHMsYiYmYi5sZW5ndGg/Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWRbYi5pZF07KGMmJmMuaW5kZXhPZihhKT49MHx8IWMmJlwibGluZVwiPT09YSkmJihlPSEwKX0pOk9iamVjdC5rZXlzKGQpLmxlbmd0aD9PYmplY3Qua2V5cyhkKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2RbYl09PT1hJiYoZT0hMCl9KTplPWMuY29uZmlnLmRhdGFfdHlwZT09PWEsZX0saS5oYXNBcmNUeXBlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhc1R5cGUoXCJwaWVcIixhKXx8dGhpcy5oYXNUeXBlKFwiZG9udXRcIixhKXx8dGhpcy5oYXNUeXBlKFwiZ2F1Z2VcIixhKX0saS5pc0xpbmVUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnLGM9byhhKT9hOmEuaWQ7cmV0dXJuIWIuZGF0YV90eXBlc1tjXXx8W1wibGluZVwiLFwic3BsaW5lXCIsXCJhcmVhXCIsXCJhcmVhLXNwbGluZVwiLFwic3RlcFwiLFwiYXJlYS1zdGVwXCJdLmluZGV4T2YoYi5kYXRhX3R5cGVzW2NdKT49MH0saS5pc1N0ZXBUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW8oYSk/YTphLmlkO3JldHVybltcInN0ZXBcIixcImFyZWEtc3RlcFwiXS5pbmRleE9mKHRoaXMuY29uZmlnLmRhdGFfdHlwZXNbYl0pPj0wfSxpLmlzU3BsaW5lVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1vKGEpP2E6YS5pZDtyZXR1cm5bXCJzcGxpbmVcIixcImFyZWEtc3BsaW5lXCJdLmluZGV4T2YodGhpcy5jb25maWcuZGF0YV90eXBlc1tiXSk+PTB9LGkuaXNBcmVhVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1vKGEpP2E6YS5pZDtyZXR1cm5bXCJhcmVhXCIsXCJhcmVhLXNwbGluZVwiLFwiYXJlYS1zdGVwXCJdLmluZGV4T2YodGhpcy5jb25maWcuZGF0YV90eXBlc1tiXSk+PTB9LGkuaXNCYXJUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW8oYSk/YTphLmlkO3JldHVyblwiYmFyXCI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzU2NhdHRlclR5cGU9ZnVuY3Rpb24oYSl7dmFyIGI9byhhKT9hOmEuaWQ7cmV0dXJuXCJzY2F0dGVyXCI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzUGllVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1vKGEpP2E6YS5pZDtyZXR1cm5cInBpZVwiPT09dGhpcy5jb25maWcuZGF0YV90eXBlc1tiXX0saS5pc0dhdWdlVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1vKGEpP2E6YS5pZDtyZXR1cm5cImdhdWdlXCI9PT10aGlzLmNvbmZpZy5kYXRhX3R5cGVzW2JdfSxpLmlzRG9udXRUeXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW8oYSk/YTphLmlkO3JldHVyblwiZG9udXRcIj09PXRoaXMuY29uZmlnLmRhdGFfdHlwZXNbYl19LGkuaXNBcmNUeXBlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzUGllVHlwZShhKXx8dGhpcy5pc0RvbnV0VHlwZShhKXx8dGhpcy5pc0dhdWdlVHlwZShhKX0saS5saW5lRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0xpbmVUeXBlKGEpP1thXTpbXX0saS5hcmNEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQXJjVHlwZShhLmRhdGEpP1thXTpbXX0saS5iYXJEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQmFyVHlwZShhKT9hLnZhbHVlczpbXX0saS5saW5lT3JTY2F0dGVyRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0xpbmVUeXBlKGEpfHx0aGlzLmlzU2NhdHRlclR5cGUoYSk/YS52YWx1ZXM6W119LGkuYmFyT3JMaW5lRGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0JhclR5cGUoYSl8fHRoaXMuaXNMaW5lVHlwZShhKT9hLnZhbHVlczpbXX0saS5pbml0R3JpZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEuZDM7YS5ncmlkPWEubWFpbi5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGlwLXBhdGhcIixhLmNsaXBQYXRoRm9yR3JpZCkuYXR0cihcImNsYXNzXCIsbC5ncmlkKSxiLmdyaWRfeF9zaG93JiZhLmdyaWQuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLnhncmlkcyksYi5ncmlkX3lfc2hvdyYmYS5ncmlkLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbC55Z3JpZHMpLGIuZ3JpZF9mb2N1c19zaG93JiZhLmdyaWQuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLnhncmlkRm9jdXMpLmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsbC54Z3JpZEZvY3VzKSxhLnhncmlkPWMuc2VsZWN0QWxsKFtdKSxiLmdyaWRfbGluZXNfZnJvbnR8fGEuaW5pdEdyaWRMaW5lcygpfSxpLmluaXRHcmlkTGluZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMzthLmdyaWRMaW5lcz1hLm1haW4uYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xpcC1wYXRoXCIsYS5jbGlwUGF0aEZvckdyaWQpLmF0dHIoXCJjbGFzc1wiLGwuZ3JpZCtcIiBcIitsLmdyaWRMaW5lcyksYS5ncmlkTGluZXMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLnhncmlkTGluZXMpLGEuZ3JpZExpbmVzLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbC55Z3JpZExpbmVzKSxhLnhncmlkTGluZXM9Yi5zZWxlY3RBbGwoW10pfSxpLnVwZGF0ZVhHcmlkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIuZDMsZT1iLmdlbmVyYXRlR3JpZERhdGEoYy5ncmlkX3hfdHlwZSxiLngpLGY9Yi5pc0NhdGVnb3JpemVkKCk/Yi54QXhpcy50aWNrT2Zmc2V0KCk6MDtiLnhncmlkQXR0cj1jLmF4aXNfcm90YXRlZD97eDE6MCx4MjpiLndpZHRoLHkxOmZ1bmN0aW9uKGEpe3JldHVybiBiLngoYSktZn0seTI6ZnVuY3Rpb24oYSl7cmV0dXJuIGIueChhKS1mfX06e3gxOmZ1bmN0aW9uKGEpe3JldHVybiBiLngoYSkrZn0seDI6ZnVuY3Rpb24oYSl7cmV0dXJuIGIueChhKStmfSx5MTowLHkyOmIuaGVpZ2h0fSxiLnhncmlkPWIubWFpbi5zZWxlY3QoXCIuXCIrbC54Z3JpZHMpLnNlbGVjdEFsbChcIi5cIitsLnhncmlkKS5kYXRhKGUpLGIueGdyaWQuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpLmF0dHIoXCJjbGFzc1wiLGwueGdyaWQpLGF8fGIueGdyaWQuYXR0cihiLnhncmlkQXR0cikuc3R5bGUoXCJvcGFjaXR5XCIsZnVuY3Rpb24oKXtyZXR1cm4rZC5zZWxlY3QodGhpcykuYXR0cihjLmF4aXNfcm90YXRlZD9cInkxXCI6XCJ4MVwiKT09PShjLmF4aXNfcm90YXRlZD9iLmhlaWdodDowKT8wOjF9KSxiLnhncmlkLmV4aXQoKS5yZW1vdmUoKX0saS51cGRhdGVZR3JpZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWEueUF4aXMudGlja1ZhbHVlcygpfHxhLnkudGlja3MoYi5ncmlkX3lfdGlja3MpO2EueWdyaWQ9YS5tYWluLnNlbGVjdChcIi5cIitsLnlncmlkcykuc2VsZWN0QWxsKFwiLlwiK2wueWdyaWQpLmRhdGEoYyksYS55Z3JpZC5lbnRlcigpLmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsbC55Z3JpZCksYS55Z3JpZC5hdHRyKFwieDFcIixiLmF4aXNfcm90YXRlZD9hLnk6MCkuYXR0cihcIngyXCIsYi5heGlzX3JvdGF0ZWQ/YS55OmEud2lkdGgpLmF0dHIoXCJ5MVwiLGIuYXhpc19yb3RhdGVkPzA6YS55KS5hdHRyKFwieTJcIixiLmF4aXNfcm90YXRlZD9hLmhlaWdodDphLnkpLGEueWdyaWQuZXhpdCgpLnJlbW92ZSgpLGEuc21vb3RoTGluZXMoYS55Z3JpZCxcImdyaWRcIil9LGkuZ3JpZFRleHRBbmNob3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucG9zaXRpb24/YS5wb3NpdGlvbjpcImVuZFwifSxpLmdyaWRUZXh0RHg9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdGFydFwiPT09YS5wb3NpdGlvbj80OlwibWlkZGxlXCI9PT1hLnBvc2l0aW9uPzA6LTR9LGkueEdyaWRUZXh0WD1mdW5jdGlvbihhKXtyZXR1cm5cInN0YXJ0XCI9PT1hLnBvc2l0aW9uPy10aGlzLmhlaWdodDpcIm1pZGRsZVwiPT09YS5wb3NpdGlvbj8tdGhpcy5oZWlnaHQvMjowfSxpLnlHcmlkVGV4dFg9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdGFydFwiPT09YS5wb3NpdGlvbj8wOlwibWlkZGxlXCI9PT1hLnBvc2l0aW9uP3RoaXMud2lkdGgvMjp0aGlzLndpZHRofSxpLnVwZGF0ZUdyaWQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpcyxmPWUubWFpbixnPWUuY29uZmlnO2UuZ3JpZC5zdHlsZShcInZpc2liaWxpdHlcIixlLmhhc0FyY1R5cGUoKT9cImhpZGRlblwiOlwidmlzaWJsZVwiKSxmLnNlbGVjdChcImxpbmUuXCIrbC54Z3JpZEZvY3VzKS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSxnLmdyaWRfeF9zaG93JiZlLnVwZGF0ZVhHcmlkKCksZS54Z3JpZExpbmVzPWYuc2VsZWN0KFwiLlwiK2wueGdyaWRMaW5lcykuc2VsZWN0QWxsKFwiLlwiK2wueGdyaWRMaW5lKS5kYXRhKGcuZ3JpZF94X2xpbmVzKSxiPWUueGdyaWRMaW5lcy5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGwueGdyaWRMaW5lKyhhW1wiY2xhc3NcIl0/XCIgXCIrYVtcImNsYXNzXCJdOlwiXCIpfSksYi5hcHBlbmQoXCJsaW5lXCIpLnN0eWxlKFwib3BhY2l0eVwiLDApLGIuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwidGV4dC1hbmNob3JcIixlLmdyaWRUZXh0QW5jaG9yKS5hdHRyKFwidHJhbnNmb3JtXCIsZy5heGlzX3JvdGF0ZWQ/XCJcIjpcInJvdGF0ZSgtOTApXCIpLmF0dHIoXCJkeFwiLGUuZ3JpZFRleHREeCkuYXR0cihcImR5XCIsLTUpLnN0eWxlKFwib3BhY2l0eVwiLDApLGUueGdyaWRMaW5lcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpLGcuZ3JpZF95X3Nob3cmJmUudXBkYXRlWUdyaWQoKSxlLnlncmlkTGluZXM9Zi5zZWxlY3QoXCIuXCIrbC55Z3JpZExpbmVzKS5zZWxlY3RBbGwoXCIuXCIrbC55Z3JpZExpbmUpLmRhdGEoZy5ncmlkX3lfbGluZXMpLGM9ZS55Z3JpZExpbmVzLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm4gbC55Z3JpZExpbmUrKGFbXCJjbGFzc1wiXT9cIiBcIithW1wiY2xhc3NcIl06XCJcIil9KSxjLmFwcGVuZChcImxpbmVcIikuc3R5bGUoXCJvcGFjaXR5XCIsMCksYy5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLGUuZ3JpZFRleHRBbmNob3IpLmF0dHIoXCJ0cmFuc2Zvcm1cIixnLmF4aXNfcm90YXRlZD9cInJvdGF0ZSgtOTApXCI6XCJcIikuYXR0cihcImR4XCIsZS5ncmlkVGV4dER4KS5hdHRyKFwiZHlcIiwtNSkuc3R5bGUoXCJvcGFjaXR5XCIsMCksZD1lLnl2LmJpbmQoZSksZS55Z3JpZExpbmVzLnNlbGVjdChcImxpbmVcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLmF0dHIoXCJ4MVwiLGcuYXhpc19yb3RhdGVkP2Q6MCkuYXR0cihcIngyXCIsZy5heGlzX3JvdGF0ZWQ/ZDplLndpZHRoKS5hdHRyKFwieTFcIixnLmF4aXNfcm90YXRlZD8wOmQpLmF0dHIoXCJ5MlwiLGcuYXhpc19yb3RhdGVkP2UuaGVpZ2h0OmQpLnN0eWxlKFwib3BhY2l0eVwiLDEpLGUueWdyaWRMaW5lcy5zZWxlY3QoXCJ0ZXh0XCIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5hdHRyKFwieFwiLGcuYXhpc19yb3RhdGVkP2UueEdyaWRUZXh0WC5iaW5kKGUpOmUueUdyaWRUZXh0WC5iaW5kKGUpKS5hdHRyKFwieVwiLGQpLnRleHQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudGV4dH0pLnN0eWxlKFwib3BhY2l0eVwiLDEpLGUueWdyaWRMaW5lcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpfSxpLnJlZHJhd0dyaWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9Yi54di5iaW5kKGIpLGU9Yi54Z3JpZExpbmVzLnNlbGVjdChcImxpbmVcIiksZj1iLnhncmlkTGluZXMuc2VsZWN0KFwidGV4dFwiKTtyZXR1cm5bKGE/ZS50cmFuc2l0aW9uKCk6ZSkuYXR0cihcIngxXCIsYy5heGlzX3JvdGF0ZWQ/MDpkKS5hdHRyKFwieDJcIixjLmF4aXNfcm90YXRlZD9iLndpZHRoOmQpLmF0dHIoXCJ5MVwiLGMuYXhpc19yb3RhdGVkP2Q6MCkuYXR0cihcInkyXCIsYy5heGlzX3JvdGF0ZWQ/ZDpiLmhlaWdodCkuc3R5bGUoXCJvcGFjaXR5XCIsMSksKGE/Zi50cmFuc2l0aW9uKCk6ZikuYXR0cihcInhcIixjLmF4aXNfcm90YXRlZD9iLnlHcmlkVGV4dFguYmluZChiKTpiLnhHcmlkVGV4dFguYmluZChiKSkuYXR0cihcInlcIixkKS50ZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnRleHR9KS5zdHlsZShcIm9wYWNpdHlcIiwxKV19LGkuc2hvd1hHcmlkRm9jdXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnLGQ9YS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEmJm0oYS52YWx1ZSl9KSxlPWIubWFpbi5zZWxlY3RBbGwoXCJsaW5lLlwiK2wueGdyaWRGb2N1cyksZj1iLnh4LmJpbmQoYik7Yy50b29sdGlwX3Nob3cmJihiLmhhc1R5cGUoXCJzY2F0dGVyXCIpfHxiLmhhc0FyY1R5cGUoKXx8KGUuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpLmRhdGEoW2RbMF1dKS5hdHRyKGMuYXhpc19yb3RhdGVkP1wieTFcIjpcIngxXCIsZikuYXR0cihjLmF4aXNfcm90YXRlZD9cInkyXCI6XCJ4MlwiLGYpLGIuc21vb3RoTGluZXMoZSxcImdyaWRcIikpKX0saS5oaWRlWEdyaWRGb2N1cz1mdW5jdGlvbigpe3RoaXMubWFpbi5zZWxlY3QoXCJsaW5lLlwiK2wueGdyaWRGb2N1cykuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIil9LGkudXBkYXRlWGdyaWRGb2N1cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZzthLm1haW4uc2VsZWN0KFwibGluZS5cIitsLnhncmlkRm9jdXMpLmF0dHIoXCJ4MVwiLGIuYXhpc19yb3RhdGVkPzA6LTEwKS5hdHRyKFwieDJcIixiLmF4aXNfcm90YXRlZD9hLndpZHRoOi0xMCkuYXR0cihcInkxXCIsYi5heGlzX3JvdGF0ZWQ/LTEwOjApLmF0dHIoXCJ5MlwiLGIuYXhpc19yb3RhdGVkPy0xMDphLmhlaWdodCl9LGkuZ2VuZXJhdGVHcmlkRGF0YT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9dGhpcyxoPVtdLGk9Zy5tYWluLnNlbGVjdChcIi5cIitsLmF4aXNYKS5zZWxlY3RBbGwoXCIudGlja1wiKS5zaXplKCk7aWYoXCJ5ZWFyXCI9PT1hKWZvcihjPWcuZ2V0WERvbWFpbigpLGQ9Y1swXS5nZXRGdWxsWWVhcigpLGU9Y1sxXS5nZXRGdWxsWWVhcigpLGY9ZDtlPj1mO2YrKyloLnB1c2gobmV3IERhdGUoZitcIi0wMS0wMSAwMDowMDowMFwiKSk7ZWxzZSBoPWIudGlja3MoMTApLGgubGVuZ3RoPmkmJihoPWguZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybihcIlwiK2EpLmluZGV4T2YoXCIuXCIpPDB9KSk7cmV0dXJuIGh9LGkuZ2V0R3JpZEZpbHRlclRvUmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBhP2Z1bmN0aW9uKGIpe3ZhciBjPSExO3JldHVybltdLmNvbmNhdChhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyhcInZhbHVlXCJpbiBhJiZiLnZhbHVlPT09YS52YWx1ZXx8XCJjbGFzc1wiaW4gYSYmYltcImNsYXNzXCJdPT09YVtcImNsYXNzXCJdKSYmKGM9ITApfSksY306ZnVuY3Rpb24oKXtyZXR1cm4hMH19LGkucmVtb3ZlR3JpZExpbmVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuY29uZmlnLGU9Yy5nZXRHcmlkRmlsdGVyVG9SZW1vdmUoYSksZj1mdW5jdGlvbihhKXtyZXR1cm4hZShhKX0sZz1iP2wueGdyaWRMaW5lczpsLnlncmlkTGluZXMsaD1iP2wueGdyaWRMaW5lOmwueWdyaWRMaW5lO2MubWFpbi5zZWxlY3QoXCIuXCIrZykuc2VsZWN0QWxsKFwiLlwiK2gpLmZpbHRlcihlKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oZC50cmFuc2l0aW9uX2R1cmF0aW9uKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKSxiP2QuZ3JpZF94X2xpbmVzPWQuZ3JpZF94X2xpbmVzLmZpbHRlcihmKTpkLmdyaWRfeV9saW5lcz1kLmdyaWRfeV9saW5lcy5maWx0ZXIoZil9LGkuaW5pdFRvb2x0aXA9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMsYz1iLmNvbmZpZztpZihiLnRvb2x0aXA9Yi5zZWxlY3RDaGFydC5zdHlsZShcInBvc2l0aW9uXCIsXCJyZWxhdGl2ZVwiKS5hcHBlbmQoXCJkaXZcIikuYXR0cihcImNsYXNzXCIsbC50b29sdGlwQ29udGFpbmVyKS5zdHlsZShcInBvc2l0aW9uXCIsXCJhYnNvbHV0ZVwiKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLnN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKSxjLnRvb2x0aXBfaW5pdF9zaG93KXtpZihiLmlzVGltZVNlcmllcygpJiZvKGMudG9vbHRpcF9pbml0X3gpKXtmb3IoYy50b29sdGlwX2luaXRfeD1iLnBhcnNlRGF0ZShjLnRvb2x0aXBfaW5pdF94KSxhPTA7YTxiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMubGVuZ3RoJiZiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXNbYV0ueC1jLnRvb2x0aXBfaW5pdF94IT09MDthKyspO2MudG9vbHRpcF9pbml0X3g9YX1iLnRvb2x0aXAuaHRtbChjLnRvb2x0aXBfY29udGVudHMuY2FsbChiLGIuZGF0YS50YXJnZXRzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5hZGROYW1lKGEudmFsdWVzW2MudG9vbHRpcF9pbml0X3hdKX0pLGIuYXhpcy5nZXRYQXhpc1RpY2tGb3JtYXQoKSxiLmdldFlGb3JtYXQoYi5oYXNBcmNUeXBlKCkpLGIuY29sb3IpKSxiLnRvb2x0aXAuc3R5bGUoXCJ0b3BcIixjLnRvb2x0aXBfaW5pdF9wb3NpdGlvbi50b3ApLnN0eWxlKFwibGVmdFwiLGMudG9vbHRpcF9pbml0X3Bvc2l0aW9uLmxlZnQpLnN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9fSxpLmdldFRvb2x0aXBDb250ZW50PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaixrPXRoaXMsbT1rLmNvbmZpZyxuPW0udG9vbHRpcF9mb3JtYXRfdGl0bGV8fGIsbz1tLnRvb2x0aXBfZm9ybWF0X25hbWV8fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxwPW0udG9vbHRpcF9mb3JtYXRfdmFsdWV8fGM7Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKylhW2ZdJiYoYVtmXS52YWx1ZXx8MD09PWFbZl0udmFsdWUpJiYoZXx8KGc9bj9uKGFbZl0ueCk6YVtmXS54LGU9XCI8dGFibGUgY2xhc3M9J1wiK2wudG9vbHRpcCtcIic+XCIrKGd8fDA9PT1nP1wiPHRyPjx0aCBjb2xzcGFuPScyJz5cIitnK1wiPC90aD48L3RyPlwiOlwiXCIpKSxoPXAoYVtmXS52YWx1ZSxhW2ZdLnJhdGlvLGFbZl0uaWQsYVtmXS5pbmRleCksdm9pZCAwIT09aCYmKGk9byhhW2ZdLm5hbWUsYVtmXS5yYXRpbyxhW2ZdLmlkLGFbZl0uaW5kZXgpLGo9ay5sZXZlbENvbG9yP2subGV2ZWxDb2xvcihhW2ZdLnZhbHVlKTpkKGFbZl0uaWQpLGUrPVwiPHRyIGNsYXNzPSdcIitsLnRvb2x0aXBOYW1lK1wiLVwiK2FbZl0uaWQrXCInPlwiLGUrPVwiPHRkIGNsYXNzPSduYW1lJz48c3BhbiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIitqK1wiJz48L3NwYW4+XCIraStcIjwvdGQ+XCIsZSs9XCI8dGQgY2xhc3M9J3ZhbHVlJz5cIitoK1wiPC90ZD5cIixlKz1cIjwvdHI+XCIpKTtyZXR1cm4gZStcIjwvdGFibGU+XCJ9LGkudG9vbHRpcFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj10aGlzLGs9ai5jb25maWcsbD1qLmQzLG09ai5oYXNBcmNUeXBlKCksbj1sLm1vdXNlKGQpO3JldHVybiBtPyhmPShqLndpZHRoLShqLmlzTGVnZW5kUmlnaHQ/ai5nZXRMZWdlbmRXaWR0aCgpOjApKS8yK25bMF0saD1qLmhlaWdodC8yK25bMV0rMjApOihlPWouZ2V0U3ZnTGVmdCghMCksay5heGlzX3JvdGF0ZWQ/KGY9ZStuWzBdKzEwMCxnPWYrYixpPWouY3VycmVudFdpZHRoLWouZ2V0Q3VycmVudFBhZGRpbmdSaWdodCgpLGg9ai54KGFbMF0ueCkrMjApOihmPWUrai5nZXRDdXJyZW50UGFkZGluZ0xlZnQoITApK2oueChhWzBdLngpKzIwLGc9ZitiLGk9ZStqLmN1cnJlbnRXaWR0aC1qLmdldEN1cnJlbnRQYWRkaW5nUmlnaHQoKSxoPW5bMV0rMTUpLGc+aSYmKGYtPWctaSsyMCksaCtjPmouY3VycmVudEhlaWdodCYmKGgtPWMrMzApKSwwPmgmJihoPTApLHt0b3A6aCxsZWZ0OmZ9fSxpLnNob3dUb29sdGlwPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcyxnPWYuY29uZmlnLGg9Zi5oYXNBcmNUeXBlKCksaj1hLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSYmbShhLnZhbHVlKX0pLGs9Zy50b29sdGlwX3Bvc2l0aW9ufHxpLnRvb2x0aXBQb3NpdGlvbjswIT09ai5sZW5ndGgmJmcudG9vbHRpcF9zaG93JiYoZi50b29sdGlwLmh0bWwoZy50b29sdGlwX2NvbnRlbnRzLmNhbGwoZixhLGYuYXhpcy5nZXRYQXhpc1RpY2tGb3JtYXQoKSxmLmdldFlGb3JtYXQoaCksZi5jb2xvcikpLnN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIiksYz1mLnRvb2x0aXAucHJvcGVydHkoXCJvZmZzZXRXaWR0aFwiKSxkPWYudG9vbHRpcC5wcm9wZXJ0eShcIm9mZnNldEhlaWdodFwiKSxlPWsuY2FsbCh0aGlzLGosYyxkLGIpLGYudG9vbHRpcC5zdHlsZShcInRvcFwiLGUudG9wK1wicHhcIikuc3R5bGUoXCJsZWZ0XCIsZS5sZWZ0K1wicHhcIikpfSxpLmhpZGVUb29sdGlwPWZ1bmN0aW9uKCl7dGhpcy50b29sdGlwLnN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0saS5pbml0TGVnZW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5sZWdlbmRJdGVtVGV4dEJveD17fSxhLmxlZ2VuZEhhc1JlbmRlcmVkPSExLGEubGVnZW5kPWEuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLGEuZ2V0VHJhbnNsYXRlKFwibGVnZW5kXCIpKSxhLmNvbmZpZy5sZWdlbmRfc2hvdz92b2lkIGEudXBkYXRlTGVnZW5kV2l0aERlZmF1bHRzKCk6KGEubGVnZW5kLnN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLHZvaWQoYS5oaWRkZW5MZWdlbmRJZHM9YS5tYXBUb0lkcyhhLmRhdGEudGFyZ2V0cykpKX0saS51cGRhdGVMZWdlbmRXaXRoRGVmYXVsdHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EudXBkYXRlTGVnZW5kKGEubWFwVG9JZHMoYS5kYXRhLnRhcmdldHMpLHt3aXRoVHJhbnNmb3JtOiExLHdpdGhUcmFuc2l0aW9uRm9yVHJhbnNmb3JtOiExLHdpdGhUcmFuc2l0aW9uOiExfSl9LGkudXBkYXRlU2l6ZUZvckxlZ2VuZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmNvbmZpZyxlPXt0b3A6Yy5pc0xlZ2VuZFRvcD9jLmdldEN1cnJlbnRQYWRkaW5nVG9wKCkrZC5sZWdlbmRfaW5zZXRfeSs1LjU6Yy5jdXJyZW50SGVpZ2h0LWEtYy5nZXRDdXJyZW50UGFkZGluZ0JvdHRvbSgpLWQubGVnZW5kX2luc2V0X3ksbGVmdDpjLmlzTGVnZW5kTGVmdD9jLmdldEN1cnJlbnRQYWRkaW5nTGVmdCgpK2QubGVnZW5kX2luc2V0X3grLjU6Yy5jdXJyZW50V2lkdGgtYi1jLmdldEN1cnJlbnRQYWRkaW5nUmlnaHQoKS1kLmxlZ2VuZF9pbnNldF94Ky41fTtjLm1hcmdpbjM9e3RvcDpjLmlzTGVnZW5kUmlnaHQ/MDpjLmlzTGVnZW5kSW5zZXQ/ZS50b3A6Yy5jdXJyZW50SGVpZ2h0LWEscmlnaHQ6MC8wLGJvdHRvbTowLGxlZnQ6Yy5pc0xlZ2VuZFJpZ2h0P2MuY3VycmVudFdpZHRoLWI6Yy5pc0xlZ2VuZEluc2V0P2UubGVmdDowfX0saS50cmFuc2Zvcm1MZWdlbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczsoYT9iLmxlZ2VuZC50cmFuc2l0aW9uKCk6Yi5sZWdlbmQpLmF0dHIoXCJ0cmFuc2Zvcm1cIixiLmdldFRyYW5zbGF0ZShcImxlZ2VuZFwiKSl9LGkudXBkYXRlTGVnZW5kU3RlcD1mdW5jdGlvbihhKXt0aGlzLmxlZ2VuZFN0ZXA9YX0saS51cGRhdGVMZWdlbmRJdGVtV2lkdGg9ZnVuY3Rpb24oYSl7dGhpcy5sZWdlbmRJdGVtV2lkdGg9YX0saS51cGRhdGVMZWdlbmRJdGVtSGVpZ2h0PWZ1bmN0aW9uKGEpe3RoaXMubGVnZW5kSXRlbUhlaWdodD1hfSxpLmdldExlZ2VuZFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5jb25maWcubGVnZW5kX3Nob3c/YS5pc0xlZ2VuZFJpZ2h0fHxhLmlzTGVnZW5kSW5zZXQ/YS5sZWdlbmRJdGVtV2lkdGgqKGEubGVnZW5kU3RlcCsxKTphLmN1cnJlbnRXaWR0aDowfSxpLmdldExlZ2VuZEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0wO3JldHVybiBhLmNvbmZpZy5sZWdlbmRfc2hvdyYmKGI9YS5pc0xlZ2VuZFJpZ2h0P2EuY3VycmVudEhlaWdodDpNYXRoLm1heCgyMCxhLmxlZ2VuZEl0ZW1IZWlnaHQpKihhLmxlZ2VuZFN0ZXArMSkpLGJ9LGkub3BhY2l0eUZvckxlZ2VuZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc2VkKGwubGVnZW5kSXRlbUhpZGRlbik/bnVsbDoxfSxpLm9wYWNpdHlGb3JVbmZvY3VzZWRMZWdlbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NlZChsLmxlZ2VuZEl0ZW1IaWRkZW4pP251bGw6LjN9LGkudG9nZ2xlRm9jdXNMZWdlbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2E9Yy5tYXBUb1RhcmdldElkcyhhKSxjLmxlZ2VuZC5zZWxlY3RBbGwoXCIuXCIrbC5sZWdlbmRJdGVtKS5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKT49MH0pLmNsYXNzZWQobC5sZWdlbmRJdGVtRm9jdXNlZCxiKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwKS5zdHlsZShcIm9wYWNpdHlcIixmdW5jdGlvbigpe3ZhciBhPWI/Yy5vcGFjaXR5Rm9yTGVnZW5kOmMub3BhY2l0eUZvclVuZm9jdXNlZExlZ2VuZDtyZXR1cm4gYS5jYWxsKGMsYy5kMy5zZWxlY3QodGhpcykpfSl9LGkucmV2ZXJ0TGVnZW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDM7YS5sZWdlbmQuc2VsZWN0QWxsKFwiLlwiK2wubGVnZW5kSXRlbSkuY2xhc3NlZChsLmxlZ2VuZEl0ZW1Gb2N1c2VkLCExKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwKS5zdHlsZShcIm9wYWNpdHlcIixmdW5jdGlvbigpe3JldHVybiBhLm9wYWNpdHlGb3JMZWdlbmQoYi5zZWxlY3QodGhpcykpfSl9LGkuc2hvd0xlZ2VuZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7Yy5sZWdlbmRfc2hvd3x8KGMubGVnZW5kX3Nob3c9ITAsYi5sZWdlbmQuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpLGIubGVnZW5kSGFzUmVuZGVyZWR8fGIudXBkYXRlTGVnZW5kV2l0aERlZmF1bHRzKCkpLGIucmVtb3ZlSGlkZGVuTGVnZW5kSWRzKGEpLGIubGVnZW5kLnNlbGVjdEFsbChiLnNlbGVjdG9yTGVnZW5kcyhhKSkuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJ2aXNpYmxlXCIpLnRyYW5zaXRpb24oKS5zdHlsZShcIm9wYWNpdHlcIixmdW5jdGlvbigpe3JldHVybiBiLm9wYWNpdHlGb3JMZWdlbmQoYi5kMy5zZWxlY3QodGhpcykpfSl9LGkuaGlkZUxlZ2VuZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7Yy5sZWdlbmRfc2hvdyYmdShhKSYmKGMubGVnZW5kX3Nob3c9ITEsYi5sZWdlbmQuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIikpLGIuYWRkSGlkZGVuTGVnZW5kSWRzKGEpLGIubGVnZW5kLnNlbGVjdEFsbChiLnNlbGVjdG9yTGVnZW5kcyhhKSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIil9LGkuY2xlYXJMZWdlbmRJdGVtVGV4dEJveENhY2hlPWZ1bmN0aW9uKCl7dGhpcy5sZWdlbmRJdGVtVGV4dEJveD17fX0saS51cGRhdGVMZWdlbmQ9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gdS5sZWdlbmRJdGVtVGV4dEJveFtiXXx8KHUubGVnZW5kSXRlbVRleHRCb3hbYl09dS5nZXRUZXh0UmVjdChhLnRleHRDb250ZW50LGwubGVnZW5kSXRlbSkpLHUubGVnZW5kSXRlbVRleHRCb3hbYl19ZnVuY3Rpb24gZShiLGMsZSl7ZnVuY3Rpb24gZihhLGIpe2J8fChnPShvLUQtbikvMixCPmcmJihnPShvLW4pLzIsRD0wLEorKykpLElbYV09SixIW0pdPXUuaXNMZWdlbmRJbnNldD8xMDpnLEVbYV09RCxEKz1ufXZhciBnLGgsaT0wPT09ZSxqPWU9PT1hLmxlbmd0aC0xLGs9ZChiLGMpLGw9ay53aWR0aCtDKyghanx8dS5pc0xlZ2VuZFJpZ2h0fHx1LmlzTGVnZW5kSW5zZXQ/eTowKSxtPWsuaGVpZ2h0K3gsbj11LmlzTGVnZW5kUmlnaHR8fHUuaXNMZWdlbmRJbnNldD9tOmwsbz11LmlzTGVnZW5kUmlnaHR8fHUuaXNMZWdlbmRJbnNldD91LmdldExlZ2VuZEhlaWdodCgpOnUuZ2V0TGVnZW5kV2lkdGgoKTtyZXR1cm4gaSYmKEQ9MCxKPTAsej0wLEE9MCksdi5sZWdlbmRfc2hvdyYmIXUuaXNMZWdlbmRUb1Nob3coYyk/dm9pZChGW2NdPUdbY109SVtjXT1FW2NdPTApOihGW2NdPWwsR1tjXT1tLCghenx8bD49eikmJih6PWwpLCghQXx8bT49QSkmJihBPW0pLGg9dS5pc0xlZ2VuZFJpZ2h0fHx1LmlzTGVnZW5kSW5zZXQ/QTp6LHZvaWQodi5sZWdlbmRfZXF1YWxseT8oT2JqZWN0LmtleXMoRikuZm9yRWFjaChmdW5jdGlvbihhKXtGW2FdPXp9KSxPYmplY3Qua2V5cyhHKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe0dbYV09QX0pLGc9KG8taCphLmxlbmd0aCkvMixCPmc/KEQ9MCxKPTAsYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2YoYSl9KSk6ZihjLCEwKSk6ZihjKSkpfXZhciBmLGcsaCxpLGosayxtLG4sbyxwLHIscyx0LHU9dGhpcyx2PXUuY29uZmlnLHg9NCx5PTEwLHo9MCxBPTAsQj0xMCxDPTE1LEQ9MCxFPXt9LEY9e30sRz17fSxIPVswXSxJPXt9LEo9MDtiPWJ8fHt9LG49dyhiLFwid2l0aFRyYW5zaXRpb25cIiwhMCksbz13KGIsXCJ3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybVwiLCEwKSx1LmlzTGVnZW5kSW5zZXQmJihKPXYubGVnZW5kX2luc2V0X3N0ZXA/di5sZWdlbmRfaW5zZXRfc3RlcDphLmxlbmd0aCx1LnVwZGF0ZUxlZ2VuZFN0ZXAoSikpLHUuaXNMZWdlbmRSaWdodD8oZj1mdW5jdGlvbihhKXtyZXR1cm4geipJW2FdfSxpPWZ1bmN0aW9uKGEpe3JldHVybiBIW0lbYV1dK0VbYV19KTp1LmlzTGVnZW5kSW5zZXQ/KGY9ZnVuY3Rpb24oYSl7cmV0dXJuIHoqSVthXSsxMH0saT1mdW5jdGlvbihhKXtyZXR1cm4gSFtJW2FdXStFW2FdfSk6KGY9ZnVuY3Rpb24oYSl7cmV0dXJuIEhbSVthXV0rRVthXX0saT1mdW5jdGlvbihhKXtyZXR1cm4gQSpJW2FdfSksZz1mdW5jdGlvbihhLGIpe3JldHVybiBmKGEsYikrMTR9LGo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaShhLGIpKzl9LGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLGIpfSxrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGkoYSxiKS01fSxtPXUubGVnZW5kLnNlbGVjdEFsbChcIi5cIitsLmxlZ2VuZEl0ZW0pLmRhdGEoYSkuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGEpe3JldHVybiB1LmdlbmVyYXRlQ2xhc3MobC5sZWdlbmRJdGVtLGEpfSkuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsZnVuY3Rpb24oYSl7cmV0dXJuIHUuaXNMZWdlbmRUb1Nob3coYSk/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIn0pLnN0eWxlKFwiY3Vyc29yXCIsXCJwb2ludGVyXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXt2LmxlZ2VuZF9pdGVtX29uY2xpY2s/di5sZWdlbmRfaXRlbV9vbmNsaWNrLmNhbGwodSxhKTp1LmQzLmV2ZW50LmFsdEtleT8odS5hcGkuaGlkZSgpLHUuYXBpLnNob3coYSkpOih1LmFwaS50b2dnbGUoYSksdS5pc1RhcmdldFRvU2hvdyhhKT91LmFwaS5mb2N1cyhhKTp1LmFwaS5yZXZlcnQoKSl9KS5vbihcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKGEpe3UuZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQobC5sZWdlbmRJdGVtRm9jdXNlZCwhMCksIXUudHJhbnNpdGluZyYmdS5pc1RhcmdldFRvU2hvdyhhKSYmdS5hcGkuZm9jdXMoYSksdi5sZWdlbmRfaXRlbV9vbm1vdXNlb3ZlciYmdi5sZWdlbmRfaXRlbV9vbm1vdXNlb3Zlci5jYWxsKHUsYSl9KS5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7dS5kMy5zZWxlY3QodGhpcykuY2xhc3NlZChsLmxlZ2VuZEl0ZW1Gb2N1c2VkLCExKSx1LmFwaS5yZXZlcnQoKSx2LmxlZ2VuZF9pdGVtX29ubW91c2VvdXQmJnYubGVnZW5kX2l0ZW1fb25tb3VzZW91dC5jYWxsKHUsYSl9KSxtLmFwcGVuZChcInRleHRcIikudGV4dChmdW5jdGlvbihhKXtyZXR1cm4gcSh2LmRhdGFfbmFtZXNbYV0pP3YuZGF0YV9uYW1lc1thXTphfSkuZWFjaChmdW5jdGlvbihhLGIpe2UodGhpcyxhLGIpfSkuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKS5hdHRyKFwieFwiLHUuaXNMZWdlbmRSaWdodHx8dS5pc0xlZ2VuZEluc2V0P2c6LTIwMCkuYXR0cihcInlcIix1LmlzTGVnZW5kUmlnaHR8fHUuaXNMZWdlbmRJbnNldD8tMjAwOmopLG0uYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixsLmxlZ2VuZEl0ZW1FdmVudCkuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwwKS5hdHRyKFwieFwiLHUuaXNMZWdlbmRSaWdodHx8dS5pc0xlZ2VuZEluc2V0P2g6LTIwMCkuYXR0cihcInlcIix1LmlzTGVnZW5kUmlnaHR8fHUuaXNMZWdlbmRJbnNldD8tMjAwOmspLG0uYXBwZW5kKFwicmVjdFwiKS5hdHRyKFwiY2xhc3NcIixsLmxlZ2VuZEl0ZW1UaWxlKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLnN0eWxlKFwiZmlsbFwiLHUuY29sb3IpLmF0dHIoXCJ4XCIsdS5pc0xlZ2VuZFJpZ2h0fHx1LmlzTGVnZW5kSW5zZXQ/ZzotMjAwKS5hdHRyKFwieVwiLHUuaXNMZWdlbmRSaWdodHx8dS5pc0xlZ2VuZEluc2V0Py0yMDA6aSkuYXR0cihcIndpZHRoXCIsMTApLmF0dHIoXCJoZWlnaHRcIiwxMCksdD11LmxlZ2VuZC5zZWxlY3QoXCIuXCIrbC5sZWdlbmRCYWNrZ3JvdW5kK1wiIHJlY3RcIiksdS5pc0xlZ2VuZEluc2V0JiZ6PjAmJjA9PT10LnNpemUoKSYmKHQ9dS5sZWdlbmQuaW5zZXJ0KFwiZ1wiLFwiLlwiK2wubGVnZW5kSXRlbSkuYXR0cihcImNsYXNzXCIsbC5sZWdlbmRCYWNrZ3JvdW5kKS5hcHBlbmQoXCJyZWN0XCIpKSxwPXUubGVnZW5kLnNlbGVjdEFsbChcInRleHRcIikuZGF0YShhKS50ZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBxKHYuZGF0YV9uYW1lc1thXSk/di5kYXRhX25hbWVzW2FdOmF9KS5lYWNoKGZ1bmN0aW9uKGEsYil7ZSh0aGlzLGEsYil9KSwobj9wLnRyYW5zaXRpb24oKTpwKS5hdHRyKFwieFwiLGcpLmF0dHIoXCJ5XCIsaikscj11LmxlZ2VuZC5zZWxlY3RBbGwoXCJyZWN0LlwiK2wubGVnZW5kSXRlbUV2ZW50KS5kYXRhKGEpLChuP3IudHJhbnNpdGlvbigpOnIpLmF0dHIoXCJ3aWR0aFwiLGZ1bmN0aW9uKGEpe3JldHVybiBGW2FdfSkuYXR0cihcImhlaWdodFwiLGZ1bmN0aW9uKGEpe3JldHVybiBHW2FdfSkuYXR0cihcInhcIixoKS5hdHRyKFwieVwiLGspLHM9dS5sZWdlbmQuc2VsZWN0QWxsKFwicmVjdC5cIitsLmxlZ2VuZEl0ZW1UaWxlKS5kYXRhKGEpLChuP3MudHJhbnNpdGlvbigpOnMpLnN0eWxlKFwiZmlsbFwiLHUuY29sb3IpLmF0dHIoXCJ4XCIsZikuYXR0cihcInlcIixpKSx0JiYobj90LnRyYW5zaXRpb24oKTp0KS5hdHRyKFwiaGVpZ2h0XCIsdS5nZXRMZWdlbmRIZWlnaHQoKS0xMikuYXR0cihcIndpZHRoXCIseiooSisxKSsxMCksdS5sZWdlbmQuc2VsZWN0QWxsKFwiLlwiK2wubGVnZW5kSXRlbSkuY2xhc3NlZChsLmxlZ2VuZEl0ZW1IaWRkZW4sZnVuY3Rpb24oYSl7cmV0dXJuIXUuaXNUYXJnZXRUb1Nob3coYSl9KSx1LnVwZGF0ZUxlZ2VuZEl0ZW1XaWR0aCh6KSx1LnVwZGF0ZUxlZ2VuZEl0ZW1IZWlnaHQoQSksdS51cGRhdGVMZWdlbmRTdGVwKEopLHUudXBkYXRlU2l6ZXMoKSx1LnVwZGF0ZVNjYWxlcygpLHUudXBkYXRlU3ZnU2l6ZSgpLHUudHJhbnNmb3JtQWxsKG8sYyksdS5sZWdlbmRIYXNSZW5kZXJlZD0hMH0sYyhiLGYpLGYucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLGI9YS5jb25maWcsYz1hLm1haW47YS5heGVzLng9Yy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGwuYXhpcytcIiBcIitsLmF4aXNYKS5hdHRyKFwiY2xpcC1wYXRoXCIsYS5jbGlwUGF0aEZvclhBeGlzKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJ4XCIpKS5zdHlsZShcInZpc2liaWxpdHlcIixiLmF4aXNfeF9zaG93P1widmlzaWJsZVwiOlwiaGlkZGVuXCIpLGEuYXhlcy54LmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsbC5heGlzWExhYmVsKS5hdHRyKFwidHJhbnNmb3JtXCIsYi5heGlzX3JvdGF0ZWQ/XCJyb3RhdGUoLTkwKVwiOlwiXCIpLnN0eWxlKFwidGV4dC1hbmNob3JcIix0aGlzLnRleHRBbmNob3JGb3JYQXhpc0xhYmVsLmJpbmQodGhpcykpLGEuYXhlcy55PWMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLmF4aXMrXCIgXCIrbC5heGlzWSkuYXR0cihcImNsaXAtcGF0aFwiLGIuYXhpc195X2lubmVyP1wiXCI6YS5jbGlwUGF0aEZvcllBeGlzKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJ5XCIpKS5zdHlsZShcInZpc2liaWxpdHlcIixiLmF4aXNfeV9zaG93P1widmlzaWJsZVwiOlwiaGlkZGVuXCIpLGEuYXhlcy55LmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsbC5heGlzWUxhYmVsKS5hdHRyKFwidHJhbnNmb3JtXCIsYi5heGlzX3JvdGF0ZWQ/XCJcIjpcInJvdGF0ZSgtOTApXCIpLnN0eWxlKFwidGV4dC1hbmNob3JcIix0aGlzLnRleHRBbmNob3JGb3JZQXhpc0xhYmVsLmJpbmQodGhpcykpLGEuYXhlcy55Mj1jLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbC5heGlzK1wiIFwiK2wuYXhpc1kyKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJ5MlwiKSkuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsYi5heGlzX3kyX3Nob3c/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIiksYS5heGVzLnkyLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsbC5heGlzWTJMYWJlbCkuYXR0cihcInRyYW5zZm9ybVwiLGIuYXhpc19yb3RhdGVkP1wiXCI6XCJyb3RhdGUoLTkwKVwiKS5zdHlsZShcInRleHQtYW5jaG9yXCIsdGhpcy50ZXh0QW5jaG9yRm9yWTJBeGlzTGFiZWwuYmluZCh0aGlzKSl9LGYucHJvdG90eXBlLmdldFhBeGlzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGgpe3ZhciBpPXRoaXMub3duZXIsaj1pLmNvbmZpZyxrPXtpc0NhdGVnb3J5OmkuaXNDYXRlZ29yaXplZCgpLHdpdGhPdXRlclRpY2s6ZSx0aWNrTXVsdGlsaW5lOmouYXhpc194X3RpY2tfbXVsdGlsaW5lLHRpY2tXaWR0aDpqLmF4aXNfeF90aWNrX3dpZHRoLHRpY2tUZXh0Um90YXRlOmg/MDpqLmF4aXNfeF90aWNrX3JvdGF0ZSx3aXRob3V0VHJhbnNpdGlvbjpmfSxsPWcoaS5kMyxrKS5zY2FsZShhKS5vcmllbnQoYik7cmV0dXJuIGkuaXNUaW1lU2VyaWVzKCkmJmQmJihkPWQubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBpLnBhcnNlRGF0ZShhKX0pKSxsLnRpY2tGb3JtYXQoYykudGlja1ZhbHVlcyhkKSxpLmlzQ2F0ZWdvcml6ZWQoKSYmKGwudGlja0NlbnRlcmVkKGouYXhpc194X3RpY2tfY2VudGVyZWQpLHUoai5heGlzX3hfdGlja19jdWxsaW5nKSYmKGouYXhpc194X3RpY2tfY3VsbGluZz0hMSkpLGx9LGYucHJvdG90eXBlLnVwZGF0ZVhBeGlzVGlja1ZhbHVlcz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5vd25lcixlPWQuY29uZmlnO3JldHVybihlLmF4aXNfeF90aWNrX2ZpdHx8ZS5heGlzX3hfdGlja19jb3VudCkmJihjPXRoaXMuZ2VuZXJhdGVUaWNrVmFsdWVzKGQubWFwVGFyZ2V0c1RvVW5pcXVlWHMoYSksZS5heGlzX3hfdGlja19jb3VudCxkLmlzVGltZVNlcmllcygpKSksYj9iLnRpY2tWYWx1ZXMoYyk6KGQueEF4aXMudGlja1ZhbHVlcyhjKSxkLnN1YlhBeGlzLnRpY2tWYWx1ZXMoYykpLGN9LGYucHJvdG90eXBlLmdldFlBeGlzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgaD17d2l0aE91dGVyVGljazplLHdpdGhvdXRUcmFuc2l0aW9uOmZ9LGk9dGhpcy5vd25lcixqPWkuZDMsaz1pLmNvbmZpZyxsPWcoaixoKS5zY2FsZShhKS5vcmllbnQoYikudGlja0Zvcm1hdChjKTtyZXR1cm4gaS5pc1RpbWVTZXJpZXNZKCk/bC50aWNrcyhqLnRpbWVbay5heGlzX3lfdGlja190aW1lX3ZhbHVlXSxrLmF4aXNfeV90aWNrX3RpbWVfaW50ZXJ2YWwpOmwudGlja1ZhbHVlcyhkKSxsfSxmLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm93bmVyLmNvbmZpZztyZXR1cm4gYSBpbiBiLmRhdGFfYXhlcz9iLmRhdGFfYXhlc1thXTpcInlcIn0sZi5wcm90b3R5cGUuZ2V0WEF4aXNUaWNrRm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vd25lcixiPWEuY29uZmlnLGM9YS5pc1RpbWVTZXJpZXMoKT9hLmRlZmF1bHRBeGlzVGltZUZvcm1hdDphLmlzQ2F0ZWdvcml6ZWQoKT9hLmNhdGVnb3J5TmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gMD5hP2EudG9GaXhlZCgwKTphfTtyZXR1cm4gYi5heGlzX3hfdGlja19mb3JtYXQmJihuKGIuYXhpc194X3RpY2tfZm9ybWF0KT9jPWIuYXhpc194X3RpY2tfZm9ybWF0OmEuaXNUaW1lU2VyaWVzKCkmJihjPWZ1bmN0aW9uKGMpe3JldHVybiBjP2EuYXhpc1RpbWVGb3JtYXQoYi5heGlzX3hfdGlja19mb3JtYXQpKGMpOlwiXCJ9KSksbihjKT9mdW5jdGlvbihiKXtyZXR1cm4gYy5jYWxsKGEsYil9OmN9LGYucHJvdG90eXBlLmdldFRpY2tWYWx1ZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9hOmI/Yi50aWNrVmFsdWVzKCk6dm9pZCAwfSxmLnByb3RvdHlwZS5nZXRYQXhpc1RpY2tWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaWNrVmFsdWVzKHRoaXMub3duZXIuY29uZmlnLmF4aXNfeF90aWNrX3ZhbHVlcyx0aGlzLm93bmVyLnhBeGlzKX0sZi5wcm90b3R5cGUuZ2V0WUF4aXNUaWNrVmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGlja1ZhbHVlcyh0aGlzLm93bmVyLmNvbmZpZy5heGlzX3lfdGlja192YWx1ZXMsdGhpcy5vd25lci55QXhpcyl9LGYucHJvdG90eXBlLmdldFkyQXhpc1RpY2tWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaWNrVmFsdWVzKHRoaXMub3duZXIuY29uZmlnLmF4aXNfeTJfdGlja192YWx1ZXMsdGhpcy5vd25lci55MkF4aXMpfSxmLnByb3RvdHlwZS5nZXRMYWJlbE9wdGlvbkJ5QXhpc0lkPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5vd25lcixkPWMuY29uZmlnO3JldHVyblwieVwiPT09YT9iPWQuYXhpc195X2xhYmVsOlwieTJcIj09PWE/Yj1kLmF4aXNfeTJfbGFiZWw6XCJ4XCI9PT1hJiYoYj1kLmF4aXNfeF9sYWJlbCksYn0sZi5wcm90b3R5cGUuZ2V0TGFiZWxUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TGFiZWxPcHRpb25CeUF4aXNJZChhKTtyZXR1cm4gbyhiKT9iOmI/Yi50ZXh0Om51bGx9LGYucHJvdG90eXBlLnNldExhYmVsVGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMub3duZXIsZD1jLmNvbmZpZyxlPXRoaXMuZ2V0TGFiZWxPcHRpb25CeUF4aXNJZChhKTtvKGUpP1wieVwiPT09YT9kLmF4aXNfeV9sYWJlbD1iOlwieTJcIj09PWE/ZC5heGlzX3kyX2xhYmVsPWI6XCJ4XCI9PT1hJiYoZC5heGlzX3hfbGFiZWw9Yik6ZSYmKGUudGV4dD1iKX0sZi5wcm90b3R5cGUuZ2V0TGFiZWxQb3NpdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGFiZWxPcHRpb25CeUF4aXNJZChhKSxkPWMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiZjLnBvc2l0aW9uP2MucG9zaXRpb246YjtyZXR1cm57aXNJbm5lcjpkLmluZGV4T2YoXCJpbm5lclwiKT49MCxpc091dGVyOmQuaW5kZXhPZihcIm91dGVyXCIpPj0wLGlzTGVmdDpkLmluZGV4T2YoXCJsZWZ0XCIpPj0wLGlzQ2VudGVyOmQuaW5kZXhPZihcImNlbnRlclwiKT49MCxpc1JpZ2h0OmQuaW5kZXhPZihcInJpZ2h0XCIpPj0wLGlzVG9wOmQuaW5kZXhPZihcInRvcFwiKT49MCxpc01pZGRsZTpkLmluZGV4T2YoXCJtaWRkbGVcIik+PTAsaXNCb3R0b206ZC5pbmRleE9mKFwiYm90dG9tXCIpPj0wfX0sZi5wcm90b3R5cGUuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFiZWxQb3NpdGlvbihcInhcIix0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQ/XCJpbm5lci10b3BcIjpcImlubmVyLXJpZ2h0XCIpfSxmLnByb3RvdHlwZS5nZXRZQXhpc0xhYmVsUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFBvc2l0aW9uKFwieVwiLHRoaXMub3duZXIuY29uZmlnLmF4aXNfcm90YXRlZD9cImlubmVyLXJpZ2h0XCI6XCJpbm5lci10b3BcIil9LGYucHJvdG90eXBlLmdldFkyQXhpc0xhYmVsUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFBvc2l0aW9uKFwieTJcIix0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQ/XCJpbm5lci1yaWdodFwiOlwiaW5uZXItdG9wXCIpfSxmLnByb3RvdHlwZS5nZXRMYWJlbFBvc2l0aW9uQnlJZD1mdW5jdGlvbihhKXtyZXR1cm5cInkyXCI9PT1hP3RoaXMuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpOlwieVwiPT09YT90aGlzLmdldFlBeGlzTGFiZWxQb3NpdGlvbigpOnRoaXMuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uKCl9LGYucHJvdG90eXBlLnRleHRGb3JYQXhpc0xhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFiZWxUZXh0KFwieFwiKX0sZi5wcm90b3R5cGUudGV4dEZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFRleHQoXCJ5XCIpfSxmLnByb3RvdHlwZS50ZXh0Rm9yWTJBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYWJlbFRleHQoXCJ5MlwiKX0sZi5wcm90b3R5cGUueEZvckF4aXNMYWJlbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMub3duZXI7cmV0dXJuIGE/Yi5pc0xlZnQ/MDpiLmlzQ2VudGVyP2Mud2lkdGgvMjpjLndpZHRoOmIuaXNCb3R0b20/LWMuaGVpZ2h0OmIuaXNNaWRkbGU/LWMuaGVpZ2h0LzI6MH0sZi5wcm90b3R5cGUuZHhGb3JBeGlzTGFiZWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9iLmlzTGVmdD9cIjAuNWVtXCI6Yi5pc1JpZ2h0P1wiLTAuNWVtXCI6XCIwXCI6Yi5pc1RvcD9cIi0wLjVlbVwiOmIuaXNCb3R0b20/XCIwLjVlbVwiOlwiMFwifSxmLnByb3RvdHlwZS50ZXh0QW5jaG9yRm9yQXhpc0xhYmVsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yi5pc0xlZnQ/XCJzdGFydFwiOmIuaXNDZW50ZXI/XCJtaWRkbGVcIjpcImVuZFwiOmIuaXNCb3R0b20/XCJzdGFydFwiOmIuaXNNaWRkbGU/XCJtaWRkbGVcIjpcImVuZFwifSxmLnByb3RvdHlwZS54Rm9yWEF4aXNMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhGb3JBeGlzTGFiZWwoIXRoaXMub3duZXIuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5wcm90b3R5cGUueEZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Rm9yQXhpc0xhYmVsKHRoaXMub3duZXIuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFlBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5wcm90b3R5cGUueEZvclkyQXhpc0xhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueEZvckF4aXNMYWJlbCh0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQsdGhpcy5nZXRZMkF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS5keEZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5keEZvckF4aXNMYWJlbCghdGhpcy5vd25lci5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WEF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS5keEZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5keEZvckF4aXNMYWJlbCh0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQsdGhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKSl9LGYucHJvdG90eXBlLmR4Rm9yWTJBeGlzTGFiZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5keEZvckF4aXNMYWJlbCh0aGlzLm93bmVyLmNvbmZpZy5heGlzX3JvdGF0ZWQsdGhpcy5nZXRZMkF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS5keUZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLGI9YS5jb25maWcsYz10aGlzLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpO3JldHVybiBiLmF4aXNfcm90YXRlZD9jLmlzSW5uZXI/XCIxLjJlbVwiOi0yNS10aGlzLmdldE1heFRpY2tXaWR0aChcInhcIik6Yy5pc0lubmVyP1wiLTAuNWVtXCI6Yi5heGlzX3hfaGVpZ2h0P2IuYXhpc194X2hlaWdodC0xMDpcIjNlbVwifSxmLnByb3RvdHlwZS5keUZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLGI9dGhpcy5nZXRZQXhpc0xhYmVsUG9zaXRpb24oKTtyZXR1cm4gYS5jb25maWcuYXhpc19yb3RhdGVkP2IuaXNJbm5lcj9cIi0wLjVlbVwiOlwiM2VtXCI6Yi5pc0lubmVyP1wiMS4yZW1cIjotMTAtKGEuY29uZmlnLmF4aXNfeV9pbm5lcj8wOnRoaXMuZ2V0TWF4VGlja1dpZHRoKFwieVwiKSsxMCl9LGYucHJvdG90eXBlLmR5Rm9yWTJBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLGI9dGhpcy5nZXRZMkF4aXNMYWJlbFBvc2l0aW9uKCk7cmV0dXJuIGEuY29uZmlnLmF4aXNfcm90YXRlZD9iLmlzSW5uZXI/XCIxLjJlbVwiOlwiLTIuMmVtXCI6Yi5pc0lubmVyP1wiLTAuNWVtXCI6MTUrKGEuY29uZmlnLmF4aXNfeTJfaW5uZXI/MDp0aGlzLmdldE1heFRpY2tXaWR0aChcInkyXCIpKzE1KX0sZi5wcm90b3R5cGUudGV4dEFuY2hvckZvclhBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyO3JldHVybiB0aGlzLnRleHRBbmNob3JGb3JBeGlzTGFiZWwoIWEuY29uZmlnLmF4aXNfcm90YXRlZCx0aGlzLmdldFhBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5wcm90b3R5cGUudGV4dEFuY2hvckZvcllBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyO3JldHVybiB0aGlzLnRleHRBbmNob3JGb3JBeGlzTGFiZWwoYS5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WUF4aXNMYWJlbFBvc2l0aW9uKCkpfSxmLnByb3RvdHlwZS50ZXh0QW5jaG9yRm9yWTJBeGlzTGFiZWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyO3JldHVybiB0aGlzLnRleHRBbmNob3JGb3JBeGlzTGFiZWwoYS5jb25maWcuYXhpc19yb3RhdGVkLHRoaXMuZ2V0WTJBeGlzTGFiZWxQb3NpdGlvbigpKX0sZi5wcm90b3R5cGUuZ2V0TWF4VGlja1dpZHRoPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoPXRoaXMub3duZXIsaT1oLmNvbmZpZyxqPTA7cmV0dXJuIGImJmguY3VycmVudE1heFRpY2tXaWR0aHNbYV0/aC5jdXJyZW50TWF4VGlja1dpZHRoc1thXTooaC5zdmcmJihjPWguZmlsdGVyVGFyZ2V0c1RvU2hvdyhoLmRhdGEudGFyZ2V0cyksXCJ5XCI9PT1hPyhkPWgueS5jb3B5KCkuZG9tYWluKGguZ2V0WURvbWFpbihjLFwieVwiKSksZT10aGlzLmdldFlBeGlzKGQsaC55T3JpZW50LGkuYXhpc195X3RpY2tfZm9ybWF0LGgueUF4aXNUaWNrVmFsdWVzLCExLCEwKSk6XCJ5MlwiPT09YT8oZD1oLnkyLmNvcHkoKS5kb21haW4oaC5nZXRZRG9tYWluKGMsXCJ5MlwiKSksZT10aGlzLmdldFlBeGlzKGQsaC55Mk9yaWVudCxpLmF4aXNfeTJfdGlja19mb3JtYXQsaC55MkF4aXNUaWNrVmFsdWVzLCExLCEwKSk6KGQ9aC54LmNvcHkoKS5kb21haW4oaC5nZXRYRG9tYWluKGMpKSxlPXRoaXMuZ2V0WEF4aXMoZCxoLnhPcmllbnQsaC54QXhpc1RpY2tGb3JtYXQsaC54QXhpc1RpY2tWYWx1ZXMsITEsITAsITApLHRoaXMudXBkYXRlWEF4aXNUaWNrVmFsdWVzKGMsZSkpLGY9aC5kMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcImRpdlwiKS5jbGFzc2VkKFwiYzNcIiwhMCksZz1mLmFwcGVuZChcInN2Z1wiKS5zdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKS5zdHlsZShcInBvc2l0aW9uXCIsXCJmaXhlZFwiKS5zdHlsZShcInRvcFwiLDApLnN0eWxlKFwibGVmdFwiLDApLGcuYXBwZW5kKFwiZ1wiKS5jYWxsKGUpLmVhY2goZnVuY3Rpb24oKXtoLmQzLnNlbGVjdCh0aGlzKS5zZWxlY3RBbGwoXCJ0ZXh0XCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2o8YS53aWR0aCYmKGo9YS53aWR0aCl9KSxmLnJlbW92ZSgpfSkpLGguY3VycmVudE1heFRpY2tXaWR0aHNbYV09MD49aj9oLmN1cnJlbnRNYXhUaWNrV2lkdGhzW2FdOmosaC5jdXJyZW50TWF4VGlja1dpZHRoc1thXSl9LGYucHJvdG90eXBlLnVwZGF0ZUxhYmVscz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm93bmVyLGM9Yi5tYWluLnNlbGVjdChcIi5cIitsLmF4aXNYK1wiIC5cIitsLmF4aXNYTGFiZWwpLGQ9Yi5tYWluLnNlbGVjdChcIi5cIitsLmF4aXNZK1wiIC5cIitsLmF4aXNZTGFiZWwpLGU9Yi5tYWluLnNlbGVjdChcIi5cIitsLmF4aXNZMitcIiAuXCIrbC5heGlzWTJMYWJlbCk7KGE/Yy50cmFuc2l0aW9uKCk6YykuYXR0cihcInhcIix0aGlzLnhGb3JYQXhpc0xhYmVsLmJpbmQodGhpcykpLmF0dHIoXCJkeFwiLHRoaXMuZHhGb3JYQXhpc0xhYmVsLmJpbmQodGhpcykpLmF0dHIoXCJkeVwiLHRoaXMuZHlGb3JYQXhpc0xhYmVsLmJpbmQodGhpcykpLnRleHQodGhpcy50ZXh0Rm9yWEF4aXNMYWJlbC5iaW5kKHRoaXMpKSwoYT9kLnRyYW5zaXRpb24oKTpkKS5hdHRyKFwieFwiLHRoaXMueEZvcllBeGlzTGFiZWwuYmluZCh0aGlzKSkuYXR0cihcImR4XCIsdGhpcy5keEZvcllBeGlzTGFiZWwuYmluZCh0aGlzKSkuYXR0cihcImR5XCIsdGhpcy5keUZvcllBeGlzTGFiZWwuYmluZCh0aGlzKSkudGV4dCh0aGlzLnRleHRGb3JZQXhpc0xhYmVsLmJpbmQodGhpcykpLChhP2UudHJhbnNpdGlvbigpOmUpLmF0dHIoXCJ4XCIsdGhpcy54Rm9yWTJBeGlzTGFiZWwuYmluZCh0aGlzKSkuYXR0cihcImR4XCIsdGhpcy5keEZvclkyQXhpc0xhYmVsLmJpbmQodGhpcykpLmF0dHIoXCJkeVwiLHRoaXMuZHlGb3JZMkF4aXNMYWJlbC5iaW5kKHRoaXMpKS50ZXh0KHRoaXMudGV4dEZvclkyQXhpc0xhYmVsLmJpbmQodGhpcykpfSxmLnByb3RvdHlwZS5nZXRQYWRkaW5nPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBtKGFbYl0pP1wicmF0aW9cIj09PWEudW5pdD9hW2JdKmQ6dGhpcy5jb252ZXJ0UGl4ZWxzVG9BeGlzUGFkZGluZyhhW2JdLGQpOmN9LGYucHJvdG90eXBlLmNvbnZlcnRQaXhlbHNUb0F4aXNQYWRkaW5nPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vd25lcixkPWMuY29uZmlnLmF4aXNfcm90YXRlZD9jLndpZHRoOmMuaGVpZ2h0O3JldHVybiBiKihhL2QpfSxmLnByb3RvdHlwZS5nZW5lcmF0ZVRpY2tWYWx1ZXM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9YTtpZihiKWlmKGQ9bihiKT9iKCk6YiwxPT09ZClrPVthWzBdXTtlbHNlIGlmKDI9PT1kKWs9W2FbMF0sYVthLmxlbmd0aC0xXV07ZWxzZSBpZihkPjIpe2ZvcihnPWQtMixlPWFbMF0sZj1hW2EubGVuZ3RoLTFdLGg9KGYtZSkvKGcrMSksaz1bZV0saT0wO2c+aTtpKyspaj0rZStoKihpKzEpLGsucHVzaChjP25ldyBEYXRlKGopOmopO2sucHVzaChmKX1yZXR1cm4gY3x8KGs9ay5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pKSxrfSxmLnByb3RvdHlwZS5nZW5lcmF0ZVRyYW5zaXRpb25zPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3duZXIsYz1iLmF4ZXM7cmV0dXJue2F4aXNYOmE/Yy54LnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKTpjLngsYXhpc1k6YT9jLnkudHJhbnNpdGlvbigpLmR1cmF0aW9uKGEpOmMueSxheGlzWTI6YT9jLnkyLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKTpjLnkyLGF4aXNTdWJYOmE/Yy5zdWJ4LnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKTpjLnN1Ynh9fSxmLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm93bmVyO2MuYXhlcy54LnN0eWxlKFwib3BhY2l0eVwiLGI/MDoxKSxjLmF4ZXMueS5zdHlsZShcIm9wYWNpdHlcIixiPzA6MSksYy5heGVzLnkyLnN0eWxlKFwib3BhY2l0eVwiLGI/MDoxKSxjLmF4ZXMuc3VieC5zdHlsZShcIm9wYWNpdHlcIixiPzA6MSksYS5heGlzWC5jYWxsKGMueEF4aXMpLGEuYXhpc1kuY2FsbChjLnlBeGlzKSxhLmF4aXNZMi5jYWxsKGMueTJBeGlzKSxhLmF4aXNTdWJYLmNhbGwoYy5zdWJYQXhpcyl9LGkuZ2V0Q2xpcFBhdGg9ZnVuY3Rpb24oYil7dmFyIGM9YS5uYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtc2llIDkuXCIpPj0wO3JldHVyblwidXJsKFwiKyhjP1wiXCI6ZG9jdW1lbnQuVVJMLnNwbGl0KFwiI1wiKVswXSkrXCIjXCIrYitcIilcIn0saS5hcHBlbmRDbGlwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYXBwZW5kKFwiY2xpcFBhdGhcIikuYXR0cihcImlkXCIsYikuYXBwZW5kKFwicmVjdFwiKX0saS5nZXRBeGlzQ2xpcFg9ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMzAsdGhpcy5tYXJnaW4ubGVmdCk7cmV0dXJuIGE/LSgxK2IpOi0oYi0xKX0saS5nZXRBeGlzQ2xpcFk9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/LTIwOi10aGlzLm1hcmdpbi50b3B9LGkuZ2V0WEF4aXNDbGlwWD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBYKCFhLmNvbmZpZy5heGlzX3JvdGF0ZWQpfSxpLmdldFhBeGlzQ2xpcFk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdldEF4aXNDbGlwWSghYS5jb25maWcuYXhpc19yb3RhdGVkKX0saS5nZXRZQXhpc0NsaXBYPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5jb25maWcuYXhpc195X2lubmVyPy0xOmEuZ2V0QXhpc0NsaXBYKGEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGkuZ2V0WUF4aXNDbGlwWT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBZKGEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGkuZ2V0QXhpc0NsaXBXaWR0aD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9TWF0aC5tYXgoMzAsYi5tYXJnaW4ubGVmdCksZD1NYXRoLm1heCgzMCxiLm1hcmdpbi5yaWdodCk7cmV0dXJuIGE/Yi53aWR0aCsyK2MrZDpiLm1hcmdpbi5sZWZ0KzIwfSxpLmdldEF4aXNDbGlwSGVpZ2h0PWZ1bmN0aW9uKGEpe3JldHVybihhP3RoaXMubWFyZ2luLmJvdHRvbTp0aGlzLm1hcmdpbi50b3ArdGhpcy5oZWlnaHQpKzIwfSxpLmdldFhBeGlzQ2xpcFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5nZXRBeGlzQ2xpcFdpZHRoKCFhLmNvbmZpZy5heGlzX3JvdGF0ZWQpfSxpLmdldFhBeGlzQ2xpcEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBIZWlnaHQoIWEuY29uZmlnLmF4aXNfcm90YXRlZCl9LGkuZ2V0WUF4aXNDbGlwV2lkdGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdldEF4aXNDbGlwV2lkdGgoYS5jb25maWcuYXhpc19yb3RhdGVkKSsoYS5jb25maWcuYXhpc195X2lubmVyPzIwOjApfSxpLmdldFlBeGlzQ2xpcEhlaWdodD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZ2V0QXhpc0NsaXBIZWlnaHQoYS5jb25maWcuYXhpc19yb3RhdGVkKX0saS5pbml0UGllPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDMsYz1hLmNvbmZpZzthLnBpZT1iLmxheW91dC5waWUoKS52YWx1ZShmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZXMucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGErYi52YWx1ZX0sMCl9KSxjLmRhdGFfb3JkZXJ8fGEucGllLnNvcnQobnVsbCl9LGkudXBkYXRlUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9Yi5nYXVnZV93aWR0aHx8Yi5kb251dF93aWR0aDthLnJhZGl1c0V4cGFuZGVkPU1hdGgubWluKGEuYXJjV2lkdGgsYS5hcmNIZWlnaHQpLzIsYS5yYWRpdXM9Ljk1KmEucmFkaXVzRXhwYW5kZWQsYS5pbm5lclJhZGl1c1JhdGlvPWM/KGEucmFkaXVzLWMpL2EucmFkaXVzOi42LGEuaW5uZXJSYWRpdXM9YS5oYXNUeXBlKFwiZG9udXRcIil8fGEuaGFzVHlwZShcImdhdWdlXCIpP2EucmFkaXVzKmEuaW5uZXJSYWRpdXNSYXRpbzowfSxpLnVwZGF0ZUFyYz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdmdBcmM9YS5nZXRTdmdBcmMoKSxhLnN2Z0FyY0V4cGFuZGVkPWEuZ2V0U3ZnQXJjRXhwYW5kZWQoKSxhLnN2Z0FyY0V4cGFuZGVkU3ViPWEuZ2V0U3ZnQXJjRXhwYW5kZWQoLjk4KX0saS51cGRhdGVBbmdsZT1mdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcyxlPWQuY29uZmlnLGY9ITEsZz0wLGg9ZS5nYXVnZV9taW4saT1lLmdhdWdlX21heDtcbnJldHVybiBkLnBpZShkLmZpbHRlclRhcmdldHNUb1Nob3coZC5kYXRhLnRhcmdldHMpKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Z8fGIuZGF0YS5pZCE9PWEuZGF0YS5pZHx8KGY9ITAsYT1iLGEuaW5kZXg9ZyksZysrfSksaXNOYU4oYS5zdGFydEFuZ2xlKSYmKGEuc3RhcnRBbmdsZT0wKSxpc05hTihhLmVuZEFuZ2xlKSYmKGEuZW5kQW5nbGU9YS5zdGFydEFuZ2xlKSxkLmlzR2F1Z2VUeXBlKGEuZGF0YSkmJihiPU1hdGguUEkvKGktaCksYz1hLnZhbHVlPGg/MDphLnZhbHVlPGk/YS52YWx1ZS1oOmktaCxhLnN0YXJ0QW5nbGU9LTEqKE1hdGguUEkvMiksYS5lbmRBbmdsZT1hLnN0YXJ0QW5nbGUrYipjKSxmP2E6bnVsbH0saS5nZXRTdmdBcmM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5kMy5zdmcuYXJjKCkub3V0ZXJSYWRpdXMoYS5yYWRpdXMpLmlubmVyUmFkaXVzKGEuaW5uZXJSYWRpdXMpLGM9ZnVuY3Rpb24oYyxkKXt2YXIgZTtyZXR1cm4gZD9iKGMpOihlPWEudXBkYXRlQW5nbGUoYyksZT9iKGUpOlwiTSAwIDBcIil9O3JldHVybiBjLmNlbnRyb2lkPWIuY2VudHJvaWQsY30saS5nZXRTdmdBcmNFeHBhbmRlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5kMy5zdmcuYXJjKCkub3V0ZXJSYWRpdXMoYi5yYWRpdXNFeHBhbmRlZCooYT9hOjEpKS5pbm5lclJhZGl1cyhiLmlubmVyUmFkaXVzKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGQ9Yi51cGRhdGVBbmdsZShhKTtyZXR1cm4gZD9jKGQpOlwiTSAwIDBcIn19LGkuZ2V0QXJjPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY3x8dGhpcy5pc0FyY1R5cGUoYS5kYXRhKT90aGlzLnN2Z0FyYyhhLGIpOlwiTSAwIDBcIn0saS50cmFuc2Zvcm1Gb3JBcmNMYWJlbD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc9dGhpcyxoPWcudXBkYXRlQW5nbGUoYSksaT1cIlwiO3JldHVybiBoJiYhZy5oYXNUeXBlKFwiZ2F1Z2VcIikmJihiPXRoaXMuc3ZnQXJjLmNlbnRyb2lkKGgpLGM9aXNOYU4oYlswXSk/MDpiWzBdLGQ9aXNOYU4oYlsxXSk/MDpiWzFdLGU9TWF0aC5zcXJ0KGMqYytkKmQpLGY9Zy5yYWRpdXMmJmU/KDM2L2cucmFkaXVzPi4zNzU/MS4xNzUtMzYvZy5yYWRpdXM6LjgpKmcucmFkaXVzL2U6MCxpPVwidHJhbnNsYXRlKFwiK2MqZitcIixcIitkKmYrXCIpXCIpLGl9LGkuZ2V0QXJjUmF0aW89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuaGFzVHlwZShcImdhdWdlXCIpP01hdGguUEk6MipNYXRoLlBJO3JldHVybiBhPyhhLmVuZEFuZ2xlLWEuc3RhcnRBbmdsZSkvYzpudWxsfSxpLmNvbnZlcnRUb0FyY0RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkTmFtZSh7aWQ6YS5kYXRhLmlkLHZhbHVlOmEudmFsdWUscmF0aW86dGhpcy5nZXRBcmNSYXRpbyhhKSxpbmRleDphLmluZGV4fSl9LGkudGV4dEZvckFyY0xhYmVsPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZz10aGlzO3JldHVybiBnLnNob3VsZFNob3dBcmNMYWJlbCgpPyhiPWcudXBkYXRlQW5nbGUoYSksYz1iP2IudmFsdWU6bnVsbCxkPWcuZ2V0QXJjUmF0aW8oYiksZT1hLmRhdGEuaWQsZy5oYXNUeXBlKFwiZ2F1Z2VcIil8fGcubWVldHNBcmNMYWJlbFRocmVzaG9sZChkKT8oZj1nLmdldEFyY0xhYmVsRm9ybWF0KCksZj9mKGMsZCxlKTpnLmRlZmF1bHRBcmNWYWx1ZUZvcm1hdChjLGQpKTpcIlwiKTpcIlwifSxpLmV4cGFuZEFyYz1mdW5jdGlvbihiKXt2YXIgYyxkPXRoaXM7cmV0dXJuIGQudHJhbnNpdGluZz92b2lkKGM9YS5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2QudHJhbnNpdGluZ3x8KGEuY2xlYXJJbnRlcnZhbChjKSxkLmxlZ2VuZC5zZWxlY3RBbGwoXCIuYzMtbGVnZW5kLWl0ZW0tZm9jdXNlZFwiKS5zaXplKCk+MCYmZC5leHBhbmRBcmMoYikpfSwxMCkpOihiPWQubWFwVG9UYXJnZXRJZHMoYiksdm9pZCBkLnN2Zy5zZWxlY3RBbGwoZC5zZWxlY3RvclRhcmdldHMoYixcIi5cIitsLmNoYXJ0QXJjKSkuZWFjaChmdW5jdGlvbihhKXtkLnNob3VsZEV4cGFuZChhLmRhdGEuaWQpJiZkLmQzLnNlbGVjdCh0aGlzKS5zZWxlY3RBbGwoXCJwYXRoXCIpLnRyYW5zaXRpb24oKS5kdXJhdGlvbig1MCkuYXR0cihcImRcIixkLnN2Z0FyY0V4cGFuZGVkKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwKS5hdHRyKFwiZFwiLGQuc3ZnQXJjRXhwYW5kZWRTdWIpLmVhY2goZnVuY3Rpb24oYSl7ZC5pc0RvbnV0VHlwZShhLmRhdGEpfSl9KSl9LGkudW5leHBhbmRBcmM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLnRyYW5zaXRpbmd8fChhPWIubWFwVG9UYXJnZXRJZHMoYSksYi5zdmcuc2VsZWN0QWxsKGIuc2VsZWN0b3JUYXJnZXRzKGEsXCIuXCIrbC5jaGFydEFyYykpLnNlbGVjdEFsbChcInBhdGhcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwKS5hdHRyKFwiZFwiLGIuc3ZnQXJjKSxiLnN2Zy5zZWxlY3RBbGwoXCIuXCIrbC5hcmMpLnN0eWxlKFwib3BhY2l0eVwiLDEpKX0saS5zaG91bGRFeHBhbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO3JldHVybiBiLmlzRG9udXRUeXBlKGEpJiZjLmRvbnV0X2V4cGFuZHx8Yi5pc0dhdWdlVHlwZShhKSYmYy5nYXVnZV9leHBhbmR8fGIuaXNQaWVUeXBlKGEpJiZjLnBpZV9leHBhbmR9LGkuc2hvdWxkU2hvd0FyY0xhYmVsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9ITA7cmV0dXJuIGEuaGFzVHlwZShcImRvbnV0XCIpP2M9Yi5kb251dF9sYWJlbF9zaG93OmEuaGFzVHlwZShcInBpZVwiKSYmKGM9Yi5waWVfbGFiZWxfc2hvdyksY30saS5tZWV0c0FyY0xhYmVsVGhyZXNob2xkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIuaGFzVHlwZShcImRvbnV0XCIpP2MuZG9udXRfbGFiZWxfdGhyZXNob2xkOmMucGllX2xhYmVsX3RocmVzaG9sZDtyZXR1cm4gYT49ZH0saS5nZXRBcmNMYWJlbEZvcm1hdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPWIucGllX2xhYmVsX2Zvcm1hdDtyZXR1cm4gYS5oYXNUeXBlKFwiZ2F1Z2VcIik/Yz1iLmdhdWdlX2xhYmVsX2Zvcm1hdDphLmhhc1R5cGUoXCJkb251dFwiKSYmKGM9Yi5kb251dF9sYWJlbF9mb3JtYXQpLGN9LGkuZ2V0QXJjVGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmhhc1R5cGUoXCJkb251dFwiKT9hLmNvbmZpZy5kb251dF90aXRsZTpcIlwifSxpLnVwZGF0ZVRhcmdldHNGb3JBcmM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMsZT1kLm1haW4sZj1kLmNsYXNzQ2hhcnRBcmMuYmluZChkKSxnPWQuY2xhc3NBcmNzLmJpbmQoZCksaD1kLmNsYXNzRm9jdXMuYmluZChkKTtiPWUuc2VsZWN0KFwiLlwiK2wuY2hhcnRBcmNzKS5zZWxlY3RBbGwoXCIuXCIrbC5jaGFydEFyYykuZGF0YShkLnBpZShhKSkuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSkraChhLmRhdGEpfSksYz1iLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixmKSxjLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsZyksYy5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJkeVwiLGQuaGFzVHlwZShcImdhdWdlXCIpP1wiLS4xZW1cIjpcIi4zNWVtXCIpLnN0eWxlKFwib3BhY2l0eVwiLDApLnN0eWxlKFwidGV4dC1hbmNob3JcIixcIm1pZGRsZVwiKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpfSxpLmluaXRBcmM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuYXJjcz1hLm1haW4uc2VsZWN0KFwiLlwiK2wuY2hhcnQpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbC5jaGFydEFyY3MpLmF0dHIoXCJ0cmFuc2Zvcm1cIixhLmdldFRyYW5zbGF0ZShcImFyY1wiKSksYS5hcmNzLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsbC5jaGFydEFyY3NUaXRsZSkuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLnRleHQoYS5nZXRBcmNUaXRsZSgpKX0saS5yZWRyYXdBcmM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcyxmPWUuZDMsZz1lLmNvbmZpZyxoPWUubWFpbjtkPWguc2VsZWN0QWxsKFwiLlwiK2wuYXJjcykuc2VsZWN0QWxsKFwiLlwiK2wuYXJjKS5kYXRhKGUuYXJjRGF0YS5iaW5kKGUpKSxkLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixlLmNsYXNzQXJjLmJpbmQoZSkpLnN0eWxlKFwiZmlsbFwiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmNvbG9yKGEuZGF0YSl9KS5zdHlsZShcImN1cnNvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBnLmludGVyYWN0aW9uX2VuYWJsZWQmJmcuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGEpP1wicG9pbnRlclwiOm51bGx9KS5zdHlsZShcIm9wYWNpdHlcIiwwKS5lYWNoKGZ1bmN0aW9uKGEpe2UuaXNHYXVnZVR5cGUoYS5kYXRhKSYmKGEuc3RhcnRBbmdsZT1hLmVuZEFuZ2xlPS0xKihNYXRoLlBJLzIpKSx0aGlzLl9jdXJyZW50PWF9KSxkLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihhKXtyZXR1cm4hZS5pc0dhdWdlVHlwZShhLmRhdGEpJiZjP1wic2NhbGUoMClcIjpcIlwifSkuc3R5bGUoXCJvcGFjaXR5XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzLl9jdXJyZW50PzA6MX0pLm9uKFwibW91c2VvdmVyXCIsZy5pbnRlcmFjdGlvbl9lbmFibGVkP2Z1bmN0aW9uKGEpe3ZhciBiLGM7ZS50cmFuc2l0aW5nfHwoYj1lLnVwZGF0ZUFuZ2xlKGEpLGM9ZS5jb252ZXJ0VG9BcmNEYXRhKGIpLGUuZXhwYW5kQXJjKGIuZGF0YS5pZCksZS5hcGkuZm9jdXMoYi5kYXRhLmlkKSxlLnRvZ2dsZUZvY3VzTGVnZW5kKGIuZGF0YS5pZCwhMCksZS5jb25maWcuZGF0YV9vbm1vdXNlb3ZlcihjLHRoaXMpKX06bnVsbCkub24oXCJtb3VzZW1vdmVcIixnLmludGVyYWN0aW9uX2VuYWJsZWQ/ZnVuY3Rpb24oYSl7dmFyIGI9ZS51cGRhdGVBbmdsZShhKSxjPWUuY29udmVydFRvQXJjRGF0YShiKSxkPVtjXTtlLnNob3dUb29sdGlwKGQsdGhpcyl9Om51bGwpLm9uKFwibW91c2VvdXRcIixnLmludGVyYWN0aW9uX2VuYWJsZWQ/ZnVuY3Rpb24oYSl7dmFyIGIsYztlLnRyYW5zaXRpbmd8fChiPWUudXBkYXRlQW5nbGUoYSksYz1lLmNvbnZlcnRUb0FyY0RhdGEoYiksZS51bmV4cGFuZEFyYyhiLmRhdGEuaWQpLGUuYXBpLnJldmVydCgpLGUucmV2ZXJ0TGVnZW5kKCksZS5oaWRlVG9vbHRpcCgpLGUuY29uZmlnLmRhdGFfb25tb3VzZW91dChjLHRoaXMpKX06bnVsbCkub24oXCJjbGlja1wiLGcuaW50ZXJhY3Rpb25fZW5hYmxlZD9mdW5jdGlvbihhLGIpe3ZhciBjPWUudXBkYXRlQW5nbGUoYSksZD1lLmNvbnZlcnRUb0FyY0RhdGEoYyk7ZS50b2dnbGVTaGFwZSYmZS50b2dnbGVTaGFwZSh0aGlzLGQsYiksZS5jb25maWcuZGF0YV9vbmNsaWNrLmNhbGwoZS5hcGksZCx0aGlzKX06bnVsbCkuZWFjaChmdW5jdGlvbigpe2UudHJhbnNpdGluZz0hMH0pLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5hdHRyVHdlZW4oXCJkXCIsZnVuY3Rpb24oYSl7dmFyIGIsYz1lLnVwZGF0ZUFuZ2xlKGEpO3JldHVybiBjPyhpc05hTih0aGlzLl9jdXJyZW50LnN0YXJ0QW5nbGUpJiYodGhpcy5fY3VycmVudC5zdGFydEFuZ2xlPTApLGlzTmFOKHRoaXMuX2N1cnJlbnQuZW5kQW5nbGUpJiYodGhpcy5fY3VycmVudC5lbmRBbmdsZT10aGlzLl9jdXJyZW50LnN0YXJ0QW5nbGUpLGI9Zi5pbnRlcnBvbGF0ZSh0aGlzLl9jdXJyZW50LGMpLHRoaXMuX2N1cnJlbnQ9YigwKSxmdW5jdGlvbihjKXt2YXIgZD1iKGMpO3JldHVybiBkLmRhdGE9YS5kYXRhLGUuZ2V0QXJjKGQsITApfSk6ZnVuY3Rpb24oKXtyZXR1cm5cIk0gMCAwXCJ9fSkuYXR0cihcInRyYW5zZm9ybVwiLGM/XCJzY2FsZSgxKVwiOlwiXCIpLnN0eWxlKFwiZmlsbFwiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmxldmVsQ29sb3I/ZS5sZXZlbENvbG9yKGEuZGF0YS52YWx1ZXNbMF0udmFsdWUpOmUuY29sb3IoYS5kYXRhLmlkKX0pLnN0eWxlKFwib3BhY2l0eVwiLDEpLmNhbGwoZS5lbmRhbGwsZnVuY3Rpb24oKXtlLnRyYW5zaXRpbmc9ITF9KSxkLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYikuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCksaC5zZWxlY3RBbGwoXCIuXCIrbC5jaGFydEFyYykuc2VsZWN0KFwidGV4dFwiKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihhKXtyZXR1cm4gZS5pc0dhdWdlVHlwZShhLmRhdGEpP2wuZ2F1Z2VWYWx1ZTpcIlwifSkudGV4dChlLnRleHRGb3JBcmNMYWJlbC5iaW5kKGUpKS5hdHRyKFwidHJhbnNmb3JtXCIsZS50cmFuc2Zvcm1Gb3JBcmNMYWJlbC5iaW5kKGUpKS5zdHlsZShcImZvbnQtc2l6ZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBlLmlzR2F1Z2VUeXBlKGEuZGF0YSk/TWF0aC5yb3VuZChlLnJhZGl1cy81KStcInB4XCI6XCJcIn0pLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIixmdW5jdGlvbihhKXtyZXR1cm4gZS5pc1RhcmdldFRvU2hvdyhhLmRhdGEuaWQpJiZlLmlzQXJjVHlwZShhLmRhdGEpPzE6MH0pLGguc2VsZWN0KFwiLlwiK2wuY2hhcnRBcmNzVGl0bGUpLnN0eWxlKFwib3BhY2l0eVwiLGUuaGFzVHlwZShcImRvbnV0XCIpfHxlLmhhc1R5cGUoXCJnYXVnZVwiKT8xOjApLGUuaGFzVHlwZShcImdhdWdlXCIpJiYoZS5hcmNzLnNlbGVjdChcIi5cIitsLmNoYXJ0QXJjc0JhY2tncm91bmQpLmF0dHIoXCJkXCIsZnVuY3Rpb24oKXt2YXIgYT17ZGF0YTpbe3ZhbHVlOmcuZ2F1Z2VfbWF4fV0sc3RhcnRBbmdsZTotMSooTWF0aC5QSS8yKSxlbmRBbmdsZTpNYXRoLlBJLzJ9O3JldHVybiBlLmdldEFyYyhhLCEwLCEwKX0pLGUuYXJjcy5zZWxlY3QoXCIuXCIrbC5jaGFydEFyY3NHYXVnZVVuaXQpLmF0dHIoXCJkeVwiLFwiLjc1ZW1cIikudGV4dChnLmdhdWdlX2xhYmVsX3Nob3c/Zy5nYXVnZV91bml0czpcIlwiKSxlLmFyY3Muc2VsZWN0KFwiLlwiK2wuY2hhcnRBcmNzR2F1Z2VNaW4pLmF0dHIoXCJkeFwiLC0xKihlLmlubmVyUmFkaXVzKyhlLnJhZGl1cy1lLmlubmVyUmFkaXVzKS8yKStcInB4XCIpLmF0dHIoXCJkeVwiLFwiMS4yZW1cIikudGV4dChnLmdhdWdlX2xhYmVsX3Nob3c/Zy5nYXVnZV9taW46XCJcIiksZS5hcmNzLnNlbGVjdChcIi5cIitsLmNoYXJ0QXJjc0dhdWdlTWF4KS5hdHRyKFwiZHhcIixlLmlubmVyUmFkaXVzKyhlLnJhZGl1cy1lLmlubmVyUmFkaXVzKS8yK1wicHhcIikuYXR0cihcImR5XCIsXCIxLjJlbVwiKS50ZXh0KGcuZ2F1Z2VfbGFiZWxfc2hvdz9nLmdhdWdlX21heDpcIlwiKSl9LGkuaW5pdEdhdWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hcmNzO3RoaXMuaGFzVHlwZShcImdhdWdlXCIpJiYoYS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLGwuY2hhcnRBcmNzQmFja2dyb3VuZCksYS5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJjbGFzc1wiLGwuY2hhcnRBcmNzR2F1Z2VVbml0KS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIikuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLFwibm9uZVwiKSxhLmFwcGVuZChcInRleHRcIikuYXR0cihcImNsYXNzXCIsbC5jaGFydEFyY3NHYXVnZU1pbikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIiksYS5hcHBlbmQoXCJ0ZXh0XCIpLmF0dHIoXCJjbGFzc1wiLGwuY2hhcnRBcmNzR2F1Z2VNYXgpLnN0eWxlKFwidGV4dC1hbmNob3JcIixcIm1pZGRsZVwiKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpKX0saS5nZXRHYXVnZUxhYmVsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmdhdWdlX2xhYmVsX3Nob3c/MjA6MH0saS5pbml0UmVnaW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnJlZ2lvbj1hLm1haW4uYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xpcC1wYXRoXCIsYS5jbGlwUGF0aCkuYXR0cihcImNsYXNzXCIsbC5yZWdpb25zKX0saS51cGRhdGVSZWdpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuY29uZmlnO2IucmVnaW9uLnN0eWxlKFwidmlzaWJpbGl0eVwiLGIuaGFzQXJjVHlwZSgpP1wiaGlkZGVuXCI6XCJ2aXNpYmxlXCIpLGIubWFpblJlZ2lvbj1iLm1haW4uc2VsZWN0KFwiLlwiK2wucmVnaW9ucykuc2VsZWN0QWxsKFwiLlwiK2wucmVnaW9uKS5kYXRhKGMucmVnaW9ucyksYi5tYWluUmVnaW9uLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixiLmNsYXNzUmVnaW9uLmJpbmQoYikpLmFwcGVuZChcInJlY3RcIikuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwwKSxiLm1haW5SZWdpb24uZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0saS5yZWRyYXdSZWdpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIubWFpblJlZ2lvbi5zZWxlY3RBbGwoXCJyZWN0XCIpLGQ9Yi5yZWdpb25YLmJpbmQoYiksZT1iLnJlZ2lvblkuYmluZChiKSxmPWIucmVnaW9uV2lkdGguYmluZChiKSxnPWIucmVnaW9uSGVpZ2h0LmJpbmQoYik7cmV0dXJuWyhhP2MudHJhbnNpdGlvbigpOmMpLmF0dHIoXCJ4XCIsZCkuYXR0cihcInlcIixlKS5hdHRyKFwid2lkdGhcIixmKS5hdHRyKFwiaGVpZ2h0XCIsZykuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIixmdW5jdGlvbihhKXtyZXR1cm4gbShhLm9wYWNpdHkpP2Eub3BhY2l0eTouMX0pXX0saS5yZWdpb25YPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcyxkPWMuY29uZmlnLGU9XCJ5XCI9PT1hLmF4aXM/Yy55OmMueTI7cmV0dXJuIGI9XCJ5XCI9PT1hLmF4aXN8fFwieTJcIj09PWEuYXhpcz9kLmF4aXNfcm90YXRlZCYmXCJzdGFydFwiaW4gYT9lKGEuc3RhcnQpOjA6ZC5heGlzX3JvdGF0ZWQ/MDpcInN0YXJ0XCJpbiBhP2MueChjLmlzVGltZVNlcmllcygpP2MucGFyc2VEYXRlKGEuc3RhcnQpOmEuc3RhcnQpOjB9LGkucmVnaW9uWT1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMsZD1jLmNvbmZpZyxlPVwieVwiPT09YS5heGlzP2MueTpjLnkyO3JldHVybiBiPVwieVwiPT09YS5heGlzfHxcInkyXCI9PT1hLmF4aXM/ZC5heGlzX3JvdGF0ZWQ/MDpcImVuZFwiaW4gYT9lKGEuZW5kKTowOmQuYXhpc19yb3RhdGVkJiZcInN0YXJ0XCJpbiBhP2MueChjLmlzVGltZVNlcmllcygpP2MucGFyc2VEYXRlKGEuc3RhcnQpOmEuc3RhcnQpOjB9LGkucmVnaW9uV2lkdGg9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWcsZT1jLnJlZ2lvblgoYSksZj1cInlcIj09PWEuYXhpcz9jLnk6Yy55MjtyZXR1cm4gYj1cInlcIj09PWEuYXhpc3x8XCJ5MlwiPT09YS5heGlzP2QuYXhpc19yb3RhdGVkJiZcImVuZFwiaW4gYT9mKGEuZW5kKTpjLndpZHRoOmQuYXhpc19yb3RhdGVkP2Mud2lkdGg6XCJlbmRcImluIGE/Yy54KGMuaXNUaW1lU2VyaWVzKCk/Yy5wYXJzZURhdGUoYS5lbmQpOmEuZW5kKTpjLndpZHRoLGU+Yj8wOmItZX0saS5yZWdpb25IZWlnaHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWcsZT10aGlzLnJlZ2lvblkoYSksZj1cInlcIj09PWEuYXhpcz9jLnk6Yy55MjtyZXR1cm4gYj1cInlcIj09PWEuYXhpc3x8XCJ5MlwiPT09YS5heGlzP2QuYXhpc19yb3RhdGVkP2MuaGVpZ2h0Olwic3RhcnRcImluIGE/ZihhLnN0YXJ0KTpjLmhlaWdodDpkLmF4aXNfcm90YXRlZCYmXCJlbmRcImluIGE/Yy54KGMuaXNUaW1lU2VyaWVzKCk/Yy5wYXJzZURhdGUoYS5lbmQpOmEuZW5kKTpjLmhlaWdodCxlPmI/MDpiLWV9LGkuaXNSZWdpb25Pblg9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuYXhpc3x8XCJ4XCI9PT1hLmF4aXN9LGkuZHJhZz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGo9dGhpcyxrPWouY29uZmlnLG09ai5tYWluLG49ai5kMztqLmhhc0FyY1R5cGUoKXx8ay5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiYoIWsuem9vbV9lbmFibGVkfHxqLnpvb20uYWx0RG9tYWluKSYmay5kYXRhX3NlbGVjdGlvbl9tdWx0aXBsZSYmKGI9ai5kcmFnU3RhcnRbMF0sYz1qLmRyYWdTdGFydFsxXSxkPWFbMF0sZT1hWzFdLGY9TWF0aC5taW4oYixkKSxnPU1hdGgubWF4KGIsZCksaD1rLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWQ/ai5tYXJnaW4udG9wOk1hdGgubWluKGMsZSksaT1rLmRhdGFfc2VsZWN0aW9uX2dyb3VwZWQ/ai5oZWlnaHQ6TWF0aC5tYXgoYyxlKSxtLnNlbGVjdChcIi5cIitsLmRyYWdhcmVhKS5hdHRyKFwieFwiLGYpLmF0dHIoXCJ5XCIsaCkuYXR0cihcIndpZHRoXCIsZy1mKS5hdHRyKFwiaGVpZ2h0XCIsaS1oKSxtLnNlbGVjdEFsbChcIi5cIitsLnNoYXBlcykuc2VsZWN0QWxsKFwiLlwiK2wuc2hhcGUpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gay5kYXRhX3NlbGVjdGlvbl9pc3NlbGVjdGFibGUoYSl9KS5lYWNoKGZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGssbSxvLHA9bi5zZWxlY3QodGhpcykscT1wLmNsYXNzZWQobC5TRUxFQ1RFRCkscj1wLmNsYXNzZWQobC5JTkNMVURFRCkscz0hMTtpZihwLmNsYXNzZWQobC5jaXJjbGUpKWM9MSpwLmF0dHIoXCJjeFwiKSxkPTEqcC5hdHRyKFwiY3lcIiksbT1qLnRvZ2dsZVBvaW50LHM9Yz5mJiZnPmMmJmQ+aCYmaT5kO2Vsc2V7aWYoIXAuY2xhc3NlZChsLmJhcikpcmV0dXJuO289eSh0aGlzKSxjPW8ueCxkPW8ueSxlPW8ud2lkdGgsaz1vLmhlaWdodCxtPWoudG9nZ2xlUGF0aCxzPSEoYz5nfHxmPmMrZXx8ZD5pfHxoPmQrayl9c15yJiYocC5jbGFzc2VkKGwuSU5DTFVERUQsIXIpLHAuY2xhc3NlZChsLlNFTEVDVEVELCFxKSxtLmNhbGwoaiwhcSxwLGEsYikpfSkpfSxpLmRyYWdzdGFydD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWc7Yi5oYXNBcmNUeXBlKCl8fGMuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmKGIuZHJhZ1N0YXJ0PWEsYi5tYWluLnNlbGVjdChcIi5cIitsLmNoYXJ0KS5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJjbGFzc1wiLGwuZHJhZ2FyZWEpLnN0eWxlKFwib3BhY2l0eVwiLC4xKSxiLmRyYWdnaW5nPSEwKX0saS5kcmFnZW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnO2EuaGFzQXJjVHlwZSgpfHxiLmRhdGFfc2VsZWN0aW9uX2VuYWJsZWQmJihhLm1haW4uc2VsZWN0KFwiLlwiK2wuZHJhZ2FyZWEpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKFwib3BhY2l0eVwiLDApLnJlbW92ZSgpLGEubWFpbi5zZWxlY3RBbGwoXCIuXCIrbC5zaGFwZSkuY2xhc3NlZChsLklOQ0xVREVELCExKSxhLmRyYWdnaW5nPSExKX0saS5zZWxlY3RQb2ludD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPWQuY29uZmlnLGY9KGUuYXhpc19yb3RhdGVkP2QuY2lyY2xlWTpkLmNpcmNsZVgpLmJpbmQoZCksZz0oZS5heGlzX3JvdGF0ZWQ/ZC5jaXJjbGVYOmQuY2lyY2xlWSkuYmluZChkKSxoPWQucG9pbnRTZWxlY3RSLmJpbmQoZCk7ZS5kYXRhX29uc2VsZWN0ZWQuY2FsbChkLmFwaSxiLGEubm9kZSgpKSxkLm1haW4uc2VsZWN0KFwiLlwiK2wuc2VsZWN0ZWRDaXJjbGVzK2QuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYi5pZCkpLnNlbGVjdEFsbChcIi5cIitsLnNlbGVjdGVkQ2lyY2xlK1wiLVwiK2MpLmRhdGEoW2JdKS5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbigpe3JldHVybiBkLmdlbmVyYXRlQ2xhc3MobC5zZWxlY3RlZENpcmNsZSxjKX0pLmF0dHIoXCJjeFwiLGYpLmF0dHIoXCJjeVwiLGcpLmF0dHIoXCJzdHJva2VcIixmdW5jdGlvbigpe3JldHVybiBkLmNvbG9yKGIpfSkuYXR0cihcInJcIixmdW5jdGlvbihhKXtyZXR1cm4gMS40KmQucG9pbnRTZWxlY3RSKGEpfSkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuYXR0cihcInJcIixoKX0saS51bnNlbGVjdFBvaW50PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzO2QuY29uZmlnLmRhdGFfb251bnNlbGVjdGVkKGIsYS5ub2RlKCkpLGQubWFpbi5zZWxlY3QoXCIuXCIrbC5zZWxlY3RlZENpcmNsZXMrZC5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChiLmlkKSkuc2VsZWN0QWxsKFwiLlwiK2wuc2VsZWN0ZWRDaXJjbGUrXCItXCIrYykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMCkuYXR0cihcInJcIiwwKS5yZW1vdmUoKX0saS50b2dnbGVQb2ludD1mdW5jdGlvbihhLGIsYyxkKXthP3RoaXMuc2VsZWN0UG9pbnQoYixjLGQpOnRoaXMudW5zZWxlY3RQb2ludChiLGMsZCl9LGkuc2VsZWN0UGF0aD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy5jb25maWcuZGF0YV9vbnNlbGVjdGVkLmNhbGwoYyxiLGEubm9kZSgpKSxhLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKFwiZmlsbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGMuZDMucmdiKGMuY29sb3IoYikpLmJyaWdodGVyKC43NSl9KX0saS51bnNlbGVjdFBhdGg9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2MuY29uZmlnLmRhdGFfb251bnNlbGVjdGVkLmNhbGwoYyxiLGEubm9kZSgpKSxhLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDApLnN0eWxlKFwiZmlsbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGMuY29sb3IoYil9KX0saS50b2dnbGVQYXRoPWZ1bmN0aW9uKGEsYixjLGQpe2E/dGhpcy5zZWxlY3RQYXRoKGIsYyxkKTp0aGlzLnVuc2VsZWN0UGF0aChiLGMsZCl9LGkuZ2V0VG9nZ2xlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzO3JldHVyblwiY2lyY2xlXCI9PT1hLm5vZGVOYW1lP2M9ZC5pc1N0ZXBUeXBlKGIpP2Z1bmN0aW9uKCl7fTpkLnRvZ2dsZVBvaW50OlwicGF0aFwiPT09YS5ub2RlTmFtZSYmKGM9ZC50b2dnbGVQYXRoKSxjfSxpLnRvZ2dsZVNoYXBlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC5kMyxmPWQuY29uZmlnLGc9ZS5zZWxlY3QoYSksaD1nLmNsYXNzZWQobC5TRUxFQ1RFRCksaT1kLmdldFRvZ2dsZShhLGIpLmJpbmQoZCk7Zi5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiZmLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShiKSYmKGYuZGF0YV9zZWxlY3Rpb25fbXVsdGlwbGV8fGQubWFpbi5zZWxlY3RBbGwoXCIuXCIrbC5zaGFwZXMrKGYuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZD9kLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIuaWQpOlwiXCIpKS5zZWxlY3RBbGwoXCIuXCIrbC5zaGFwZSkuZWFjaChmdW5jdGlvbihhLGIpe3ZhciBjPWUuc2VsZWN0KHRoaXMpO2MuY2xhc3NlZChsLlNFTEVDVEVEKSYmaSghMSxjLmNsYXNzZWQobC5TRUxFQ1RFRCwhMSksYSxiKX0pLGcuY2xhc3NlZChsLlNFTEVDVEVELCFoKSxpKCFoLGcsYixjKSl9LGkuaW5pdEJydXNoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZDM7YS5icnVzaD1iLnN2Zy5icnVzaCgpLm9uKFwiYnJ1c2hcIixmdW5jdGlvbigpe2EucmVkcmF3Rm9yQnJ1c2goKX0pLGEuYnJ1c2gudXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY29udGV4dCYmYS5jb250ZXh0LnNlbGVjdChcIi5cIitsLmJydXNoKS5jYWxsKHRoaXMpLHRoaXN9LGEuYnJ1c2guc2NhbGU9ZnVuY3Rpb24oYil7cmV0dXJuIGEuY29uZmlnLmF4aXNfcm90YXRlZD90aGlzLnkoYik6dGhpcy54KGIpfX0saS5pbml0U3ViY2hhcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1hLmNvbnRleHQ9YS5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsYS5nZXRUcmFuc2xhdGUoXCJjb250ZXh0XCIpKTtjLnN0eWxlKFwidmlzaWJpbGl0eVwiLGIuc3ViY2hhcnRfc2hvdz9cInZpc2libGVcIjpcImhpZGRlblwiKSxjLmFwcGVuZChcImdcIikuYXR0cihcImNsaXAtcGF0aFwiLGEuY2xpcFBhdGhGb3JTdWJjaGFydCkuYXR0cihcImNsYXNzXCIsbC5jaGFydCksYy5zZWxlY3QoXCIuXCIrbC5jaGFydCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLmNoYXJ0QmFycyksYy5zZWxlY3QoXCIuXCIrbC5jaGFydCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixsLmNoYXJ0TGluZXMpLGMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xpcC1wYXRoXCIsYS5jbGlwUGF0aCkuYXR0cihcImNsYXNzXCIsbC5icnVzaCkuY2FsbChhLmJydXNoKSxhLmF4ZXMuc3VieD1jLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbC5heGlzWCkuYXR0cihcInRyYW5zZm9ybVwiLGEuZ2V0VHJhbnNsYXRlKFwic3VieFwiKSkuYXR0cihcImNsaXAtcGF0aFwiLGIuYXhpc19yb3RhdGVkP1wiXCI6YS5jbGlwUGF0aEZvclhBeGlzKX0saS51cGRhdGVUYXJnZXRzRm9yU3ViY2hhcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZj10aGlzLGc9Zi5jb250ZXh0LGg9Zi5jb25maWcsaT1mLmNsYXNzQ2hhcnRCYXIuYmluZChmKSxqPWYuY2xhc3NCYXJzLmJpbmQoZiksaz1mLmNsYXNzQ2hhcnRMaW5lLmJpbmQoZiksbT1mLmNsYXNzTGluZXMuYmluZChmKSxuPWYuY2xhc3NBcmVhcy5iaW5kKGYpO2guc3ViY2hhcnRfc2hvdyYmKGU9Zy5zZWxlY3QoXCIuXCIrbC5jaGFydEJhcnMpLnNlbGVjdEFsbChcIi5cIitsLmNoYXJ0QmFyKS5kYXRhKGEpLmF0dHIoXCJjbGFzc1wiLGkpLGQ9ZS5lbnRlcigpLmFwcGVuZChcImdcIikuc3R5bGUoXCJvcGFjaXR5XCIsMCkuYXR0cihcImNsYXNzXCIsaSksZC5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLGopLGM9Zy5zZWxlY3QoXCIuXCIrbC5jaGFydExpbmVzKS5zZWxlY3RBbGwoXCIuXCIrbC5jaGFydExpbmUpLmRhdGEoYSkuYXR0cihcImNsYXNzXCIsayksYj1jLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5hdHRyKFwiY2xhc3NcIixrKSxiLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsbSksYi5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLG4pLGcuc2VsZWN0QWxsKFwiLlwiK2wuYnJ1c2grXCIgcmVjdFwiKS5hdHRyKGguYXhpc19yb3RhdGVkP1wid2lkdGhcIjpcImhlaWdodFwiLGguYXhpc19yb3RhdGVkP2Yud2lkdGgyOmYuaGVpZ2h0MikpfSxpLnVwZGF0ZUJhckZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5jb250ZXh0QmFyPWIuY29udGV4dC5zZWxlY3RBbGwoXCIuXCIrbC5iYXJzKS5zZWxlY3RBbGwoXCIuXCIrbC5iYXIpLmRhdGEoYi5iYXJEYXRhLmJpbmQoYikpLGIuY29udGV4dEJhci5lbnRlcigpLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsYi5jbGFzc0Jhci5iaW5kKGIpKS5zdHlsZShcInN0cm9rZVwiLFwibm9uZVwiKS5zdHlsZShcImZpbGxcIixiLmNvbG9yKSxiLmNvbnRleHRCYXIuc3R5bGUoXCJvcGFjaXR5XCIsYi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpKSxiLmNvbnRleHRCYXIuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbihhKS5zdHlsZShcIm9wYWNpdHlcIiwwKS5yZW1vdmUoKX0saS5yZWRyYXdCYXJGb3JTdWJjaGFydD1mdW5jdGlvbihhLGIsYyl7KGI/dGhpcy5jb250ZXh0QmFyLnRyYW5zaXRpb24oKS5kdXJhdGlvbihjKTp0aGlzLmNvbnRleHRCYXIpLmF0dHIoXCJkXCIsYSkuc3R5bGUoXCJvcGFjaXR5XCIsMSl9LGkudXBkYXRlTGluZUZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5jb250ZXh0TGluZT1iLmNvbnRleHQuc2VsZWN0QWxsKFwiLlwiK2wubGluZXMpLnNlbGVjdEFsbChcIi5cIitsLmxpbmUpLmRhdGEoYi5saW5lRGF0YS5iaW5kKGIpKSxiLmNvbnRleHRMaW5lLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixiLmNsYXNzTGluZS5iaW5kKGIpKS5zdHlsZShcInN0cm9rZVwiLGIuY29sb3IpLGIuY29udGV4dExpbmUuc3R5bGUoXCJvcGFjaXR5XCIsYi5pbml0aWFsT3BhY2l0eS5iaW5kKGIpKSxiLmNvbnRleHRMaW5lLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCl9LGkucmVkcmF3TGluZUZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEsYixjKXsoYj90aGlzLmNvbnRleHRMaW5lLnRyYW5zaXRpb24oKS5kdXJhdGlvbihjKTp0aGlzLmNvbnRleHRMaW5lKS5hdHRyKFwiZFwiLGEpLnN0eWxlKFwib3BhY2l0eVwiLDEpfSxpLnVwZGF0ZUFyZWFGb3JTdWJjaGFydD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5kMztiLmNvbnRleHRBcmVhPWIuY29udGV4dC5zZWxlY3RBbGwoXCIuXCIrbC5hcmVhcykuc2VsZWN0QWxsKFwiLlwiK2wuYXJlYSkuZGF0YShiLmxpbmVEYXRhLmJpbmQoYikpLGIuY29udGV4dEFyZWEuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLGIuY2xhc3NBcmVhLmJpbmQoYikpLnN0eWxlKFwiZmlsbFwiLGIuY29sb3IpLnN0eWxlKFwib3BhY2l0eVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGIub3JnQXJlYU9wYWNpdHk9K2Muc2VsZWN0KHRoaXMpLnN0eWxlKFwib3BhY2l0eVwiKSwwfSksYi5jb250ZXh0QXJlYS5zdHlsZShcIm9wYWNpdHlcIiwwKSxiLmNvbnRleHRBcmVhLmV4aXQoKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oYSkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCl9LGkucmVkcmF3QXJlYUZvclN1YmNoYXJ0PWZ1bmN0aW9uKGEsYixjKXsoYj90aGlzLmNvbnRleHRBcmVhLnRyYW5zaXRpb24oKS5kdXJhdGlvbihjKTp0aGlzLmNvbnRleHRBcmVhKS5hdHRyKFwiZFwiLGEpLnN0eWxlKFwiZmlsbFwiLHRoaXMuY29sb3IpLnN0eWxlKFwib3BhY2l0eVwiLHRoaXMub3JnQXJlYU9wYWNpdHkpfSxpLnJlZHJhd1N1YmNoYXJ0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoLGksaixrPXRoaXMsbD1rLmQzLG09ay5jb25maWc7ay5jb250ZXh0LnN0eWxlKFwidmlzaWJpbGl0eVwiLG0uc3ViY2hhcnRfc2hvdz9cInZpc2libGVcIjpcImhpZGRlblwiKSxtLnN1YmNoYXJ0X3Nob3cmJihsLmV2ZW50JiZcInpvb21cIj09PWwuZXZlbnQudHlwZSYmay5icnVzaC5leHRlbnQoay54Lm9yZ0RvbWFpbigpKS51cGRhdGUoKSxhJiYoay5icnVzaC5lbXB0eSgpfHxrLmJydXNoLmV4dGVudChrLngub3JnRG9tYWluKCkpLnVwZGF0ZSgpLGg9ay5nZW5lcmF0ZURyYXdBcmVhKGUsITApLGk9ay5nZW5lcmF0ZURyYXdCYXIoZiwhMCksaj1rLmdlbmVyYXRlRHJhd0xpbmUoZywhMCksay51cGRhdGVCYXJGb3JTdWJjaGFydChjKSxrLnVwZGF0ZUxpbmVGb3JTdWJjaGFydChjKSxrLnVwZGF0ZUFyZWFGb3JTdWJjaGFydChjKSxrLnJlZHJhd0JhckZvclN1YmNoYXJ0KGksYyxjKSxrLnJlZHJhd0xpbmVGb3JTdWJjaGFydChqLGMsYyksay5yZWRyYXdBcmVhRm9yU3ViY2hhcnQoaCxjLGMpKSl9LGkucmVkcmF3Rm9yQnJ1c2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS54O2EucmVkcmF3KHt3aXRoVHJhbnNpdGlvbjohMSx3aXRoWTphLmNvbmZpZy56b29tX3Jlc2NhbGUsd2l0aFN1YmNoYXJ0OiExLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhEaW1lbnNpb246ITF9KSxhLmNvbmZpZy5zdWJjaGFydF9vbmJydXNoLmNhbGwoYS5hcGksYi5vcmdEb21haW4oKSl9LGkudHJhbnNmb3JtQ29udGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcztiJiZiLmF4aXNTdWJYP2M9Yi5heGlzU3ViWDooYz1kLmNvbnRleHQuc2VsZWN0KFwiLlwiK2wuYXhpc1gpLGEmJihjPWMudHJhbnNpdGlvbigpKSksZC5jb250ZXh0LmF0dHIoXCJ0cmFuc2Zvcm1cIixkLmdldFRyYW5zbGF0ZShcImNvbnRleHRcIikpLGMuYXR0cihcInRyYW5zZm9ybVwiLGQuZ2V0VHJhbnNsYXRlKFwic3VieFwiKSl9LGkuZ2V0RGVmYXVsdEV4dGVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNvbmZpZyxjPW4oYi5heGlzX3hfZXh0ZW50KT9iLmF4aXNfeF9leHRlbnQoYS5nZXRYRG9tYWluKGEuZGF0YS50YXJnZXRzKSk6Yi5heGlzX3hfZXh0ZW50O3JldHVybiBhLmlzVGltZVNlcmllcygpJiYoYz1bYS5wYXJzZURhdGUoY1swXSksYS5wYXJzZURhdGUoY1sxXSldKSxjfSxpLmluaXRab29tPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLGM9Yi5kMyxkPWIuY29uZmlnO2Iuem9vbT1jLmJlaGF2aW9yLnpvb20oKS5vbihcInpvb21zdGFydFwiLGZ1bmN0aW9uKCl7YT1jLmV2ZW50LnNvdXJjZUV2ZW50LGIuem9vbS5hbHREb21haW49Yy5ldmVudC5zb3VyY2VFdmVudC5hbHRLZXk/Yi54Lm9yZ0RvbWFpbigpOm51bGwsZC56b29tX29uem9vbXN0YXJ0LmNhbGwoYi5hcGksYy5ldmVudC5zb3VyY2VFdmVudCl9KS5vbihcInpvb21cIixmdW5jdGlvbigpe2IucmVkcmF3Rm9yWm9vbS5jYWxsKGIpfSkub24oXCJ6b29tZW5kXCIsZnVuY3Rpb24oKXt2YXIgZT1jLmV2ZW50LnNvdXJjZUV2ZW50O2UmJmEuY2xpZW50WD09PWUuY2xpZW50WCYmYS5jbGllbnRZPT09ZS5jbGllbnRZfHwoYi5yZWRyYXdFdmVudFJlY3QoKSxiLnVwZGF0ZVpvb20oKSxkLnpvb21fb256b29tZW5kLmNhbGwoYi5hcGksYi54Lm9yZ0RvbWFpbigpKSl9KSxiLnpvb20uc2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGQuYXhpc19yb3RhdGVkP3RoaXMueShhKTp0aGlzLngoYSl9LGIuem9vbS5vcmdTY2FsZUV4dGVudD1mdW5jdGlvbigpe3ZhciBhPWQuem9vbV9leHRlbnQ/ZC56b29tX2V4dGVudDpbMSwxMF07cmV0dXJuW2FbMF0sTWF0aC5tYXgoYi5nZXRNYXhEYXRhQ291bnQoKS9hWzFdLGFbMV0pXX0sYi56b29tLnVwZGF0ZVNjYWxlRXh0ZW50PWZ1bmN0aW9uKCl7dmFyIGE9dChiLngub3JnRG9tYWluKCkpL3QoYi5vcmdYRG9tYWluKSxjPXRoaXMub3JnU2NhbGVFeHRlbnQoKTtyZXR1cm4gdGhpcy5zY2FsZUV4dGVudChbY1swXSphLGNbMV0qYV0pLHRoaXN9fSxpLnVwZGF0ZVpvb209ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcuem9vbV9lbmFibGVkP2Euem9vbTpmdW5jdGlvbigpe307YS5tYWluLnNlbGVjdChcIi5cIitsLnpvb21SZWN0KS5jYWxsKGIpLm9uKFwiZGJsY2xpY2suem9vbVwiLG51bGwpLGEubWFpbi5zZWxlY3RBbGwoXCIuXCIrbC5ldmVudFJlY3QpLmNhbGwoYikub24oXCJkYmxjbGljay56b29tXCIsbnVsbCl9LGkucmVkcmF3Rm9yWm9vbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmQzLGM9YS5jb25maWcsZD1hLnpvb20sZT1hLng7aWYoYy56b29tX2VuYWJsZWQmJjAhPT1hLmZpbHRlclRhcmdldHNUb1Nob3coYS5kYXRhLnRhcmdldHMpLmxlbmd0aCl7aWYoXCJtb3VzZW1vdmVcIj09PWIuZXZlbnQuc291cmNlRXZlbnQudHlwZSYmZC5hbHREb21haW4pcmV0dXJuIGUuZG9tYWluKGQuYWx0RG9tYWluKSx2b2lkIGQuc2NhbGUoZSkudXBkYXRlU2NhbGVFeHRlbnQoKTthLmlzQ2F0ZWdvcml6ZWQoKSYmZS5vcmdEb21haW4oKVswXT09PWEub3JnWERvbWFpblswXSYmZS5kb21haW4oW2Eub3JnWERvbWFpblswXS0xZS0xMCxlLm9yZ0RvbWFpbigpWzFdXSksYS5yZWRyYXcoe3dpdGhUcmFuc2l0aW9uOiExLHdpdGhZOmMuem9vbV9yZXNjYWxlLHdpdGhTdWJjaGFydDohMSx3aXRoRXZlbnRSZWN0OiExLHdpdGhEaW1lbnNpb246ITF9KSxcIm1vdXNlbW92ZVwiPT09Yi5ldmVudC5zb3VyY2VFdmVudC50eXBlJiYoYS5jYW5jZWxDbGljaz0hMCksYy56b29tX29uem9vbS5jYWxsKGEuYXBpLGUub3JnRG9tYWluKCkpfX0saS5nZW5lcmF0ZUNvbG9yPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY29uZmlnLGM9YS5kMyxkPWIuZGF0YV9jb2xvcnMsZT12KGIuY29sb3JfcGF0dGVybik/Yi5jb2xvcl9wYXR0ZXJuOmMuc2NhbGUuY2F0ZWdvcnkxMCgpLnJhbmdlKCksZj1iLmRhdGFfY29sb3IsZz1bXTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmlkfHxhLmRhdGEmJmEuZGF0YS5pZHx8YTtyZXR1cm4gZFtjXWluc3RhbmNlb2YgRnVuY3Rpb24/Yj1kW2NdKGEpOmRbY10/Yj1kW2NdOihnLmluZGV4T2YoYyk8MCYmZy5wdXNoKGMpLGI9ZVtnLmluZGV4T2YoYyklZS5sZW5ndGhdLGRbY109YiksZiBpbnN0YW5jZW9mIEZ1bmN0aW9uP2YoYixhKTpifX0saS5nZW5lcmF0ZUxldmVsQ29sb3I9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25maWcsYz1iLmNvbG9yX3BhdHRlcm4sZD1iLmNvbG9yX3RocmVzaG9sZCxlPVwidmFsdWVcIj09PWQudW5pdCxmPWQudmFsdWVzJiZkLnZhbHVlcy5sZW5ndGg/ZC52YWx1ZXM6W10sZz1kLm1heHx8MTAwO3JldHVybiB2KGIuY29sb3JfdGhyZXNob2xkKT9mdW5jdGlvbihhKXt2YXIgYixkLGg9Y1tjLmxlbmd0aC0xXTtmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKWlmKGQ9ZT9hOjEwMCphL2csZDxmW2JdKXtoPWNbYl07YnJlYWt9cmV0dXJuIGh9Om51bGx9LGkuZ2V0WUZvcm1hdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9YSYmIWIuaGFzVHlwZShcImdhdWdlXCIpP2IuZGVmYXVsdEFyY1ZhbHVlRm9ybWF0OmIueUZvcm1hdCxkPWEmJiFiLmhhc1R5cGUoXCJnYXVnZVwiKT9iLmRlZmF1bHRBcmNWYWx1ZUZvcm1hdDpiLnkyRm9ybWF0O3JldHVybiBmdW5jdGlvbihhLGUsZil7dmFyIGc9XCJ5MlwiPT09Yi5heGlzLmdldElkKGYpP2Q6YztyZXR1cm4gZy5jYWxsKGIsYSxlKX19LGkueUZvcm1hdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1jLmF4aXNfeV90aWNrX2Zvcm1hdD9jLmF4aXNfeV90aWNrX2Zvcm1hdDpiLmRlZmF1bHRWYWx1ZUZvcm1hdDtyZXR1cm4gZChhKX0saS55MkZvcm1hdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcsZD1jLmF4aXNfeTJfdGlja19mb3JtYXQ/Yy5heGlzX3kyX3RpY2tfZm9ybWF0OmIuZGVmYXVsdFZhbHVlRm9ybWF0O3JldHVybiBkKGEpfSxpLmRlZmF1bHRWYWx1ZUZvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gbShhKT8rYTpcIlwifSxpLmRlZmF1bHRBcmNWYWx1ZUZvcm1hdD1mdW5jdGlvbihhLGIpe3JldHVybigxMDAqYikudG9GaXhlZCgxKStcIiVcIn0saS5kYXRhTGFiZWxGb3JtYXQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLGQ9Yy5jb25maWcuZGF0YV9sYWJlbHMsZT1mdW5jdGlvbihhKXtyZXR1cm4gbShhKT8rYTpcIlwifTtyZXR1cm4gYj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmZvcm1hdD9kLmZvcm1hdDpcIm9iamVjdFwiPT10eXBlb2YgZC5mb3JtYXQ/ZC5mb3JtYXRbYV0/ZC5mb3JtYXRbYV09PT0hMD9lOmQuZm9ybWF0W2FdOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn06ZX0saS5oYXNDYWNoZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspaWYoIShhW2JdaW4gdGhpcy5jYWNoZSkpcmV0dXJuITE7cmV0dXJuITB9LGkuYWRkQ2FjaGU9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhY2hlW2FdPXRoaXMuY2xvbmVUYXJnZXQoYil9LGkuZ2V0Q2FjaGVzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W107Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdaW4gdGhpcy5jYWNoZSYmYy5wdXNoKHRoaXMuY2xvbmVUYXJnZXQodGhpcy5jYWNoZVthW2JdXSkpO3JldHVybiBjfTt2YXIgbD1pLkNMQVNTPXt0YXJnZXQ6XCJjMy10YXJnZXRcIixjaGFydDpcImMzLWNoYXJ0XCIsY2hhcnRMaW5lOlwiYzMtY2hhcnQtbGluZVwiLGNoYXJ0TGluZXM6XCJjMy1jaGFydC1saW5lc1wiLGNoYXJ0QmFyOlwiYzMtY2hhcnQtYmFyXCIsY2hhcnRCYXJzOlwiYzMtY2hhcnQtYmFyc1wiLGNoYXJ0VGV4dDpcImMzLWNoYXJ0LXRleHRcIixjaGFydFRleHRzOlwiYzMtY2hhcnQtdGV4dHNcIixjaGFydEFyYzpcImMzLWNoYXJ0LWFyY1wiLGNoYXJ0QXJjczpcImMzLWNoYXJ0LWFyY3NcIixjaGFydEFyY3NUaXRsZTpcImMzLWNoYXJ0LWFyY3MtdGl0bGVcIixjaGFydEFyY3NCYWNrZ3JvdW5kOlwiYzMtY2hhcnQtYXJjcy1iYWNrZ3JvdW5kXCIsY2hhcnRBcmNzR2F1Z2VVbml0OlwiYzMtY2hhcnQtYXJjcy1nYXVnZS11bml0XCIsY2hhcnRBcmNzR2F1Z2VNYXg6XCJjMy1jaGFydC1hcmNzLWdhdWdlLW1heFwiLGNoYXJ0QXJjc0dhdWdlTWluOlwiYzMtY2hhcnQtYXJjcy1nYXVnZS1taW5cIixzZWxlY3RlZENpcmNsZTpcImMzLXNlbGVjdGVkLWNpcmNsZVwiLHNlbGVjdGVkQ2lyY2xlczpcImMzLXNlbGVjdGVkLWNpcmNsZXNcIixldmVudFJlY3Q6XCJjMy1ldmVudC1yZWN0XCIsZXZlbnRSZWN0czpcImMzLWV2ZW50LXJlY3RzXCIsZXZlbnRSZWN0c1NpbmdsZTpcImMzLWV2ZW50LXJlY3RzLXNpbmdsZVwiLGV2ZW50UmVjdHNNdWx0aXBsZTpcImMzLWV2ZW50LXJlY3RzLW11bHRpcGxlXCIsem9vbVJlY3Q6XCJjMy16b29tLXJlY3RcIixicnVzaDpcImMzLWJydXNoXCIsZm9jdXNlZDpcImMzLWZvY3VzZWRcIixkZWZvY3VzZWQ6XCJjMy1kZWZvY3VzZWRcIixyZWdpb246XCJjMy1yZWdpb25cIixyZWdpb25zOlwiYzMtcmVnaW9uc1wiLHRvb2x0aXBDb250YWluZXI6XCJjMy10b29sdGlwLWNvbnRhaW5lclwiLHRvb2x0aXA6XCJjMy10b29sdGlwXCIsdG9vbHRpcE5hbWU6XCJjMy10b29sdGlwLW5hbWVcIixzaGFwZTpcImMzLXNoYXBlXCIsc2hhcGVzOlwiYzMtc2hhcGVzXCIsbGluZTpcImMzLWxpbmVcIixsaW5lczpcImMzLWxpbmVzXCIsYmFyOlwiYzMtYmFyXCIsYmFyczpcImMzLWJhcnNcIixjaXJjbGU6XCJjMy1jaXJjbGVcIixjaXJjbGVzOlwiYzMtY2lyY2xlc1wiLGFyYzpcImMzLWFyY1wiLGFyY3M6XCJjMy1hcmNzXCIsYXJlYTpcImMzLWFyZWFcIixhcmVhczpcImMzLWFyZWFzXCIsZW1wdHk6XCJjMy1lbXB0eVwiLHRleHQ6XCJjMy10ZXh0XCIsdGV4dHM6XCJjMy10ZXh0c1wiLGdhdWdlVmFsdWU6XCJjMy1nYXVnZS12YWx1ZVwiLGdyaWQ6XCJjMy1ncmlkXCIsZ3JpZExpbmVzOlwiYzMtZ3JpZC1saW5lc1wiLHhncmlkOlwiYzMteGdyaWRcIix4Z3JpZHM6XCJjMy14Z3JpZHNcIix4Z3JpZExpbmU6XCJjMy14Z3JpZC1saW5lXCIseGdyaWRMaW5lczpcImMzLXhncmlkLWxpbmVzXCIseGdyaWRGb2N1czpcImMzLXhncmlkLWZvY3VzXCIseWdyaWQ6XCJjMy15Z3JpZFwiLHlncmlkczpcImMzLXlncmlkc1wiLHlncmlkTGluZTpcImMzLXlncmlkLWxpbmVcIix5Z3JpZExpbmVzOlwiYzMteWdyaWQtbGluZXNcIixheGlzOlwiYzMtYXhpc1wiLGF4aXNYOlwiYzMtYXhpcy14XCIsYXhpc1hMYWJlbDpcImMzLWF4aXMteC1sYWJlbFwiLGF4aXNZOlwiYzMtYXhpcy15XCIsYXhpc1lMYWJlbDpcImMzLWF4aXMteS1sYWJlbFwiLGF4aXNZMjpcImMzLWF4aXMteTJcIixheGlzWTJMYWJlbDpcImMzLWF4aXMteTItbGFiZWxcIixsZWdlbmRCYWNrZ3JvdW5kOlwiYzMtbGVnZW5kLWJhY2tncm91bmRcIixsZWdlbmRJdGVtOlwiYzMtbGVnZW5kLWl0ZW1cIixsZWdlbmRJdGVtRXZlbnQ6XCJjMy1sZWdlbmQtaXRlbS1ldmVudFwiLGxlZ2VuZEl0ZW1UaWxlOlwiYzMtbGVnZW5kLWl0ZW0tdGlsZVwiLGxlZ2VuZEl0ZW1IaWRkZW46XCJjMy1sZWdlbmQtaXRlbS1oaWRkZW5cIixsZWdlbmRJdGVtRm9jdXNlZDpcImMzLWxlZ2VuZC1pdGVtLWZvY3VzZWRcIixkcmFnYXJlYTpcImMzLWRyYWdhcmVhXCIsRVhQQU5ERUQ6XCJfZXhwYW5kZWRfXCIsU0VMRUNURUQ6XCJfc2VsZWN0ZWRfXCIsSU5DTFVERUQ6XCJfaW5jbHVkZWRfXCJ9O2kuZ2VuZXJhdGVDbGFzcz1mdW5jdGlvbihhLGIpe3JldHVyblwiIFwiK2ErXCIgXCIrYSt0aGlzLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGIpfSxpLmNsYXNzVGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGwudGV4dCxhLmluZGV4KX0saS5jbGFzc1RleHRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdlbmVyYXRlQ2xhc3MobC50ZXh0cyxhLmlkKX0saS5jbGFzc1NoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdlbmVyYXRlQ2xhc3MobC5zaGFwZSxhLmluZGV4KX0saS5jbGFzc1NoYXBlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZUNsYXNzKGwuc2hhcGVzLGEuaWQpfSxpLmNsYXNzTGluZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmxpbmUsYS5pZCl9LGkuY2xhc3NMaW5lcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlcyhhKSt0aGlzLmdlbmVyYXRlQ2xhc3MobC5saW5lcyxhLmlkKX0saS5jbGFzc0NpcmNsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmNpcmNsZSxhLmluZGV4KX0saS5jbGFzc0NpcmNsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZXMoYSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGwuY2lyY2xlcyxhLmlkKX0saS5jbGFzc0Jhcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmJhcixhLmluZGV4KX0saS5jbGFzc0JhcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2xhc3NTaGFwZXMoYSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGwuYmFycyxhLmlkKX0saS5jbGFzc0FyYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlKGEuZGF0YSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGwuYXJjLGEuZGF0YS5pZCl9LGkuY2xhc3NBcmNzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNsYXNzU2hhcGVzKGEuZGF0YSkrdGhpcy5nZW5lcmF0ZUNsYXNzKGwuYXJjcyxhLmRhdGEuaWQpfSxpLmNsYXNzQXJlYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlKGEpK3RoaXMuZ2VuZXJhdGVDbGFzcyhsLmFyZWEsYS5pZCl9LGkuY2xhc3NBcmVhcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc1NoYXBlcyhhKSt0aGlzLmdlbmVyYXRlQ2xhc3MobC5hcmVhcyxhLmlkKX0saS5jbGFzc1JlZ2lvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdlbmVyYXRlQ2xhc3MobC5yZWdpb24sYikrXCIgXCIrKFwiY2xhc3NcImluIGE/YVtcImNsYXNzXCJdOlwiXCIpfSxpLmNsYXNzRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVDbGFzcyhsLmV2ZW50UmVjdCxhLmluZGV4KX0saS5jbGFzc1RhcmdldD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5jb25maWcuZGF0YV9jbGFzc2VzW2FdLGQ9XCJcIjtyZXR1cm4gYyYmKGQ9XCIgXCIrbC50YXJnZXQrXCItXCIrYyksYi5nZW5lcmF0ZUNsYXNzKGwudGFyZ2V0LGEpK2R9LGkuY2xhc3NGb2N1cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jbGFzc0ZvY3VzZWQoYSkrdGhpcy5jbGFzc0RlZm9jdXNlZChhKX0saS5jbGFzc0ZvY3VzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCIgXCIrKHRoaXMuZm9jdXNlZFRhcmdldElkcy5pbmRleE9mKGEuaWQpPj0wP2wuZm9jdXNlZDpcIlwiKX0saS5jbGFzc0RlZm9jdXNlZD1mdW5jdGlvbihhKXtyZXR1cm5cIiBcIisodGhpcy5kZWZvY3VzZWRUYXJnZXRJZHMuaW5kZXhPZihhLmlkKT49MD9sLmRlZm9jdXNlZDpcIlwiKX0saS5jbGFzc0NoYXJ0VGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gbC5jaGFydFRleHQrdGhpcy5jbGFzc1RhcmdldChhLmlkKX0saS5jbGFzc0NoYXJ0TGluZT1mdW5jdGlvbihhKXtyZXR1cm4gbC5jaGFydExpbmUrdGhpcy5jbGFzc1RhcmdldChhLmlkKX0saS5jbGFzc0NoYXJ0QmFyPWZ1bmN0aW9uKGEpe3JldHVybiBsLmNoYXJ0QmFyK3RoaXMuY2xhc3NUYXJnZXQoYS5pZCl9LGkuY2xhc3NDaGFydEFyYz1mdW5jdGlvbihhKXtyZXR1cm4gbC5jaGFydEFyYyt0aGlzLmNsYXNzVGFyZ2V0KGEuZGF0YS5pZCl9LGkuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXg9ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fDA9PT1hPyhcIi1cIithKS5yZXBsYWNlKC9bXFxzPyFAIyQlXiYqKClfPSssLjw+J1wiOjtcXFtcXF1cXC98fmB7fVxcXFxdL2csXCItXCIpOlwiXCJ9LGkuc2VsZWN0b3JUYXJnZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYnx8XCJcIikrXCIuXCIrbC50YXJnZXQrdGhpcy5nZXRUYXJnZXRTZWxlY3RvclN1ZmZpeChhKX0saS5zZWxlY3RvclRhcmdldHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBhPWF8fFtdLGEubGVuZ3RoP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBjLnNlbGVjdG9yVGFyZ2V0KGEsYil9KTpudWxsfSxpLnNlbGVjdG9yTGVnZW5kPWZ1bmN0aW9uKGEpe3JldHVyblwiLlwiK2wubGVnZW5kSXRlbSt0aGlzLmdldFRhcmdldFNlbGVjdG9yU3VmZml4KGEpfSxpLnNlbGVjdG9yTGVnZW5kcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBhJiZhLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYi5zZWxlY3RvckxlZ2VuZChhKX0pOm51bGx9O3ZhciBtPWkuaXNWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gYXx8MD09PWF9LG49aS5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGF9LG89aS5pc1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX0scD1pLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhfSxxPWkuaXNEZWZpbmVkPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhfSxyPWkuY2VpbDEwPWZ1bmN0aW9uKGEpe3JldHVybiAxMCpNYXRoLmNlaWwoYS8xMCl9LHM9aS5hc0hhbGZQaXhlbD1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5jZWlsKGEpKy41fSx0PWkuZGlmZkRvbWFpbj1mdW5jdGlvbihhKXtyZXR1cm4gYVsxXS1hWzBdfSx1PWkuaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8byhhKSYmMD09PWEubGVuZ3RofHxcIm9iamVjdFwiPT10eXBlb2YgYSYmMD09PU9iamVjdC5rZXlzKGEpLmxlbmd0aH0sdj1pLm5vdEVtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiBPYmplY3Qua2V5cyhhKS5sZW5ndGg+MH0sdz1pLmdldE9wdGlvbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHEoYVtiXSk/YVtiXTpjfSx4PWkuaGFzVmFsdWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTtyZXR1cm4gT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihkKXthW2RdPT09YiYmKGM9ITApfSksY30seT1pLmdldFBhdGhCb3g9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPVthLnBhdGhTZWdMaXN0LmdldEl0ZW0oMCksYS5wYXRoU2VnTGlzdC5nZXRJdGVtKDEpXSxkPWNbMF0ueCxlPU1hdGgubWluKGNbMF0ueSxjWzFdLnkpO3JldHVybnt4OmQseTplLHdpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fX07aC5mb2N1cz1mdW5jdGlvbihhKXt2YXIgYixjPXRoaXMuaW50ZXJuYWw7YT1jLm1hcFRvVGFyZ2V0SWRzKGEpLGI9Yy5zdmcuc2VsZWN0QWxsKGMuc2VsZWN0b3JUYXJnZXRzKGEuZmlsdGVyKGMuaXNUYXJnZXRUb1Nob3csYykpKSx0aGlzLnJldmVydCgpLHRoaXMuZGVmb2N1cygpLGIuY2xhc3NlZChsLmZvY3VzZWQsITApLmNsYXNzZWQobC5kZWZvY3VzZWQsITEpLGMuaGFzQXJjVHlwZSgpJiZjLmV4cGFuZEFyYyhhKSxjLnRvZ2dsZUZvY3VzTGVnZW5kKGEsITApLGMuZm9jdXNlZFRhcmdldElkcz1hLGMuZGVmb2N1c2VkVGFyZ2V0SWRzPWMuZGVmb2N1c2VkVGFyZ2V0SWRzLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gYS5pbmRleE9mKGIpPDB9KX0saC5kZWZvY3VzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5pbnRlcm5hbDthPWMubWFwVG9UYXJnZXRJZHMoYSksYj1jLnN2Zy5zZWxlY3RBbGwoYy5zZWxlY3RvclRhcmdldHMoYS5maWx0ZXIoYy5pc1RhcmdldFRvU2hvdyxjKSkpLGIuY2xhc3NlZChsLmZvY3VzZWQsITEpLmNsYXNzZWQobC5kZWZvY3VzZWQsITApLGMuaGFzQXJjVHlwZSgpJiZjLnVuZXhwYW5kQXJjKGEpLGMudG9nZ2xlRm9jdXNMZWdlbmQoYSwhMSksYy5mb2N1c2VkVGFyZ2V0SWRzPWMuZm9jdXNlZFRhcmdldElkcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGEuaW5kZXhPZihiKTwwfSksYy5kZWZvY3VzZWRUYXJnZXRJZHM9YX0saC5yZXZlcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmludGVybmFsO2E9Yy5tYXBUb1RhcmdldElkcyhhKSxiPWMuc3ZnLnNlbGVjdEFsbChjLnNlbGVjdG9yVGFyZ2V0cyhhKSksYi5jbGFzc2VkKGwuZm9jdXNlZCwhMSkuY2xhc3NlZChsLmRlZm9jdXNlZCwhMSksYy5oYXNBcmNUeXBlKCkmJmMudW5leHBhbmRBcmMoYSksYy5jb25maWcubGVnZW5kX3Nob3cmJihjLnNob3dMZWdlbmQoYS5maWx0ZXIoYy5pc0xlZ2VuZFRvU2hvdy5iaW5kKGMpKSksYy5sZWdlbmQuc2VsZWN0QWxsKGMuc2VsZWN0b3JMZWdlbmRzKGEpKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYy5kMy5zZWxlY3QodGhpcykuY2xhc3NlZChsLmxlZ2VuZEl0ZW1Gb2N1c2VkKX0pLmNsYXNzZWQobC5sZWdlbmRJdGVtRm9jdXNlZCwhMSkpLGMuZm9jdXNlZFRhcmdldElkcz1bXSxjLmRlZm9jdXNlZFRhcmdldElkcz1bXX0saC5zaG93PWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzLmludGVybmFsO2E9ZC5tYXBUb1RhcmdldElkcyhhKSxiPWJ8fHt9LGQucmVtb3ZlSGlkZGVuVGFyZ2V0SWRzKGEpLGM9ZC5zdmcuc2VsZWN0QWxsKGQuc2VsZWN0b3JUYXJnZXRzKGEpKSxjLnRyYW5zaXRpb24oKS5zdHlsZShcIm9wYWNpdHlcIiwxLFwiaW1wb3J0YW50XCIpLmNhbGwoZC5lbmRhbGwsZnVuY3Rpb24oKXtjLnN0eWxlKFwib3BhY2l0eVwiLG51bGwpLnN0eWxlKFwib3BhY2l0eVwiLDEpfSksYi53aXRoTGVnZW5kJiZkLnNob3dMZWdlbmQoYSksZC5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhMZWdlbmQ6ITB9KX0saC5oaWRlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD10aGlzLmludGVybmFsO2E9ZC5tYXBUb1RhcmdldElkcyhhKSxiPWJ8fHt9LGQuYWRkSGlkZGVuVGFyZ2V0SWRzKGEpLGM9ZC5zdmcuc2VsZWN0QWxsKGQuc2VsZWN0b3JUYXJnZXRzKGEpKSxjLnRyYW5zaXRpb24oKS5zdHlsZShcIm9wYWNpdHlcIiwwLFwiaW1wb3J0YW50XCIpLmNhbGwoZC5lbmRhbGwsZnVuY3Rpb24oKXtjLnN0eWxlKFwib3BhY2l0eVwiLG51bGwpLnN0eWxlKFwib3BhY2l0eVwiLDApfSksYi53aXRoTGVnZW5kJiZkLmhpZGVMZWdlbmQoYSksZC5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwLHdpdGhMZWdlbmQ6ITB9KX0saC50b2dnbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9dGhpcy5pbnRlcm5hbDtkLm1hcFRvVGFyZ2V0SWRzKGEpLmZvckVhY2goZnVuY3Rpb24oYSl7ZC5pc1RhcmdldFRvU2hvdyhhKT9jLmhpZGUoYSxiKTpjLnNob3coYSxiKX0pfSxoLnpvb209ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gYSYmKGIuaXNUaW1lU2VyaWVzKCkmJihhPWEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBiLnBhcnNlRGF0ZShhKX0pKSxiLmJydXNoLmV4dGVudChhKSxiLnJlZHJhdyh7d2l0aFVwZGF0ZVhEb21haW46ITAsd2l0aFk6Yi5jb25maWcuem9vbV9yZXNjYWxlfSksYi5jb25maWcuem9vbV9vbnpvb20uY2FsbCh0aGlzLGIueC5vcmdEb21haW4oKSkpLGIuYnJ1c2guZXh0ZW50KCl9LGguem9vbS5lbmFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtiLmNvbmZpZy56b29tX2VuYWJsZWQ9YSxiLnVwZGF0ZUFuZFJlZHJhdygpfSxoLnVuem9vbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW50ZXJuYWw7YS5icnVzaC5jbGVhcigpLnVwZGF0ZSgpLGEucmVkcmF3KHt3aXRoVXBkYXRlWERvbWFpbjohMH0pfSxoLmxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhLnhzJiZiLmFkZFhzKGEueHMpLFwiY2xhc3Nlc1wiaW4gYSYmT2JqZWN0LmtleXMoYS5jbGFzc2VzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2MuZGF0YV9jbGFzc2VzW2JdPWEuY2xhc3Nlc1tiXX0pLFwiY2F0ZWdvcmllc1wiaW4gYSYmYi5pc0NhdGVnb3JpemVkKCkmJihjLmF4aXNfeF9jYXRlZ29yaWVzPWEuY2F0ZWdvcmllcyksXCJheGVzXCJpbiBhJiZPYmplY3Qua2V5cyhhLmF4ZXMpLmZvckVhY2goZnVuY3Rpb24oYil7Yy5kYXRhX2F4ZXNbYl09YS5heGVzW2JdfSksXCJjb2xvcnNcImluIGEmJk9iamVjdC5rZXlzKGEuY29sb3JzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2MuZGF0YV9jb2xvcnNbYl09YS5jb2xvcnNbYl19KSxcImNhY2hlSWRzXCJpbiBhJiZiLmhhc0NhY2hlcyhhLmNhY2hlSWRzKT92b2lkIGIubG9hZChiLmdldENhY2hlcyhhLmNhY2hlSWRzKSxhLmRvbmUpOnZvaWQoXCJ1bmxvYWRcImluIGE/Yi51bmxvYWQoYi5tYXBUb1RhcmdldElkcyhcImJvb2xlYW5cIj09dHlwZW9mIGEudW5sb2FkJiZhLnVubG9hZD9udWxsOmEudW5sb2FkKSxmdW5jdGlvbigpe2IubG9hZEZyb21BcmdzKGEpfSk6Yi5sb2FkRnJvbUFyZ3MoYSkpfSxoLnVubG9hZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO2E9YXx8e30sYSBpbnN0YW5jZW9mIEFycmF5P2E9e2lkczphfTpcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9e2lkczpbYV19KSxiLnVubG9hZChiLm1hcFRvVGFyZ2V0SWRzKGEuaWRzKSxmdW5jdGlvbigpe2IucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMCx3aXRoTGVnZW5kOiEwfSksYS5kb25lJiZhLmRvbmUoKX0pfSxoLmZsb3c9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqPXRoaXMuaW50ZXJuYWwsaz1bXSxsPWouZ2V0TWF4RGF0YUNvdW50KCksbj0wLG89MDtpZihhLmpzb24pYz1qLmNvbnZlcnRKc29uVG9EYXRhKGEuanNvbixhLmtleXMpO2Vsc2UgaWYoYS5yb3dzKWM9ai5jb252ZXJ0Um93c1RvRGF0YShhLnJvd3MpO2Vsc2V7aWYoIWEuY29sdW1ucylyZXR1cm47Yz1qLmNvbnZlcnRDb2x1bW5zVG9EYXRhKGEuY29sdW1ucyl9Yj1qLmNvbnZlcnREYXRhVG9UYXJnZXRzKGMsITApLGouZGF0YS50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGMsZCxlPSExO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoYS5pZD09PWJbY10uaWQpe2ZvcihlPSEwLGEudmFsdWVzW2EudmFsdWVzLmxlbmd0aC0xXSYmKG89YS52YWx1ZXNbYS52YWx1ZXMubGVuZ3RoLTFdLmluZGV4KzEpLG49YltjXS52YWx1ZXMubGVuZ3RoLGQ9MDtuPmQ7ZCsrKWJbY10udmFsdWVzW2RdLmluZGV4PW8rZCxqLmlzVGltZVNlcmllcygpfHwoYltjXS52YWx1ZXNbZF0ueD1vK2QpO2EudmFsdWVzPWEudmFsdWVzLmNvbmNhdChiW2NdLnZhbHVlcyksYi5zcGxpY2UoYywxKTticmVha31lfHxrLnB1c2goYS5pZCl9KSxqLmRhdGEudGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGI9MDtiPGsubGVuZ3RoO2IrKylpZihhLmlkPT09a1tiXSlmb3Iobz1hLnZhbHVlc1thLnZhbHVlcy5sZW5ndGgtMV0uaW5kZXgrMSxjPTA7bj5jO2MrKylhLnZhbHVlcy5wdXNoKHtpZDphLmlkLGluZGV4Om8rYyx4OmouaXNUaW1lU2VyaWVzKCk/ai5nZXRPdGhlclRhcmdldFgobytjKTpvK2MsdmFsdWU6bnVsbH0pfSksai5kYXRhLnRhcmdldHMubGVuZ3RoJiZiLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoYj1qLmRhdGEudGFyZ2V0c1swXS52YWx1ZXNbMF0uaW5kZXg7bz5iO2IrKyljLnB1c2goe2lkOmEuaWQsaW5kZXg6Yix4OmouaXNUaW1lU2VyaWVzKCk/ai5nZXRPdGhlclRhcmdldFgoYik6Yix2YWx1ZTpudWxsfSk7YS52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihhKXthLmluZGV4Kz1vLGouaXNUaW1lU2VyaWVzKCl8fChhLngrPW8pfSksYS52YWx1ZXM9Yy5jb25jYXQoYS52YWx1ZXMpfSksai5kYXRhLnRhcmdldHM9ai5kYXRhLnRhcmdldHMuY29uY2F0KGIpLGQ9ai5nZXRNYXhEYXRhQ291bnQoKSxmPWouZGF0YS50YXJnZXRzWzBdLGc9Zi52YWx1ZXNbMF0scShhLnRvKT8obj0wLGk9ai5pc1RpbWVTZXJpZXMoKT9qLnBhcnNlRGF0ZShhLnRvKTphLnRvLGYudmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYSl7YS54PGkmJm4rK30pKTpxKGEubGVuZ3RoKSYmKG49YS5sZW5ndGgpLGw/MT09PWwmJmouaXNUaW1lU2VyaWVzKCkmJihoPShmLnZhbHVlc1tmLnZhbHVlcy5sZW5ndGgtMV0ueC1nLngpLzIsZT1bbmV3IERhdGUoK2cueC1oKSxuZXcgRGF0ZSgrZy54K2gpXSxqLnVwZGF0ZVhEb21haW4obnVsbCwhMCwhMCwhMSxlKSk6KGg9ai5pc1RpbWVTZXJpZXMoKT9mLnZhbHVlcy5sZW5ndGg+MT9mLnZhbHVlc1tmLnZhbHVlcy5sZW5ndGgtMV0ueC1nLng6Zy54LWouZ2V0WERvbWFpbihqLmRhdGEudGFyZ2V0cylbMF06MSxlPVtnLngtaCxnLnhdLGoudXBkYXRlWERvbWFpbihudWxsLCEwLCEwLCExLGUpKSxqLnVwZGF0ZVRhcmdldHMoai5kYXRhLnRhcmdldHMpLGoucmVkcmF3KHtmbG93OntpbmRleDpnLmluZGV4LGxlbmd0aDpuLGR1cmF0aW9uOm0oYS5kdXJhdGlvbik/YS5kdXJhdGlvbjpqLmNvbmZpZy50cmFuc2l0aW9uX2R1cmF0aW9uLGRvbmU6YS5kb25lLG9yZ0RhdGFDb3VudDpsfSx3aXRoTGVnZW5kOiEwLHdpdGhUcmFuc2l0aW9uOmw+MSx3aXRoVHJpbVhEb21haW46ITEsd2l0aFVwZGF0ZVhBeGlzOiEwfSl9LGkuZ2VuZXJhdGVGbG93PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmNvbmZpZyxkPWIuZDM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsZixnLGg9YS50YXJnZXRzLGk9YS5mbG93LGo9YS5kcmF3QmFyLGs9YS5kcmF3TGluZSxtPWEuZHJhd0FyZWEsbj1hLmN4LG89YS5jeSxwPWEueHYscT1hLnhGb3JUZXh0LHI9YS55Rm9yVGV4dCxzPWEuZHVyYXRpb24sdT0xLHY9aS5pbmRleCx3PWkubGVuZ3RoLHg9Yi5nZXRWYWx1ZU9uSW5kZXgoYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLHYpLHk9Yi5nZXRWYWx1ZU9uSW5kZXgoYi5kYXRhLnRhcmdldHNbMF0udmFsdWVzLHYrdyksej1iLnguZG9tYWluKCksQT1pLmR1cmF0aW9ufHxzLEI9aS5kb25lfHxmdW5jdGlvbigpe30sQz1iLmdlbmVyYXRlV2FpdCgpLEQ9Yi54Z3JpZHx8ZC5zZWxlY3RBbGwoW10pLEU9Yi54Z3JpZExpbmVzfHxkLnNlbGVjdEFsbChbXSksRj1iLm1haW5SZWdpb258fGQuc2VsZWN0QWxsKFtdKSxHPWIubWFpblRleHR8fGQuc2VsZWN0QWxsKFtdKSxIPWIubWFpbkJhcnx8ZC5zZWxlY3RBbGwoW10pLEk9Yi5tYWluTGluZXx8ZC5zZWxlY3RBbGwoW10pLEo9Yi5tYWluQXJlYXx8ZC5zZWxlY3RBbGwoW10pLEs9Yi5tYWluQ2lyY2xlfHxkLnNlbGVjdEFsbChbXSk7Yi5mbG93aW5nPSEwLGIuZGF0YS50YXJnZXRzLmZvckVhY2goZnVuY3Rpb24oYSl7YS52YWx1ZXMuc3BsaWNlKDAsdyl9KSxnPWIudXBkYXRlWERvbWFpbihoLCEwLCEwKSxiLnVwZGF0ZVhHcmlkJiZiLnVwZGF0ZVhHcmlkKCEwKSxpLm9yZ0RhdGFDb3VudD9lPTE9PT1pLm9yZ0RhdGFDb3VudHx8eC54PT09eS54P2IueCh6WzBdKS1iLngoZ1swXSk6Yi5pc1RpbWVTZXJpZXMoKT9iLngoelswXSktYi54KGdbMF0pOmIueCh4LngpLWIueCh5LngpOjEhPT1iLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMubGVuZ3RoP2U9Yi54KHpbMF0pLWIueChnWzBdKTpiLmlzVGltZVNlcmllcygpPyh4PWIuZ2V0VmFsdWVPbkluZGV4KGIuZGF0YS50YXJnZXRzWzBdLnZhbHVlcywwKSx5PWIuZ2V0VmFsdWVPbkluZGV4KGIuZGF0YS50YXJnZXRzWzBdLnZhbHVlcyxiLmRhdGEudGFyZ2V0c1swXS52YWx1ZXMubGVuZ3RoLTEpLGU9Yi54KHgueCktYi54KHkueCkpOmU9dChnKS8yLHU9dCh6KS90KGcpLGY9XCJ0cmFuc2xhdGUoXCIrZStcIiwwKSBzY2FsZShcIit1K1wiLDEpXCIsYi5oaWRlWEdyaWRGb2N1cygpLGIuaGlkZVRvb2x0aXAoKSxkLnRyYW5zaXRpb24oKS5lYXNlKFwibGluZWFyXCIpLmR1cmF0aW9uKEEpLmVhY2goZnVuY3Rpb24oKXtDLmFkZChiLmF4ZXMueC50cmFuc2l0aW9uKCkuY2FsbChiLnhBeGlzKSksQy5hZGQoSC50cmFuc2l0aW9uKCkuYXR0cihcInRyYW5zZm9ybVwiLGYpKSxDLmFkZChJLnRyYW5zaXRpb24oKS5hdHRyKFwidHJhbnNmb3JtXCIsZikpLEMuYWRkKEoudHJhbnNpdGlvbigpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmKSksQy5hZGQoSy50cmFuc2l0aW9uKCkuYXR0cihcInRyYW5zZm9ybVwiLGYpKSxDLmFkZChHLnRyYW5zaXRpb24oKS5hdHRyKFwidHJhbnNmb3JtXCIsZikpLEMuYWRkKEYuZmlsdGVyKGIuaXNSZWdpb25PblgpLnRyYW5zaXRpb24oKS5hdHRyKFwidHJhbnNmb3JtXCIsZikpLEMuYWRkKEQudHJhbnNpdGlvbigpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmKSksQy5hZGQoRS50cmFuc2l0aW9uKCkuYXR0cihcInRyYW5zZm9ybVwiLGYpKVxufSkuY2FsbChDLGZ1bmN0aW9uKCl7dmFyIGEsZD1bXSxlPVtdLGY9W107aWYodyl7Zm9yKGE9MDt3PmE7YSsrKWQucHVzaChcIi5cIitsLnNoYXBlK1wiLVwiKyh2K2EpKSxlLnB1c2goXCIuXCIrbC50ZXh0K1wiLVwiKyh2K2EpKSxmLnB1c2goXCIuXCIrbC5ldmVudFJlY3QrXCItXCIrKHYrYSkpO2Iuc3ZnLnNlbGVjdEFsbChcIi5cIitsLnNoYXBlcykuc2VsZWN0QWxsKGQpLnJlbW92ZSgpLGIuc3ZnLnNlbGVjdEFsbChcIi5cIitsLnRleHRzKS5zZWxlY3RBbGwoZSkucmVtb3ZlKCksYi5zdmcuc2VsZWN0QWxsKFwiLlwiK2wuZXZlbnRSZWN0cykuc2VsZWN0QWxsKGYpLnJlbW92ZSgpLGIuc3ZnLnNlbGVjdChcIi5cIitsLnhncmlkKS5yZW1vdmUoKX1ELmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKGIueGdyaWRBdHRyKSxFLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKSxFLnNlbGVjdChcImxpbmVcIikuYXR0cihcIngxXCIsYy5heGlzX3JvdGF0ZWQ/MDpwKS5hdHRyKFwieDJcIixjLmF4aXNfcm90YXRlZD9iLndpZHRoOnApLEUuc2VsZWN0KFwidGV4dFwiKS5hdHRyKFwieFwiLGMuYXhpc19yb3RhdGVkP2Iud2lkdGg6MCkuYXR0cihcInlcIixwKSxILmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKFwiZFwiLGopLEkuYXR0cihcInRyYW5zZm9ybVwiLG51bGwpLmF0dHIoXCJkXCIsayksSi5hdHRyKFwidHJhbnNmb3JtXCIsbnVsbCkuYXR0cihcImRcIixtKSxLLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKFwiY3hcIixuKS5hdHRyKFwiY3lcIixvKSxHLmF0dHIoXCJ0cmFuc2Zvcm1cIixudWxsKS5hdHRyKFwieFwiLHEpLmF0dHIoXCJ5XCIscikuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIixiLm9wYWNpdHlGb3JUZXh0LmJpbmQoYikpLEYuYXR0cihcInRyYW5zZm9ybVwiLG51bGwpLEYuc2VsZWN0KFwicmVjdFwiKS5maWx0ZXIoYi5pc1JlZ2lvbk9uWCkuYXR0cihcInhcIixiLnJlZ2lvblguYmluZChiKSkuYXR0cihcIndpZHRoXCIsYi5yZWdpb25XaWR0aC5iaW5kKGIpKSxjLmludGVyYWN0aW9uX2VuYWJsZWQmJmIucmVkcmF3RXZlbnRSZWN0KCksQigpLGIuZmxvd2luZz0hMX0pfX0saC5zZWxlY3RlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5kMztyZXR1cm4gYy5tZXJnZShiLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuc2hhcGVzK2IuZ2V0VGFyZ2V0U2VsZWN0b3JTdWZmaXgoYSkpLnNlbGVjdEFsbChcIi5cIitsLnNoYXBlKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYy5zZWxlY3QodGhpcykuY2xhc3NlZChsLlNFTEVDVEVEKX0pLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9YS5fX2RhdGFfXztyZXR1cm4gYi5kYXRhP2IuZGF0YTpifSl9KSl9LGguc2VsZWN0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmludGVybmFsLGU9ZC5kMyxmPWQuY29uZmlnO2YuZGF0YV9zZWxlY3Rpb25fZW5hYmxlZCYmZC5tYWluLnNlbGVjdEFsbChcIi5cIitsLnNoYXBlcykuc2VsZWN0QWxsKFwiLlwiK2wuc2hhcGUpLmVhY2goZnVuY3Rpb24oZyxoKXt2YXIgaT1lLnNlbGVjdCh0aGlzKSxqPWcuZGF0YT9nLmRhdGEuaWQ6Zy5pZCxrPWQuZ2V0VG9nZ2xlKHRoaXMsZykuYmluZChkKSxtPWYuZGF0YV9zZWxlY3Rpb25fZ3JvdXBlZHx8IWF8fGEuaW5kZXhPZihqKT49MCxuPSFifHxiLmluZGV4T2YoaCk+PTAsbz1pLmNsYXNzZWQobC5TRUxFQ1RFRCk7aS5jbGFzc2VkKGwubGluZSl8fGkuY2xhc3NlZChsLmFyZWEpfHwobSYmbj9mLmRhdGFfc2VsZWN0aW9uX2lzc2VsZWN0YWJsZShnKSYmIW8mJmsoITAsaS5jbGFzc2VkKGwuU0VMRUNURUQsITApLGcsaCk6cShjKSYmYyYmbyYmayghMSxpLmNsYXNzZWQobC5TRUxFQ1RFRCwhMSksZyxoKSl9KX0saC51bnNlbGVjdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaW50ZXJuYWwsZD1jLmQzLGU9Yy5jb25maWc7ZS5kYXRhX3NlbGVjdGlvbl9lbmFibGVkJiZjLm1haW4uc2VsZWN0QWxsKFwiLlwiK2wuc2hhcGVzKS5zZWxlY3RBbGwoXCIuXCIrbC5zaGFwZSkuZWFjaChmdW5jdGlvbihmLGcpe3ZhciBoPWQuc2VsZWN0KHRoaXMpLGk9Zi5kYXRhP2YuZGF0YS5pZDpmLmlkLGo9Yy5nZXRUb2dnbGUodGhpcyxmKS5iaW5kKGMpLGs9ZS5kYXRhX3NlbGVjdGlvbl9ncm91cGVkfHwhYXx8YS5pbmRleE9mKGkpPj0wLG09IWJ8fGIuaW5kZXhPZihnKT49MCxuPWguY2xhc3NlZChsLlNFTEVDVEVEKTtoLmNsYXNzZWQobC5saW5lKXx8aC5jbGFzc2VkKGwuYXJlYSl8fGsmJm0mJmUuZGF0YV9zZWxlY3Rpb25faXNzZWxlY3RhYmxlKGYpJiZuJiZqKCExLGguY2xhc3NlZChsLlNFTEVDVEVELCExKSxmLGcpfSl9LGgudHJhbnNmb3JtPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5pbnRlcm5hbCxkPVtcInBpZVwiLFwiZG9udXRcIl0uaW5kZXhPZihhKT49MD97d2l0aFRyYW5zZm9ybTohMH06bnVsbDtjLnRyYW5zZm9ybVRvKGIsYSxkKX0saS50cmFuc2Zvcm1Ubz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPSFkLmhhc0FyY1R5cGUoKSxmPWN8fHt3aXRoVHJhbnNpdGlvbkZvckF4aXM6ZX07Zi53aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybT0hMSxkLnRyYW5zaXRpbmc9ITEsZC5zZXRUYXJnZXRUeXBlKGEsYiksZC51cGRhdGVUYXJnZXRzKGQuZGF0YS50YXJnZXRzKSxkLnVwZGF0ZUFuZFJlZHJhdyhmKX0saC5ncm91cHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBwKGEpP2MuZGF0YV9ncm91cHM6KGMuZGF0YV9ncm91cHM9YSxiLnJlZHJhdygpLGMuZGF0YV9ncm91cHMpfSxoLnhncmlkcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGE/KGMuZ3JpZF94X2xpbmVzPWEsYi5yZWRyYXdXaXRob3V0UmVzY2FsZSgpLGMuZ3JpZF94X2xpbmVzKTpjLmdyaWRfeF9saW5lc30saC54Z3JpZHMuYWRkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7cmV0dXJuIHRoaXMueGdyaWRzKGIuY29uZmlnLmdyaWRfeF9saW5lcy5jb25jYXQoYT9hOltdKSl9LGgueGdyaWRzLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO2IucmVtb3ZlR3JpZExpbmVzKGEsITApfSxoLnlncmlkcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGE/KGMuZ3JpZF95X2xpbmVzPWEsYi5yZWRyYXdXaXRob3V0UmVzY2FsZSgpLGMuZ3JpZF95X2xpbmVzKTpjLmdyaWRfeV9saW5lc30saC55Z3JpZHMuYWRkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7cmV0dXJuIHRoaXMueWdyaWRzKGIuY29uZmlnLmdyaWRfeV9saW5lcy5jb25jYXQoYT9hOltdKSl9LGgueWdyaWRzLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO2IucmVtb3ZlR3JpZExpbmVzKGEsITEpfSxoLnJlZ2lvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhPyhjLnJlZ2lvbnM9YSxiLnJlZHJhd1dpdGhvdXRSZXNjYWxlKCksYy5yZWdpb25zKTpjLnJlZ2lvbnN9LGgucmVnaW9ucy5hZGQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhPyhjLnJlZ2lvbnM9Yy5yZWdpb25zLmNvbmNhdChhKSxiLnJlZHJhd1dpdGhvdXRSZXNjYWxlKCksYy5yZWdpb25zKTpjLnJlZ2lvbnN9LGgucmVnaW9ucy5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU9dGhpcy5pbnRlcm5hbCxmPWUuY29uZmlnO3JldHVybiBhPWF8fHt9LGI9ZS5nZXRPcHRpb24oYSxcImR1cmF0aW9uXCIsZi50cmFuc2l0aW9uX2R1cmF0aW9uKSxjPWUuZ2V0T3B0aW9uKGEsXCJjbGFzc2VzXCIsW2wucmVnaW9uXSksZD1lLm1haW4uc2VsZWN0KFwiLlwiK2wucmVnaW9ucykuc2VsZWN0QWxsKGMubWFwKGZ1bmN0aW9uKGEpe3JldHVyblwiLlwiK2F9KSksKGI/ZC50cmFuc2l0aW9uKCkuZHVyYXRpb24oYik6ZCkuc3R5bGUoXCJvcGFjaXR5XCIsMCkucmVtb3ZlKCksZi5yZWdpb25zPWYucmVnaW9ucy5maWx0ZXIoZnVuY3Rpb24oYSl7dmFyIGI9ITE7cmV0dXJuIGFbXCJjbGFzc1wiXT8oYVtcImNsYXNzXCJdLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2MuaW5kZXhPZihhKT49MCYmKGI9ITApfSksIWIpOiEwfSksZi5yZWdpb25zfSxoLmRhdGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbC5kYXRhLnRhcmdldHM7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/YjpiLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm5bXS5jb25jYXQoYSkuaW5kZXhPZihiLmlkKT49MH0pfSxoLmRhdGEuc2hvd249ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW50ZXJuYWwuZmlsdGVyVGFyZ2V0c1RvU2hvdyh0aGlzLmRhdGEoYSkpfSxoLmRhdGEudmFsdWVzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9bnVsbDtyZXR1cm4gYSYmKGI9dGhpcy5kYXRhKGEpLGM9YlswXT9iWzBdLnZhbHVlcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9KTpudWxsKSxjfSxoLmRhdGEubmFtZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW50ZXJuYWwuY2xlYXJMZWdlbmRJdGVtVGV4dEJveENhY2hlKCksdGhpcy5pbnRlcm5hbC51cGRhdGVEYXRhQXR0cmlidXRlcyhcIm5hbWVzXCIsYSl9LGguZGF0YS5jb2xvcnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW50ZXJuYWwudXBkYXRlRGF0YUF0dHJpYnV0ZXMoXCJjb2xvcnNcIixhKX0saC5kYXRhLmF4ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW50ZXJuYWwudXBkYXRlRGF0YUF0dHJpYnV0ZXMoXCJheGVzXCIsYSl9LGguY2F0ZWdvcnk9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmludGVybmFsLGQ9Yy5jb25maWc7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MSYmKGQuYXhpc194X2NhdGVnb3JpZXNbYV09YixjLnJlZHJhdygpKSxkLmF4aXNfeF9jYXRlZ29yaWVzW2FdfSxoLmNhdGVnb3JpZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhjLmF4aXNfeF9jYXRlZ29yaWVzPWEsYi5yZWRyYXcoKSxjLmF4aXNfeF9jYXRlZ29yaWVzKTpjLmF4aXNfeF9jYXRlZ29yaWVzfSxoLmNvbG9yPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7cmV0dXJuIGIuY29sb3IoYSl9LGgueD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYoYi51cGRhdGVUYXJnZXRYKGIuZGF0YS50YXJnZXRzLGEpLGIucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMH0pKSxiLmRhdGEueHN9LGgueHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbDtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKGIudXBkYXRlVGFyZ2V0WHMoYi5kYXRhLnRhcmdldHMsYSksYi5yZWRyYXcoe3dpdGhVcGRhdGVPcmdYRG9tYWluOiEwLHdpdGhVcGRhdGVYRG9tYWluOiEwfSkpLGIuZGF0YS54c30saC5heGlzPWZ1bmN0aW9uKCl7fSxoLmF4aXMubGFiZWxzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7YXJndW1lbnRzLmxlbmd0aCYmKE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oYyl7Yi5heGlzLnNldExhYmVsVGV4dChjLGFbY10pfSksYi5heGlzLnVwZGF0ZUxhYmVscygpKX0saC5heGlzLm1heD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsLGM9Yi5jb25maWc7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KFwib2JqZWN0XCI9PXR5cGVvZiBhPyhtKGEueCkmJihjLmF4aXNfeF9tYXg9YS54KSxtKGEueSkmJihjLmF4aXNfeV9tYXg9YS55KSxtKGEueTIpJiYoYy5heGlzX3kyX21heD1hLnkyKSk6Yy5heGlzX3lfbWF4PWMuYXhpc195Ml9tYXg9YSx2b2lkIGIucmVkcmF3KHt3aXRoVXBkYXRlT3JnWERvbWFpbjohMCx3aXRoVXBkYXRlWERvbWFpbjohMH0pKTp7eDpjLmF4aXNfeF9tYXgseTpjLmF4aXNfeV9tYXgseTI6Yy5heGlzX3kyX21heH19LGguYXhpcy5taW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnRlcm5hbCxjPWIuY29uZmlnO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhcIm9iamVjdFwiPT10eXBlb2YgYT8obShhLngpJiYoYy5heGlzX3hfbWluPWEueCksbShhLnkpJiYoYy5heGlzX3lfbWluPWEueSksbShhLnkyKSYmKGMuYXhpc195Ml9taW49YS55MikpOmMuYXhpc195X21pbj1jLmF4aXNfeTJfbWluPWEsdm9pZCBiLnJlZHJhdyh7d2l0aFVwZGF0ZU9yZ1hEb21haW46ITAsd2l0aFVwZGF0ZVhEb21haW46ITB9KSk6e3g6Yy5heGlzX3hfbWluLHk6Yy5heGlzX3lfbWluLHkyOmMuYXhpc195Ml9taW59fSxoLmF4aXMucmFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHEoYS5tYXgpJiZ0aGlzLmF4aXMubWF4KGEubWF4KSx2b2lkKHEoYS5taW4pJiZ0aGlzLmF4aXMubWluKGEubWluKSkpOnttYXg6dGhpcy5heGlzLm1heCgpLG1pbjp0aGlzLmF4aXMubWluKCl9fSxoLmxlZ2VuZD1mdW5jdGlvbigpe30saC5sZWdlbmQuc2hvdz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmludGVybmFsO2Iuc2hvd0xlZ2VuZChiLm1hcFRvVGFyZ2V0SWRzKGEpKSxiLnVwZGF0ZUFuZFJlZHJhdyh7d2l0aExlZ2VuZDohMH0pfSxoLmxlZ2VuZC5oaWRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWw7Yi5oaWRlTGVnZW5kKGIubWFwVG9UYXJnZXRJZHMoYSkpLGIudXBkYXRlQW5kUmVkcmF3KHt3aXRoTGVnZW5kOiEwfSl9LGgucmVzaXplPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW50ZXJuYWwsYz1iLmNvbmZpZztjLnNpemVfd2lkdGg9YT9hLndpZHRoOm51bGwsYy5zaXplX2hlaWdodD1hP2EuaGVpZ2h0Om51bGwsdGhpcy5mbHVzaCgpfSxoLmZsdXNoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbnRlcm5hbDthLnVwZGF0ZUFuZFJlZHJhdyh7d2l0aExlZ2VuZDohMCx3aXRoVHJhbnNpdGlvbjohMSx3aXRoVHJhbnNpdGlvbkZvclRyYW5zZm9ybTohMX0pfSxoLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmludGVybmFsO3JldHVybiBhLmNsZWFySW50ZXJ2YWwoYi5pbnRlcnZhbEZvck9ic2VydmVJbnNlcnRlZCksYS5vbnJlc2l6ZT1udWxsLGIuc2VsZWN0Q2hhcnQuY2xhc3NlZChcImMzXCIsITEpLmh0bWwoXCJcIiksT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbihhKXtiW2FdPW51bGx9KSxudWxsfSxoLnRvb2x0aXA9ZnVuY3Rpb24oKXt9LGgudG9vbHRpcC5zaG93PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZD10aGlzLmludGVybmFsO2EubW91c2UmJihjPWEubW91c2UpLGEuZGF0YT9kLmlzTXVsdGlwbGVYKCk/KGM9W2QueChhLmRhdGEueCksZC5nZXRZU2NhbGUoYS5kYXRhLmlkKShhLmRhdGEudmFsdWUpXSxiPW51bGwpOmI9bShhLmRhdGEuaW5kZXgpP2EuZGF0YS5pbmRleDpkLmdldEluZGV4QnlYKGEuZGF0YS54KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS54P2I9ZC5nZXRJbmRleEJ5WChhLngpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmluZGV4JiYoYj1hLmluZGV4KSxkLmRpc3BhdGNoRXZlbnQoXCJtb3VzZW92ZXJcIixiLGMpLGQuZGlzcGF0Y2hFdmVudChcIm1vdXNlbW92ZVwiLGIsYyl9LGgudG9vbHRpcC5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5pbnRlcm5hbC5kaXNwYXRjaEV2ZW50KFwibW91c2VvdXRcIiwwKX07dmFyIHo7aS5pc1NhZmFyaT1mdW5jdGlvbigpe3ZhciBiPWEubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYi5pbmRleE9mKFwiU2FmYXJpXCIpPj0wJiZiLmluZGV4T2YoXCJDaHJvbWVcIik8MH0saS5pc0Nocm9tZT1mdW5jdGlvbigpe3ZhciBiPWEubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYi5pbmRleE9mKFwiQ2hyb21lXCIpPj0wfSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIC0gd2hhdCBpcyB0cnlpbmcgdG8gYmUgYm91bmQgaXMgbm90IGNhbGxhYmxlXCIpO3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjPXRoaXMsZD1mdW5jdGlvbigpe30sZT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBkP3RoaXM6YSxiLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgZCxlfSksXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImMzXCIsW1wiZDNcIl0sayk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9azphLmMzPWt9KHdpbmRvdyk7IiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS44LjNcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtmdW5jdGlvbiB0KHQscixlLHUsaSxvKXtmb3IoO2k+PTAmJm8+aTtpKz1uKXt2YXIgYT11P3VbaV06aTtlPXIoZSx0W2FdLGEsdCl9cmV0dXJuIGV9cmV0dXJuIGZ1bmN0aW9uKHIsZSx1LGkpe2U9YihlLGksNCk7dmFyIG89IWsocikmJm0ua2V5cyhyKSxhPShvfHxyKS5sZW5ndGgsYz1uPjA/MDphLTE7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MyYmKHU9cltvP29bY106Y10sYys9biksdChyLGUsdSxvLGMsYSl9fWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKHQscixlKXtyPXgocixlKTtmb3IodmFyIHU9Tyh0KSxpPW4+MD8wOnUtMTtpPj0wJiZ1Pmk7aSs9bilpZihyKHRbaV0saSx0KSlyZXR1cm4gaTtyZXR1cm4tMX19ZnVuY3Rpb24gcihuLHQscil7cmV0dXJuIGZ1bmN0aW9uKGUsdSxpKXt2YXIgbz0wLGE9TyhlKTtpZihcIm51bWJlclwiPT10eXBlb2YgaSluPjA/bz1pPj0wP2k6TWF0aC5tYXgoaSthLG8pOmE9aT49MD9NYXRoLm1pbihpKzEsYSk6aSthKzE7ZWxzZSBpZihyJiZpJiZhKXJldHVybiBpPXIoZSx1KSxlW2ldPT09dT9pOi0xO2lmKHUhPT11KXJldHVybiBpPXQobC5jYWxsKGUsbyxhKSxtLmlzTmFOKSxpPj0wP2krbzotMTtmb3IoaT1uPjA/bzphLTE7aT49MCYmYT5pO2krPW4paWYoZVtpXT09PXUpcmV0dXJuIGk7cmV0dXJuLTF9fWZ1bmN0aW9uIGUobix0KXt2YXIgcj1JLmxlbmd0aCxlPW4uY29uc3RydWN0b3IsdT1tLmlzRnVuY3Rpb24oZSkmJmUucHJvdG90eXBlfHxhLGk9XCJjb25zdHJ1Y3RvclwiO2ZvcihtLmhhcyhuLGkpJiYhbS5jb250YWlucyh0LGkpJiZ0LnB1c2goaSk7ci0tOylpPUlbcl0saSBpbiBuJiZuW2ldIT09dVtpXSYmIW0uY29udGFpbnModCxpKSYmdC5wdXNoKGkpfXZhciB1PXRoaXMsaT11Ll8sbz1BcnJheS5wcm90b3R5cGUsYT1PYmplY3QucHJvdG90eXBlLGM9RnVuY3Rpb24ucHJvdG90eXBlLGY9by5wdXNoLGw9by5zbGljZSxzPWEudG9TdHJpbmcscD1hLmhhc093blByb3BlcnR5LGg9QXJyYXkuaXNBcnJheSx2PU9iamVjdC5rZXlzLGc9Yy5iaW5kLHk9T2JqZWN0LmNyZWF0ZSxkPWZ1bmN0aW9uKCl7fSxtPWZ1bmN0aW9uKG4pe3JldHVybiBuIGluc3RhbmNlb2YgbT9uOnRoaXMgaW5zdGFuY2VvZiBtP3ZvaWQodGhpcy5fd3JhcHBlZD1uKTpuZXcgbShuKX07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1tKSxleHBvcnRzLl89bSk6dS5fPW0sbS5WRVJTSU9OPVwiMS44LjNcIjt2YXIgYj1mdW5jdGlvbihuLHQscil7aWYodD09PXZvaWQgMClyZXR1cm4gbjtzd2l0Y2gobnVsbD09cj8zOnIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG4uY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsZSl7cmV0dXJuIG4uY2FsbCh0LHIsZSl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixlLHUpe3JldHVybiBuLmNhbGwodCxyLGUsdSl9O2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24ocixlLHUsaSl7cmV0dXJuIG4uY2FsbCh0LHIsZSx1LGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseSh0LGFyZ3VtZW50cyl9fSx4PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbnVsbD09bj9tLmlkZW50aXR5Om0uaXNGdW5jdGlvbihuKT9iKG4sdCxyKTptLmlzT2JqZWN0KG4pP20ubWF0Y2hlcihuKTptLnByb3BlcnR5KG4pfTttLml0ZXJhdGVlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHgobix0LDEvMCl9O3ZhciBfPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7aWYoMj5lfHxudWxsPT1yKXJldHVybiByO2Zvcih2YXIgdT0xO2U+dTt1KyspZm9yKHZhciBpPWFyZ3VtZW50c1t1XSxvPW4oaSksYT1vLmxlbmd0aCxjPTA7YT5jO2MrKyl7dmFyIGY9b1tjXTt0JiZyW2ZdIT09dm9pZCAwfHwocltmXT1pW2ZdKX1yZXR1cm4gcn19LGo9ZnVuY3Rpb24obil7aWYoIW0uaXNPYmplY3QobikpcmV0dXJue307aWYoeSlyZXR1cm4geShuKTtkLnByb3RvdHlwZT1uO3ZhciB0PW5ldyBkO3JldHVybiBkLnByb3RvdHlwZT1udWxsLHR9LHc9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W25dfX0sQT1NYXRoLnBvdygyLDUzKS0xLE89dyhcImxlbmd0aFwiKSxrPWZ1bmN0aW9uKG4pe3ZhciB0PU8obik7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+PTAmJkE+PXR9O20uZWFjaD1tLmZvckVhY2g9ZnVuY3Rpb24obix0LHIpe3Q9Yih0LHIpO3ZhciBlLHU7aWYoayhuKSlmb3IoZT0wLHU9bi5sZW5ndGg7dT5lO2UrKyl0KG5bZV0sZSxuKTtlbHNle3ZhciBpPW0ua2V5cyhuKTtmb3IoZT0wLHU9aS5sZW5ndGg7dT5lO2UrKyl0KG5baVtlXV0saVtlXSxuKX1yZXR1cm4gbn0sbS5tYXA9bS5jb2xsZWN0PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGU9IWsobikmJm0ua2V5cyhuKSx1PShlfHxuKS5sZW5ndGgsaT1BcnJheSh1KSxvPTA7dT5vO28rKyl7dmFyIGE9ZT9lW29dOm87aVtvXT10KG5bYV0sYSxuKX1yZXR1cm4gaX0sbS5yZWR1Y2U9bS5mb2xkbD1tLmluamVjdD1uKDEpLG0ucmVkdWNlUmlnaHQ9bS5mb2xkcj1uKC0xKSxtLmZpbmQ9bS5kZXRlY3Q9ZnVuY3Rpb24obix0LHIpe3ZhciBlO3JldHVybiBlPWsobik/bS5maW5kSW5kZXgobix0LHIpOm0uZmluZEtleShuLHQsciksZSE9PXZvaWQgMCYmZSE9PS0xP25bZV06dm9pZCAwfSxtLmZpbHRlcj1tLnNlbGVjdD1mdW5jdGlvbihuLHQscil7dmFyIGU9W107cmV0dXJuIHQ9eCh0LHIpLG0uZWFjaChuLGZ1bmN0aW9uKG4scix1KXt0KG4scix1KSYmZS5wdXNoKG4pfSksZX0sbS5yZWplY3Q9ZnVuY3Rpb24obix0LHIpe3JldHVybiBtLmZpbHRlcihuLG0ubmVnYXRlKHgodCkpLHIpfSxtLmV2ZXJ5PW0uYWxsPWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGU9IWsobikmJm0ua2V5cyhuKSx1PShlfHxuKS5sZW5ndGgsaT0wO3U+aTtpKyspe3ZhciBvPWU/ZVtpXTppO2lmKCF0KG5bb10sbyxuKSlyZXR1cm4hMX1yZXR1cm4hMH0sbS5zb21lPW0uYW55PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGU9IWsobikmJm0ua2V5cyhuKSx1PShlfHxuKS5sZW5ndGgsaT0wO3U+aTtpKyspe3ZhciBvPWU/ZVtpXTppO2lmKHQobltvXSxvLG4pKXJldHVybiEwfXJldHVybiExfSxtLmNvbnRhaW5zPW0uaW5jbHVkZXM9bS5pbmNsdWRlPWZ1bmN0aW9uKG4sdCxyLGUpe3JldHVybiBrKG4pfHwobj1tLnZhbHVlcyhuKSksKFwibnVtYmVyXCIhPXR5cGVvZiByfHxlKSYmKHI9MCksbS5pbmRleE9mKG4sdCxyKT49MH0sbS5pbnZva2U9ZnVuY3Rpb24obix0KXt2YXIgcj1sLmNhbGwoYXJndW1lbnRzLDIpLGU9bS5pc0Z1bmN0aW9uKHQpO3JldHVybiBtLm1hcChuLGZ1bmN0aW9uKG4pe3ZhciB1PWU/dDpuW3RdO3JldHVybiBudWxsPT11P3U6dS5hcHBseShuLHIpfSl9LG0ucGx1Y2s9ZnVuY3Rpb24obix0KXtyZXR1cm4gbS5tYXAobixtLnByb3BlcnR5KHQpKX0sbS53aGVyZT1mdW5jdGlvbihuLHQpe3JldHVybiBtLmZpbHRlcihuLG0ubWF0Y2hlcih0KSl9LG0uZmluZFdoZXJlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG0uZmluZChuLG0ubWF0Y2hlcih0KSl9LG0ubWF4PWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGk9LTEvMCxvPS0xLzA7aWYobnVsbD09dCYmbnVsbCE9bil7bj1rKG4pP246bS52YWx1ZXMobik7Zm9yKHZhciBhPTAsYz1uLmxlbmd0aDtjPmE7YSsrKWU9blthXSxlPmkmJihpPWUpfWVsc2UgdD14KHQsciksbS5lYWNoKG4sZnVuY3Rpb24obixyLGUpe3U9dChuLHIsZSksKHU+b3x8dT09PS0xLzAmJmk9PT0tMS8wKSYmKGk9bixvPXUpfSk7cmV0dXJuIGl9LG0ubWluPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGk9MS8wLG89MS8wO2lmKG51bGw9PXQmJm51bGwhPW4pe249ayhuKT9uOm0udmFsdWVzKG4pO2Zvcih2YXIgYT0wLGM9bi5sZW5ndGg7Yz5hO2ErKyllPW5bYV0saT5lJiYoaT1lKX1lbHNlIHQ9eCh0LHIpLG0uZWFjaChuLGZ1bmN0aW9uKG4scixlKXt1PXQobixyLGUpLChvPnV8fDEvMD09PXUmJjEvMD09PWkpJiYoaT1uLG89dSl9KTtyZXR1cm4gaX0sbS5zaHVmZmxlPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxyPWsobik/bjptLnZhbHVlcyhuKSxlPXIubGVuZ3RoLHU9QXJyYXkoZSksaT0wO2U+aTtpKyspdD1tLnJhbmRvbSgwLGkpLHQhPT1pJiYodVtpXT11W3RdKSx1W3RdPXJbaV07cmV0dXJuIHV9LG0uc2FtcGxlPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbnVsbD09dHx8cj8oayhuKXx8KG49bS52YWx1ZXMobikpLG5bbS5yYW5kb20obi5sZW5ndGgtMSldKTptLnNodWZmbGUobikuc2xpY2UoMCxNYXRoLm1heCgwLHQpKX0sbS5zb3J0Qnk9ZnVuY3Rpb24obix0LHIpe3JldHVybiB0PXgodCxyKSxtLnBsdWNrKG0ubWFwKG4sZnVuY3Rpb24obixyLGUpe3JldHVybnt2YWx1ZTpuLGluZGV4OnIsY3JpdGVyaWE6dChuLHIsZSl9fSkuc29ydChmdW5jdGlvbihuLHQpe3ZhciByPW4uY3JpdGVyaWEsZT10LmNyaXRlcmlhO2lmKHIhPT1lKXtpZihyPmV8fHI9PT12b2lkIDApcmV0dXJuIDE7aWYoZT5yfHxlPT09dm9pZCAwKXJldHVybi0xfXJldHVybiBuLmluZGV4LXQuaW5kZXh9KSxcInZhbHVlXCIpfTt2YXIgRj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCxyLGUpe3ZhciB1PXt9O3JldHVybiByPXgocixlKSxtLmVhY2godCxmdW5jdGlvbihlLGkpe3ZhciBvPXIoZSxpLHQpO24odSxlLG8pfSksdX19O20uZ3JvdXBCeT1GKGZ1bmN0aW9uKG4sdCxyKXttLmhhcyhuLHIpP25bcl0ucHVzaCh0KTpuW3JdPVt0XX0pLG0uaW5kZXhCeT1GKGZ1bmN0aW9uKG4sdCxyKXtuW3JdPXR9KSxtLmNvdW50Qnk9RihmdW5jdGlvbihuLHQscil7bS5oYXMobixyKT9uW3JdKys6bltyXT0xfSksbS50b0FycmF5PWZ1bmN0aW9uKG4pe3JldHVybiBuP20uaXNBcnJheShuKT9sLmNhbGwobik6ayhuKT9tLm1hcChuLG0uaWRlbnRpdHkpOm0udmFsdWVzKG4pOltdfSxtLnNpemU9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/MDprKG4pP24ubGVuZ3RoOm0ua2V5cyhuKS5sZW5ndGh9LG0ucGFydGl0aW9uPWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTt2YXIgZT1bXSx1PVtdO3JldHVybiBtLmVhY2gobixmdW5jdGlvbihuLHIsaSl7KHQobixyLGkpP2U6dSkucHVzaChuKX0pLFtlLHVdfSxtLmZpcnN0PW0uaGVhZD1tLnRha2U9ZnVuY3Rpb24obix0LHIpe3JldHVybiBudWxsPT1uP3ZvaWQgMDpudWxsPT10fHxyP25bMF06bS5pbml0aWFsKG4sbi5sZW5ndGgtdCl9LG0uaW5pdGlhbD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGwuY2FsbChuLDAsTWF0aC5tYXgoMCxuLmxlbmd0aC0obnVsbD09dHx8cj8xOnQpKSl9LG0ubGFzdD1mdW5jdGlvbihuLHQscil7cmV0dXJuIG51bGw9PW4/dm9pZCAwOm51bGw9PXR8fHI/bltuLmxlbmd0aC0xXTptLnJlc3QobixNYXRoLm1heCgwLG4ubGVuZ3RoLXQpKX0sbS5yZXN0PW0udGFpbD1tLmRyb3A9ZnVuY3Rpb24obix0LHIpe3JldHVybiBsLmNhbGwobixudWxsPT10fHxyPzE6dCl9LG0uY29tcGFjdD1mdW5jdGlvbihuKXtyZXR1cm4gbS5maWx0ZXIobixtLmlkZW50aXR5KX07dmFyIFM9ZnVuY3Rpb24obix0LHIsZSl7Zm9yKHZhciB1PVtdLGk9MCxvPWV8fDAsYT1PKG4pO2E+bztvKyspe3ZhciBjPW5bb107aWYoayhjKSYmKG0uaXNBcnJheShjKXx8bS5pc0FyZ3VtZW50cyhjKSkpe3R8fChjPVMoYyx0LHIpKTt2YXIgZj0wLGw9Yy5sZW5ndGg7Zm9yKHUubGVuZ3RoKz1sO2w+ZjspdVtpKytdPWNbZisrXX1lbHNlIHJ8fCh1W2krK109Yyl9cmV0dXJuIHV9O20uZmxhdHRlbj1mdW5jdGlvbihuLHQpe3JldHVybiBTKG4sdCwhMSl9LG0ud2l0aG91dD1mdW5jdGlvbihuKXtyZXR1cm4gbS5kaWZmZXJlbmNlKG4sbC5jYWxsKGFyZ3VtZW50cywxKSl9LG0udW5pcT1tLnVuaXF1ZT1mdW5jdGlvbihuLHQscixlKXttLmlzQm9vbGVhbih0KXx8KGU9cixyPXQsdD0hMSksbnVsbCE9ciYmKHI9eChyLGUpKTtmb3IodmFyIHU9W10saT1bXSxvPTAsYT1PKG4pO2E+bztvKyspe3ZhciBjPW5bb10sZj1yP3IoYyxvLG4pOmM7dD8obyYmaT09PWZ8fHUucHVzaChjKSxpPWYpOnI/bS5jb250YWlucyhpLGYpfHwoaS5wdXNoKGYpLHUucHVzaChjKSk6bS5jb250YWlucyh1LGMpfHx1LnB1c2goYyl9cmV0dXJuIHV9LG0udW5pb249ZnVuY3Rpb24oKXtyZXR1cm4gbS51bmlxKFMoYXJndW1lbnRzLCEwLCEwKSl9LG0uaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1bXSxyPWFyZ3VtZW50cy5sZW5ndGgsZT0wLHU9TyhuKTt1PmU7ZSsrKXt2YXIgaT1uW2VdO2lmKCFtLmNvbnRhaW5zKHQsaSkpe2Zvcih2YXIgbz0xO3I+byYmbS5jb250YWlucyhhcmd1bWVudHNbb10saSk7bysrKTtvPT09ciYmdC5wdXNoKGkpfX1yZXR1cm4gdH0sbS5kaWZmZXJlbmNlPWZ1bmN0aW9uKG4pe3ZhciB0PVMoYXJndW1lbnRzLCEwLCEwLDEpO3JldHVybiBtLmZpbHRlcihuLGZ1bmN0aW9uKG4pe3JldHVybiFtLmNvbnRhaW5zKHQsbil9KX0sbS56aXA9ZnVuY3Rpb24oKXtyZXR1cm4gbS51bnppcChhcmd1bWVudHMpfSxtLnVuemlwPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1uJiZtLm1heChuLE8pLmxlbmd0aHx8MCxyPUFycmF5KHQpLGU9MDt0PmU7ZSsrKXJbZV09bS5wbHVjayhuLGUpO3JldHVybiByfSxtLm9iamVjdD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj17fSxlPTAsdT1PKG4pO3U+ZTtlKyspdD9yW25bZV1dPXRbZV06cltuW2VdWzBdXT1uW2VdWzFdO3JldHVybiByfSxtLmZpbmRJbmRleD10KDEpLG0uZmluZExhc3RJbmRleD10KC0xKSxtLnNvcnRlZEluZGV4PWZ1bmN0aW9uKG4sdCxyLGUpe3I9eChyLGUsMSk7Zm9yKHZhciB1PXIodCksaT0wLG89TyhuKTtvPmk7KXt2YXIgYT1NYXRoLmZsb29yKChpK28pLzIpO3IoblthXSk8dT9pPWErMTpvPWF9cmV0dXJuIGl9LG0uaW5kZXhPZj1yKDEsbS5maW5kSW5kZXgsbS5zb3J0ZWRJbmRleCksbS5sYXN0SW5kZXhPZj1yKC0xLG0uZmluZExhc3RJbmRleCksbS5yYW5nZT1mdW5jdGlvbihuLHQscil7bnVsbD09dCYmKHQ9bnx8MCxuPTApLHI9cnx8MTtmb3IodmFyIGU9TWF0aC5tYXgoTWF0aC5jZWlsKCh0LW4pL3IpLDApLHU9QXJyYXkoZSksaT0wO2U+aTtpKyssbis9cil1W2ldPW47cmV0dXJuIHV9O3ZhciBFPWZ1bmN0aW9uKG4sdCxyLGUsdSl7aWYoIShlIGluc3RhbmNlb2YgdCkpcmV0dXJuIG4uYXBwbHkocix1KTt2YXIgaT1qKG4ucHJvdG90eXBlKSxvPW4uYXBwbHkoaSx1KTtyZXR1cm4gbS5pc09iamVjdChvKT9vOml9O20uYmluZD1mdW5jdGlvbihuLHQpe2lmKGcmJm4uYmluZD09PWcpcmV0dXJuIGcuYXBwbHkobixsLmNhbGwoYXJndW1lbnRzLDEpKTtpZighbS5pc0Z1bmN0aW9uKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb25cIik7dmFyIHI9bC5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIEUobixlLHQsdGhpcyxyLmNvbmNhdChsLmNhbGwoYXJndW1lbnRzKSkpfTtyZXR1cm4gZX0sbS5wYXJ0aWFsPWZ1bmN0aW9uKG4pe3ZhciB0PWwuY2FsbChhcmd1bWVudHMsMSkscj1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHU9dC5sZW5ndGgsaT1BcnJheSh1KSxvPTA7dT5vO28rKylpW29dPXRbb109PT1tP2FyZ3VtZW50c1tlKytdOnRbb107Zm9yKDtlPGFyZ3VtZW50cy5sZW5ndGg7KWkucHVzaChhcmd1bWVudHNbZSsrXSk7cmV0dXJuIEUobixyLHRoaXMsdGhpcyxpKX07cmV0dXJuIHJ9LG0uYmluZEFsbD1mdW5jdGlvbihuKXt2YXIgdCxyLGU9YXJndW1lbnRzLmxlbmd0aDtpZigxPj1lKXRocm93IG5ldyBFcnJvcihcImJpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXNcIik7Zm9yKHQ9MTtlPnQ7dCsrKXI9YXJndW1lbnRzW3RdLG5bcl09bS5iaW5kKG5bcl0sbik7cmV0dXJuIG59LG0ubWVtb2l6ZT1mdW5jdGlvbihuLHQpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB1PXIuY2FjaGUsaT1cIlwiKyh0P3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOmUpO3JldHVybiBtLmhhcyh1LGkpfHwodVtpXT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksdVtpXX07cmV0dXJuIHIuY2FjaGU9e30scn0sbS5kZWxheT1mdW5jdGlvbihuLHQpe3ZhciByPWwuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5hcHBseShudWxsLHIpfSx0KX0sbS5kZWZlcj1tLnBhcnRpYWwobS5kZWxheSxtLDEpLG0udGhyb3R0bGU9ZnVuY3Rpb24obix0LHIpe3ZhciBlLHUsaSxvPW51bGwsYT0wO3J8fChyPXt9KTt2YXIgYz1mdW5jdGlvbigpe2E9ci5sZWFkaW5nPT09ITE/MDptLm5vdygpLG89bnVsbCxpPW4uYXBwbHkoZSx1KSxvfHwoZT11PW51bGwpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZj1tLm5vdygpO2F8fHIubGVhZGluZyE9PSExfHwoYT1mKTt2YXIgbD10LShmLWEpO3JldHVybiBlPXRoaXMsdT1hcmd1bWVudHMsMD49bHx8bD50PyhvJiYoY2xlYXJUaW1lb3V0KG8pLG89bnVsbCksYT1mLGk9bi5hcHBseShlLHUpLG98fChlPXU9bnVsbCkpOm98fHIudHJhaWxpbmc9PT0hMXx8KG89c2V0VGltZW91dChjLGwpKSxpfX0sbS5kZWJvdW5jZT1mdW5jdGlvbihuLHQscil7dmFyIGUsdSxpLG8sYSxjPWZ1bmN0aW9uKCl7dmFyIGY9bS5ub3coKS1vO3Q+ZiYmZj49MD9lPXNldFRpbWVvdXQoYyx0LWYpOihlPW51bGwscnx8KGE9bi5hcHBseShpLHUpLGV8fChpPXU9bnVsbCkpKX07cmV0dXJuIGZ1bmN0aW9uKCl7aT10aGlzLHU9YXJndW1lbnRzLG89bS5ub3coKTt2YXIgZj1yJiYhZTtyZXR1cm4gZXx8KGU9c2V0VGltZW91dChjLHQpKSxmJiYoYT1uLmFwcGx5KGksdSksaT11PW51bGwpLGF9fSxtLndyYXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gbS5wYXJ0aWFsKHQsbil9LG0ubmVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiFuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LG0uY29tcG9zZT1mdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cyx0PW4ubGVuZ3RoLTE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPXQsZT1uW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyLS07KWU9bltyXS5jYWxsKHRoaXMsZSk7cmV0dXJuIGV9fSxtLmFmdGVyPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuLS1uPDE/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0sbS5iZWZvcmU9ZnVuY3Rpb24obix0KXt2YXIgcjtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLW4+MCYmKHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLDE+PW4mJih0PW51bGwpLHJ9fSxtLm9uY2U9bS5wYXJ0aWFsKG0uYmVmb3JlLDIpO3ZhciBNPSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoXCJ0b1N0cmluZ1wiKSxJPVtcInZhbHVlT2ZcIixcImlzUHJvdG90eXBlT2ZcIixcInRvU3RyaW5nXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwiaGFzT3duUHJvcGVydHlcIixcInRvTG9jYWxlU3RyaW5nXCJdO20ua2V5cz1mdW5jdGlvbihuKXtpZighbS5pc09iamVjdChuKSlyZXR1cm5bXTtpZih2KXJldHVybiB2KG4pO3ZhciB0PVtdO2Zvcih2YXIgciBpbiBuKW0uaGFzKG4scikmJnQucHVzaChyKTtyZXR1cm4gTSYmZShuLHQpLHR9LG0uYWxsS2V5cz1mdW5jdGlvbihuKXtpZighbS5pc09iamVjdChuKSlyZXR1cm5bXTt2YXIgdD1bXTtmb3IodmFyIHIgaW4gbil0LnB1c2gocik7cmV0dXJuIE0mJmUobix0KSx0fSxtLnZhbHVlcz1mdW5jdGlvbihuKXtmb3IodmFyIHQ9bS5rZXlzKG4pLHI9dC5sZW5ndGgsZT1BcnJheShyKSx1PTA7cj51O3UrKyllW3VdPW5bdFt1XV07cmV0dXJuIGV9LG0ubWFwT2JqZWN0PWZ1bmN0aW9uKG4sdCxyKXt0PXgodCxyKTtmb3IodmFyIGUsdT1tLmtleXMobiksaT11Lmxlbmd0aCxvPXt9LGE9MDtpPmE7YSsrKWU9dVthXSxvW2VdPXQobltlXSxlLG4pO3JldHVybiBvfSxtLnBhaXJzPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1tLmtleXMobikscj10Lmxlbmd0aCxlPUFycmF5KHIpLHU9MDtyPnU7dSsrKWVbdV09W3RbdV0sblt0W3VdXV07cmV0dXJuIGV9LG0uaW52ZXJ0PWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD17fSxyPW0ua2V5cyhuKSxlPTAsdT1yLmxlbmd0aDt1PmU7ZSsrKXRbbltyW2VdXV09cltlXTtyZXR1cm4gdH0sbS5mdW5jdGlvbnM9bS5tZXRob2RzPWZ1bmN0aW9uKG4pe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBuKW0uaXNGdW5jdGlvbihuW3JdKSYmdC5wdXNoKHIpO3JldHVybiB0LnNvcnQoKX0sbS5leHRlbmQ9XyhtLmFsbEtleXMpLG0uZXh0ZW5kT3duPW0uYXNzaWduPV8obS5rZXlzKSxtLmZpbmRLZXk9ZnVuY3Rpb24obix0LHIpe3Q9eCh0LHIpO2Zvcih2YXIgZSx1PW0ua2V5cyhuKSxpPTAsbz11Lmxlbmd0aDtvPmk7aSsrKWlmKGU9dVtpXSx0KG5bZV0sZSxuKSlyZXR1cm4gZX0sbS5waWNrPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSx1LGk9e30sbz1uO2lmKG51bGw9PW8pcmV0dXJuIGk7bS5pc0Z1bmN0aW9uKHQpPyh1PW0uYWxsS2V5cyhvKSxlPWIodCxyKSk6KHU9Uyhhcmd1bWVudHMsITEsITEsMSksZT1mdW5jdGlvbihuLHQscil7cmV0dXJuIHQgaW4gcn0sbz1PYmplY3QobykpO2Zvcih2YXIgYT0wLGM9dS5sZW5ndGg7Yz5hO2ErKyl7dmFyIGY9dVthXSxsPW9bZl07ZShsLGYsbykmJihpW2ZdPWwpfXJldHVybiBpfSxtLm9taXQ9ZnVuY3Rpb24obix0LHIpe2lmKG0uaXNGdW5jdGlvbih0KSl0PW0ubmVnYXRlKHQpO2Vsc2V7dmFyIGU9bS5tYXAoUyhhcmd1bWVudHMsITEsITEsMSksU3RyaW5nKTt0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIW0uY29udGFpbnMoZSx0KX19cmV0dXJuIG0ucGljayhuLHQscil9LG0uZGVmYXVsdHM9XyhtLmFsbEtleXMsITApLG0uY3JlYXRlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9aihuKTtyZXR1cm4gdCYmbS5leHRlbmRPd24ocix0KSxyfSxtLmNsb25lPWZ1bmN0aW9uKG4pe3JldHVybiBtLmlzT2JqZWN0KG4pP20uaXNBcnJheShuKT9uLnNsaWNlKCk6bS5leHRlbmQoe30sbik6bn0sbS50YXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gdChuKSxufSxtLmlzTWF0Y2g9ZnVuY3Rpb24obix0KXt2YXIgcj1tLmtleXModCksZT1yLmxlbmd0aDtpZihudWxsPT1uKXJldHVybiFlO2Zvcih2YXIgdT1PYmplY3QobiksaT0wO2U+aTtpKyspe3ZhciBvPXJbaV07aWYodFtvXSE9PXVbb118fCEobyBpbiB1KSlyZXR1cm4hMX1yZXR1cm4hMH07dmFyIE49ZnVuY3Rpb24obix0LHIsZSl7aWYobj09PXQpcmV0dXJuIDAhPT1ufHwxL249PT0xL3Q7aWYobnVsbD09bnx8bnVsbD09dClyZXR1cm4gbj09PXQ7biBpbnN0YW5jZW9mIG0mJihuPW4uX3dyYXBwZWQpLHQgaW5zdGFuY2VvZiBtJiYodD10Ll93cmFwcGVkKTt2YXIgdT1zLmNhbGwobik7aWYodSE9PXMuY2FsbCh0KSlyZXR1cm4hMTtzd2l0Y2godSl7Y2FzZVwiW29iamVjdCBSZWdFeHBdXCI6Y2FzZVwiW29iamVjdCBTdHJpbmddXCI6cmV0dXJuXCJcIituPT1cIlwiK3Q7Y2FzZVwiW29iamVjdCBOdW1iZXJdXCI6cmV0dXJuK24hPT0rbj8rdCE9PSt0OjA9PT0rbj8xLytuPT09MS90OituPT09K3Q7Y2FzZVwiW29iamVjdCBEYXRlXVwiOmNhc2VcIltvYmplY3QgQm9vbGVhbl1cIjpyZXR1cm4rbj09PSt0fXZhciBpPVwiW29iamVjdCBBcnJheV1cIj09PXU7aWYoIWkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBufHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4hMTt2YXIgbz1uLmNvbnN0cnVjdG9yLGE9dC5jb25zdHJ1Y3RvcjtpZihvIT09YSYmIShtLmlzRnVuY3Rpb24obykmJm8gaW5zdGFuY2VvZiBvJiZtLmlzRnVuY3Rpb24oYSkmJmEgaW5zdGFuY2VvZiBhKSYmXCJjb25zdHJ1Y3RvclwiaW4gbiYmXCJjb25zdHJ1Y3RvclwiaW4gdClyZXR1cm4hMX1yPXJ8fFtdLGU9ZXx8W107Zm9yKHZhciBjPXIubGVuZ3RoO2MtLTspaWYocltjXT09PW4pcmV0dXJuIGVbY109PT10O2lmKHIucHVzaChuKSxlLnB1c2godCksaSl7aWYoYz1uLmxlbmd0aCxjIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKDtjLS07KWlmKCFOKG5bY10sdFtjXSxyLGUpKXJldHVybiExfWVsc2V7dmFyIGYsbD1tLmtleXMobik7aWYoYz1sLmxlbmd0aCxtLmtleXModCkubGVuZ3RoIT09YylyZXR1cm4hMTtmb3IoO2MtLTspaWYoZj1sW2NdLCFtLmhhcyh0LGYpfHwhTihuW2ZdLHRbZl0scixlKSlyZXR1cm4hMX1yZXR1cm4gci5wb3AoKSxlLnBvcCgpLCEwfTttLmlzRXF1YWw9ZnVuY3Rpb24obix0KXtyZXR1cm4gTihuLHQpfSxtLmlzRW1wdHk9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ITA6ayhuKSYmKG0uaXNBcnJheShuKXx8bS5pc1N0cmluZyhuKXx8bS5pc0FyZ3VtZW50cyhuKSk/MD09PW4ubGVuZ3RoOjA9PT1tLmtleXMobikubGVuZ3RofSxtLmlzRWxlbWVudD1mdW5jdGlvbihuKXtyZXR1cm4hKCFufHwxIT09bi5ub2RlVHlwZSl9LG0uaXNBcnJheT1ofHxmdW5jdGlvbihuKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1zLmNhbGwobil9LG0uaXNPYmplY3Q9ZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuXCJmdW5jdGlvblwiPT09dHx8XCJvYmplY3RcIj09PXQmJiEhbn0sbS5lYWNoKFtcIkFyZ3VtZW50c1wiLFwiRnVuY3Rpb25cIixcIlN0cmluZ1wiLFwiTnVtYmVyXCIsXCJEYXRlXCIsXCJSZWdFeHBcIixcIkVycm9yXCJdLGZ1bmN0aW9uKG4pe21bXCJpc1wiK25dPWZ1bmN0aW9uKHQpe3JldHVybiBzLmNhbGwodCk9PT1cIltvYmplY3QgXCIrbitcIl1cIn19KSxtLmlzQXJndW1lbnRzKGFyZ3VtZW50cyl8fChtLmlzQXJndW1lbnRzPWZ1bmN0aW9uKG4pe3JldHVybiBtLmhhcyhuLFwiY2FsbGVlXCIpfSksXCJmdW5jdGlvblwiIT10eXBlb2YvLi8mJlwib2JqZWN0XCIhPXR5cGVvZiBJbnQ4QXJyYXkmJihtLmlzRnVuY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbnx8ITF9KSxtLmlzRmluaXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpc0Zpbml0ZShuKSYmIWlzTmFOKHBhcnNlRmxvYXQobikpfSxtLmlzTmFOPWZ1bmN0aW9uKG4pe3JldHVybiBtLmlzTnVtYmVyKG4pJiZuIT09K259LG0uaXNCb29sZWFuPWZ1bmN0aW9uKG4pe3JldHVybiBuPT09ITB8fG49PT0hMXx8XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1zLmNhbGwobil9LG0uaXNOdWxsPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT09bn0sbS5pc1VuZGVmaW5lZD1mdW5jdGlvbihuKXtyZXR1cm4gbj09PXZvaWQgMH0sbS5oYXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbCE9biYmcC5jYWxsKG4sdCl9LG0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB1Ll89aSx0aGlzfSxtLmlkZW50aXR5PWZ1bmN0aW9uKG4pe3JldHVybiBufSxtLmNvbnN0YW50PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufX0sbS5ub29wPWZ1bmN0aW9uKCl7fSxtLnByb3BlcnR5PXcsbS5wcm9wZXJ0eU9mPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP2Z1bmN0aW9uKCl7fTpmdW5jdGlvbih0KXtyZXR1cm4gblt0XX19LG0ubWF0Y2hlcj1tLm1hdGNoZXM9ZnVuY3Rpb24obil7cmV0dXJuIG49bS5leHRlbmRPd24oe30sbiksZnVuY3Rpb24odCl7cmV0dXJuIG0uaXNNYXRjaCh0LG4pfX0sbS50aW1lcz1mdW5jdGlvbihuLHQscil7dmFyIGU9QXJyYXkoTWF0aC5tYXgoMCxuKSk7dD1iKHQsciwxKTtmb3IodmFyIHU9MDtuPnU7dSsrKWVbdV09dCh1KTtyZXR1cm4gZX0sbS5yYW5kb209ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09dCYmKHQ9bixuPTApLG4rTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKih0LW4rMSkpfSxtLm5vdz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX07dmFyIEI9e1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImI3gyNztcIixcImBcIjpcIiYjeDYwO1wifSxUPW0uaW52ZXJ0KEIpLFI9ZnVuY3Rpb24obil7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5bdF19LHI9XCIoPzpcIittLmtleXMobikuam9pbihcInxcIikrXCIpXCIsZT1SZWdFeHAociksdT1SZWdFeHAocixcImdcIik7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuPW51bGw9PW4/XCJcIjpcIlwiK24sZS50ZXN0KG4pP24ucmVwbGFjZSh1LHQpOm59fTttLmVzY2FwZT1SKEIpLG0udW5lc2NhcGU9UihUKSxtLnJlc3VsdD1mdW5jdGlvbihuLHQscil7dmFyIGU9bnVsbD09bj92b2lkIDA6blt0XTtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ciksbS5pc0Z1bmN0aW9uKGUpP2UuY2FsbChuKTplfTt2YXIgcT0wO20udW5pcXVlSWQ9ZnVuY3Rpb24obil7dmFyIHQ9KytxK1wiXCI7cmV0dXJuIG4/bit0OnR9LG0udGVtcGxhdGVTZXR0aW5ncz17ZXZhbHVhdGU6LzwlKFtcXHNcXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTovPCU9KFtcXHNcXFNdKz8pJT4vZyxlc2NhcGU6LzwlLShbXFxzXFxTXSs/KSU+L2d9O3ZhciBLPS8oLileLyx6PXtcIidcIjpcIidcIixcIlxcXFxcIjpcIlxcXFxcIixcIlxcclwiOlwiclwiLFwiXFxuXCI6XCJuXCIsXCJcXHUyMDI4XCI6XCJ1MjAyOFwiLFwiXFx1MjAyOVwiOlwidTIwMjlcIn0sRD0vXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2csTD1mdW5jdGlvbihuKXtyZXR1cm5cIlxcXFxcIit6W25dfTttLnRlbXBsYXRlPWZ1bmN0aW9uKG4sdCxyKXshdCYmciYmKHQ9ciksdD1tLmRlZmF1bHRzKHt9LHQsbS50ZW1wbGF0ZVNldHRpbmdzKTt2YXIgZT1SZWdFeHAoWyh0LmVzY2FwZXx8Sykuc291cmNlLCh0LmludGVycG9sYXRlfHxLKS5zb3VyY2UsKHQuZXZhbHVhdGV8fEspLnNvdXJjZV0uam9pbihcInxcIikrXCJ8JFwiLFwiZ1wiKSx1PTAsaT1cIl9fcCs9J1wiO24ucmVwbGFjZShlLGZ1bmN0aW9uKHQscixlLG8sYSl7cmV0dXJuIGkrPW4uc2xpY2UodSxhKS5yZXBsYWNlKEQsTCksdT1hK3QubGVuZ3RoLHI/aSs9XCInK1xcbigoX190PShcIityK1wiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiOmU/aSs9XCInK1xcbigoX190PShcIitlK1wiKSk9PW51bGw/Jyc6X190KStcXG4nXCI6byYmKGkrPVwiJztcXG5cIitvK1wiXFxuX19wKz0nXCIpLHR9KSxpKz1cIic7XFxuXCIsdC52YXJpYWJsZXx8KGk9XCJ3aXRoKG9ianx8e30pe1xcblwiK2krXCJ9XFxuXCIpLGk9XCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIrXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiK2krXCJyZXR1cm4gX19wO1xcblwiO3RyeXt2YXIgbz1uZXcgRnVuY3Rpb24odC52YXJpYWJsZXx8XCJvYmpcIixcIl9cIixpKX1jYXRjaChhKXt0aHJvdyBhLnNvdXJjZT1pLGF9dmFyIGM9ZnVuY3Rpb24obil7cmV0dXJuIG8uY2FsbCh0aGlzLG4sbSl9LGY9dC52YXJpYWJsZXx8XCJvYmpcIjtyZXR1cm4gYy5zb3VyY2U9XCJmdW5jdGlvbihcIitmK1wiKXtcXG5cIitpK1wifVwiLGN9LG0uY2hhaW49ZnVuY3Rpb24obil7dmFyIHQ9bShuKTtyZXR1cm4gdC5fY2hhaW49ITAsdH07dmFyIFA9ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5fY2hhaW4/bSh0KS5jaGFpbigpOnR9O20ubWl4aW49ZnVuY3Rpb24obil7bS5lYWNoKG0uZnVuY3Rpb25zKG4pLGZ1bmN0aW9uKHQpe3ZhciByPW1bdF09blt0XTttLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3ZhciBuPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gZi5hcHBseShuLGFyZ3VtZW50cyksUCh0aGlzLHIuYXBwbHkobSxuKSl9fSl9LG0ubWl4aW4obSksbS5lYWNoKFtcInBvcFwiLFwicHVzaFwiLFwicmV2ZXJzZVwiLFwic2hpZnRcIixcInNvcnRcIixcInNwbGljZVwiLFwidW5zaGlmdFwiXSxmdW5jdGlvbihuKXt2YXIgdD1vW25dO20ucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5fd3JhcHBlZDtyZXR1cm4gdC5hcHBseShyLGFyZ3VtZW50cyksXCJzaGlmdFwiIT09biYmXCJzcGxpY2VcIiE9PW58fDAhPT1yLmxlbmd0aHx8ZGVsZXRlIHJbMF0sUCh0aGlzLHIpfX0pLG0uZWFjaChbXCJjb25jYXRcIixcImpvaW5cIixcInNsaWNlXCJdLGZ1bmN0aW9uKG4pe3ZhciB0PW9bbl07bS5wcm90b3R5cGVbbl09ZnVuY3Rpb24oKXtyZXR1cm4gUCh0aGlzLHQuYXBwbHkodGhpcy5fd3JhcHBlZCxhcmd1bWVudHMpKX19KSxtLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfSxtLnByb3RvdHlwZS52YWx1ZU9mPW0ucHJvdG90eXBlLnRvSlNPTj1tLnByb3RvdHlwZS52YWx1ZSxtLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiXCIrdGhpcy5fd3JhcHBlZH0sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJ1bmRlcnNjb3JlXCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbX0pfSkuY2FsbCh0aGlzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZGVyc2NvcmUtbWluLm1hcCIsIi8vIG51bWVyYWwuanNcbi8vIHZlcnNpb24gOiAxLjQuNVxuLy8gYXV0aG9yIDogQWRhbSBEcmFwZXJcbi8vIGxpY2Vuc2UgOiBNSVRcbi8vIGh0dHA6Ly9hZGFtd2RyYXBlci5naXRodWIuY29tL051bWVyYWwtanMvXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe3RoaXMuX249ZX1mdW5jdGlvbiB1KGUsdCxuKXt2YXIgcj1NYXRoLnBvdygxMCx0KSxpO2k9KE1hdGgucm91bmQoZSpyKS9yKS50b0ZpeGVkKHQpO2lmKG4pe3ZhciBzPW5ldyBSZWdFeHAoXCIwezEsXCIrbitcIn0kXCIpO2k9aS5yZXBsYWNlKHMsXCJcIil9cmV0dXJuIGl9ZnVuY3Rpb24gYShlLHQpe3ZhciBuO3QuaW5kZXhPZihcIiRcIik+LTE/bj1sKGUsdCk6dC5pbmRleE9mKFwiJVwiKT4tMT9uPWMoZSx0KTp0LmluZGV4T2YoXCI6XCIpPi0xP249aChlLHQpOm49ZChlLHQpO3JldHVybiBufWZ1bmN0aW9uIGYoZSx0KXtpZih0LmluZGV4T2YoXCI6XCIpPi0xKWUuX249cCh0KTtlbHNlIGlmKHQ9PT1pKWUuX249MDtlbHNle3ZhciBzPXQ7bltyXS5kZWxpbWl0ZXJzLmRlY2ltYWwhPT1cIi5cIiYmKHQ9dC5yZXBsYWNlKC9cXC4vZyxcIlwiKS5yZXBsYWNlKG5bcl0uZGVsaW1pdGVycy5kZWNpbWFsLFwiLlwiKSk7dmFyIG89bmV3IFJlZ0V4cChuW3JdLmFiYnJldmlhdGlvbnMudGhvdXNhbmQrXCIoPzpcXFxcKXwoXFxcXFwiK25bcl0uY3VycmVuY3kuc3ltYm9sK1wiKT8oPzpcXFxcKSk/KT8kXCIpLHU9bmV3IFJlZ0V4cChuW3JdLmFiYnJldmlhdGlvbnMubWlsbGlvbitcIig/OlxcXFwpfChcXFxcXCIrbltyXS5jdXJyZW5jeS5zeW1ib2wrXCIpPyg/OlxcXFwpKT8pPyRcIiksYT1uZXcgUmVnRXhwKG5bcl0uYWJicmV2aWF0aW9ucy5iaWxsaW9uK1wiKD86XFxcXCl8KFxcXFxcIituW3JdLmN1cnJlbmN5LnN5bWJvbCtcIik/KD86XFxcXCkpPyk/JFwiKSxmPW5ldyBSZWdFeHAobltyXS5hYmJyZXZpYXRpb25zLnRyaWxsaW9uK1wiKD86XFxcXCl8KFxcXFxcIituW3JdLmN1cnJlbmN5LnN5bWJvbCtcIik/KD86XFxcXCkpPyk/JFwiKSxsPVtcIktCXCIsXCJNQlwiLFwiR0JcIixcIlRCXCIsXCJQQlwiLFwiRUJcIixcIlpCXCIsXCJZQlwiXSxjPSExO2Zvcih2YXIgaD0wO2g8PWwubGVuZ3RoO2grKyl7Yz10LmluZGV4T2YobFtoXSk+LTE/TWF0aC5wb3coMTAyNCxoKzEpOiExO2lmKGMpYnJlYWt9ZS5fbj0oYz9jOjEpKihzLm1hdGNoKG8pP01hdGgucG93KDEwLDMpOjEpKihzLm1hdGNoKHUpP01hdGgucG93KDEwLDYpOjEpKihzLm1hdGNoKGEpP01hdGgucG93KDEwLDkpOjEpKihzLm1hdGNoKGYpP01hdGgucG93KDEwLDEyKToxKSoodC5pbmRleE9mKFwiJVwiKT4tMT8uMDE6MSkqTnVtYmVyKCh0LmluZGV4T2YoXCIoXCIpPi0xP1wiLVwiOlwiXCIpK3QucmVwbGFjZSgvW14wLTlcXC4nLV0rL2csXCJcIikpO2UuX249Yz9NYXRoLmNlaWwoZS5fbik6ZS5fbn1yZXR1cm4gZS5fbn1mdW5jdGlvbiBsKGUsdCl7dmFyIGk9dC5pbmRleE9mKFwiJFwiKTw9MT8hMDohMSxzPVwiXCI7aWYodC5pbmRleE9mKFwiICRcIik+LTEpe3M9XCIgXCI7dD10LnJlcGxhY2UoXCIgJFwiLFwiXCIpfWVsc2UgaWYodC5pbmRleE9mKFwiJCBcIik+LTEpe3M9XCIgXCI7dD10LnJlcGxhY2UoXCIkIFwiLFwiXCIpfWVsc2UgdD10LnJlcGxhY2UoXCIkXCIsXCJcIik7dmFyIG89YShlLHQpO2lmKGkpaWYoby5pbmRleE9mKFwiKFwiKT4tMXx8by5pbmRleE9mKFwiLVwiKT4tMSl7bz1vLnNwbGl0KFwiXCIpO28uc3BsaWNlKDEsMCxuW3JdLmN1cnJlbmN5LnN5bWJvbCtzKTtvPW8uam9pbihcIlwiKX1lbHNlIG89bltyXS5jdXJyZW5jeS5zeW1ib2wrcytvO2Vsc2UgaWYoby5pbmRleE9mKFwiKVwiKT4tMSl7bz1vLnNwbGl0KFwiXCIpO28uc3BsaWNlKC0xLDAscytuW3JdLmN1cnJlbmN5LnN5bWJvbCk7bz1vLmpvaW4oXCJcIil9ZWxzZSBvPW8rcytuW3JdLmN1cnJlbmN5LnN5bWJvbDtyZXR1cm4gb31mdW5jdGlvbiBjKGUsdCl7dmFyIG49XCJcIjtpZih0LmluZGV4T2YoXCIgJVwiKT4tMSl7bj1cIiBcIjt0PXQucmVwbGFjZShcIiAlXCIsXCJcIil9ZWxzZSB0PXQucmVwbGFjZShcIiVcIixcIlwiKTtlLl9uPWUuX24qMTAwO3ZhciByPWEoZSx0KTtpZihyLmluZGV4T2YoXCIpXCIpPi0xKXtyPXIuc3BsaXQoXCJcIik7ci5zcGxpY2UoLTEsMCxuK1wiJVwiKTtyPXIuam9pbihcIlwiKX1lbHNlIHI9cituK1wiJVwiO3JldHVybiByfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj1NYXRoLmZsb29yKGUuX24vNjAvNjApLHI9TWF0aC5mbG9vcigoZS5fbi1uKjYwKjYwKS82MCksaT1NYXRoLnJvdW5kKGUuX24tbio2MCo2MC1yKjYwKTtyZXR1cm4gbitcIjpcIisocjwxMD9cIjBcIityOnIpK1wiOlwiKyhpPDEwP1wiMFwiK2k6aSl9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLnNwbGl0KFwiOlwiKSxuPTA7aWYodC5sZW5ndGg9PT0zKXtuKz1OdW1iZXIodFswXSkqNjAqNjA7bis9TnVtYmVyKHRbMV0pKjYwO24rPU51bWJlcih0WzJdKX1lbHNlIGlmKHQubGVuZ2h0PT09Mil7bis9TnVtYmVyKHRbMF0pKjYwO24rPU51bWJlcih0WzFdKX1yZXR1cm4gTnVtYmVyKG4pfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcz0hMSxvPSExLGE9XCJcIixmPVwiXCIsbD1cIlwiLGM9TWF0aC5hYnMoZS5fbik7aWYoZS5fbj09PTAmJmkhPT1udWxsKXJldHVybiBpO2lmKHQuaW5kZXhPZihcIihcIik+LTEpe3M9ITA7dD10LnNsaWNlKDEsLTEpfWlmKHQuaW5kZXhPZihcImFcIik+LTEpe2lmKHQuaW5kZXhPZihcIiBhXCIpPi0xKXthPVwiIFwiO3Q9dC5yZXBsYWNlKFwiIGFcIixcIlwiKX1lbHNlIHQ9dC5yZXBsYWNlKFwiYVwiLFwiXCIpO2lmKGM+PU1hdGgucG93KDEwLDEyKSl7YSs9bltyXS5hYmJyZXZpYXRpb25zLnRpbGxpb247ZS5fbj1lLl9uL01hdGgucG93KDEwLDEyKX1lbHNlIGlmKGM8TWF0aC5wb3coMTAsMTIpJiZjPj1NYXRoLnBvdygxMCw5KSl7YSs9bltyXS5hYmJyZXZpYXRpb25zLmJpbGxpb247ZS5fbj1lLl9uL01hdGgucG93KDEwLDkpfWVsc2UgaWYoYzxNYXRoLnBvdygxMCw5KSYmYz49TWF0aC5wb3coMTAsNikpe2ErPW5bcl0uYWJicmV2aWF0aW9ucy5taWxsaW9uO2UuX249ZS5fbi9NYXRoLnBvdygxMCw2KX1lbHNlIGlmKGM8TWF0aC5wb3coMTAsNikmJmM+PU1hdGgucG93KDEwLDMpKXthKz1uW3JdLmFiYnJldmlhdGlvbnMudGhvdXNhbmQ7ZS5fbj1lLl9uL01hdGgucG93KDEwLDMpfX1pZih0LmluZGV4T2YoXCJiXCIpPi0xKXtpZih0LmluZGV4T2YoXCIgYlwiKT4tMSl7Zj1cIiBcIjt0PXQucmVwbGFjZShcIiBiXCIsXCJcIil9ZWxzZSB0PXQucmVwbGFjZShcImJcIixcIlwiKTt2YXIgaD1bXCJCXCIsXCJLQlwiLFwiTUJcIixcIkdCXCIsXCJUQlwiLFwiUEJcIixcIkVCXCIsXCJaQlwiLFwiWUJcIl0scCxkO2Zvcih2YXIgdj0wO3Y8PWgubGVuZ3RoO3YrKyl7cD1NYXRoLnBvdygxMDI0LHYpO2Q9TWF0aC5wb3coMTAyNCx2KzEpO2lmKGUuX24+PXAmJmUuX248ZCl7Zis9aFt2XTtwPjAmJihlLl9uPWUuX24vcCk7YnJlYWt9fX1pZih0LmluZGV4T2YoXCJvXCIpPi0xKXtpZih0LmluZGV4T2YoXCIgb1wiKT4tMSl7bD1cIiBcIjt0PXQucmVwbGFjZShcIiBvXCIsXCJcIil9ZWxzZSB0PXQucmVwbGFjZShcIm9cIixcIlwiKTtsKz1uW3JdLm9yZGluYWwoZS5fbil9aWYodC5pbmRleE9mKFwiWy5dXCIpPi0xKXtvPSEwO3Q9dC5yZXBsYWNlKFwiWy5dXCIsXCIuXCIpfXZhciBtPWUuX24udG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMF0sZz10LnNwbGl0KFwiLlwiKVsxXSx5PXQuaW5kZXhPZihcIixcIiksYj1cIlwiLHc9ITE7aWYoZyl7aWYoZy5pbmRleE9mKFwiW1wiKT4tMSl7Zz1nLnJlcGxhY2UoXCJdXCIsXCJcIik7Zz1nLnNwbGl0KFwiW1wiKTtiPXUoZS5fbixnWzBdLmxlbmd0aCtnWzFdLmxlbmd0aCxnWzFdLmxlbmd0aCl9ZWxzZSBiPXUoZS5fbixnLmxlbmd0aCk7bT1iLnNwbGl0KFwiLlwiKVswXTtiLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGg/Yj1uW3JdLmRlbGltaXRlcnMuZGVjaW1hbCtiLnNwbGl0KFwiLlwiKVsxXTpiPVwiXCI7byYmTnVtYmVyKGIpPT09MCYmKGI9XCJcIil9ZWxzZSBtPXUoZS5fbixudWxsKTtpZihtLmluZGV4T2YoXCItXCIpPi0xKXttPW0uc2xpY2UoMSk7dz0hMH15Pi0xJiYobT1tLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxcZCkoPz0oXFxkezN9KSsoPyFcXGQpKS9nLFwiJDFcIituW3JdLmRlbGltaXRlcnMudGhvdXNhbmRzKSk7dC5pbmRleE9mKFwiLlwiKT09PTAmJihtPVwiXCIpO3JldHVybihzJiZ3P1wiKFwiOlwiXCIpKyghcyYmdz9cIi1cIjpcIlwiKSttK2IrKGw/bDpcIlwiKSsoYT9hOlwiXCIpKyhmP2Y6XCJcIikrKHMmJnc/XCIpXCI6XCJcIil9ZnVuY3Rpb24gdihlLHQpe25bZV09dH12YXIgZSx0PVwiMS40LjVcIixuPXt9LHI9XCJlblwiLGk9bnVsbCxzPXR5cGVvZiBtb2R1bGUhPVwidW5kZWZpbmVkXCImJm1vZHVsZS5leHBvcnRzO2U9ZnVuY3Rpb24odCl7ZS5pc051bWVyYWwodCk/dD10LnZhbHVlKCk6TnVtYmVyKHQpfHwodD0wKTtyZXR1cm4gbmV3IG8oTnVtYmVyKHQpKX07ZS52ZXJzaW9uPXQ7ZS5pc051bWVyYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBvfTtlLmxhbmd1YWdlPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuIHI7dCYmIWkmJihyPXQpOyhpfHwhblt0XSkmJnYodCxpKTtyZXR1cm4gZX07ZS5sYW5ndWFnZShcImVuXCIse2RlbGltaXRlcnM6e3Rob3VzYW5kczpcIixcIixkZWNpbWFsOlwiLlwifSxhYmJyZXZpYXRpb25zOnt0aG91c2FuZDpcImtcIixtaWxsaW9uOlwibVwiLGJpbGxpb246XCJiXCIsdHJpbGxpb246XCJ0XCJ9LG9yZGluYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSUxMDtyZXR1cm5+fihlJTEwMC8xMCk9PT0xP1widGhcIjp0PT09MT9cInN0XCI6dD09PTI/XCJuZFwiOnQ9PT0zP1wicmRcIjpcInRoXCJ9LGN1cnJlbmN5OntzeW1ib2w6XCIkXCJ9fSk7ZS56ZXJvRm9ybWF0PWZ1bmN0aW9uKGUpe3R5cGVvZiBlPT1cInN0cmluZ1wiP2k9ZTppPW51bGx9O2UuZm49by5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyl9LGZvcm1hdDpmdW5jdGlvbih0KXtyZXR1cm4gYSh0aGlzLHQ/dDplLmRlZmF1bHRGb3JtYXQpfSx1bmZvcm1hdDpmdW5jdGlvbih0KXtyZXR1cm4gZih0aGlzLHQ/dDplLmRlZmF1bHRGb3JtYXQpfSx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ufSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9uPU51bWJlcihlKTtyZXR1cm4gdGhpc30sYWRkOmZ1bmN0aW9uKGUpe3RoaXMuX249dGhpcy5fbitOdW1iZXIoZSk7cmV0dXJuIHRoaXN9LHN1YnRyYWN0OmZ1bmN0aW9uKGUpe3RoaXMuX249dGhpcy5fbi1OdW1iZXIoZSk7cmV0dXJuIHRoaXN9LG11bHRpcGx5OmZ1bmN0aW9uKGUpe3RoaXMuX249dGhpcy5fbipOdW1iZXIoZSk7cmV0dXJuIHRoaXN9LGRpdmlkZTpmdW5jdGlvbihlKXt0aGlzLl9uPXRoaXMuX24vTnVtYmVyKGUpO3JldHVybiB0aGlzfSxkaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX24tTnVtYmVyKGUpO3Q8MCYmKHQ9LXQpO3JldHVybiB0fX07cyYmKG1vZHVsZS5leHBvcnRzPWUpO3R5cGVvZiBlbmRlcj09XCJ1bmRlZmluZWRcIiYmKHRoaXMubnVtZXJhbD1lKTt0eXBlb2YgZGVmaW5lPT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQmJmRlZmluZShbXSxmdW5jdGlvbigpe3JldHVybiBlfSl9KS5jYWxsKHRoaXMpOyIsIi8qXG4gTGVhZmxldCwgYSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIG1vYmlsZS1mcmllbmRseSBpbnRlcmFjdGl2ZSBtYXBzLiBodHRwOi8vbGVhZmxldGpzLmNvbVxuIChjKSAyMDEwLTIwMTMsIFZsYWRpbWlyIEFnYWZvbmtpblxuIChjKSAyMDEwLTIwMTEsIENsb3VkTWFkZVxuKi9cbiFmdW5jdGlvbih0LGUsaSl7dmFyIG49dC5MLG89e307by52ZXJzaW9uPVwiMC43LjdcIixcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bzpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShvKSxvLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdC5MPW4sdGhpc30sdC5MPW8sby5VdGlsPXtleHRlbmQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLG8scz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Zm9yKGk9MCxuPXMubGVuZ3RoO24+aTtpKyspe289c1tpXXx8e307Zm9yKGUgaW4gbylvLmhhc093blByb3BlcnR5KGUpJiYodFtlXT1vW2VdKX1yZXR1cm4gdH0sYmluZDpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+Mj9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik6bnVsbDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGl8fGFyZ3VtZW50cyl9fSxzdGFtcDpmdW5jdGlvbigpe3ZhciB0PTAsZT1cIl9sZWFmbGV0X2lkXCI7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBpW2VdPWlbZV18fCsrdCxpW2VdfX0oKSxpbnZva2VFYWNoOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXtvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTtmb3IobiBpbiB0KWUuYXBwbHkoaSxbbix0W25dXS5jb25jYXQobykpO3JldHVybiEwfXJldHVybiExfSxsaW1pdEV4ZWNCeUludGVydmFsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO3JldHVybiBmdW5jdGlvbiBzKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuP3ZvaWQobz0hMCk6KG49ITAsc2V0VGltZW91dChmdW5jdGlvbigpe249ITEsbyYmKHMuYXBwbHkoaSxhKSxvPSExKX0sZSksdm9pZCB0LmFwcGx5KGksYSkpfX0sZmFsc2VGbjpmdW5jdGlvbigpe3JldHVybiExfSxmb3JtYXROdW06ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLnBvdygxMCxlfHw1KTtyZXR1cm4gTWF0aC5yb3VuZCh0KmkpL2l9LHRyaW06ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9LHNwbGl0V29yZHM6ZnVuY3Rpb24odCl7cmV0dXJuIG8uVXRpbC50cmltKHQpLnNwbGl0KC9cXHMrLyl9LHNldE9wdGlvbnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5vcHRpb25zPW8uZXh0ZW5kKHt9LHQub3B0aW9ucyxlKSx0Lm9wdGlvbnN9LGdldFBhcmFtU3RyaW5nOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1bXTtmb3IodmFyIG8gaW4gdCluLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGk/by50b1VwcGVyQ2FzZSgpOm8pK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0W29dKSk7cmV0dXJuKGUmJi0xIT09ZS5pbmRleE9mKFwiP1wiKT9cIiZcIjpcIj9cIikrbi5qb2luKFwiJlwiKX0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZXBsYWNlKC9cXHsgKihbXFx3X10rKSAqXFx9L2csZnVuY3Rpb24odCxuKXt2YXIgbz1lW25dO2lmKG89PT1pKXRocm93IG5ldyBFcnJvcihcIk5vIHZhbHVlIHByb3ZpZGVkIGZvciB2YXJpYWJsZSBcIit0KTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiYobz1vKGUpKSxvfSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSxlbXB0eUltYWdlVXJsOlwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBRC9BQ3dBQUFBQUFRQUJBQUFDQURzPVwifSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIGksbixvPVtcIndlYmtpdFwiLFwibW96XCIsXCJvXCIsXCJtc1wiXTtmb3IoaT0wO2k8by5sZW5ndGgmJiFuO2krKyluPXRbb1tpXStlXTtyZXR1cm4gbn1mdW5jdGlvbiBpKGUpe3ZhciBpPStuZXcgRGF0ZSxvPU1hdGgubWF4KDAsMTYtKGktbikpO3JldHVybiBuPWkrbyx0LnNldFRpbWVvdXQoZSxvKX12YXIgbj0wLHM9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGUoXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIil8fGksYT10LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxlKFwiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIil8fGUoXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIil8fGZ1bmN0aW9uKGUpe3QuY2xlYXJUaW1lb3V0KGUpfTtvLlV0aWwucmVxdWVzdEFuaW1GcmFtZT1mdW5jdGlvbihlLG4sYSxyKXtyZXR1cm4gZT1vLmJpbmQoZSxuKSxhJiZzPT09aT92b2lkIGUoKTpzLmNhbGwodCxlLHIpfSxvLlV0aWwuY2FuY2VsQW5pbUZyYW1lPWZ1bmN0aW9uKGUpe2UmJmEuY2FsbCh0LGUpfX0oKSxvLmV4dGVuZD1vLlV0aWwuZXh0ZW5kLG8uYmluZD1vLlV0aWwuYmluZCxvLnN0YW1wPW8uVXRpbC5zdGFtcCxvLnNldE9wdGlvbnM9by5VdGlsLnNldE9wdGlvbnMsby5DbGFzcz1mdW5jdGlvbigpe30sby5DbGFzcy5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXt0aGlzLmluaXRpYWxpemUmJnRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5faW5pdEhvb2tzJiZ0aGlzLmNhbGxJbml0SG9va3MoKX0saT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGU7dmFyIG49bmV3IGk7bi5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlPW47Zm9yKHZhciBzIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShzKSYmXCJwcm90b3R5cGVcIiE9PXMmJihlW3NdPXRoaXNbc10pO3Quc3RhdGljcyYmKG8uZXh0ZW5kKGUsdC5zdGF0aWNzKSxkZWxldGUgdC5zdGF0aWNzKSx0LmluY2x1ZGVzJiYoby5VdGlsLmV4dGVuZC5hcHBseShudWxsLFtuXS5jb25jYXQodC5pbmNsdWRlcykpLGRlbGV0ZSB0LmluY2x1ZGVzKSx0Lm9wdGlvbnMmJm4ub3B0aW9ucyYmKHQub3B0aW9ucz1vLmV4dGVuZCh7fSxuLm9wdGlvbnMsdC5vcHRpb25zKSksby5leHRlbmQobix0KSxuLl9pbml0SG9va3M9W107dmFyIGE9dGhpcztyZXR1cm4gZS5fX3N1cGVyX189YS5wcm90b3R5cGUsbi5jYWxsSW5pdEhvb2tzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2luaXRIb29rc0NhbGxlZCl7YS5wcm90b3R5cGUuY2FsbEluaXRIb29rcyYmYS5wcm90b3R5cGUuY2FsbEluaXRIb29rcy5jYWxsKHRoaXMpLHRoaXMuX2luaXRIb29rc0NhbGxlZD0hMDtmb3IodmFyIHQ9MCxlPW4uX2luaXRIb29rcy5sZW5ndGg7ZT50O3QrKyluLl9pbml0SG9va3NbdF0uY2FsbCh0aGlzKX19LGV9LG8uQ2xhc3MuaW5jbHVkZT1mdW5jdGlvbih0KXtvLmV4dGVuZCh0aGlzLnByb3RvdHlwZSx0KX0sby5DbGFzcy5tZXJnZU9wdGlvbnM9ZnVuY3Rpb24odCl7by5leHRlbmQodGhpcy5wcm90b3R5cGUub3B0aW9ucyx0KX0sby5DbGFzcy5hZGRJbml0SG9vaz1mdW5jdGlvbih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6ZnVuY3Rpb24oKXt0aGlzW3RdLmFwcGx5KHRoaXMsZSl9O3RoaXMucHJvdG90eXBlLl9pbml0SG9va3M9dGhpcy5wcm90b3R5cGUuX2luaXRIb29rc3x8W10sdGhpcy5wcm90b3R5cGUuX2luaXRIb29rcy5wdXNoKGkpfTt2YXIgcz1cIl9sZWFmbGV0X2V2ZW50c1wiO28uTWl4aW49e30sby5NaXhpbi5FdmVudHM9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlLGkpe2lmKG8uVXRpbC5pbnZva2VFYWNoKHQsdGhpcy5hZGRFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbixhLHIsaCxsLHUsYyxkPXRoaXNbc109dGhpc1tzXXx8e30scD1pJiZpIT09dGhpcyYmby5zdGFtcChpKTtmb3IodD1vLlV0aWwuc3BsaXRXb3Jkcyh0KSxuPTAsYT10Lmxlbmd0aDthPm47bisrKXI9e2FjdGlvbjplLGNvbnRleHQ6aXx8dGhpc30saD10W25dLHA/KGw9aCtcIl9pZHhcIix1PWwrXCJfbGVuXCIsYz1kW2xdPWRbbF18fHt9LGNbcF18fChjW3BdPVtdLGRbdV09KGRbdV18fDApKzEpLGNbcF0ucHVzaChyKSk6KGRbaF09ZFtoXXx8W10sZFtoXS5wdXNoKHIpKTtyZXR1cm4gdGhpc30saGFzRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1tzXTtyZXR1cm4hIWUmJih0IGluIGUmJmVbdF0ubGVuZ3RoPjB8fHQrXCJfaWR4XCJpbiBlJiZlW3QrXCJfaWR4X2xlblwiXT4wKX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7aWYoIXRoaXNbc10pcmV0dXJuIHRoaXM7aWYoIXQpcmV0dXJuIHRoaXMuY2xlYXJBbGxFdmVudExpc3RlbmVycygpO2lmKG8uVXRpbC5pbnZva2VFYWNoKHQsdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbixhLHIsaCxsLHUsYyxkLHAsXz10aGlzW3NdLG09aSYmaSE9PXRoaXMmJm8uc3RhbXAoaSk7Zm9yKHQ9by5VdGlsLnNwbGl0V29yZHModCksbj0wLGE9dC5sZW5ndGg7YT5uO24rKylpZihyPXRbbl0sdT1yK1wiX2lkeFwiLGM9dStcIl9sZW5cIixkPV9bdV0sZSl7aWYoaD1tJiZkP2RbbV06X1tyXSl7Zm9yKGw9aC5sZW5ndGgtMTtsPj0wO2wtLSloW2xdLmFjdGlvbiE9PWV8fGkmJmhbbF0uY29udGV4dCE9PWl8fChwPWguc3BsaWNlKGwsMSkscFswXS5hY3Rpb249by5VdGlsLmZhbHNlRm4pO2kmJmQmJjA9PT1oLmxlbmd0aCYmKGRlbGV0ZSBkW21dLF9bY10tLSl9fWVsc2UgZGVsZXRlIF9bcl0sZGVsZXRlIF9bdV0sZGVsZXRlIF9bY107cmV0dXJuIHRoaXN9LGNsZWFyQWxsRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIHRoaXNbc10sdGhpc30sZmlyZUV2ZW50OmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModCkpcmV0dXJuIHRoaXM7dmFyIGksbixhLHIsaCxsPW8uVXRpbC5leHRlbmQoe30sZSx7dHlwZTp0LHRhcmdldDp0aGlzfSksdT10aGlzW3NdO2lmKHVbdF0pZm9yKGk9dVt0XS5zbGljZSgpLG49MCxhPWkubGVuZ3RoO2E+bjtuKyspaVtuXS5hY3Rpb24uY2FsbChpW25dLmNvbnRleHQsbCk7cj11W3QrXCJfaWR4XCJdO2ZvcihoIGluIHIpaWYoaT1yW2hdLnNsaWNlKCkpZm9yKG49MCxhPWkubGVuZ3RoO2E+bjtuKyspaVtuXS5hY3Rpb24uY2FsbChpW25dLmNvbnRleHQsbCk7cmV0dXJuIHRoaXN9LGFkZE9uZVRpbWVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXtpZihvLlV0aWwuaW52b2tlRWFjaCh0LHRoaXMuYWRkT25lVGltZUV2ZW50TGlzdGVuZXIsdGhpcyxlLGkpKXJldHVybiB0aGlzO3ZhciBuPW8uYmluZChmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsaSkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4saSl9LHRoaXMpO3JldHVybiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodCxlLGkpLmFkZEV2ZW50TGlzdGVuZXIodCxuLGkpfX0sby5NaXhpbi5FdmVudHMub249by5NaXhpbi5FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcixvLk1peGluLkV2ZW50cy5vZmY9by5NaXhpbi5FdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcixvLk1peGluLkV2ZW50cy5vbmNlPW8uTWl4aW4uRXZlbnRzLmFkZE9uZVRpbWVFdmVudExpc3RlbmVyLG8uTWl4aW4uRXZlbnRzLmZpcmU9by5NaXhpbi5FdmVudHMuZmlyZUV2ZW50LGZ1bmN0aW9uKCl7dmFyIG49XCJBY3RpdmVYT2JqZWN0XCJpbiB0LHM9biYmIWUuYWRkRXZlbnRMaXN0ZW5lcixhPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxyPS0xIT09YS5pbmRleE9mKFwid2Via2l0XCIpLGg9LTEhPT1hLmluZGV4T2YoXCJjaHJvbWVcIiksbD0tMSE9PWEuaW5kZXhPZihcInBoYW50b21cIiksdT0tMSE9PWEuaW5kZXhPZihcImFuZHJvaWRcIiksYz0tMSE9PWEuc2VhcmNoKFwiYW5kcm9pZCBbMjNdXCIpLGQ9LTEhPT1hLmluZGV4T2YoXCJnZWNrb1wiKSxwPXR5cGVvZiBvcmllbnRhdGlvbiE9aStcIlwiLF89IXQuUG9pbnRlckV2ZW50JiZ0Lk1TUG9pbnRlckV2ZW50LG09dC5Qb2ludGVyRXZlbnQmJnQubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkfHxfLGY9XCJkZXZpY2VQaXhlbFJhdGlvXCJpbiB0JiZ0LmRldmljZVBpeGVsUmF0aW8+MXx8XCJtYXRjaE1lZGlhXCJpbiB0JiZ0Lm1hdGNoTWVkaWEoXCIobWluLXJlc29sdXRpb246MTQ0ZHBpKVwiKSYmdC5tYXRjaE1lZGlhKFwiKG1pbi1yZXNvbHV0aW9uOjE0NGRwaSlcIikubWF0Y2hlcyxnPWUuZG9jdW1lbnRFbGVtZW50LHY9biYmXCJ0cmFuc2l0aW9uXCJpbiBnLnN0eWxlLHk9XCJXZWJLaXRDU1NNYXRyaXhcImluIHQmJlwibTExXCJpbiBuZXcgdC5XZWJLaXRDU1NNYXRyaXgmJiFjLFA9XCJNb3pQZXJzcGVjdGl2ZVwiaW4gZy5zdHlsZSxMPVwiT1RyYW5zaXRpb25cImluIGcuc3R5bGUseD0hdC5MX0RJU0FCTEVfM0QmJih2fHx5fHxQfHxMKSYmIWwsdz0hdC5MX05PX1RPVUNIJiYhbCYmKG18fFwib250b3VjaHN0YXJ0XCJpbiB0fHx0LkRvY3VtZW50VG91Y2gmJmUgaW5zdGFuY2VvZiB0LkRvY3VtZW50VG91Y2gpO28uQnJvd3Nlcj17aWU6bixpZWx0OTpzLHdlYmtpdDpyLGdlY2tvOmQmJiFyJiYhdC5vcGVyYSYmIW4sYW5kcm9pZDp1LGFuZHJvaWQyMzpjLGNocm9tZTpoLGllM2Q6dix3ZWJraXQzZDp5LGdlY2tvM2Q6UCxvcGVyYTNkOkwsYW55M2Q6eCxtb2JpbGU6cCxtb2JpbGVXZWJraXQ6cCYmcixtb2JpbGVXZWJraXQzZDpwJiZ5LG1vYmlsZU9wZXJhOnAmJnQub3BlcmEsdG91Y2g6dyxtc1BvaW50ZXI6Xyxwb2ludGVyOm0scmV0aW5hOmZ9fSgpLG8uUG9pbnQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMueD1pP01hdGgucm91bmQodCk6dCx0aGlzLnk9aT9NYXRoLnJvdW5kKGUpOmV9LG8uUG9pbnQucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgby5Qb2ludCh0aGlzLngsdGhpcy55KX0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX2FkZChvLnBvaW50KHQpKX0sX2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpc30sc3VidHJhY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3VidHJhY3Qoby5wb2ludCh0KSl9LF9zdWJ0cmFjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sZGl2aWRlQnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZGl2aWRlQnkodCl9LF9kaXZpZGVCeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LHRoaXMueS89dCx0aGlzfSxtdWx0aXBseUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHRpcGx5QnkodCl9LF9tdWx0aXBseUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfSxmbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX2Zsb29yKCl9LF9mbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpc30sZGlzdGFuY2VUbzpmdW5jdGlvbih0KXt0PW8ucG9pbnQodCk7dmFyIGU9dC54LXRoaXMueCxpPXQueS10aGlzLnk7cmV0dXJuIE1hdGguc3FydChlKmUraSppKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8ucG9pbnQodCksdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8ucG9pbnQodCksTWF0aC5hYnModC54KTw9TWF0aC5hYnModGhpcy54KSYmTWF0aC5hYnModC55KTw9TWF0aC5hYnModGhpcy55KX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIlBvaW50KFwiK28uVXRpbC5mb3JtYXROdW0odGhpcy54KStcIiwgXCIrby5VdGlsLmZvcm1hdE51bSh0aGlzLnkpK1wiKVwifX0sby5wb2ludD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQgaW5zdGFuY2VvZiBvLlBvaW50P3Q6by5VdGlsLmlzQXJyYXkodCk/bmV3IG8uUG9pbnQodFswXSx0WzFdKTp0PT09aXx8bnVsbD09PXQ/dDpuZXcgby5Qb2ludCh0LGUsbil9LG8uQm91bmRzPWZ1bmN0aW9uKHQsZSl7aWYodClmb3IodmFyIGk9ZT9bdCxlXTp0LG49MCxvPWkubGVuZ3RoO28+bjtuKyspdGhpcy5leHRlbmQoaVtuXSl9LG8uQm91bmRzLnByb3RvdHlwZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0PW8ucG9pbnQodCksdGhpcy5taW58fHRoaXMubWF4Pyh0aGlzLm1pbi54PU1hdGgubWluKHQueCx0aGlzLm1pbi54KSx0aGlzLm1heC54PU1hdGgubWF4KHQueCx0aGlzLm1heC54KSx0aGlzLm1pbi55PU1hdGgubWluKHQueSx0aGlzLm1pbi55KSx0aGlzLm1heC55PU1hdGgubWF4KHQueSx0aGlzLm1heC55KSk6KHRoaXMubWluPXQuY2xvbmUoKSx0aGlzLm1heD10LmNsb25lKCkpLHRoaXN9LGdldENlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uUG9pbnQoKHRoaXMubWluLngrdGhpcy5tYXgueCkvMiwodGhpcy5taW4ueSt0aGlzLm1heC55KS8yLHQpfSxnZXRCb3R0b21MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlBvaW50KHRoaXMubWluLngsdGhpcy5tYXgueSl9LGdldFRvcFJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlBvaW50KHRoaXMubWF4LngsdGhpcy5taW4ueSl9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXguc3VidHJhY3QodGhpcy5taW4pfSxjb250YWluczpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0PVwibnVtYmVyXCI9PXR5cGVvZiB0WzBdfHx0IGluc3RhbmNlb2Ygby5Qb2ludD9vLnBvaW50KHQpOm8uYm91bmRzKHQpLHQgaW5zdGFuY2VvZiBvLkJvdW5kcz8oZT10Lm1pbixpPXQubWF4KTplPWk9dCxlLng+PXRoaXMubWluLngmJmkueDw9dGhpcy5tYXgueCYmZS55Pj10aGlzLm1pbi55JiZpLnk8PXRoaXMubWF4Lnl9LGludGVyc2VjdHM6ZnVuY3Rpb24odCl7dD1vLmJvdW5kcyh0KTt2YXIgZT10aGlzLm1pbixpPXRoaXMubWF4LG49dC5taW4scz10Lm1heCxhPXMueD49ZS54JiZuLng8PWkueCxyPXMueT49ZS55JiZuLnk8PWkueTtyZXR1cm4gYSYmcn0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMubWlufHwhdGhpcy5tYXgpfX0sby5ib3VuZHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdHx8dCBpbnN0YW5jZW9mIG8uQm91bmRzP3Q6bmV3IG8uQm91bmRzKHQsZSl9LG8uVHJhbnNmb3JtYXRpb249ZnVuY3Rpb24odCxlLGksbil7dGhpcy5fYT10LHRoaXMuX2I9ZSx0aGlzLl9jPWksdGhpcy5fZD1ufSxvLlRyYW5zZm9ybWF0aW9uLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybSh0LmNsb25lKCksZSl9LF90cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxLHQueD1lKih0aGlzLl9hKnQueCt0aGlzLl9iKSx0Lnk9ZSoodGhpcy5fYyp0LnkrdGhpcy5fZCksdH0sdW50cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxLG5ldyBvLlBvaW50KCh0LngvZS10aGlzLl9iKS90aGlzLl9hLCh0LnkvZS10aGlzLl9kKS90aGlzLl9jKX19LG8uRG9tVXRpbD17Z2V0OmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P2UuZ2V0RWxlbWVudEJ5SWQodCk6dH0sZ2V0U3R5bGU6ZnVuY3Rpb24odCxpKXt2YXIgbj10LnN0eWxlW2ldO2lmKCFuJiZ0LmN1cnJlbnRTdHlsZSYmKG49dC5jdXJyZW50U3R5bGVbaV0pLCghbnx8XCJhdXRvXCI9PT1uKSYmZS5kZWZhdWx0Vmlldyl7dmFyIG89ZS5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk7bj1vP29baV06bnVsbH1yZXR1cm5cImF1dG9cIj09PW4/bnVsbDpufSxnZXRWaWV3cG9ydE9mZnNldDpmdW5jdGlvbih0KXt2YXIgaSxuPTAscz0wLGE9dCxyPWUuYm9keSxoPWUuZG9jdW1lbnRFbGVtZW50O2Rve2lmKG4rPWEub2Zmc2V0VG9wfHwwLHMrPWEub2Zmc2V0TGVmdHx8MCxuKz1wYXJzZUludChvLkRvbVV0aWwuZ2V0U3R5bGUoYSxcImJvcmRlclRvcFdpZHRoXCIpLDEwKXx8MCxzKz1wYXJzZUludChvLkRvbVV0aWwuZ2V0U3R5bGUoYSxcImJvcmRlckxlZnRXaWR0aFwiKSwxMCl8fDAsaT1vLkRvbVV0aWwuZ2V0U3R5bGUoYSxcInBvc2l0aW9uXCIpLGEub2Zmc2V0UGFyZW50PT09ciYmXCJhYnNvbHV0ZVwiPT09aSlicmVhaztpZihcImZpeGVkXCI9PT1pKXtuKz1yLnNjcm9sbFRvcHx8aC5zY3JvbGxUb3B8fDAscys9ci5zY3JvbGxMZWZ0fHxoLnNjcm9sbExlZnR8fDA7YnJlYWt9aWYoXCJyZWxhdGl2ZVwiPT09aSYmIWEub2Zmc2V0TGVmdCl7dmFyIGw9by5Eb21VdGlsLmdldFN0eWxlKGEsXCJ3aWR0aFwiKSx1PW8uRG9tVXRpbC5nZXRTdHlsZShhLFwibWF4LXdpZHRoXCIpLGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsoXCJub25lXCIhPT1sfHxcIm5vbmVcIiE9PXUpJiYocys9Yy5sZWZ0K2EuY2xpZW50TGVmdCksbis9Yy50b3ArKHIuc2Nyb2xsVG9wfHxoLnNjcm9sbFRvcHx8MCk7YnJlYWt9YT1hLm9mZnNldFBhcmVudH13aGlsZShhKTthPXQ7ZG97aWYoYT09PXIpYnJlYWs7bi09YS5zY3JvbGxUb3B8fDAscy09YS5zY3JvbGxMZWZ0fHwwLGE9YS5wYXJlbnROb2RlfXdoaWxlKGEpO3JldHVybiBuZXcgby5Qb2ludChzLG4pfSxkb2N1bWVudElzTHRyOmZ1bmN0aW9uKCl7cmV0dXJuIG8uRG9tVXRpbC5fZG9jSXNMdHJDYWNoZWR8fChvLkRvbVV0aWwuX2RvY0lzTHRyQ2FjaGVkPSEwLG8uRG9tVXRpbC5fZG9jSXNMdHI9XCJsdHJcIj09PW8uRG9tVXRpbC5nZXRTdHlsZShlLmJvZHksXCJkaXJlY3Rpb25cIikpLG8uRG9tVXRpbC5fZG9jSXNMdHJ9LGNyZWF0ZTpmdW5jdGlvbih0LGksbil7dmFyIG89ZS5jcmVhdGVFbGVtZW50KHQpO3JldHVybiBvLmNsYXNzTmFtZT1pLG4mJm4uYXBwZW5kQ2hpbGQobyksb30saGFzQ2xhc3M6ZnVuY3Rpb24odCxlKXtpZih0LmNsYXNzTGlzdCE9PWkpcmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpO3ZhciBuPW8uRG9tVXRpbC5fZ2V0Q2xhc3ModCk7cmV0dXJuIG4ubGVuZ3RoPjAmJm5ldyBSZWdFeHAoXCIoXnxcXFxccylcIitlK1wiKFxcXFxzfCQpXCIpLnRlc3Qobil9LGFkZENsYXNzOmZ1bmN0aW9uKHQsZSl7aWYodC5jbGFzc0xpc3QhPT1pKWZvcih2YXIgbj1vLlV0aWwuc3BsaXRXb3JkcyhlKSxzPTAsYT1uLmxlbmd0aDthPnM7cysrKXQuY2xhc3NMaXN0LmFkZChuW3NdKTtlbHNlIGlmKCFvLkRvbVV0aWwuaGFzQ2xhc3ModCxlKSl7dmFyIHI9by5Eb21VdGlsLl9nZXRDbGFzcyh0KTtvLkRvbVV0aWwuX3NldENsYXNzKHQsKHI/citcIiBcIjpcIlwiKStlKX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc0xpc3QhPT1pP3QuY2xhc3NMaXN0LnJlbW92ZShlKTpvLkRvbVV0aWwuX3NldENsYXNzKHQsby5VdGlsLnRyaW0oKFwiIFwiK28uRG9tVXRpbC5fZ2V0Q2xhc3ModCkrXCIgXCIpLnJlcGxhY2UoXCIgXCIrZStcIiBcIixcIiBcIikpKX0sX3NldENsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc05hbWUuYmFzZVZhbD09PWk/dC5jbGFzc05hbWU9ZTp0LmNsYXNzTmFtZS5iYXNlVmFsPWV9LF9nZXRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGFzc05hbWUuYmFzZVZhbD09PWk/dC5jbGFzc05hbWU6dC5jbGFzc05hbWUuYmFzZVZhbH0sc2V0T3BhY2l0eTpmdW5jdGlvbih0LGUpe2lmKFwib3BhY2l0eVwiaW4gdC5zdHlsZSl0LnN0eWxlLm9wYWNpdHk9ZTtlbHNlIGlmKFwiZmlsdGVyXCJpbiB0LnN0eWxlKXt2YXIgaT0hMSxuPVwiRFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFcIjt0cnl7aT10LmZpbHRlcnMuaXRlbShuKX1jYXRjaChvKXtpZigxPT09ZSlyZXR1cm59ZT1NYXRoLnJvdW5kKDEwMCplKSxpPyhpLkVuYWJsZWQ9MTAwIT09ZSxpLk9wYWNpdHk9ZSk6dC5zdHlsZS5maWx0ZXIrPVwiIHByb2dpZDpcIituK1wiKG9wYWNpdHk9XCIrZStcIilcIn19LHRlc3RQcm9wOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1lLmRvY3VtZW50RWxlbWVudC5zdHlsZSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXWluIGkpcmV0dXJuIHRbbl07cmV0dXJuITF9LGdldFRyYW5zbGF0ZVN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT1vLkJyb3dzZXIud2Via2l0M2QsaT1cInRyYW5zbGF0ZVwiKyhlP1wiM2RcIjpcIlwiKStcIihcIixuPShlP1wiLDBcIjpcIlwiKStcIilcIjtyZXR1cm4gaSt0LngrXCJweCxcIit0LnkrXCJweFwiK259LGdldFNjYWxlU3RyaW5nOmZ1bmN0aW9uKHQsZSl7dmFyIGk9by5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhlLmFkZChlLm11bHRpcGx5QnkoLTEqdCkpKSxuPVwiIHNjYWxlKFwiK3QrXCIpIFwiO3JldHVybiBpK259LHNldFBvc2l0aW9uOmZ1bmN0aW9uKHQsZSxpKXt0Ll9sZWFmbGV0X3Bvcz1lLCFpJiZvLkJyb3dzZXIuYW55M2Q/dC5zdHlsZVtvLkRvbVV0aWwuVFJBTlNGT1JNXT1vLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGUpOih0LnN0eWxlLmxlZnQ9ZS54K1wicHhcIix0LnN0eWxlLnRvcD1lLnkrXCJweFwiKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQuX2xlYWZsZXRfcG9zfX0sby5Eb21VdGlsLlRSQU5TRk9STT1vLkRvbVV0aWwudGVzdFByb3AoW1widHJhbnNmb3JtXCIsXCJXZWJraXRUcmFuc2Zvcm1cIixcIk9UcmFuc2Zvcm1cIixcIk1velRyYW5zZm9ybVwiLFwibXNUcmFuc2Zvcm1cIl0pLG8uRG9tVXRpbC5UUkFOU0lUSU9OPW8uRG9tVXRpbC50ZXN0UHJvcChbXCJ3ZWJraXRUcmFuc2l0aW9uXCIsXCJ0cmFuc2l0aW9uXCIsXCJPVHJhbnNpdGlvblwiLFwiTW96VHJhbnNpdGlvblwiLFwibXNUcmFuc2l0aW9uXCJdKSxvLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQ9XCJ3ZWJraXRUcmFuc2l0aW9uXCI9PT1vLkRvbVV0aWwuVFJBTlNJVElPTnx8XCJPVHJhbnNpdGlvblwiPT09by5Eb21VdGlsLlRSQU5TSVRJT04/by5Eb21VdGlsLlRSQU5TSVRJT04rXCJFbmRcIjpcInRyYW5zaXRpb25lbmRcIixmdW5jdGlvbigpe2lmKFwib25zZWxlY3RzdGFydFwiaW4gZSlvLmV4dGVuZChvLkRvbVV0aWwse2Rpc2FibGVUZXh0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbih0LFwic2VsZWN0c3RhcnRcIixvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KX0sZW5hYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHQsXCJzZWxlY3RzdGFydFwiLG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQpfX0pO2Vsc2V7dmFyIGk9by5Eb21VdGlsLnRlc3RQcm9wKFtcInVzZXJTZWxlY3RcIixcIldlYmtpdFVzZXJTZWxlY3RcIixcIk9Vc2VyU2VsZWN0XCIsXCJNb3pVc2VyU2VsZWN0XCIsXCJtc1VzZXJTZWxlY3RcIl0pO28uZXh0ZW5kKG8uRG9tVXRpbCx7ZGlzYWJsZVRleHRTZWxlY3Rpb246ZnVuY3Rpb24oKXtpZihpKXt2YXIgdD1lLmRvY3VtZW50RWxlbWVudC5zdHlsZTt0aGlzLl91c2VyU2VsZWN0PXRbaV0sdFtpXT1cIm5vbmVcIn19LGVuYWJsZVRleHRTZWxlY3Rpb246ZnVuY3Rpb24oKXtpJiYoZS5kb2N1bWVudEVsZW1lbnQuc3R5bGVbaV09dGhpcy5fdXNlclNlbGVjdCxkZWxldGUgdGhpcy5fdXNlclNlbGVjdCl9fSl9by5leHRlbmQoby5Eb21VdGlsLHtkaXNhYmxlSW1hZ2VEcmFnOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbih0LFwiZHJhZ3N0YXJ0XCIsby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9LGVuYWJsZUltYWdlRHJhZzpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHQsXCJkcmFnc3RhcnRcIixvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KX19KX0oKSxvLkxhdExuZz1mdW5jdGlvbih0LGUsbil7aWYodD1wYXJzZUZsb2F0KHQpLGU9cGFyc2VGbG9hdChlKSxpc05hTih0KXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBMYXRMbmcgb2JqZWN0OiAoXCIrdCtcIiwgXCIrZStcIilcIik7dGhpcy5sYXQ9dCx0aGlzLmxuZz1lLG4hPT1pJiYodGhpcy5hbHQ9cGFyc2VGbG9hdChuKSl9LG8uZXh0ZW5kKG8uTGF0TG5nLHtERUdfVE9fUkFEOk1hdGguUEkvMTgwLFJBRF9UT19ERUc6MTgwL01hdGguUEksTUFYX01BUkdJTjoxZS05fSksby5MYXRMbmcucHJvdG90eXBlPXtlcXVhbHM6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuITE7dD1vLmxhdExuZyh0KTt2YXIgZT1NYXRoLm1heChNYXRoLmFicyh0aGlzLmxhdC10LmxhdCksTWF0aC5hYnModGhpcy5sbmctdC5sbmcpKTtyZXR1cm4gZTw9by5MYXRMbmcuTUFYX01BUkdJTn0sdG9TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuXCJMYXRMbmcoXCIrby5VdGlsLmZvcm1hdE51bSh0aGlzLmxhdCx0KStcIiwgXCIrby5VdGlsLmZvcm1hdE51bSh0aGlzLmxuZyx0KStcIilcIn0sZGlzdGFuY2VUbzpmdW5jdGlvbih0KXt0PW8ubGF0TG5nKHQpO3ZhciBlPTYzNzgxMzcsaT1vLkxhdExuZy5ERUdfVE9fUkFELG49KHQubGF0LXRoaXMubGF0KSppLHM9KHQubG5nLXRoaXMubG5nKSppLGE9dGhpcy5sYXQqaSxyPXQubGF0KmksaD1NYXRoLnNpbihuLzIpLGw9TWF0aC5zaW4ocy8yKSx1PWgqaCtsKmwqTWF0aC5jb3MoYSkqTWF0aC5jb3Mocik7cmV0dXJuIDIqZSpNYXRoLmF0YW4yKE1hdGguc3FydCh1KSxNYXRoLnNxcnQoMS11KSl9LHdyYXA6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmxuZztyZXR1cm4gdD10fHwtMTgwLGU9ZXx8MTgwLGk9KGkrZSklKGUtdCkrKHQ+aXx8aT09PWU/ZTp0KSxuZXcgby5MYXRMbmcodGhpcy5sYXQsaSl9fSxvLmxhdExuZz1mdW5jdGlvbih0LGUpe3JldHVybiB0IGluc3RhbmNlb2Ygby5MYXRMbmc/dDpvLlV0aWwuaXNBcnJheSh0KT9cIm51bWJlclwiPT10eXBlb2YgdFswXXx8XCJzdHJpbmdcIj09dHlwZW9mIHRbMF0/bmV3IG8uTGF0TG5nKHRbMF0sdFsxXSx0WzJdKTpudWxsOnQ9PT1pfHxudWxsPT09dD90Olwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImxhdFwiaW4gdD9uZXcgby5MYXRMbmcodC5sYXQsXCJsbmdcImluIHQ/dC5sbmc6dC5sb24pOmU9PT1pP251bGw6bmV3IG8uTGF0TG5nKHQsZSl9LG8uTGF0TG5nQm91bmRzPWZ1bmN0aW9uKHQsZSl7aWYodClmb3IodmFyIGk9ZT9bdCxlXTp0LG49MCxvPWkubGVuZ3RoO28+bjtuKyspdGhpcy5leHRlbmQoaVtuXSl9LG8uTGF0TG5nQm91bmRzLnByb3RvdHlwZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciBlPW8ubGF0TG5nKHQpO3JldHVybiB0PW51bGwhPT1lP2U6by5sYXRMbmdCb3VuZHModCksdCBpbnN0YW5jZW9mIG8uTGF0TG5nP3RoaXMuX3NvdXRoV2VzdHx8dGhpcy5fbm9ydGhFYXN0Pyh0aGlzLl9zb3V0aFdlc3QubGF0PU1hdGgubWluKHQubGF0LHRoaXMuX3NvdXRoV2VzdC5sYXQpLHRoaXMuX3NvdXRoV2VzdC5sbmc9TWF0aC5taW4odC5sbmcsdGhpcy5fc291dGhXZXN0LmxuZyksdGhpcy5fbm9ydGhFYXN0LmxhdD1NYXRoLm1heCh0LmxhdCx0aGlzLl9ub3J0aEVhc3QubGF0KSx0aGlzLl9ub3J0aEVhc3QubG5nPU1hdGgubWF4KHQubG5nLHRoaXMuX25vcnRoRWFzdC5sbmcpKToodGhpcy5fc291dGhXZXN0PW5ldyBvLkxhdExuZyh0LmxhdCx0LmxuZyksdGhpcy5fbm9ydGhFYXN0PW5ldyBvLkxhdExuZyh0LmxhdCx0LmxuZykpOnQgaW5zdGFuY2VvZiBvLkxhdExuZ0JvdW5kcyYmKHRoaXMuZXh0ZW5kKHQuX3NvdXRoV2VzdCksdGhpcy5leHRlbmQodC5fbm9ydGhFYXN0KSksdGhpc30scGFkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NvdXRoV2VzdCxpPXRoaXMuX25vcnRoRWFzdCxuPU1hdGguYWJzKGUubGF0LWkubGF0KSp0LHM9TWF0aC5hYnMoZS5sbmctaS5sbmcpKnQ7cmV0dXJuIG5ldyBvLkxhdExuZ0JvdW5kcyhuZXcgby5MYXRMbmcoZS5sYXQtbixlLmxuZy1zKSxuZXcgby5MYXRMbmcoaS5sYXQrbixpLmxuZytzKSl9LGdldENlbnRlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgby5MYXRMbmcoKHRoaXMuX3NvdXRoV2VzdC5sYXQrdGhpcy5fbm9ydGhFYXN0LmxhdCkvMiwodGhpcy5fc291dGhXZXN0LmxuZyt0aGlzLl9ub3J0aEVhc3QubG5nKS8yKX0sZ2V0U291dGhXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXRoV2VzdH0sZ2V0Tm9ydGhFYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcnRoRWFzdH0sZ2V0Tm9ydGhXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLkxhdExuZyh0aGlzLmdldE5vcnRoKCksdGhpcy5nZXRXZXN0KCkpfSxnZXRTb3V0aEVhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8uTGF0TG5nKHRoaXMuZ2V0U291dGgoKSx0aGlzLmdldEVhc3QoKSl9LGdldFdlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxuZ30sZ2V0U291dGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxhdH0sZ2V0RWFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3QubG5nfSxnZXROb3J0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3QubGF0fSxjb250YWluczpmdW5jdGlvbih0KXt0PVwibnVtYmVyXCI9PXR5cGVvZiB0WzBdfHx0IGluc3RhbmNlb2Ygby5MYXRMbmc/by5sYXRMbmcodCk6by5sYXRMbmdCb3VuZHModCk7dmFyIGUsaSxuPXRoaXMuX3NvdXRoV2VzdCxzPXRoaXMuX25vcnRoRWFzdDtyZXR1cm4gdCBpbnN0YW5jZW9mIG8uTGF0TG5nQm91bmRzPyhlPXQuZ2V0U291dGhXZXN0KCksaT10LmdldE5vcnRoRWFzdCgpKTplPWk9dCxlLmxhdD49bi5sYXQmJmkubGF0PD1zLmxhdCYmZS5sbmc+PW4ubG5nJiZpLmxuZzw9cy5sbmd9LGludGVyc2VjdHM6ZnVuY3Rpb24odCl7dD1vLmxhdExuZ0JvdW5kcyh0KTt2YXIgZT10aGlzLl9zb3V0aFdlc3QsaT10aGlzLl9ub3J0aEVhc3Qsbj10LmdldFNvdXRoV2VzdCgpLHM9dC5nZXROb3J0aEVhc3QoKSxhPXMubGF0Pj1lLmxhdCYmbi5sYXQ8PWkubGF0LHI9cy5sbmc+PWUubG5nJiZuLmxuZzw9aS5sbmc7cmV0dXJuIGEmJnJ9LHRvQkJveFN0cmluZzpmdW5jdGlvbigpe3JldHVyblt0aGlzLmdldFdlc3QoKSx0aGlzLmdldFNvdXRoKCksdGhpcy5nZXRFYXN0KCksdGhpcy5nZXROb3J0aCgpXS5qb2luKFwiLFwiKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0PW8ubGF0TG5nQm91bmRzKHQpLHRoaXMuX3NvdXRoV2VzdC5lcXVhbHModC5nZXRTb3V0aFdlc3QoKSkmJnRoaXMuX25vcnRoRWFzdC5lcXVhbHModC5nZXROb3J0aEVhc3QoKSkpOiExfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5fc291dGhXZXN0fHwhdGhpcy5fbm9ydGhFYXN0KX19LG8ubGF0TG5nQm91bmRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIXR8fHQgaW5zdGFuY2VvZiBvLkxhdExuZ0JvdW5kcz90Om5ldyBvLkxhdExuZ0JvdW5kcyh0LGUpfSxvLlByb2plY3Rpb249e30sby5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yPXtNQVhfTEFUSVRVREU6ODUuMDUxMTI4Nzc5OCxwcm9qZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPW8uTGF0TG5nLkRFR19UT19SQUQsaT10aGlzLk1BWF9MQVRJVFVERSxuPU1hdGgubWF4KE1hdGgubWluKGksdC5sYXQpLC1pKSxzPXQubG5nKmUsYT1uKmU7cmV0dXJuIGE9TWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2EvMikpLG5ldyBvLlBvaW50KHMsYSl9LHVucHJvamVjdDpmdW5jdGlvbih0KXt2YXIgZT1vLkxhdExuZy5SQURfVE9fREVHLGk9dC54KmUsbj0oMipNYXRoLmF0YW4oTWF0aC5leHAodC55KSktTWF0aC5QSS8yKSplO3JldHVybiBuZXcgby5MYXRMbmcobixpKX19LG8uUHJvamVjdGlvbi5Mb25MYXQ9e3Byb2plY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLlBvaW50KHQubG5nLHQubGF0KX0sdW5wcm9qZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5MYXRMbmcodC55LHQueCl9fSxvLkNSUz17bGF0TG5nVG9Qb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQpLG49dGhpcy5zY2FsZShlKTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1hdGlvbi5fdHJhbnNmb3JtKGksbil9LHBvaW50VG9MYXRMbmc6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnNjYWxlKGUpLG49dGhpcy50cmFuc2Zvcm1hdGlvbi51bnRyYW5zZm9ybSh0LGkpO3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KG4pfSxwcm9qZWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucHJvamVjdCh0KX0sc2NhbGU6ZnVuY3Rpb24odCl7cmV0dXJuIDI1NipNYXRoLnBvdygyLHQpfSxnZXRTaXplOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2NhbGUodCk7cmV0dXJuIG8ucG9pbnQoZSxlKX19LG8uQ1JTLlNpbXBsZT1vLmV4dGVuZCh7fSxvLkNSUyx7cHJvamVjdGlvbjpvLlByb2plY3Rpb24uTG9uTGF0LHRyYW5zZm9ybWF0aW9uOm5ldyBvLlRyYW5zZm9ybWF0aW9uKDEsMCwtMSwwKSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3coMix0KX19KSxvLkNSUy5FUFNHMzg1Nz1vLmV4dGVuZCh7fSxvLkNSUyx7Y29kZTpcIkVQU0c6Mzg1N1wiLHByb2plY3Rpb246by5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yLHRyYW5zZm9ybWF0aW9uOm5ldyBvLlRyYW5zZm9ybWF0aW9uKC41L01hdGguUEksLjUsLS41L01hdGguUEksLjUpLHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodCksaT02Mzc4MTM3O3JldHVybiBlLm11bHRpcGx5QnkoaSl9fSksby5DUlMuRVBTRzkwMDkxMz1vLmV4dGVuZCh7fSxvLkNSUy5FUFNHMzg1Nyx7Y29kZTpcIkVQU0c6OTAwOTEzXCJ9KSxvLkNSUy5FUFNHNDMyNj1vLmV4dGVuZCh7fSxvLkNSUyx7Y29kZTpcIkVQU0c6NDMyNlwiLHByb2plY3Rpb246by5Qcm9qZWN0aW9uLkxvbkxhdCx0cmFuc2Zvcm1hdGlvbjpuZXcgby5UcmFuc2Zvcm1hdGlvbigxLzM2MCwuNSwtMS8zNjAsLjUpfSksby5NYXA9by5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm8uTWl4aW4uRXZlbnRzLG9wdGlvbnM6e2NyczpvLkNSUy5FUFNHMzg1NyxmYWRlQW5pbWF0aW9uOm8uRG9tVXRpbC5UUkFOU0lUSU9OJiYhby5Ccm93c2VyLmFuZHJvaWQyMyx0cmFja1Jlc2l6ZTohMCxtYXJrZXJab29tQW5pbWF0aW9uOm8uRG9tVXRpbC5UUkFOU0lUSU9OJiZvLkJyb3dzZXIuYW55M2R9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtlPW8uc2V0T3B0aW9ucyh0aGlzLGUpLHRoaXMuX2luaXRDb250YWluZXIodCksdGhpcy5faW5pdExheW91dCgpLHRoaXMuX29uUmVzaXplPW8uYmluZCh0aGlzLl9vblJlc2l6ZSx0aGlzKSx0aGlzLl9pbml0RXZlbnRzKCksZS5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKGUubWF4Qm91bmRzKSxlLmNlbnRlciYmZS56b29tIT09aSYmdGhpcy5zZXRWaWV3KG8ubGF0TG5nKGUuY2VudGVyKSxlLnpvb20se3Jlc2V0OiEwfSksdGhpcy5faGFuZGxlcnM9W10sdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3pvb21Cb3VuZExheWVycz17fSx0aGlzLl90aWxlTGF5ZXJzTnVtPTAsdGhpcy5jYWxsSW5pdEhvb2tzKCksdGhpcy5fYWRkTGF5ZXJzKGUubGF5ZXJzKX0sc2V0VmlldzpmdW5jdGlvbih0LGUpe3JldHVybiBlPWU9PT1pP3RoaXMuZ2V0Wm9vbSgpOmUsdGhpcy5fcmVzZXRWaWV3KG8ubGF0TG5nKHQpLHRoaXMuX2xpbWl0Wm9vbShlKSksdGhpc30sc2V0Wm9vbTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9sb2FkZWQ/dGhpcy5zZXRWaWV3KHRoaXMuZ2V0Q2VudGVyKCksdCx7em9vbTplfSk6KHRoaXMuX3pvb209dGhpcy5fbGltaXRab29tKHQpLHRoaXMpfSx6b29tSW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20rKHR8fDEpLGUpfSx6b29tT3V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLl96b29tLSh0fHwxKSxlKX0sc2V0Wm9vbUFyb3VuZDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5nZXRab29tU2NhbGUoZSkscz10aGlzLmdldFNpemUoKS5kaXZpZGVCeSgyKSxhPXQgaW5zdGFuY2VvZiBvLlBvaW50P3Q6dGhpcy5sYXRMbmdUb0NvbnRhaW5lclBvaW50KHQpLHI9YS5zdWJ0cmFjdChzKS5tdWx0aXBseUJ5KDEtMS9uKSxoPXRoaXMuY29udGFpbmVyUG9pbnRUb0xhdExuZyhzLmFkZChyKSk7cmV0dXJuIHRoaXMuc2V0VmlldyhoLGUse3pvb206aX0pfSxmaXRCb3VuZHM6ZnVuY3Rpb24odCxlKXtlPWV8fHt9LHQ9dC5nZXRCb3VuZHM/dC5nZXRCb3VuZHMoKTpvLmxhdExuZ0JvdW5kcyh0KTt2YXIgaT1vLnBvaW50KGUucGFkZGluZ1RvcExlZnR8fGUucGFkZGluZ3x8WzAsMF0pLG49by5wb2ludChlLnBhZGRpbmdCb3R0b21SaWdodHx8ZS5wYWRkaW5nfHxbMCwwXSkscz10aGlzLmdldEJvdW5kc1pvb20odCwhMSxpLmFkZChuKSk7cz1lLm1heFpvb20/TWF0aC5taW4oZS5tYXhab29tLHMpOnM7dmFyIGE9bi5zdWJ0cmFjdChpKS5kaXZpZGVCeSgyKSxyPXRoaXMucHJvamVjdCh0LmdldFNvdXRoV2VzdCgpLHMpLGg9dGhpcy5wcm9qZWN0KHQuZ2V0Tm9ydGhFYXN0KCkscyksbD10aGlzLnVucHJvamVjdChyLmFkZChoKS5kaXZpZGVCeSgyKS5hZGQoYSkscyk7cmV0dXJuIHRoaXMuc2V0VmlldyhsLHMsZSl9LGZpdFdvcmxkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpdEJvdW5kcyhbWy05MCwtMTgwXSxbOTAsMTgwXV0sdCl9LHBhblRvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0Vmlldyh0LHRoaXMuX3pvb20se3BhbjplfSl9LHBhbkJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpcmUoXCJtb3Zlc3RhcnRcIiksdGhpcy5fcmF3UGFuQnkoby5wb2ludCh0KSksdGhpcy5maXJlKFwibW92ZVwiKSx0aGlzLmZpcmUoXCJtb3ZlZW5kXCIpfSxzZXRNYXhCb3VuZHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9by5sYXRMbmdCb3VuZHModCksdGhpcy5vcHRpb25zLm1heEJvdW5kcz10LHQ/KHRoaXMuX2xvYWRlZCYmdGhpcy5fcGFuSW5zaWRlTWF4Qm91bmRzKCksdGhpcy5vbihcIm1vdmVlbmRcIix0aGlzLl9wYW5JbnNpZGVNYXhCb3VuZHMsdGhpcykpOnRoaXMub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyx0aGlzKX0scGFuSW5zaWRlQm91bmRzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRDZW50ZXIoKSxuPXRoaXMuX2xpbWl0Q2VudGVyKGksdGhpcy5fem9vbSx0KTtyZXR1cm4gaS5lcXVhbHMobik/dGhpczp0aGlzLnBhblRvKG4sZSl9LGFkZExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPW8uc3RhbXAodCk7cmV0dXJuIHRoaXMuX2xheWVyc1tlXT90aGlzOih0aGlzLl9sYXllcnNbZV09dCwhdC5vcHRpb25zfHxpc05hTih0Lm9wdGlvbnMubWF4Wm9vbSkmJmlzTmFOKHQub3B0aW9ucy5taW5ab29tKXx8KHRoaXMuX3pvb21Cb3VuZExheWVyc1tlXT10LHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSksdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJm8uVGlsZUxheWVyJiZ0IGluc3RhbmNlb2Ygby5UaWxlTGF5ZXImJih0aGlzLl90aWxlTGF5ZXJzTnVtKyssdGhpcy5fdGlsZUxheWVyc1RvTG9hZCsrLHQub24oXCJsb2FkXCIsdGhpcy5fb25UaWxlTGF5ZXJMb2FkLHRoaXMpKSx0aGlzLl9sb2FkZWQmJnRoaXMuX2xheWVyQWRkKHQpLHRoaXMpfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT1vLnN0YW1wKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV0/KHRoaXMuX2xvYWRlZCYmdC5vblJlbW92ZSh0aGlzKSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdLHRoaXMuX2xvYWRlZCYmdGhpcy5maXJlKFwibGF5ZXJyZW1vdmVcIix7bGF5ZXI6dH0pLHRoaXMuX3pvb21Cb3VuZExheWVyc1tlXSYmKGRlbGV0ZSB0aGlzLl96b29tQm91bmRMYXllcnNbZV0sdGhpcy5fdXBkYXRlWm9vbUxldmVscygpKSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmby5UaWxlTGF5ZXImJnQgaW5zdGFuY2VvZiBvLlRpbGVMYXllciYmKHRoaXMuX3RpbGVMYXllcnNOdW0tLSx0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkLS0sdC5vZmYoXCJsb2FkXCIsdGhpcy5fb25UaWxlTGF5ZXJMb2FkLHRoaXMpKSx0aGlzKTp0aGlzfSxoYXNMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdD9vLnN0YW1wKHQpaW4gdGhpcy5fbGF5ZXJzOiExfSxlYWNoTGF5ZXI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKXQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSk7cmV0dXJuIHRoaXN9LGludmFsaWRhdGVTaXplOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuIHRoaXM7dD1vLmV4dGVuZCh7YW5pbWF0ZTohMSxwYW46ITB9LHQ9PT0hMD97YW5pbWF0ZTohMH06dCk7dmFyIGU9dGhpcy5nZXRTaXplKCk7dGhpcy5fc2l6ZUNoYW5nZWQ9ITAsdGhpcy5faW5pdGlhbENlbnRlcj1udWxsO3ZhciBpPXRoaXMuZ2V0U2l6ZSgpLG49ZS5kaXZpZGVCeSgyKS5yb3VuZCgpLHM9aS5kaXZpZGVCeSgyKS5yb3VuZCgpLGE9bi5zdWJ0cmFjdChzKTtyZXR1cm4gYS54fHxhLnk/KHQuYW5pbWF0ZSYmdC5wYW4/dGhpcy5wYW5CeShhKToodC5wYW4mJnRoaXMuX3Jhd1BhbkJ5KGEpLHRoaXMuZmlyZShcIm1vdmVcIiksdC5kZWJvdW5jZU1vdmVlbmQ/KGNsZWFyVGltZW91dCh0aGlzLl9zaXplVGltZXIpLHRoaXMuX3NpemVUaW1lcj1zZXRUaW1lb3V0KG8uYmluZCh0aGlzLmZpcmUsdGhpcyxcIm1vdmVlbmRcIiksMjAwKSk6dGhpcy5maXJlKFwibW92ZWVuZFwiKSksdGhpcy5maXJlKFwicmVzaXplXCIse29sZFNpemU6ZSxuZXdTaXplOml9KSk6dGhpc30sYWRkSGFuZGxlcjpmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0aGlzO3ZhciBpPXRoaXNbdF09bmV3IGUodGhpcyk7cmV0dXJuIHRoaXMuX2hhbmRsZXJzLnB1c2goaSksdGhpcy5vcHRpb25zW3RdJiZpLmVuYWJsZSgpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuX2xvYWRlZCYmdGhpcy5maXJlKFwidW5sb2FkXCIpLHRoaXMuX2luaXRFdmVudHMoXCJvZmZcIik7dHJ5e2RlbGV0ZSB0aGlzLl9jb250YWluZXIuX2xlYWZsZXR9Y2F0Y2godCl7dGhpcy5fY29udGFpbmVyLl9sZWFmbGV0PWl9cmV0dXJuIHRoaXMuX2NsZWFyUGFuZXMoKSx0aGlzLl9jbGVhckNvbnRyb2xQb3MmJnRoaXMuX2NsZWFyQ29udHJvbFBvcygpLHRoaXMuX2NsZWFySGFuZGxlcnMoKSx0aGlzfSxnZXRDZW50ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hlY2tJZkxvYWRlZCgpLHRoaXMuX2luaXRpYWxDZW50ZXImJiF0aGlzLl9tb3ZlZCgpP3RoaXMuX2luaXRpYWxDZW50ZXI6dGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKX0sZ2V0Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl96b29tfSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFBpeGVsQm91bmRzKCksZT10aGlzLnVucHJvamVjdCh0LmdldEJvdHRvbUxlZnQoKSksaT10aGlzLnVucHJvamVjdCh0LmdldFRvcFJpZ2h0KCkpO3JldHVybiBuZXcgby5MYXRMbmdCb3VuZHMoZSxpKX0sZ2V0TWluWm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWluWm9vbT09PWk/dGhpcy5fbGF5ZXJzTWluWm9vbT09PWk/MDp0aGlzLl9sYXllcnNNaW5ab29tOnRoaXMub3B0aW9ucy5taW5ab29tfSxnZXRNYXhab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhab29tPT09aT90aGlzLl9sYXllcnNNYXhab29tPT09aT8xLzA6dGhpcy5fbGF5ZXJzTWF4Wm9vbTp0aGlzLm9wdGlvbnMubWF4Wm9vbX0sZ2V0Qm91bmRzWm9vbTpmdW5jdGlvbih0LGUsaSl7dD1vLmxhdExuZ0JvdW5kcyh0KTt2YXIgbixzPXRoaXMuZ2V0TWluWm9vbSgpLShlPzE6MCksYT10aGlzLmdldE1heFpvb20oKSxyPXRoaXMuZ2V0U2l6ZSgpLGg9dC5nZXROb3J0aFdlc3QoKSxsPXQuZ2V0U291dGhFYXN0KCksdT0hMDtpPW8ucG9pbnQoaXx8WzAsMF0pO2RvIHMrKyxuPXRoaXMucHJvamVjdChsLHMpLnN1YnRyYWN0KHRoaXMucHJvamVjdChoLHMpKS5hZGQoaSksdT1lP24ueDxyLnh8fG4ueTxyLnk6ci5jb250YWlucyhuKTt3aGlsZSh1JiZhPj1zKTtyZXR1cm4gdSYmZT9udWxsOmU/czpzLTF9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4oIXRoaXMuX3NpemV8fHRoaXMuX3NpemVDaGFuZ2VkKSYmKHRoaXMuX3NpemU9bmV3IG8uUG9pbnQodGhpcy5fY29udGFpbmVyLmNsaWVudFdpZHRoLHRoaXMuX2NvbnRhaW5lci5jbGllbnRIZWlnaHQpLHRoaXMuX3NpemVDaGFuZ2VkPSExKSx0aGlzLl9zaXplLmNsb25lKCl9LGdldFBpeGVsQm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0VG9wTGVmdFBvaW50KCk7cmV0dXJuIG5ldyBvLkJvdW5kcyh0LHQuYWRkKHRoaXMuZ2V0U2l6ZSgpKSl9LGdldFBpeGVsT3JpZ2luOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrSWZMb2FkZWQoKSx0aGlzLl9pbml0aWFsVG9wTGVmdFBvaW50fSxnZXRQYW5lczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYW5lc30sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sZ2V0Wm9vbVNjYWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5jcnM7cmV0dXJuIGUuc2NhbGUodCkvZS5zY2FsZSh0aGlzLl96b29tKX0sZ2V0U2NhbGVab29tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl96b29tK01hdGgubG9nKHQpL01hdGguTE4yfSxwcm9qZWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZT09PWk/dGhpcy5fem9vbTplLHRoaXMub3B0aW9ucy5jcnMubGF0TG5nVG9Qb2ludChvLmxhdExuZyh0KSxlKX0sdW5wcm9qZWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZT09PWk/dGhpcy5fem9vbTplLHRoaXMub3B0aW9ucy5jcnMucG9pbnRUb0xhdExuZyhvLnBvaW50KHQpLGUpfSxsYXllclBvaW50VG9MYXRMbmc6ZnVuY3Rpb24odCl7dmFyIGU9by5wb2ludCh0KS5hZGQodGhpcy5nZXRQaXhlbE9yaWdpbigpKTtyZXR1cm4gdGhpcy51bnByb2plY3QoZSl9LGxhdExuZ1RvTGF5ZXJQb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb2plY3Qoby5sYXRMbmcodCkpLl9yb3VuZCgpO3JldHVybiBlLl9zdWJ0cmFjdCh0aGlzLmdldFBpeGVsT3JpZ2luKCkpfSxjb250YWluZXJQb2ludFRvTGF5ZXJQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gby5wb2ludCh0KS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpfSxsYXllclBvaW50VG9Db250YWluZXJQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gby5wb2ludCh0KS5hZGQodGhpcy5fZ2V0TWFwUGFuZVBvcygpKX0sY29udGFpbmVyUG9pbnRUb0xhdExuZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KG8ucG9pbnQodCkpO3JldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyhlKX0sbGF0TG5nVG9Db250YWluZXJQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXllclBvaW50VG9Db250YWluZXJQb2ludCh0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludChvLmxhdExuZyh0KSkpfSxtb3VzZUV2ZW50VG9Db250YWluZXJQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gby5Eb21FdmVudC5nZXRNb3VzZVBvc2l0aW9uKHQsdGhpcy5fY29udGFpbmVyKX0sbW91c2VFdmVudFRvTGF5ZXJQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0aGlzLm1vdXNlRXZlbnRUb0NvbnRhaW5lclBvaW50KHQpKX0sbW91c2VFdmVudFRvTGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxheWVyUG9pbnRUb0xhdExuZyh0aGlzLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodCkpfSxfaW5pdENvbnRhaW5lcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jb250YWluZXI9by5Eb21VdGlsLmdldCh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJNYXAgY29udGFpbmVyIG5vdCBmb3VuZC5cIik7aWYoZS5fbGVhZmxldCl0aHJvdyBuZXcgRXJyb3IoXCJNYXAgY29udGFpbmVyIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO2UuX2xlYWZsZXQ9ITB9LF9pbml0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyO28uRG9tVXRpbC5hZGRDbGFzcyh0LFwibGVhZmxldC1jb250YWluZXJcIisoby5Ccm93c2VyLnRvdWNoP1wiIGxlYWZsZXQtdG91Y2hcIjpcIlwiKSsoby5Ccm93c2VyLnJldGluYT9cIiBsZWFmbGV0LXJldGluYVwiOlwiXCIpKyhvLkJyb3dzZXIuaWVsdDk/XCIgbGVhZmxldC1vbGRpZVwiOlwiXCIpKyh0aGlzLm9wdGlvbnMuZmFkZUFuaW1hdGlvbj9cIiBsZWFmbGV0LWZhZGUtYW5pbVwiOlwiXCIpKTt2YXIgZT1vLkRvbVV0aWwuZ2V0U3R5bGUodCxcInBvc2l0aW9uXCIpO1wiYWJzb2x1dGVcIiE9PWUmJlwicmVsYXRpdmVcIiE9PWUmJlwiZml4ZWRcIiE9PWUmJih0LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksdGhpcy5faW5pdFBhbmVzKCksdGhpcy5faW5pdENvbnRyb2xQb3MmJnRoaXMuX2luaXRDb250cm9sUG9zKCl9LF9pbml0UGFuZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYW5lcz17fTt0aGlzLl9tYXBQYW5lPXQubWFwUGFuZT10aGlzLl9jcmVhdGVQYW5lKFwibGVhZmxldC1tYXAtcGFuZVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZVBhbmU9dC50aWxlUGFuZT10aGlzLl9jcmVhdGVQYW5lKFwibGVhZmxldC10aWxlLXBhbmVcIix0aGlzLl9tYXBQYW5lKSx0Lm9iamVjdHNQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoXCJsZWFmbGV0LW9iamVjdHMtcGFuZVwiLHRoaXMuX21hcFBhbmUpLHQuc2hhZG93UGFuZT10aGlzLl9jcmVhdGVQYW5lKFwibGVhZmxldC1zaGFkb3ctcGFuZVwiKSx0Lm92ZXJsYXlQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoXCJsZWFmbGV0LW92ZXJsYXktcGFuZVwiKSx0Lm1hcmtlclBhbmU9dGhpcy5fY3JlYXRlUGFuZShcImxlYWZsZXQtbWFya2VyLXBhbmVcIiksdC5wb3B1cFBhbmU9dGhpcy5fY3JlYXRlUGFuZShcImxlYWZsZXQtcG9wdXAtcGFuZVwiKTt2YXIgZT1cIiBsZWFmbGV0LXpvb20taGlkZVwiO3RoaXMub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9ufHwoby5Eb21VdGlsLmFkZENsYXNzKHQubWFya2VyUGFuZSxlKSxvLkRvbVV0aWwuYWRkQ2xhc3ModC5zaGFkb3dQYW5lLGUpLG8uRG9tVXRpbC5hZGRDbGFzcyh0LnBvcHVwUGFuZSxlKSl9LF9jcmVhdGVQYW5lOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIix0LGV8fHRoaXMuX3BhbmVzLm9iamVjdHNQYW5lKX0sX2NsZWFyUGFuZXM6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fbWFwUGFuZSl9LF9hZGRMYXllcnM6ZnVuY3Rpb24odCl7dD10P28uVXRpbC5pc0FycmF5KHQpP3Q6W3RdOltdO2Zvcih2YXIgZT0wLGk9dC5sZW5ndGg7aT5lO2UrKyl0aGlzLmFkZExheWVyKHRbZV0pfSxfcmVzZXRWaWV3OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBzPXRoaXMuX3pvb20hPT1lO258fCh0aGlzLmZpcmUoXCJtb3Zlc3RhcnRcIikscyYmdGhpcy5maXJlKFwiem9vbXN0YXJ0XCIpKSx0aGlzLl96b29tPWUsdGhpcy5faW5pdGlhbENlbnRlcj10LHRoaXMuX2luaXRpYWxUb3BMZWZ0UG9pbnQ9dGhpcy5fZ2V0TmV3VG9wTGVmdFBvaW50KHQpLGk/dGhpcy5faW5pdGlhbFRvcExlZnRQb2ludC5fYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSk6by5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsbmV3IG8uUG9pbnQoMCwwKSksdGhpcy5fdGlsZUxheWVyc1RvTG9hZD10aGlzLl90aWxlTGF5ZXJzTnVtO3ZhciBhPSF0aGlzLl9sb2FkZWQ7dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShcInZpZXdyZXNldFwiLHtoYXJkOiFpfSksYSYmKHRoaXMuZmlyZShcImxvYWRcIiksdGhpcy5lYWNoTGF5ZXIodGhpcy5fbGF5ZXJBZGQsdGhpcykpLHRoaXMuZmlyZShcIm1vdmVcIiksKHN8fG4pJiZ0aGlzLmZpcmUoXCJ6b29tZW5kXCIpLHRoaXMuZmlyZShcIm1vdmVlbmRcIix7aGFyZDohaX0pfSxfcmF3UGFuQnk6ZnVuY3Rpb24odCl7by5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KHQpKX0sX2dldFpvb21TcGFuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpLXRoaXMuZ2V0TWluWm9vbSgpfSxfdXBkYXRlWm9vbUxldmVsczpmdW5jdGlvbigpe3ZhciB0LGU9MS8wLG49LSgxLzApLG89dGhpcy5fZ2V0Wm9vbVNwYW4oKTtmb3IodCBpbiB0aGlzLl96b29tQm91bmRMYXllcnMpe3ZhciBzPXRoaXMuX3pvb21Cb3VuZExheWVyc1t0XTtpc05hTihzLm9wdGlvbnMubWluWm9vbSl8fChlPU1hdGgubWluKGUscy5vcHRpb25zLm1pblpvb20pKSxpc05hTihzLm9wdGlvbnMubWF4Wm9vbSl8fChuPU1hdGgubWF4KG4scy5vcHRpb25zLm1heFpvb20pKX10PT09aT90aGlzLl9sYXllcnNNYXhab29tPXRoaXMuX2xheWVyc01pblpvb209aToodGhpcy5fbGF5ZXJzTWF4Wm9vbT1uLHRoaXMuX2xheWVyc01pblpvb209ZSksbyE9PXRoaXMuX2dldFpvb21TcGFuKCkmJnRoaXMuZmlyZShcInpvb21sZXZlbHNjaGFuZ2VcIil9LF9wYW5JbnNpZGVNYXhCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLnBhbkluc2lkZUJvdW5kcyh0aGlzLm9wdGlvbnMubWF4Qm91bmRzKX0sX2NoZWNrSWZMb2FkZWQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fbG9hZGVkKXRocm93IG5ldyBFcnJvcihcIlNldCBtYXAgY2VudGVyIGFuZCB6b29tIGZpcnN0LlwiKX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oZSl7aWYoby5Eb21FdmVudCl7ZT1lfHxcIm9uXCIsby5Eb21FdmVudFtlXSh0aGlzLl9jb250YWluZXIsXCJjbGlja1wiLHRoaXMuX29uTW91c2VDbGljayx0aGlzKTt2YXIgaSxuLHM9W1wiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2V1cFwiLFwibW91c2VlbnRlclwiLFwibW91c2VsZWF2ZVwiLFwibW91c2Vtb3ZlXCIsXCJjb250ZXh0bWVudVwiXTtmb3IoaT0wLG49cy5sZW5ndGg7bj5pO2krKylvLkRvbUV2ZW50W2VdKHRoaXMuX2NvbnRhaW5lcixzW2ldLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpO3RoaXMub3B0aW9ucy50cmFja1Jlc2l6ZSYmby5Eb21FdmVudFtlXSh0LFwicmVzaXplXCIsdGhpcy5fb25SZXNpemUsdGhpcyl9fSxfb25SZXNpemU6ZnVuY3Rpb24oKXtvLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX3Jlc2l6ZVJlcXVlc3QpLHRoaXMuX3Jlc2l6ZVJlcXVlc3Q9by5VdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaXplKHtkZWJvdW5jZU1vdmVlbmQ6ITB9KX0sdGhpcywhMSx0aGlzLl9jb250YWluZXIpfSxfb25Nb3VzZUNsaWNrOmZ1bmN0aW9uKHQpeyF0aGlzLl9sb2FkZWR8fCF0Ll9zaW11bGF0ZWQmJih0aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLm1vdmVkKCl8fHRoaXMuYm94Wm9vbSYmdGhpcy5ib3hab29tLm1vdmVkKCkpfHxvLkRvbUV2ZW50Ll9za2lwcGVkKHQpfHwodGhpcy5maXJlKFwicHJlY2xpY2tcIiksdGhpcy5fZmlyZU1vdXNlRXZlbnQodCkpfSxfZmlyZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fbG9hZGVkJiYhby5Eb21FdmVudC5fc2tpcHBlZCh0KSl7dmFyIGU9dC50eXBlO2lmKGU9XCJtb3VzZWVudGVyXCI9PT1lP1wibW91c2VvdmVyXCI6XCJtb3VzZWxlYXZlXCI9PT1lP1wibW91c2VvdXRcIjplLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnMoZSkpe1wiY29udGV4dG1lbnVcIj09PWUmJm8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCk7dmFyIGk9dGhpcy5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSxuPXRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoaSkscz10aGlzLmxheWVyUG9pbnRUb0xhdExuZyhuKTt0aGlzLmZpcmUoZSx7bGF0bG5nOnMsbGF5ZXJQb2ludDpuLGNvbnRhaW5lclBvaW50Omksb3JpZ2luYWxFdmVudDp0fSl9fX0sX29uVGlsZUxheWVyTG9hZDpmdW5jdGlvbigpe3RoaXMuX3RpbGVMYXllcnNUb0xvYWQtLSx0aGlzLl90aWxlTGF5ZXJzTnVtJiYhdGhpcy5fdGlsZUxheWVyc1RvTG9hZCYmdGhpcy5maXJlKFwidGlsZWxheWVyc2xvYWRcIil9LF9jbGVhckhhbmRsZXJzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLl9oYW5kbGVycy5sZW5ndGg7ZT50O3QrKyl0aGlzLl9oYW5kbGVyc1t0XS5kaXNhYmxlKCl9LHdoZW5SZWFkeTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9sb2FkZWQ/dC5jYWxsKGV8fHRoaXMsdGhpcyk6dGhpcy5vbihcImxvYWRcIix0LGUpLHRoaXN9LF9sYXllckFkZDpmdW5jdGlvbih0KXt0Lm9uQWRkKHRoaXMpLHRoaXMuZmlyZShcImxheWVyYWRkXCIse2xheWVyOnR9KX0sX2dldE1hcFBhbmVQb3M6ZnVuY3Rpb24oKXtyZXR1cm4gby5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUpfSxfbW92ZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRNYXBQYW5lUG9zKCk7cmV0dXJuIHQmJiF0LmVxdWFscyhbMCwwXSl9LF9nZXRUb3BMZWZ0UG9pbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQaXhlbE9yaWdpbigpLnN1YnRyYWN0KHRoaXMuX2dldE1hcFBhbmVQb3MoKSl9LF9nZXROZXdUb3BMZWZ0UG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMik7cmV0dXJuIHRoaXMucHJvamVjdCh0LGUpLl9zdWJ0cmFjdChpKS5fcm91bmQoKX0sX2xhdExuZ1RvTmV3TGF5ZXJQb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fZ2V0TmV3VG9wTGVmdFBvaW50KGksZSkuYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSk7cmV0dXJuIHRoaXMucHJvamVjdCh0LGUpLl9zdWJ0cmFjdChuKX0sX2dldENlbnRlckxheWVyUG9pbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludCh0aGlzLmdldFNpemUoKS5fZGl2aWRlQnkoMikpfSxfZ2V0Q2VudGVyT2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxhdExuZ1RvTGF5ZXJQb2ludCh0KS5zdWJ0cmFjdCh0aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkpfSxfbGltaXRDZW50ZXI6ZnVuY3Rpb24odCxlLGkpe2lmKCFpKXJldHVybiB0O3ZhciBuPXRoaXMucHJvamVjdCh0LGUpLHM9dGhpcy5nZXRTaXplKCkuZGl2aWRlQnkoMiksYT1uZXcgby5Cb3VuZHMobi5zdWJ0cmFjdChzKSxuLmFkZChzKSkscj10aGlzLl9nZXRCb3VuZHNPZmZzZXQoYSxpLGUpO3JldHVybiB0aGlzLnVucHJvamVjdChuLmFkZChyKSxlKX0sX2xpbWl0T2Zmc2V0OmZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHQ7dmFyIGk9dGhpcy5nZXRQaXhlbEJvdW5kcygpLG49bmV3IG8uQm91bmRzKGkubWluLmFkZCh0KSxpLm1heC5hZGQodCkpO3JldHVybiB0LmFkZCh0aGlzLl9nZXRCb3VuZHNPZmZzZXQobixlKSl9LF9nZXRCb3VuZHNPZmZzZXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMucHJvamVjdChlLmdldE5vcnRoV2VzdCgpLGkpLnN1YnRyYWN0KHQubWluKSxzPXRoaXMucHJvamVjdChlLmdldFNvdXRoRWFzdCgpLGkpLnN1YnRyYWN0KHQubWF4KSxhPXRoaXMuX3JlYm91bmQobi54LC1zLngpLHI9dGhpcy5fcmVib3VuZChuLnksLXMueSk7cmV0dXJuIG5ldyBvLlBvaW50KGEscil9LF9yZWJvdW5kOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZT4wP01hdGgucm91bmQodC1lKS8yOk1hdGgubWF4KDAsTWF0aC5jZWlsKHQpKS1NYXRoLm1heCgwLE1hdGguZmxvb3IoZSkpfSxfbGltaXRab29tOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TWluWm9vbSgpLGk9dGhpcy5nZXRNYXhab29tKCk7cmV0dXJuIE1hdGgubWF4KGUsTWF0aC5taW4oaSx0KSl9fSksby5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uTWFwKHQsZSl9LG8uUHJvamVjdGlvbi5NZXJjYXRvcj17TUFYX0xBVElUVURFOjg1LjA4NDA1OTE1NTYsUl9NSU5PUjo2MzU2NzUyLjMxNDI0NTE3OSxSX01BSk9SOjYzNzgxMzcscHJvamVjdDpmdW5jdGlvbih0KXt2YXIgZT1vLkxhdExuZy5ERUdfVE9fUkFELGk9dGhpcy5NQVhfTEFUSVRVREUsbj1NYXRoLm1heChNYXRoLm1pbihpLHQubGF0KSwtaSkscz10aGlzLlJfTUFKT1IsYT10aGlzLlJfTUlOT1Iscj10LmxuZyplKnMsaD1uKmUsbD1hL3MsdT1NYXRoLnNxcnQoMS1sKmwpLGM9dSpNYXRoLnNpbihoKTtjPU1hdGgucG93KCgxLWMpLygxK2MpLC41KnUpO3ZhciBkPU1hdGgudGFuKC41KiguNSpNYXRoLlBJLWgpKS9jO3JldHVybiBoPS1zKk1hdGgubG9nKGQpLG5ldyBvLlBvaW50KHIsaCl9LHVucHJvamVjdDpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT1vLkxhdExuZy5SQURfVE9fREVHLG49dGhpcy5SX01BSk9SLHM9dGhpcy5SX01JTk9SLGE9dC54KmkvbixyPXMvbixoPU1hdGguc3FydCgxLXIqciksbD1NYXRoLmV4cCgtdC55L24pLHU9TWF0aC5QSS8yLTIqTWF0aC5hdGFuKGwpLGM9MTUsZD0xZS03LHA9YyxfPS4xO01hdGguYWJzKF8pPmQmJi0tcD4wOyllPWgqTWF0aC5zaW4odSksXz1NYXRoLlBJLzItMipNYXRoLmF0YW4obCpNYXRoLnBvdygoMS1lKS8oMStlKSwuNSpoKSktdSx1Kz1fO3JldHVybiBuZXcgby5MYXRMbmcodSppLGEpfX0sby5DUlMuRVBTRzMzOTU9by5leHRlbmQoe30sby5DUlMse2NvZGU6XCJFUFNHOjMzOTVcIixwcm9qZWN0aW9uOm8uUHJvamVjdGlvbi5NZXJjYXRvcixcbnRyYW5zZm9ybWF0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9by5Qcm9qZWN0aW9uLk1lcmNhdG9yLGU9dC5SX01BSk9SLGk9LjUvKE1hdGguUEkqZSk7cmV0dXJuIG5ldyBvLlRyYW5zZm9ybWF0aW9uKGksLjUsLWksLjUpfSgpfSksby5UaWxlTGF5ZXI9by5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm8uTWl4aW4uRXZlbnRzLG9wdGlvbnM6e21pblpvb206MCxtYXhab29tOjE4LHRpbGVTaXplOjI1NixzdWJkb21haW5zOlwiYWJjXCIsZXJyb3JUaWxlVXJsOlwiXCIsYXR0cmlidXRpb246XCJcIix6b29tT2Zmc2V0OjAsb3BhY2l0eToxLHVubG9hZEludmlzaWJsZVRpbGVzOm8uQnJvd3Nlci5tb2JpbGUsdXBkYXRlV2hlbklkbGU6by5Ccm93c2VyLm1vYmlsZX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe2U9by5zZXRPcHRpb25zKHRoaXMsZSksZS5kZXRlY3RSZXRpbmEmJm8uQnJvd3Nlci5yZXRpbmEmJmUubWF4Wm9vbT4wJiYoZS50aWxlU2l6ZT1NYXRoLmZsb29yKGUudGlsZVNpemUvMiksZS56b29tT2Zmc2V0KyssZS5taW5ab29tPjAmJmUubWluWm9vbS0tLHRoaXMub3B0aW9ucy5tYXhab29tLS0pLGUuYm91bmRzJiYoZS5ib3VuZHM9by5sYXRMbmdCb3VuZHMoZS5ib3VuZHMpKSx0aGlzLl91cmw9dDt2YXIgaT10aGlzLm9wdGlvbnMuc3ViZG9tYWlucztcInN0cmluZ1wiPT10eXBlb2YgaSYmKHRoaXMub3B0aW9ucy5zdWJkb21haW5zPWkuc3BsaXQoXCJcIikpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9hbmltYXRlZD10Ll96b29tQW5pbWF0ZWQsdGhpcy5faW5pdENvbnRhaW5lcigpLHQub24oe3ZpZXdyZXNldDp0aGlzLl9yZXNldCxtb3ZlZW5kOnRoaXMuX3VwZGF0ZX0sdGhpcyksdGhpcy5fYW5pbWF0ZWQmJnQub24oe3pvb21hbmltOnRoaXMuX2FuaW1hdGVab29tLHpvb21lbmQ6dGhpcy5fZW5kWm9vbUFuaW19LHRoaXMpLHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZXx8KHRoaXMuX2xpbWl0ZWRVcGRhdGU9by5VdGlsLmxpbWl0RXhlY0J5SW50ZXJ2YWwodGhpcy5fdXBkYXRlLDE1MCx0aGlzKSx0Lm9uKFwibW92ZVwiLHRoaXMuX2xpbWl0ZWRVcGRhdGUsdGhpcykpLHRoaXMuX3Jlc2V0KCksdGhpcy5fdXBkYXRlKCl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLl9yZXNldCxtb3ZlZW5kOnRoaXMuX3VwZGF0ZX0sdGhpcyksdGhpcy5fYW5pbWF0ZWQmJnQub2ZmKHt6b29tYW5pbTp0aGlzLl9hbmltYXRlWm9vbSx6b29tZW5kOnRoaXMuX2VuZFpvb21BbmltfSx0aGlzKSx0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGV8fHQub2ZmKFwibW92ZVwiLHRoaXMuX2xpbWl0ZWRVcGRhdGUsdGhpcyksdGhpcy5fY29udGFpbmVyPW51bGwsdGhpcy5fbWFwPW51bGx9LGJyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGFuZXMudGlsZVBhbmU7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmKHQuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9zZXRBdXRvWkluZGV4KHQsTWF0aC5tYXgpKSx0aGlzfSxicmluZ1RvQmFjazpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGFuZXMudGlsZVBhbmU7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmKHQuaW5zZXJ0QmVmb3JlKHRoaXMuX2NvbnRhaW5lcix0LmZpcnN0Q2hpbGQpLHRoaXMuX3NldEF1dG9aSW5kZXgodCxNYXRoLm1pbikpLHRoaXN9LGdldEF0dHJpYnV0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbn0sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sc2V0T3BhY2l0eTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm9wYWNpdHk9dCx0aGlzLl9tYXAmJnRoaXMuX3VwZGF0ZU9wYWNpdHkoKSx0aGlzfSxzZXRaSW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy56SW5kZXg9dCx0aGlzLl91cGRhdGVaSW5kZXgoKSx0aGlzfSxzZXRVcmw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fdXJsPXQsZXx8dGhpcy5yZWRyYXcoKSx0aGlzfSxyZWRyYXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFwJiYodGhpcy5fcmVzZXQoe2hhcmQ6ITB9KSx0aGlzLl91cGRhdGUoKSksdGhpc30sX3VwZGF0ZVpJbmRleDpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lciYmdGhpcy5vcHRpb25zLnpJbmRleCE9PWkmJih0aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4PXRoaXMub3B0aW9ucy56SW5kZXgpfSxfc2V0QXV0b1pJbmRleDpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxzPXQuY2hpbGRyZW4sYT0tZSgxLzAsLSgxLzApKTtmb3Iobj0wLG89cy5sZW5ndGg7bz5uO24rKylzW25dIT09dGhpcy5fY29udGFpbmVyJiYoaT1wYXJzZUludChzW25dLnN0eWxlLnpJbmRleCwxMCksaXNOYU4oaSl8fChhPWUoYSxpKSkpO3RoaXMub3B0aW9ucy56SW5kZXg9dGhpcy5fY29udGFpbmVyLnN0eWxlLnpJbmRleD0oaXNGaW5pdGUoYSk/YTowKStlKDEsLTEpfSxfdXBkYXRlT3BhY2l0eTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdGlsZXM7aWYoby5Ccm93c2VyLmllbHQ5KWZvcih0IGluIGUpby5Eb21VdGlsLnNldE9wYWNpdHkoZVt0XSx0aGlzLm9wdGlvbnMub3BhY2l0eSk7ZWxzZSBvLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsdGhpcy5vcHRpb25zLm9wYWNpdHkpfSxfaW5pdENvbnRhaW5lcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fcGFuZXMudGlsZVBhbmU7aWYoIXRoaXMuX2NvbnRhaW5lcil7aWYodGhpcy5fY29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixcImxlYWZsZXQtbGF5ZXJcIiksdGhpcy5fdXBkYXRlWkluZGV4KCksdGhpcy5fYW5pbWF0ZWQpe3ZhciBlPVwibGVhZmxldC10aWxlLWNvbnRhaW5lclwiO3RoaXMuX2JnQnVmZmVyPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixlLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZUNvbnRhaW5lcj1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsZSx0aGlzLl9jb250YWluZXIpfWVsc2UgdGhpcy5fdGlsZUNvbnRhaW5lcj10aGlzLl9jb250YWluZXI7dC5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMub3B0aW9ucy5vcGFjaXR5PDEmJnRoaXMuX3VwZGF0ZU9wYWNpdHkoKX19LF9yZXNldDpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5maXJlKFwidGlsZXVubG9hZFwiLHt0aWxlOnRoaXMuX3RpbGVzW2VdfSk7dGhpcy5fdGlsZXM9e30sdGhpcy5fdGlsZXNUb0xvYWQ9MCx0aGlzLm9wdGlvbnMucmV1c2VUaWxlcyYmKHRoaXMuX3VudXNlZFRpbGVzPVtdKSx0aGlzLl90aWxlQ29udGFpbmVyLmlubmVySFRNTD1cIlwiLHRoaXMuX2FuaW1hdGVkJiZ0JiZ0LmhhcmQmJnRoaXMuX2NsZWFyQmdCdWZmZXIoKSx0aGlzLl9pbml0Q29udGFpbmVyKCl9LF9nZXRUaWxlU2l6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPXQuZ2V0Wm9vbSgpK3RoaXMub3B0aW9ucy56b29tT2Zmc2V0LGk9dGhpcy5vcHRpb25zLm1heE5hdGl2ZVpvb20sbj10aGlzLm9wdGlvbnMudGlsZVNpemU7cmV0dXJuIGkmJmU+aSYmKG49TWF0aC5yb3VuZCh0LmdldFpvb21TY2FsZShlKS90LmdldFpvb21TY2FsZShpKSpuKSksbn0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9dGhpcy5fbWFwLGU9dC5nZXRQaXhlbEJvdW5kcygpLGk9dC5nZXRab29tKCksbj10aGlzLl9nZXRUaWxlU2l6ZSgpO2lmKCEoaT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8aTx0aGlzLm9wdGlvbnMubWluWm9vbSkpe3ZhciBzPW8uYm91bmRzKGUubWluLmRpdmlkZUJ5KG4pLl9mbG9vcigpLGUubWF4LmRpdmlkZUJ5KG4pLl9mbG9vcigpKTt0aGlzLl9hZGRUaWxlc0Zyb21DZW50ZXJPdXQocyksKHRoaXMub3B0aW9ucy51bmxvYWRJbnZpc2libGVUaWxlc3x8dGhpcy5vcHRpb25zLnJldXNlVGlsZXMpJiZ0aGlzLl9yZW1vdmVPdGhlclRpbGVzKHMpfX19LF9hZGRUaWxlc0Zyb21DZW50ZXJPdXQ6ZnVuY3Rpb24odCl7dmFyIGksbixzLGE9W10scj10LmdldENlbnRlcigpO2ZvcihpPXQubWluLnk7aTw9dC5tYXgueTtpKyspZm9yKG49dC5taW4ueDtuPD10Lm1heC54O24rKylzPW5ldyBvLlBvaW50KG4saSksdGhpcy5fdGlsZVNob3VsZEJlTG9hZGVkKHMpJiZhLnB1c2gocyk7dmFyIGg9YS5sZW5ndGg7aWYoMCE9PWgpe2Euc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRpc3RhbmNlVG8ociktZS5kaXN0YW5jZVRvKHIpfSk7dmFyIGw9ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHRoaXMuX3RpbGVzVG9Mb2FkfHx0aGlzLmZpcmUoXCJsb2FkaW5nXCIpLHRoaXMuX3RpbGVzVG9Mb2FkKz1oLG49MDtoPm47bisrKXRoaXMuX2FkZFRpbGUoYVtuXSxsKTt0aGlzLl90aWxlQ29udGFpbmVyLmFwcGVuZENoaWxkKGwpfX0sX3RpbGVTaG91bGRCZUxvYWRlZDpmdW5jdGlvbih0KXtpZih0LngrXCI6XCIrdC55IGluIHRoaXMuX3RpbGVzKXJldHVybiExO3ZhciBlPXRoaXMub3B0aW9ucztpZighZS5jb250aW51b3VzV29ybGQpe3ZhciBpPXRoaXMuX2dldFdyYXBUaWxlTnVtKCk7aWYoZS5ub1dyYXAmJih0Lng8MHx8dC54Pj1pLngpfHx0Lnk8MHx8dC55Pj1pLnkpcmV0dXJuITF9aWYoZS5ib3VuZHMpe3ZhciBuPXRoaXMuX2dldFRpbGVTaXplKCksbz10Lm11bHRpcGx5Qnkobikscz1vLmFkZChbbixuXSksYT10aGlzLl9tYXAudW5wcm9qZWN0KG8pLHI9dGhpcy5fbWFwLnVucHJvamVjdChzKTtpZihlLmNvbnRpbnVvdXNXb3JsZHx8ZS5ub1dyYXB8fChhPWEud3JhcCgpLHI9ci53cmFwKCkpLCFlLmJvdW5kcy5pbnRlcnNlY3RzKFthLHJdKSlyZXR1cm4hMX1yZXR1cm4hMH0sX3JlbW92ZU90aGVyVGlsZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLG87Zm9yKG8gaW4gdGhpcy5fdGlsZXMpZT1vLnNwbGl0KFwiOlwiKSxpPXBhcnNlSW50KGVbMF0sMTApLG49cGFyc2VJbnQoZVsxXSwxMCksKGk8dC5taW4ueHx8aT50Lm1heC54fHxuPHQubWluLnl8fG4+dC5tYXgueSkmJnRoaXMuX3JlbW92ZVRpbGUobyl9LF9yZW1vdmVUaWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO3RoaXMuZmlyZShcInRpbGV1bmxvYWRcIix7dGlsZTplLHVybDplLnNyY30pLHRoaXMub3B0aW9ucy5yZXVzZVRpbGVzPyhvLkRvbVV0aWwucmVtb3ZlQ2xhc3MoZSxcImxlYWZsZXQtdGlsZS1sb2FkZWRcIiksdGhpcy5fdW51c2VkVGlsZXMucHVzaChlKSk6ZS5wYXJlbnROb2RlPT09dGhpcy5fdGlsZUNvbnRhaW5lciYmdGhpcy5fdGlsZUNvbnRhaW5lci5yZW1vdmVDaGlsZChlKSxvLkJyb3dzZXIuYW5kcm9pZHx8KGUub25sb2FkPW51bGwsZS5zcmM9by5VdGlsLmVtcHR5SW1hZ2VVcmwpLGRlbGV0ZSB0aGlzLl90aWxlc1t0XX0sX2FkZFRpbGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9nZXRUaWxlUG9zKHQpLG49dGhpcy5fZ2V0VGlsZSgpO28uRG9tVXRpbC5zZXRQb3NpdGlvbihuLGksby5Ccm93c2VyLmNocm9tZSksdGhpcy5fdGlsZXNbdC54K1wiOlwiK3QueV09bix0aGlzLl9sb2FkVGlsZShuLHQpLG4ucGFyZW50Tm9kZSE9PXRoaXMuX3RpbGVDb250YWluZXImJmUuYXBwZW5kQ2hpbGQobil9LF9nZXRab29tRm9yVXJsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fbWFwLmdldFpvb20oKTtyZXR1cm4gdC56b29tUmV2ZXJzZSYmKGU9dC5tYXhab29tLWUpLGUrPXQuem9vbU9mZnNldCx0Lm1heE5hdGl2ZVpvb20/TWF0aC5taW4oZSx0Lm1heE5hdGl2ZVpvb20pOmV9LF9nZXRUaWxlUG9zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5nZXRQaXhlbE9yaWdpbigpLGk9dGhpcy5fZ2V0VGlsZVNpemUoKTtyZXR1cm4gdC5tdWx0aXBseUJ5KGkpLnN1YnRyYWN0KGUpfSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBvLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLG8uZXh0ZW5kKHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KSx6OnQueix4OnQueCx5OnQueX0sdGhpcy5vcHRpb25zKSl9LF9nZXRXcmFwVGlsZU51bTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5vcHRpb25zLmNycyxlPXQuZ2V0U2l6ZSh0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtyZXR1cm4gZS5kaXZpZGVCeSh0aGlzLl9nZXRUaWxlU2l6ZSgpKS5fZmxvb3IoKX0sX2FkanVzdFRpbGVQb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9nZXRXcmFwVGlsZU51bSgpO3RoaXMub3B0aW9ucy5jb250aW51b3VzV29ybGR8fHRoaXMub3B0aW9ucy5ub1dyYXB8fCh0Lng9KHQueCVlLngrZS54KSVlLngpLHRoaXMub3B0aW9ucy50bXMmJih0Lnk9ZS55LXQueS0xKSx0Lno9dGhpcy5fZ2V0Wm9vbUZvclVybCgpfSxfZ2V0U3ViZG9tYWluOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKHQueCt0LnkpJXRoaXMub3B0aW9ucy5zdWJkb21haW5zLmxlbmd0aDtyZXR1cm4gdGhpcy5vcHRpb25zLnN1YmRvbWFpbnNbZV19LF9nZXRUaWxlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLnJldXNlVGlsZXMmJnRoaXMuX3VudXNlZFRpbGVzLmxlbmd0aD4wKXt2YXIgdD10aGlzLl91bnVzZWRUaWxlcy5wb3AoKTtyZXR1cm4gdGhpcy5fcmVzZXRUaWxlKHQpLHR9cmV0dXJuIHRoaXMuX2NyZWF0ZVRpbGUoKX0sX3Jlc2V0VGlsZTpmdW5jdGlvbigpe30sX2NyZWF0ZVRpbGU6ZnVuY3Rpb24oKXt2YXIgdD1vLkRvbVV0aWwuY3JlYXRlKFwiaW1nXCIsXCJsZWFmbGV0LXRpbGVcIik7cmV0dXJuIHQuc3R5bGUud2lkdGg9dC5zdHlsZS5oZWlnaHQ9dGhpcy5fZ2V0VGlsZVNpemUoKStcInB4XCIsdC5nYWxsZXJ5aW1nPVwibm9cIix0Lm9uc2VsZWN0c3RhcnQ9dC5vbm1vdXNlbW92ZT1vLlV0aWwuZmFsc2VGbixvLkJyb3dzZXIuaWVsdDkmJnRoaXMub3B0aW9ucy5vcGFjaXR5IT09aSYmby5Eb21VdGlsLnNldE9wYWNpdHkodCx0aGlzLm9wdGlvbnMub3BhY2l0eSksby5Ccm93c2VyLm1vYmlsZVdlYmtpdDNkJiYodC5zdHlsZS5XZWJraXRCYWNrZmFjZVZpc2liaWxpdHk9XCJoaWRkZW5cIiksdH0sX2xvYWRUaWxlOmZ1bmN0aW9uKHQsZSl7dC5fbGF5ZXI9dGhpcyx0Lm9ubG9hZD10aGlzLl90aWxlT25Mb2FkLHQub25lcnJvcj10aGlzLl90aWxlT25FcnJvcix0aGlzLl9hZGp1c3RUaWxlUG9pbnQoZSksdC5zcmM9dGhpcy5nZXRUaWxlVXJsKGUpLHRoaXMuZmlyZShcInRpbGVsb2Fkc3RhcnRcIix7dGlsZTp0LHVybDp0LnNyY30pfSxfdGlsZUxvYWRlZDpmdW5jdGlvbigpe3RoaXMuX3RpbGVzVG9Mb2FkLS0sdGhpcy5fYW5pbWF0ZWQmJm8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl90aWxlQ29udGFpbmVyLFwibGVhZmxldC16b29tLWFuaW1hdGVkXCIpLHRoaXMuX3RpbGVzVG9Mb2FkfHwodGhpcy5maXJlKFwibG9hZFwiKSx0aGlzLl9hbmltYXRlZCYmKGNsZWFyVGltZW91dCh0aGlzLl9jbGVhckJnQnVmZmVyVGltZXIpLHRoaXMuX2NsZWFyQmdCdWZmZXJUaW1lcj1zZXRUaW1lb3V0KG8uYmluZCh0aGlzLl9jbGVhckJnQnVmZmVyLHRoaXMpLDUwMCkpKX0sX3RpbGVPbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXllcjt0aGlzLnNyYyE9PW8uVXRpbC5lbXB0eUltYWdlVXJsJiYoby5Eb21VdGlsLmFkZENsYXNzKHRoaXMsXCJsZWFmbGV0LXRpbGUtbG9hZGVkXCIpLHQuZmlyZShcInRpbGVsb2FkXCIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KSksdC5fdGlsZUxvYWRlZCgpfSxfdGlsZU9uRXJyb3I6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXllcjt0LmZpcmUoXCJ0aWxlZXJyb3JcIix7dGlsZTp0aGlzLHVybDp0aGlzLnNyY30pO3ZhciBlPXQub3B0aW9ucy5lcnJvclRpbGVVcmw7ZSYmKHRoaXMuc3JjPWUpLHQuX3RpbGVMb2FkZWQoKX19KSxvLnRpbGVMYXllcj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5UaWxlTGF5ZXIodCxlKX0sby5UaWxlTGF5ZXIuV01TPW8uVGlsZUxheWVyLmV4dGVuZCh7ZGVmYXVsdFdtc1BhcmFtczp7c2VydmljZTpcIldNU1wiLHJlcXVlc3Q6XCJHZXRNYXBcIix2ZXJzaW9uOlwiMS4xLjFcIixsYXllcnM6XCJcIixzdHlsZXM6XCJcIixmb3JtYXQ6XCJpbWFnZS9qcGVnXCIsdHJhbnNwYXJlbnQ6ITF9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXt0aGlzLl91cmw9dDt2YXIgaT1vLmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRXbXNQYXJhbXMpLG49ZS50aWxlU2l6ZXx8dGhpcy5vcHRpb25zLnRpbGVTaXplO2UuZGV0ZWN0UmV0aW5hJiZvLkJyb3dzZXIucmV0aW5hP2kud2lkdGg9aS5oZWlnaHQ9MipuOmkud2lkdGg9aS5oZWlnaHQ9bjtmb3IodmFyIHMgaW4gZSl0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkocyl8fFwiY3JzXCI9PT1zfHwoaVtzXT1lW3NdKTt0aGlzLndtc1BhcmFtcz1pLG8uc2V0T3B0aW9ucyh0aGlzLGUpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9jcnM9dGhpcy5vcHRpb25zLmNyc3x8dC5vcHRpb25zLmNycyx0aGlzLl93bXNWZXJzaW9uPXBhcnNlRmxvYXQodGhpcy53bXNQYXJhbXMudmVyc2lvbik7dmFyIGU9dGhpcy5fd21zVmVyc2lvbj49MS4zP1wiY3JzXCI6XCJzcnNcIjt0aGlzLndtc1BhcmFtc1tlXT10aGlzLl9jcnMuY29kZSxvLlRpbGVMYXllci5wcm90b3R5cGUub25BZGQuY2FsbCh0aGlzLHQpfSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcCxpPXRoaXMub3B0aW9ucy50aWxlU2l6ZSxuPXQubXVsdGlwbHlCeShpKSxzPW4uYWRkKFtpLGldKSxhPXRoaXMuX2Nycy5wcm9qZWN0KGUudW5wcm9qZWN0KG4sdC56KSkscj10aGlzLl9jcnMucHJvamVjdChlLnVucHJvamVjdChzLHQueikpLGg9dGhpcy5fd21zVmVyc2lvbj49MS4zJiZ0aGlzLl9jcnM9PT1vLkNSUy5FUFNHNDMyNj9bci55LGEueCxhLnksci54XS5qb2luKFwiLFwiKTpbYS54LHIueSxyLngsYS55XS5qb2luKFwiLFwiKSxsPW8uVXRpbC50ZW1wbGF0ZSh0aGlzLl91cmwse3M6dGhpcy5fZ2V0U3ViZG9tYWluKHQpfSk7cmV0dXJuIGwrby5VdGlsLmdldFBhcmFtU3RyaW5nKHRoaXMud21zUGFyYW1zLGwsITApK1wiJkJCT1g9XCIraH0sc2V0UGFyYW1zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8uZXh0ZW5kKHRoaXMud21zUGFyYW1zLHQpLGV8fHRoaXMucmVkcmF3KCksdGhpc319KSxvLnRpbGVMYXllci53bXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uVGlsZUxheWVyLldNUyh0LGUpfSxvLlRpbGVMYXllci5DYW52YXM9by5UaWxlTGF5ZXIuZXh0ZW5kKHtvcHRpb25zOnthc3luYzohMX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtvLnNldE9wdGlvbnModGhpcyx0KX0scmVkcmF3OmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYodGhpcy5fcmVzZXQoe2hhcmQ6ITB9KSx0aGlzLl91cGRhdGUoKSk7Zm9yKHZhciB0IGluIHRoaXMuX3RpbGVzKXRoaXMuX3JlZHJhd1RpbGUodGhpcy5fdGlsZXNbdF0pO3JldHVybiB0aGlzfSxfcmVkcmF3VGlsZTpmdW5jdGlvbih0KXt0aGlzLmRyYXdUaWxlKHQsdC5fdGlsZVBvaW50LHRoaXMuX21hcC5fem9vbSl9LF9jcmVhdGVUaWxlOmZ1bmN0aW9uKCl7dmFyIHQ9by5Eb21VdGlsLmNyZWF0ZShcImNhbnZhc1wiLFwibGVhZmxldC10aWxlXCIpO3JldHVybiB0LndpZHRoPXQuaGVpZ2h0PXRoaXMub3B0aW9ucy50aWxlU2l6ZSx0Lm9uc2VsZWN0c3RhcnQ9dC5vbm1vdXNlbW92ZT1vLlV0aWwuZmFsc2VGbix0fSxfbG9hZFRpbGU6ZnVuY3Rpb24odCxlKXt0Ll9sYXllcj10aGlzLHQuX3RpbGVQb2ludD1lLHRoaXMuX3JlZHJhd1RpbGUodCksdGhpcy5vcHRpb25zLmFzeW5jfHx0aGlzLnRpbGVEcmF3bih0KX0sZHJhd1RpbGU6ZnVuY3Rpb24oKXt9LHRpbGVEcmF3bjpmdW5jdGlvbih0KXt0aGlzLl90aWxlT25Mb2FkLmNhbGwodCl9fSksby50aWxlTGF5ZXIuY2FudmFzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5UaWxlTGF5ZXIuQ2FudmFzKHQpfSxvLkltYWdlT3ZlcmxheT1vLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6by5NaXhpbi5FdmVudHMsb3B0aW9uczp7b3BhY2l0eToxfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl91cmw9dCx0aGlzLl9ib3VuZHM9by5sYXRMbmdCb3VuZHMoZSksby5zZXRPcHRpb25zKHRoaXMsaSl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2ltYWdlfHx0aGlzLl9pbml0SW1hZ2UoKSx0Ll9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSksdC5vbihcInZpZXdyZXNldFwiLHRoaXMuX3Jlc2V0LHRoaXMpLHQub3B0aW9ucy56b29tQW5pbWF0aW9uJiZvLkJyb3dzZXIuYW55M2QmJnQub24oXCJ6b29tYW5pbVwiLHRoaXMuX2FuaW1hdGVab29tLHRoaXMpLHRoaXMuX3Jlc2V0KCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuZ2V0UGFuZXMoKS5vdmVybGF5UGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9pbWFnZSksdC5vZmYoXCJ2aWV3cmVzZXRcIix0aGlzLl9yZXNldCx0aGlzKSx0Lm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmdC5vZmYoXCJ6b29tYW5pbVwiLHRoaXMuX2FuaW1hdGVab29tLHRoaXMpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMub3BhY2l0eT10LHRoaXMuX3VwZGF0ZU9wYWNpdHkoKSx0aGlzfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2UmJnRoaXMuX21hcC5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faW1hZ2UpLHRoaXN9LGJyaW5nVG9CYWNrOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy5vdmVybGF5UGFuZTtyZXR1cm4gdGhpcy5faW1hZ2UmJnQuaW5zZXJ0QmVmb3JlKHRoaXMuX2ltYWdlLHQuZmlyc3RDaGlsZCksdGhpc30sc2V0VXJsOmZ1bmN0aW9uKHQpe3RoaXMuX3VybD10LHRoaXMuX2ltYWdlLnNyYz10aGlzLl91cmx9LGdldEF0dHJpYnV0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbn0sX2luaXRJbWFnZTpmdW5jdGlvbigpe3RoaXMuX2ltYWdlPW8uRG9tVXRpbC5jcmVhdGUoXCJpbWdcIixcImxlYWZsZXQtaW1hZ2UtbGF5ZXJcIiksdGhpcy5fbWFwLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmby5Ccm93c2VyLmFueTNkP28uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbWFnZSxcImxlYWZsZXQtem9vbS1hbmltYXRlZFwiKTpvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsXCJsZWFmbGV0LXpvb20taGlkZVwiKSx0aGlzLl91cGRhdGVPcGFjaXR5KCksby5leHRlbmQodGhpcy5faW1hZ2Use2dhbGxlcnlpbWc6XCJub1wiLG9uc2VsZWN0c3RhcnQ6by5VdGlsLmZhbHNlRm4sb25tb3VzZW1vdmU6by5VdGlsLmZhbHNlRm4sb25sb2FkOm8uYmluZCh0aGlzLl9vbkltYWdlTG9hZCx0aGlzKSxzcmM6dGhpcy5fdXJsfSl9LF9hbmltYXRlWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAsaT10aGlzLl9pbWFnZSxuPWUuZ2V0Wm9vbVNjYWxlKHQuem9vbSkscz10aGlzLl9ib3VuZHMuZ2V0Tm9ydGhXZXN0KCksYT10aGlzLl9ib3VuZHMuZ2V0U291dGhFYXN0KCkscj1lLl9sYXRMbmdUb05ld0xheWVyUG9pbnQocyx0Lnpvb20sdC5jZW50ZXIpLGg9ZS5fbGF0TG5nVG9OZXdMYXllclBvaW50KGEsdC56b29tLHQuY2VudGVyKS5fc3VidHJhY3QociksbD1yLl9hZGQoaC5fbXVsdGlwbHlCeSguNSooMS0xL24pKSk7aS5zdHlsZVtvLkRvbVV0aWwuVFJBTlNGT1JNXT1vLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGwpK1wiIHNjYWxlKFwiK24rXCIpIFwifSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbWFnZSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpKSxpPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpKS5fc3VidHJhY3QoZSk7by5Eb21VdGlsLnNldFBvc2l0aW9uKHQsZSksdC5zdHlsZS53aWR0aD1pLngrXCJweFwiLHQuc3R5bGUuaGVpZ2h0PWkueStcInB4XCJ9LF9vbkltYWdlTG9hZDpmdW5jdGlvbigpe3RoaXMuZmlyZShcImxvYWRcIil9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7by5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faW1hZ2UsdGhpcy5vcHRpb25zLm9wYWNpdHkpfX0pLG8uaW1hZ2VPdmVybGF5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IG8uSW1hZ2VPdmVybGF5KHQsZSxpKX0sby5JY29uPW8uQ2xhc3MuZXh0ZW5kKHtvcHRpb25zOntjbGFzc05hbWU6XCJcIn0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtvLnNldE9wdGlvbnModGhpcyx0KX0sY3JlYXRlSWNvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3JlYXRlSWNvbihcImljb25cIix0KX0sY3JlYXRlU2hhZG93OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jcmVhdGVJY29uKFwic2hhZG93XCIsdCl9LF9jcmVhdGVJY29uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0SWNvblVybCh0KTtpZighaSl7aWYoXCJpY29uXCI9PT10KXRocm93IG5ldyBFcnJvcihcImljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuXCIpO3JldHVybiBudWxsfXZhciBuO3JldHVybiBuPWUmJlwiSU1HXCI9PT1lLnRhZ05hbWU/dGhpcy5fY3JlYXRlSW1nKGksZSk6dGhpcy5fY3JlYXRlSW1nKGkpLHRoaXMuX3NldEljb25TdHlsZXMobix0KSxufSxfc2V0SWNvblN0eWxlczpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcy5vcHRpb25zLHM9by5wb2ludChuW2UrXCJTaXplXCJdKTtpPVwic2hhZG93XCI9PT1lP28ucG9pbnQobi5zaGFkb3dBbmNob3J8fG4uaWNvbkFuY2hvcik6by5wb2ludChuLmljb25BbmNob3IpLCFpJiZzJiYoaT1zLmRpdmlkZUJ5KDIsITApKSx0LmNsYXNzTmFtZT1cImxlYWZsZXQtbWFya2VyLVwiK2UrXCIgXCIrbi5jbGFzc05hbWUsaSYmKHQuc3R5bGUubWFyZ2luTGVmdD0taS54K1wicHhcIix0LnN0eWxlLm1hcmdpblRvcD0taS55K1wicHhcIikscyYmKHQuc3R5bGUud2lkdGg9cy54K1wicHhcIix0LnN0eWxlLmhlaWdodD1zLnkrXCJweFwiKX0sX2NyZWF0ZUltZzpmdW5jdGlvbih0LGkpe3JldHVybiBpPWl8fGUuY3JlYXRlRWxlbWVudChcImltZ1wiKSxpLnNyYz10LGl9LF9nZXRJY29uVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBvLkJyb3dzZXIucmV0aW5hJiZ0aGlzLm9wdGlvbnNbdCtcIlJldGluYVVybFwiXT90aGlzLm9wdGlvbnNbdCtcIlJldGluYVVybFwiXTp0aGlzLm9wdGlvbnNbdCtcIlVybFwiXX19KSxvLmljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkljb24odCl9LG8uSWNvbi5EZWZhdWx0PW8uSWNvbi5leHRlbmQoe29wdGlvbnM6e2ljb25TaXplOlsyNSw0MV0saWNvbkFuY2hvcjpbMTIsNDFdLHBvcHVwQW5jaG9yOlsxLC0zNF0sc2hhZG93U2l6ZTpbNDEsNDFdfSxfZ2V0SWNvblVybDpmdW5jdGlvbih0KXt2YXIgZT10K1wiVXJsXCI7aWYodGhpcy5vcHRpb25zW2VdKXJldHVybiB0aGlzLm9wdGlvbnNbZV07by5Ccm93c2VyLnJldGluYSYmXCJpY29uXCI9PT10JiYodCs9XCItMnhcIik7dmFyIGk9by5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGF1dG9kZXRlY3QgTC5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoLCBzZXQgaXQgbWFudWFsbHkuXCIpO3JldHVybiBpK1wiL21hcmtlci1cIit0K1wiLnBuZ1wifX0pLG8uSWNvbi5EZWZhdWx0LmltYWdlUGF0aD1mdW5jdGlvbigpe3ZhciB0LGksbixvLHMsYT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLHI9L1tcXC9eXWxlYWZsZXRbXFwtXFwuX10/KFtcXHdcXC1cXC5fXSopXFwuanNcXD8/Lztmb3IodD0wLGk9YS5sZW5ndGg7aT50O3QrKylpZihuPWFbdF0uc3JjLG89bi5tYXRjaChyKSlyZXR1cm4gcz1uLnNwbGl0KHIpWzBdLChzP3MrXCIvXCI6XCJcIikrXCJpbWFnZXNcIn0oKSxvLk1hcmtlcj1vLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6by5NaXhpbi5FdmVudHMsb3B0aW9uczp7aWNvbjpuZXcgby5JY29uLkRlZmF1bHQsdGl0bGU6XCJcIixhbHQ6XCJcIixjbGlja2FibGU6ITAsZHJhZ2dhYmxlOiExLGtleWJvYXJkOiEwLHpJbmRleE9mZnNldDowLG9wYWNpdHk6MSxyaXNlT25Ib3ZlcjohMSxyaXNlT2Zmc2V0OjI1MH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe28uc2V0T3B0aW9ucyh0aGlzLGUpLHRoaXMuX2xhdGxuZz1vLmxhdExuZyh0KX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdC5vbihcInZpZXdyZXNldFwiLHRoaXMudXBkYXRlLHRoaXMpLHRoaXMuX2luaXRJY29uKCksdGhpcy51cGRhdGUoKSx0aGlzLmZpcmUoXCJhZGRcIiksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uJiZ0Lm9uKFwiem9vbWFuaW1cIix0aGlzLl9hbmltYXRlWm9vbSx0aGlzKX0sYWRkVG86ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkTGF5ZXIodGhpcyksdGhpc30sb25SZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5kaXNhYmxlKCksdGhpcy5fcmVtb3ZlSWNvbigpLHRoaXMuX3JlbW92ZVNoYWRvdygpLHRoaXMuZmlyZShcInJlbW92ZVwiKSx0Lm9mZih7dmlld3Jlc2V0OnRoaXMudXBkYXRlLHpvb21hbmltOnRoaXMuX2FuaW1hdGVab29tfSx0aGlzKSx0aGlzLl9tYXA9bnVsbH0sZ2V0TGF0TG5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdGxuZ30sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmc9by5sYXRMbmcodCksdGhpcy51cGRhdGUoKSx0aGlzLmZpcmUoXCJtb3ZlXCIse2xhdGxuZzp0aGlzLl9sYXRsbmd9KX0sc2V0WkluZGV4T2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0PXQsdGhpcy51cGRhdGUoKSx0aGlzfSxzZXRJY29uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaWNvbj10LHRoaXMuX21hcCYmKHRoaXMuX2luaXRJY29uKCksdGhpcy51cGRhdGUoKSksdGhpcy5fcG9wdXAmJnRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWNvbiYmdGhpcy5fc2V0UG9zKHRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKS5yb3VuZCgpKSx0aGlzfSxfaW5pdEljb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT10aGlzLl9tYXAsaT1lLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmZS5vcHRpb25zLm1hcmtlclpvb21BbmltYXRpb24sbj1pP1wibGVhZmxldC16b29tLWFuaW1hdGVkXCI6XCJsZWFmbGV0LXpvb20taGlkZVwiLHM9dC5pY29uLmNyZWF0ZUljb24odGhpcy5faWNvbiksYT0hMTtzIT09dGhpcy5faWNvbiYmKHRoaXMuX2ljb24mJnRoaXMuX3JlbW92ZUljb24oKSxhPSEwLHQudGl0bGUmJihzLnRpdGxlPXQudGl0bGUpLHQuYWx0JiYocy5hbHQ9dC5hbHQpKSxvLkRvbVV0aWwuYWRkQ2xhc3MocyxuKSx0LmtleWJvYXJkJiYocy50YWJJbmRleD1cIjBcIiksdGhpcy5faWNvbj1zLHRoaXMuX2luaXRJbnRlcmFjdGlvbigpLHQucmlzZU9uSG92ZXImJm8uRG9tRXZlbnQub24ocyxcIm1vdXNlb3ZlclwiLHRoaXMuX2JyaW5nVG9Gcm9udCx0aGlzKS5vbihzLFwibW91c2VvdXRcIix0aGlzLl9yZXNldFpJbmRleCx0aGlzKTt2YXIgcj10Lmljb24uY3JlYXRlU2hhZG93KHRoaXMuX3NoYWRvdyksaD0hMTtyIT09dGhpcy5fc2hhZG93JiYodGhpcy5fcmVtb3ZlU2hhZG93KCksaD0hMCksciYmby5Eb21VdGlsLmFkZENsYXNzKHIsbiksdGhpcy5fc2hhZG93PXIsdC5vcGFjaXR5PDEmJnRoaXMuX3VwZGF0ZU9wYWNpdHkoKTt2YXIgbD10aGlzLl9tYXAuX3BhbmVzO2EmJmwubWFya2VyUGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pY29uKSxyJiZoJiZsLnNoYWRvd1BhbmUuYXBwZW5kQ2hpbGQodGhpcy5fc2hhZG93KX0sX3JlbW92ZUljb246ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucmlzZU9uSG92ZXImJm8uRG9tRXZlbnQub2ZmKHRoaXMuX2ljb24sXCJtb3VzZW92ZXJcIix0aGlzLl9icmluZ1RvRnJvbnQpLm9mZih0aGlzLl9pY29uLFwibW91c2VvdXRcIix0aGlzLl9yZXNldFpJbmRleCksdGhpcy5fbWFwLl9wYW5lcy5tYXJrZXJQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2ljb24pLHRoaXMuX2ljb249bnVsbH0sX3JlbW92ZVNoYWRvdzpmdW5jdGlvbigpe3RoaXMuX3NoYWRvdyYmdGhpcy5fbWFwLl9wYW5lcy5zaGFkb3dQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX3NoYWRvdyksdGhpcy5fc2hhZG93PW51bGx9LF9zZXRQb3M6ZnVuY3Rpb24odCl7by5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2ljb24sdCksdGhpcy5fc2hhZG93JiZvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fc2hhZG93LHQpLHRoaXMuX3pJbmRleD10LnkrdGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCx0aGlzLl9yZXNldFpJbmRleCgpfSxfdXBkYXRlWkluZGV4OmZ1bmN0aW9uKHQpe3RoaXMuX2ljb24uc3R5bGUuekluZGV4PXRoaXMuX3pJbmRleCt0fSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcikucm91bmQoKTt0aGlzLl9zZXRQb3MoZSl9LF9pbml0SW50ZXJhY3Rpb246ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY2xpY2thYmxlKXt2YXIgdD10aGlzLl9pY29uLGU9W1wiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2VvdmVyXCIsXCJtb3VzZW91dFwiLFwiY29udGV4dG1lbnVcIl07by5Eb21VdGlsLmFkZENsYXNzKHQsXCJsZWFmbGV0LWNsaWNrYWJsZVwiKSxvLkRvbUV2ZW50Lm9uKHQsXCJjbGlja1wiLHRoaXMuX29uTW91c2VDbGljayx0aGlzKSxvLkRvbUV2ZW50Lm9uKHQsXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MsdGhpcyk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspby5Eb21FdmVudC5vbih0LGVbaV0sdGhpcy5fZmlyZU1vdXNlRXZlbnQsdGhpcyk7by5IYW5kbGVyLk1hcmtlckRyYWcmJih0aGlzLmRyYWdnaW5nPW5ldyBvLkhhbmRsZXIuTWFya2VyRHJhZyh0aGlzKSx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZ0aGlzLmRyYWdnaW5nLmVuYWJsZSgpKX19LF9vbk1vdXNlQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5tb3ZlZCgpOyh0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSl8fGUpJiZvLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KSxlfHwodGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5fZW5hYmxlZHx8IXRoaXMuX21hcC5kcmFnZ2luZ3x8IXRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpKSYmdGhpcy5maXJlKHQudHlwZSx7b3JpZ2luYWxFdmVudDp0LGxhdGxuZzp0aGlzLl9sYXRsbmd9KX0sX29uS2V5UHJlc3M6ZnVuY3Rpb24odCl7MTM9PT10LmtleUNvZGUmJnRoaXMuZmlyZShcImNsaWNrXCIse29yaWdpbmFsRXZlbnQ6dCxsYXRsbmc6dGhpcy5fbGF0bG5nfSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXt0aGlzLmZpcmUodC50eXBlLHtvcmlnaW5hbEV2ZW50OnQsbGF0bG5nOnRoaXMuX2xhdGxuZ30pLFwiY29udGV4dG1lbnVcIj09PXQudHlwZSYmdGhpcy5oYXNFdmVudExpc3RlbmVycyh0LnR5cGUpJiZvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLFwibW91c2Vkb3duXCIhPT10LnR5cGU/by5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24odCk6by5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KX0sc2V0T3BhY2l0eTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLm9wYWNpdHk9dCx0aGlzLl9tYXAmJnRoaXMuX3VwZGF0ZU9wYWNpdHkoKSx0aGlzfSxfdXBkYXRlT3BhY2l0eTpmdW5jdGlvbigpe28uRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2ljb24sdGhpcy5vcHRpb25zLm9wYWNpdHkpLHRoaXMuX3NoYWRvdyYmby5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fc2hhZG93LHRoaXMub3B0aW9ucy5vcGFjaXR5KX0sX2JyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVpJbmRleCh0aGlzLm9wdGlvbnMucmlzZU9mZnNldCl9LF9yZXNldFpJbmRleDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZVpJbmRleCgwKX19KSxvLm1hcmtlcj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5NYXJrZXIodCxlKX0sby5EaXZJY29uPW8uSWNvbi5leHRlbmQoe29wdGlvbnM6e2ljb25TaXplOlsxMiwxMl0sY2xhc3NOYW1lOlwibGVhZmxldC1kaXYtaWNvblwiLGh0bWw6ITF9LGNyZWF0ZUljb246ZnVuY3Rpb24odCl7dmFyIGk9dCYmXCJESVZcIj09PXQudGFnTmFtZT90OmUuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5odG1sIT09ITE/aS5pbm5lckhUTUw9bi5odG1sOmkuaW5uZXJIVE1MPVwiXCIsbi5iZ1BvcyYmKGkuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPS1uLmJnUG9zLngrXCJweCBcIistbi5iZ1Bvcy55K1wicHhcIiksdGhpcy5fc2V0SWNvblN0eWxlcyhpLFwiaWNvblwiKSxpfSxjcmVhdGVTaGFkb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxvLmRpdkljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkRpdkljb24odCl9LG8uTWFwLm1lcmdlT3B0aW9ucyh7Y2xvc2VQb3B1cE9uQ2xpY2s6ITB9KSxvLlBvcHVwPW8uQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpvLk1peGluLkV2ZW50cyxvcHRpb25zOnttaW5XaWR0aDo1MCxtYXhXaWR0aDozMDAsYXV0b1BhbjohMCxjbG9zZUJ1dHRvbjohMCxvZmZzZXQ6WzAsN10sYXV0b1BhblBhZGRpbmc6WzUsNV0sa2VlcEluVmlldzohMSxjbGFzc05hbWU6XCJcIix6b29tQW5pbWF0aW9uOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7by5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fc291cmNlPWUsdGhpcy5fYW5pbWF0ZWQ9by5Ccm93c2VyLmFueTNkJiZ0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbix0aGlzLl9pc09wZW49ITF9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcnx8dGhpcy5faW5pdExheW91dCgpO3ZhciBlPXQub3B0aW9ucy5mYWRlQW5pbWF0aW9uO2UmJm8uRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwwKSx0Ll9wYW5lcy5wb3B1cFBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0Lm9uKHRoaXMuX2dldEV2ZW50cygpLHRoaXMpLHRoaXMudXBkYXRlKCksZSYmby5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLDEpLHRoaXMuZmlyZShcIm9wZW5cIiksdC5maXJlKFwicG9wdXBvcGVuXCIse3BvcHVwOnRoaXN9KSx0aGlzLl9zb3VyY2UmJnRoaXMuX3NvdXJjZS5maXJlKFwicG9wdXBvcGVuXCIse3BvcHVwOnRoaXN9KX0sYWRkVG86ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkTGF5ZXIodGhpcyksdGhpc30sb3Blbk9uOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm9wZW5Qb3B1cCh0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Ll9wYW5lcy5wb3B1cFBhbmUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSxvLlV0aWwuZmFsc2VGbih0aGlzLl9jb250YWluZXIub2Zmc2V0V2lkdGgpLHQub2ZmKHRoaXMuX2dldEV2ZW50cygpLHRoaXMpLHQub3B0aW9ucy5mYWRlQW5pbWF0aW9uJiZvLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsMCksdGhpcy5fbWFwPW51bGwsdGhpcy5maXJlKFwiY2xvc2VcIiksdC5maXJlKFwicG9wdXBjbG9zZVwiLHtwb3B1cDp0aGlzfSksdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2UuZmlyZShcInBvcHVwY2xvc2VcIix7cG9wdXA6dGhpc30pfSxnZXRMYXRMbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZz1vLmxhdExuZyh0KSx0aGlzLl9tYXAmJih0aGlzLl91cGRhdGVQb3NpdGlvbigpLHRoaXMuX2FkanVzdFBhbigpKSx0aGlzfSxnZXRDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRlbnR9LHNldENvbnRlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NvbnRlbnQ9dCx0aGlzLnVwZGF0ZSgpLHRoaXN9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX21hcCYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fdXBkYXRlQ29udGVudCgpLHRoaXMuX3VwZGF0ZUxheW91dCgpLHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksdGhpcy5fY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJcIix0aGlzLl9hZGp1c3RQYW4oKSl9LF9nZXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdD17dmlld3Jlc2V0OnRoaXMuX3VwZGF0ZVBvc2l0aW9ufTtyZXR1cm4gdGhpcy5fYW5pbWF0ZWQmJih0Lnpvb21hbmltPXRoaXMuX3pvb21BbmltYXRpb24pLChcImNsb3NlT25DbGlja1wiaW4gdGhpcy5vcHRpb25zP3RoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2s6dGhpcy5fbWFwLm9wdGlvbnMuY2xvc2VQb3B1cE9uQ2xpY2spJiYodC5wcmVjbGljaz10aGlzLl9jbG9zZSksdGhpcy5vcHRpb25zLmtlZXBJblZpZXcmJih0Lm1vdmVlbmQ9dGhpcy5fYWRqdXN0UGFuKSx0fSxfY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJnRoaXMuX21hcC5jbG9zZVBvcHVwKHRoaXMpfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0LGU9XCJsZWFmbGV0LXBvcHVwXCIsaT1lK1wiIFwiK3RoaXMub3B0aW9ucy5jbGFzc05hbWUrXCIgbGVhZmxldC16b29tLVwiKyh0aGlzLl9hbmltYXRlZD9cImFuaW1hdGVkXCI6XCJoaWRlXCIpLG49dGhpcy5fY29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixpKTt0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24mJih0PXRoaXMuX2Nsb3NlQnV0dG9uPW8uRG9tVXRpbC5jcmVhdGUoXCJhXCIsZStcIi1jbG9zZS1idXR0b25cIixuKSx0LmhyZWY9XCIjY2xvc2VcIix0LmlubmVySFRNTD1cIiYjMjE1O1wiLG8uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odCksby5Eb21FdmVudC5vbih0LFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlQnV0dG9uQ2xpY2ssdGhpcykpO3ZhciBzPXRoaXMuX3dyYXBwZXI9by5Eb21VdGlsLmNyZWF0ZShcImRpdlwiLGUrXCItY29udGVudC13cmFwcGVyXCIsbik7by5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihzKSx0aGlzLl9jb250ZW50Tm9kZT1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsZStcIi1jb250ZW50XCIscyksby5Eb21FdmVudC5kaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb24odGhpcy5fY29udGVudE5vZGUpLG8uRG9tRXZlbnQub24ocyxcImNvbnRleHRtZW51XCIsby5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pLHRoaXMuX3RpcENvbnRhaW5lcj1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsZStcIi10aXAtY29udGFpbmVyXCIsbiksdGhpcy5fdGlwPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixlK1wiLXRpcFwiLHRoaXMuX3RpcENvbnRhaW5lcil9LF91cGRhdGVDb250ZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5fY29udGVudCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuX2NvbnRlbnQpdGhpcy5fY29udGVudE5vZGUuaW5uZXJIVE1MPXRoaXMuX2NvbnRlbnQ7ZWxzZXtmb3IoO3RoaXMuX2NvbnRlbnROb2RlLmhhc0NoaWxkTm9kZXMoKTspdGhpcy5fY29udGVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY29udGVudE5vZGUuZmlyc3RDaGlsZCk7dGhpcy5fY29udGVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCl9dGhpcy5maXJlKFwiY29udGVudHVwZGF0ZVwiKX19LF91cGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250ZW50Tm9kZSxlPXQuc3R5bGU7ZS53aWR0aD1cIlwiLGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiO3ZhciBpPXQub2Zmc2V0V2lkdGg7aT1NYXRoLm1pbihpLHRoaXMub3B0aW9ucy5tYXhXaWR0aCksaT1NYXRoLm1heChpLHRoaXMub3B0aW9ucy5taW5XaWR0aCksZS53aWR0aD1pKzErXCJweFwiLGUud2hpdGVTcGFjZT1cIlwiLGUuaGVpZ2h0PVwiXCI7dmFyIG49dC5vZmZzZXRIZWlnaHQscz10aGlzLm9wdGlvbnMubWF4SGVpZ2h0LGE9XCJsZWFmbGV0LXBvcHVwLXNjcm9sbGVkXCI7cyYmbj5zPyhlLmhlaWdodD1zK1wicHhcIixvLkRvbVV0aWwuYWRkQ2xhc3ModCxhKSk6by5Eb21VdGlsLnJlbW92ZUNsYXNzKHQsYSksdGhpcy5fY29udGFpbmVyV2lkdGg9dGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRofSxfdXBkYXRlUG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLl9tYXApe3ZhciB0PXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKSxlPXRoaXMuX2FuaW1hdGVkLGk9by5wb2ludCh0aGlzLm9wdGlvbnMub2Zmc2V0KTtlJiZvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyLHQpLHRoaXMuX2NvbnRhaW5lckJvdHRvbT0taS55LShlPzA6dC55KSx0aGlzLl9jb250YWluZXJMZWZ0PS1NYXRoLnJvdW5kKHRoaXMuX2NvbnRhaW5lcldpZHRoLzIpK2kueCsoZT8wOnQueCksdGhpcy5fY29udGFpbmVyLnN0eWxlLmJvdHRvbT10aGlzLl9jb250YWluZXJCb3R0b20rXCJweFwiLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5sZWZ0PXRoaXMuX2NvbnRhaW5lckxlZnQrXCJweFwifX0sX3pvb21BbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcik7by5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcixlKX0sX2FkanVzdFBhbjpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5hdXRvUGFuKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0LGk9dGhpcy5fY29udGFpbmVyV2lkdGgsbj1uZXcgby5Qb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LC1lLXRoaXMuX2NvbnRhaW5lckJvdHRvbSk7dGhpcy5fYW5pbWF0ZWQmJm4uX2FkZChvLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7dmFyIHM9dC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChuKSxhPW8ucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxyPW8ucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nVG9wTGVmdHx8YSksaD1vLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0fHxhKSxsPXQuZ2V0U2l6ZSgpLHU9MCxjPTA7cy54K2kraC54PmwueCYmKHU9cy54K2ktbC54K2gueCkscy54LXUtci54PDAmJih1PXMueC1yLngpLHMueStlK2gueT5sLnkmJihjPXMueStlLWwueStoLnkpLHMueS1jLXIueTwwJiYoYz1zLnktci55KSwodXx8YykmJnQuZmlyZShcImF1dG9wYW5zdGFydFwiKS5wYW5CeShbdSxjXSl9fSxfb25DbG9zZUJ1dHRvbkNsaWNrOmZ1bmN0aW9uKHQpe3RoaXMuX2Nsb3NlKCksby5Eb21FdmVudC5zdG9wKHQpfX0pLG8ucG9wdXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uUG9wdXAodCxlKX0sby5NYXAuaW5jbHVkZSh7b3BlblBvcHVwOmZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmNsb3NlUG9wdXAoKSwhKHQgaW5zdGFuY2VvZiBvLlBvcHVwKSl7dmFyIG49dDt0PW5ldyBvLlBvcHVwKGkpLnNldExhdExuZyhlKS5zZXRDb250ZW50KG4pfXJldHVybiB0Ll9pc09wZW49ITAsdGhpcy5fcG9wdXA9dCx0aGlzLmFkZExheWVyKHQpfSxjbG9zZVBvcHVwOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0IT09dGhpcy5fcG9wdXB8fCh0PXRoaXMuX3BvcHVwLHRoaXMuX3BvcHVwPW51bGwpLHQmJih0aGlzLnJlbW92ZUxheWVyKHQpLHQuX2lzT3Blbj0hMSksdGhpc319KSxvLk1hcmtlci5pbmNsdWRlKHtvcGVuUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX21hcCYmIXRoaXMuX21hcC5oYXNMYXllcih0aGlzLl9wb3B1cCkmJih0aGlzLl9wb3B1cC5zZXRMYXRMbmcodGhpcy5fbGF0bG5nKSx0aGlzLl9tYXAub3BlblBvcHVwKHRoaXMuX3BvcHVwKSksdGhpc30sY2xvc2VQb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX2Nsb3NlKCksdGhpc30sdG9nZ2xlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5faXNPcGVuP3RoaXMuY2xvc2VQb3B1cCgpOnRoaXMub3BlblBvcHVwKCkpLHRoaXN9LGJpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3ZhciBpPW8ucG9pbnQodGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy5wb3B1cEFuY2hvcnx8WzAsMF0pO3JldHVybiBpPWkuYWRkKG8uUG9wdXAucHJvdG90eXBlLm9wdGlvbnMub2Zmc2V0KSxlJiZlLm9mZnNldCYmKGk9aS5hZGQoZS5vZmZzZXQpKSxlPW8uZXh0ZW5kKHtvZmZzZXQ6aX0sZSksdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkfHwodGhpcy5vbihcImNsaWNrXCIsdGhpcy50b2dnbGVQb3B1cCx0aGlzKS5vbihcInJlbW92ZVwiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vbihcIm1vdmVcIix0aGlzLl9tb3ZlUG9wdXAsdGhpcyksdGhpcy5fcG9wdXBIYW5kbGVyc0FkZGVkPSEwKSx0IGluc3RhbmNlb2Ygby5Qb3B1cD8oby5zZXRPcHRpb25zKHQsZSksdGhpcy5fcG9wdXA9dCx0Ll9zb3VyY2U9dGhpcyk6dGhpcy5fcG9wdXA9bmV3IG8uUG9wdXAoZSx0aGlzKS5zZXRDb250ZW50KHQpLHRoaXN9LHNldFBvcHVwQ29udGVudDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnNldENvbnRlbnQodCksdGhpc30sdW5iaW5kUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cD1udWxsLHRoaXMub2ZmKFwiY2xpY2tcIix0aGlzLnRvZ2dsZVBvcHVwLHRoaXMpLm9mZihcInJlbW92ZVwiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vZmYoXCJtb3ZlXCIsdGhpcy5fbW92ZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMSksdGhpc30sZ2V0UG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXB9LF9tb3ZlUG9wdXA6ZnVuY3Rpb24odCl7dGhpcy5fcG9wdXAuc2V0TGF0TG5nKHQubGF0bG5nKX19KSxvLkxheWVyR3JvdXA9by5DbGFzcy5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbGF5ZXJzPXt9O3ZhciBlLGk7aWYodClmb3IoZT0wLGk9dC5sZW5ndGg7aT5lO2UrKyl0aGlzLmFkZExheWVyKHRbZV0pfSxhZGRMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldExheWVySWQodCk7cmV0dXJuIHRoaXMuX2xheWVyc1tlXT10LHRoaXMuX21hcCYmdGhpcy5fbWFwLmFkZExheWVyKHQpLHRoaXN9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPXQgaW4gdGhpcy5fbGF5ZXJzP3Q6dGhpcy5nZXRMYXllcklkKHQpO3JldHVybiB0aGlzLl9tYXAmJnRoaXMuX2xheWVyc1tlXSYmdGhpcy5fbWFwLnJlbW92ZUxheWVyKHRoaXMuX2xheWVyc1tlXSksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzfSxoYXNMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdD90IGluIHRoaXMuX2xheWVyc3x8dGhpcy5nZXRMYXllcklkKHQpaW4gdGhpcy5fbGF5ZXJzOiExfSxjbGVhckxheWVyczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2hMYXllcih0aGlzLnJlbW92ZUxheWVyLHRoaXMpLHRoaXN9LGludm9rZTpmdW5jdGlvbih0KXt2YXIgZSxpLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2ZvcihlIGluIHRoaXMuX2xheWVycylpPXRoaXMuX2xheWVyc1tlXSxpW3RdJiZpW3RdLmFwcGx5KGksbik7cmV0dXJuIHRoaXN9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuZWFjaExheWVyKHQuYWRkTGF5ZXIsdCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZWFjaExheWVyKHQucmVtb3ZlTGF5ZXIsdCksdGhpcy5fbWFwPW51bGx9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LGVhY2hMYXllcjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiB0aGlzLl9sYXllcnMpdC5jYWxsKGUsdGhpcy5fbGF5ZXJzW2ldKTtyZXR1cm4gdGhpc30sZ2V0TGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xheWVyc1t0XX0sZ2V0TGF5ZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuX2xheWVycyl0LnB1c2godGhpcy5fbGF5ZXJzW2VdKTtyZXR1cm4gdH0sc2V0WkluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludm9rZShcInNldFpJbmRleFwiLHQpfSxnZXRMYXllcklkOmZ1bmN0aW9uKHQpe3JldHVybiBvLnN0YW1wKHQpfX0pLG8ubGF5ZXJHcm91cD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uTGF5ZXJHcm91cCh0KX0sby5GZWF0dXJlR3JvdXA9by5MYXllckdyb3VwLmV4dGVuZCh7aW5jbHVkZXM6by5NaXhpbi5FdmVudHMsc3RhdGljczp7RVZFTlRTOlwiY2xpY2sgZGJsY2xpY2sgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBjb250ZXh0bWVudSBwb3B1cG9wZW4gcG9wdXBjbG9zZVwifSxhZGRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNMYXllcih0KT90aGlzOihcIm9uXCJpbiB0JiZ0Lm9uKG8uRmVhdHVyZUdyb3VwLkVWRU5UUyx0aGlzLl9wcm9wYWdhdGVFdmVudCx0aGlzKSxvLkxheWVyR3JvdXAucHJvdG90eXBlLmFkZExheWVyLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cENvbnRlbnQmJnQuYmluZFBvcHVwJiZ0LmJpbmRQb3B1cCh0aGlzLl9wb3B1cENvbnRlbnQsdGhpcy5fcG9wdXBPcHRpb25zKSx0aGlzLmZpcmUoXCJsYXllcmFkZFwiLHtsYXllcjp0fSkpfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNMYXllcih0KT8odCBpbiB0aGlzLl9sYXllcnMmJih0PXRoaXMuX2xheWVyc1t0XSksXCJvZmZcImluIHQmJnQub2ZmKG8uRmVhdHVyZUdyb3VwLkVWRU5UUyx0aGlzLl9wcm9wYWdhdGVFdmVudCx0aGlzKSxvLkxheWVyR3JvdXAucHJvdG90eXBlLnJlbW92ZUxheWVyLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cENvbnRlbnQmJnRoaXMuaW52b2tlKFwidW5iaW5kUG9wdXBcIiksdGhpcy5maXJlKFwibGF5ZXJyZW1vdmVcIix7bGF5ZXI6dH0pKTp0aGlzfSxiaW5kUG9wdXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcG9wdXBDb250ZW50PXQsdGhpcy5fcG9wdXBPcHRpb25zPWUsdGhpcy5pbnZva2UoXCJiaW5kUG9wdXBcIix0LGUpfSxvcGVuUG9wdXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX2xheWVycyl7dGhpcy5fbGF5ZXJzW2VdLm9wZW5Qb3B1cCh0KTticmVha31yZXR1cm4gdGhpc30sc2V0U3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW52b2tlKFwic2V0U3R5bGVcIix0KX0sYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52b2tlKFwiYnJpbmdUb0Zyb250XCIpfSxicmluZ1RvQmFjazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludm9rZShcImJyaW5nVG9CYWNrXCIpfSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgby5MYXRMbmdCb3VuZHM7cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3QuZXh0ZW5kKGUgaW5zdGFuY2VvZiBvLk1hcmtlcj9lLmdldExhdExuZygpOmUuZ2V0Qm91bmRzKCkpfSksdH0sX3Byb3BhZ2F0ZUV2ZW50OmZ1bmN0aW9uKHQpe3Q9by5leHRlbmQoe2xheWVyOnQudGFyZ2V0LHRhcmdldDp0aGlzfSx0KSx0aGlzLmZpcmUodC50eXBlLHQpfX0pLG8uZmVhdHVyZUdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgby5GZWF0dXJlR3JvdXAodCl9LG8uUGF0aD1vLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6W28uTWl4aW4uRXZlbnRzXSxzdGF0aWNzOntDTElQX1BBRERJTkc6ZnVuY3Rpb24oKXt2YXIgZT1vLkJyb3dzZXIubW9iaWxlPzEyODA6MmUzLGk9KGUvTWF0aC5tYXgodC5vdXRlcldpZHRoLHQub3V0ZXJIZWlnaHQpLTEpLzI7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4oLjUsaSkpfSgpfSxvcHRpb25zOntzdHJva2U6ITAsY29sb3I6XCIjMDAzM2ZmXCIsZGFzaEFycmF5Om51bGwsbGluZUNhcDpudWxsLGxpbmVKb2luOm51bGwsd2VpZ2h0OjUsb3BhY2l0eTouNSxmaWxsOiExLGZpbGxDb2xvcjpudWxsLGZpbGxPcGFjaXR5Oi4yLGNsaWNrYWJsZTohMH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtvLnNldE9wdGlvbnModGhpcyx0KX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyfHwodGhpcy5faW5pdEVsZW1lbnRzKCksdGhpcy5faW5pdEV2ZW50cygpKSx0aGlzLnByb2plY3RMYXRsbmdzKCksdGhpcy5fdXBkYXRlUGF0aCgpLHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fbWFwLl9wYXRoUm9vdC5hcHBlbmRDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuZmlyZShcImFkZFwiKSx0Lm9uKHt2aWV3cmVzZXQ6dGhpcy5wcm9qZWN0TGF0bG5ncyxtb3ZlZW5kOnRoaXMuX3VwZGF0ZVBhdGh9LHRoaXMpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Ll9wYXRoUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuZmlyZShcInJlbW92ZVwiKSx0aGlzLl9tYXA9bnVsbCxvLkJyb3dzZXIudm1sJiYodGhpcy5fY29udGFpbmVyPW51bGwsdGhpcy5fc3Ryb2tlPW51bGwsdGhpcy5fZmlsbD1udWxsKSx0Lm9mZih7dmlld3Jlc2V0OnRoaXMucHJvamVjdExhdGxuZ3MsbW92ZWVuZDp0aGlzLl91cGRhdGVQYXRofSx0aGlzKX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiBvLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9jb250YWluZXImJnRoaXMuX3VwZGF0ZVN0eWxlKCksdGhpc30scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl91cGRhdGVQYXRoKCkpLHRoaXN9fSksby5NYXAuaW5jbHVkZSh7X3VwZGF0ZVBhdGhWaWV3cG9ydDpmdW5jdGlvbigpe3ZhciB0PW8uUGF0aC5DTElQX1BBRERJTkcsZT10aGlzLmdldFNpemUoKSxpPW8uRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKSxuPWkubXVsdGlwbHlCeSgtMSkuX3N1YnRyYWN0KGUubXVsdGlwbHlCeSh0KS5fcm91bmQoKSkscz1uLmFkZChlLm11bHRpcGx5QnkoMSsyKnQpLl9yb3VuZCgpKTt0aGlzLl9wYXRoVmlld3BvcnQ9bmV3IG8uQm91bmRzKG4scyl9fSksby5QYXRoLlNWR19OUz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsby5Ccm93c2VyLnN2Zz0hKCFlLmNyZWF0ZUVsZW1lbnROU3x8IWUuY3JlYXRlRWxlbWVudE5TKG8uUGF0aC5TVkdfTlMsXCJzdmdcIikuY3JlYXRlU1ZHUmVjdCksby5QYXRoPW8uUGF0aC5leHRlbmQoe3N0YXRpY3M6e1NWRzpvLkJyb3dzZXIuc3ZnfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyO3JldHVybiBlJiZ0Lmxhc3RDaGlsZCE9PWUmJnQuYXBwZW5kQ2hpbGQoZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyLGk9dC5maXJzdENoaWxkO3JldHVybiBlJiZpIT09ZSYmdC5pbnNlcnRCZWZvcmUoZSxpKSx0aGlzfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7fSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGVFbGVtZW50TlMoby5QYXRoLlNWR19OUyx0KX0sX2luaXRFbGVtZW50czpmdW5jdGlvbigpe3RoaXMuX21hcC5faW5pdFBhdGhSb290KCksdGhpcy5faW5pdFBhdGgoKSx0aGlzLl9pbml0U3R5bGUoKX0sX2luaXRQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyPXRoaXMuX2NyZWF0ZUVsZW1lbnQoXCJnXCIpLHRoaXMuX3BhdGg9dGhpcy5fY3JlYXRlRWxlbWVudChcInBhdGhcIiksdGhpcy5vcHRpb25zLmNsYXNzTmFtZSYmby5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3BhdGgsdGhpcy5vcHRpb25zLmNsYXNzTmFtZSksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3BhdGgpfSxfaW5pdFN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0cm9rZSYmKHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVqb2luXCIsXCJyb3VuZFwiKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lY2FwXCIsXCJyb3VuZFwiKSksdGhpcy5vcHRpb25zLmZpbGwmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwiZmlsbC1ydWxlXCIsXCJldmVub2RkXCIpLHRoaXMub3B0aW9ucy5wb2ludGVyRXZlbnRzJiZ0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcInBvaW50ZXItZXZlbnRzXCIsdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpLHRoaXMub3B0aW9ucy5jbGlja2FibGV8fHRoaXMub3B0aW9ucy5wb2ludGVyRXZlbnRzfHx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLHRoaXMuX3VwZGF0ZVN0eWxlKCl9LF91cGRhdGVTdHlsZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zdHJva2U/KHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsdGhpcy5vcHRpb25zLmNvbG9yKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1vcGFjaXR5XCIsdGhpcy5vcHRpb25zLm9wYWNpdHkpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsdGhpcy5vcHRpb25zLndlaWdodCksdGhpcy5vcHRpb25zLmRhc2hBcnJheT90aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIix0aGlzLm9wdGlvbnMuZGFzaEFycmF5KTp0aGlzLl9wYXRoLnJlbW92ZUF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIiksdGhpcy5vcHRpb25zLmxpbmVDYXAmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlLWxpbmVjYXBcIix0aGlzLm9wdGlvbnMubGluZUNhcCksdGhpcy5vcHRpb25zLmxpbmVKb2luJiZ0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lam9pblwiLHRoaXMub3B0aW9ucy5saW5lSm9pbikpOnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpLHRoaXMub3B0aW9ucy5maWxsPyh0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLm9wdGlvbnMuZmlsbENvbG9yfHx0aGlzLm9wdGlvbnMuY29sb3IpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKFwiZmlsbC1vcGFjaXR5XCIsdGhpcy5vcHRpb25zLmZpbGxPcGFjaXR5KSk6dGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsXCJub25lXCIpfSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UGF0aFN0cmluZygpO3R8fCh0PVwiTTAgMFwiKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZShcImRcIix0KX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY2xpY2thYmxlKXsoby5Ccm93c2VyLnN2Z3x8IW8uQnJvd3Nlci52bWwpJiZvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aCxcImxlYWZsZXQtY2xpY2thYmxlXCIpLG8uRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLFwiY2xpY2tcIix0aGlzLl9vbk1vdXNlQ2xpY2ssdGhpcyk7Zm9yKHZhciB0PVtcImRibGNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNlb3ZlclwiLFwibW91c2VvdXRcIixcIm1vdXNlbW92ZVwiLFwiY29udGV4dG1lbnVcIl0sZT0wO2U8dC5sZW5ndGg7ZSsrKW8uRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLHRbZV0sdGhpcy5fZmlyZU1vdXNlRXZlbnQsdGhpcyl9fSxfb25Nb3VzZUNsaWNrOmZ1bmN0aW9uKHQpe3RoaXMuX21hcC5kcmFnZ2luZyYmdGhpcy5fbWFwLmRyYWdnaW5nLm1vdmVkKCl8fHRoaXMuX2ZpcmVNb3VzZUV2ZW50KHQpfSxfZmlyZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCl7aWYodGhpcy5fbWFwJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXJzKHQudHlwZSkpe3ZhciBlPXRoaXMuX21hcCxpPWUubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksbj1lLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGkpLHM9ZS5sYXllclBvaW50VG9MYXRMbmcobik7dGhpcy5maXJlKHQudHlwZSx7bGF0bG5nOnMsbGF5ZXJQb2ludDpuLGNvbnRhaW5lclBvaW50Omksb3JpZ2luYWxFdmVudDp0fSksXCJjb250ZXh0bWVudVwiPT09dC50eXBlJiZvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLFwibW91c2Vtb3ZlXCIhPT10LnR5cGUmJm8uRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKHQpfX19KSxvLk1hcC5pbmNsdWRlKHtfaW5pdFBhdGhSb290OmZ1bmN0aW9uKCl7dGhpcy5fcGF0aFJvb3R8fCh0aGlzLl9wYXRoUm9vdD1vLlBhdGgucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50KFwic3ZnXCIpLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHRoaXMuX3BhdGhSb290KSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmby5Ccm93c2VyLmFueTNkPyhvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aFJvb3QsXCJsZWFmbGV0LXpvb20tYW5pbWF0ZWRcIiksXG50aGlzLm9uKHt6b29tYW5pbTp0aGlzLl9hbmltYXRlUGF0aFpvb20sem9vbWVuZDp0aGlzLl9lbmRQYXRoWm9vbX0pKTpvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aFJvb3QsXCJsZWFmbGV0LXpvb20taGlkZVwiKSx0aGlzLm9uKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZVN2Z1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVTdmdWaWV3cG9ydCgpKX0sX2FuaW1hdGVQYXRoWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFpvb21TY2FsZSh0Lnpvb20pLGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQuY2VudGVyKS5fbXVsdGlwbHlCeSgtZSkuX2FkZCh0aGlzLl9wYXRoVmlld3BvcnQubWluKTt0aGlzLl9wYXRoUm9vdC5zdHlsZVtvLkRvbVV0aWwuVFJBTlNGT1JNXT1vLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGkpK1wiIHNjYWxlKFwiK2UrXCIpIFwiLHRoaXMuX3BhdGhab29taW5nPSEwfSxfZW5kUGF0aFpvb206ZnVuY3Rpb24oKXt0aGlzLl9wYXRoWm9vbWluZz0hMX0sX3VwZGF0ZVN2Z1ZpZXdwb3J0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhab29taW5nKXt0aGlzLl91cGRhdGVQYXRoVmlld3BvcnQoKTt2YXIgdD10aGlzLl9wYXRoVmlld3BvcnQsZT10Lm1pbixpPXQubWF4LG49aS54LWUueCxzPWkueS1lLnksYT10aGlzLl9wYXRoUm9vdCxyPXRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lO28uQnJvd3Nlci5tb2JpbGVXZWJraXQmJnIucmVtb3ZlQ2hpbGQoYSksby5Eb21VdGlsLnNldFBvc2l0aW9uKGEsZSksYS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLG4pLGEuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIscyksYS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsW2UueCxlLnksbixzXS5qb2luKFwiIFwiKSksby5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5hcHBlbmRDaGlsZChhKX19fSksby5QYXRoLmluY2x1ZGUoe2JpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3JldHVybiB0IGluc3RhbmNlb2Ygby5Qb3B1cD90aGlzLl9wb3B1cD10OigoIXRoaXMuX3BvcHVwfHxlKSYmKHRoaXMuX3BvcHVwPW5ldyBvLlBvcHVwKGUsdGhpcykpLHRoaXMuX3BvcHVwLnNldENvbnRlbnQodCkpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZHx8KHRoaXMub24oXCJjbGlja1wiLHRoaXMuX29wZW5Qb3B1cCx0aGlzKS5vbihcInJlbW92ZVwiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITApLHRoaXN9LHVuYmluZFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9bnVsbCx0aGlzLm9mZihcImNsaWNrXCIsdGhpcy5fb3BlblBvcHVwKS5vZmYoXCJyZW1vdmVcIix0aGlzLmNsb3NlUG9wdXApLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMSksdGhpc30sb3BlblBvcHVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wb3B1cCYmKHQ9dHx8dGhpcy5fbGF0bG5nfHx0aGlzLl9sYXRsbmdzW01hdGguZmxvb3IodGhpcy5fbGF0bG5ncy5sZW5ndGgvMildLHRoaXMuX29wZW5Qb3B1cCh7bGF0bG5nOnR9KSksdGhpc30sY2xvc2VQb3B1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX2Nsb3NlKCksdGhpc30sX29wZW5Qb3B1cDpmdW5jdGlvbih0KXt0aGlzLl9wb3B1cC5zZXRMYXRMbmcodC5sYXRsbmcpLHRoaXMuX21hcC5vcGVuUG9wdXAodGhpcy5fcG9wdXApfX0pLG8uQnJvd3Nlci52bWw9IW8uQnJvd3Nlci5zdmcmJmZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWUuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmlubmVySFRNTD0nPHY6c2hhcGUgYWRqPVwiMVwiLz4nO3ZhciBpPXQuZmlyc3RDaGlsZDtyZXR1cm4gaS5zdHlsZS5iZWhhdmlvcj1cInVybCgjZGVmYXVsdCNWTUwpXCIsaSYmXCJvYmplY3RcIj09dHlwZW9mIGkuYWRqfWNhdGNoKG4pe3JldHVybiExfX0oKSxvLlBhdGg9by5Ccm93c2VyLnN2Z3x8IW8uQnJvd3Nlci52bWw/by5QYXRoOm8uUGF0aC5leHRlbmQoe3N0YXRpY3M6e1ZNTDohMCxDTElQX1BBRERJTkc6LjAyfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gZS5uYW1lc3BhY2VzLmFkZChcImx2bWxcIixcInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIpLGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZUVsZW1lbnQoXCI8bHZtbDpcIit0KycgY2xhc3M9XCJsdm1sXCI+Jyl9fWNhdGNoKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGVFbGVtZW50KFwiPFwiK3QrJyB4bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sXCIgY2xhc3M9XCJsdm1sXCI+Jyl9fX0oKSxfaW5pdFBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXI9dGhpcy5fY3JlYXRlRWxlbWVudChcInNoYXBlXCIpO28uRG9tVXRpbC5hZGRDbGFzcyh0LFwibGVhZmxldC12bWwtc2hhcGVcIisodGhpcy5vcHRpb25zLmNsYXNzTmFtZT9cIiBcIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lOlwiXCIpKSx0aGlzLm9wdGlvbnMuY2xpY2thYmxlJiZvLkRvbVV0aWwuYWRkQ2xhc3ModCxcImxlYWZsZXQtY2xpY2thYmxlXCIpLHQuY29vcmRzaXplPVwiMSAxXCIsdGhpcy5fcGF0aD10aGlzLl9jcmVhdGVFbGVtZW50KFwicGF0aFwiKSx0LmFwcGVuZENoaWxkKHRoaXMuX3BhdGgpLHRoaXMuX21hcC5fcGF0aFJvb3QuYXBwZW5kQ2hpbGQodCl9LF9pbml0U3R5bGU6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVTdHlsZSgpfSxfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdHJva2UsZT10aGlzLl9maWxsLGk9dGhpcy5vcHRpb25zLG49dGhpcy5fY29udGFpbmVyO24uc3Ryb2tlZD1pLnN0cm9rZSxuLmZpbGxlZD1pLmZpbGwsaS5zdHJva2U/KHR8fCh0PXRoaXMuX3N0cm9rZT10aGlzLl9jcmVhdGVFbGVtZW50KFwic3Ryb2tlXCIpLHQuZW5kY2FwPVwicm91bmRcIixuLmFwcGVuZENoaWxkKHQpKSx0LndlaWdodD1pLndlaWdodCtcInB4XCIsdC5jb2xvcj1pLmNvbG9yLHQub3BhY2l0eT1pLm9wYWNpdHksaS5kYXNoQXJyYXk/dC5kYXNoU3R5bGU9by5VdGlsLmlzQXJyYXkoaS5kYXNoQXJyYXkpP2kuZGFzaEFycmF5LmpvaW4oXCIgXCIpOmkuZGFzaEFycmF5LnJlcGxhY2UoLyggKiwgKikvZyxcIiBcIik6dC5kYXNoU3R5bGU9XCJcIixpLmxpbmVDYXAmJih0LmVuZGNhcD1pLmxpbmVDYXAucmVwbGFjZShcImJ1dHRcIixcImZsYXRcIikpLGkubGluZUpvaW4mJih0LmpvaW5zdHlsZT1pLmxpbmVKb2luKSk6dCYmKG4ucmVtb3ZlQ2hpbGQodCksdGhpcy5fc3Ryb2tlPW51bGwpLGkuZmlsbD8oZXx8KGU9dGhpcy5fZmlsbD10aGlzLl9jcmVhdGVFbGVtZW50KFwiZmlsbFwiKSxuLmFwcGVuZENoaWxkKGUpKSxlLmNvbG9yPWkuZmlsbENvbG9yfHxpLmNvbG9yLGUub3BhY2l0eT1pLmZpbGxPcGFjaXR5KTplJiYobi5yZW1vdmVDaGlsZChlKSx0aGlzLl9maWxsPW51bGwpfSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRhaW5lci5zdHlsZTt0LmRpc3BsYXk9XCJub25lXCIsdGhpcy5fcGF0aC52PXRoaXMuZ2V0UGF0aFN0cmluZygpK1wiIFwiLHQuZGlzcGxheT1cIlwifX0pLG8uTWFwLmluY2x1ZGUoby5Ccm93c2VyLnN2Z3x8IW8uQnJvd3Nlci52bWw/e306e19pbml0UGF0aFJvb3Q6ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF0aFJvb3Qpe3ZhciB0PXRoaXMuX3BhdGhSb290PWUuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmNsYXNzTmFtZT1cImxlYWZsZXQtdm1sLWNvbnRhaW5lclwiLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHQpLHRoaXMub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KSx0aGlzLl91cGRhdGVQYXRoVmlld3BvcnQoKX19fSksby5Ccm93c2VyLmNhbnZhcz1mdW5jdGlvbigpe3JldHVybiEhZS5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHR9KCksby5QYXRoPW8uUGF0aC5TVkcmJiF0LkxfUFJFRkVSX0NBTlZBU3x8IW8uQnJvd3Nlci5jYW52YXM/by5QYXRoOm8uUGF0aC5leHRlbmQoe3N0YXRpY3M6e0NBTlZBUzohMCxTVkc6ITF9LHJlZHJhdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLnByb2plY3RMYXRsbmdzKCksdGhpcy5fcmVxdWVzdFVwZGF0ZSgpKSx0aGlzfSxzZXRTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gby5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fbWFwJiYodGhpcy5fdXBkYXRlU3R5bGUoKSx0aGlzLl9yZXF1ZXN0VXBkYXRlKCkpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKFwidmlld3Jlc2V0XCIsdGhpcy5wcm9qZWN0TGF0bG5ncyx0aGlzKS5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlUGF0aCx0aGlzKSx0aGlzLm9wdGlvbnMuY2xpY2thYmxlJiYodGhpcy5fbWFwLm9mZihcImNsaWNrXCIsdGhpcy5fb25DbGljayx0aGlzKSx0aGlzLl9tYXAub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZU1vdmUsdGhpcykpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSx0aGlzLmZpcmUoXCJyZW1vdmVcIiksdGhpcy5fbWFwPW51bGx9LF9yZXF1ZXN0VXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYhby5QYXRoLl91cGRhdGVSZXF1ZXN0JiYoby5QYXRoLl91cGRhdGVSZXF1ZXN0PW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX2ZpcmVNYXBNb3ZlRW5kLHRoaXMuX21hcCkpfSxfZmlyZU1hcE1vdmVFbmQ6ZnVuY3Rpb24oKXtvLlBhdGguX3VwZGF0ZVJlcXVlc3Q9bnVsbCx0aGlzLmZpcmUoXCJtb3ZlZW5kXCIpfSxfaW5pdEVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy5fbWFwLl9pbml0UGF0aFJvb3QoKSx0aGlzLl9jdHg9dGhpcy5fbWFwLl9jYW52YXNDdHh9LF91cGRhdGVTdHlsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0LnN0cm9rZSYmKHRoaXMuX2N0eC5saW5lV2lkdGg9dC53ZWlnaHQsdGhpcy5fY3R4LnN0cm9rZVN0eWxlPXQuY29sb3IpLHQuZmlsbCYmKHRoaXMuX2N0eC5maWxsU3R5bGU9dC5maWxsQ29sb3J8fHQuY29sb3IpLHQubGluZUNhcCYmKHRoaXMuX2N0eC5saW5lQ2FwPXQubGluZUNhcCksdC5saW5lSm9pbiYmKHRoaXMuX2N0eC5saW5lSm9pbj10LmxpbmVKb2luKX0sX2RyYXdQYXRoOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG4scyxhO2Zvcih0aGlzLl9jdHguYmVnaW5QYXRoKCksdD0wLGk9dGhpcy5fcGFydHMubGVuZ3RoO2k+dDt0Kyspe2ZvcihlPTAsbj10aGlzLl9wYXJ0c1t0XS5sZW5ndGg7bj5lO2UrKylzPXRoaXMuX3BhcnRzW3RdW2VdLGE9KDA9PT1lP1wibW92ZVwiOlwibGluZVwiKStcIlRvXCIsdGhpcy5fY3R4W2FdKHMueCxzLnkpO3RoaXMgaW5zdGFuY2VvZiBvLlBvbHlnb24mJnRoaXMuX2N0eC5jbG9zZVBhdGgoKX19LF9jaGVja0lmRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fcGFydHMubGVuZ3RofSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe2lmKCF0aGlzLl9jaGVja0lmRW1wdHkoKSl7dmFyIHQ9dGhpcy5fY3R4LGU9dGhpcy5vcHRpb25zO3RoaXMuX2RyYXdQYXRoKCksdC5zYXZlKCksdGhpcy5fdXBkYXRlU3R5bGUoKSxlLmZpbGwmJih0Lmdsb2JhbEFscGhhPWUuZmlsbE9wYWNpdHksdC5maWxsKGUuZmlsbFJ1bGV8fFwiZXZlbm9kZFwiKSksZS5zdHJva2UmJih0Lmdsb2JhbEFscGhhPWUub3BhY2l0eSx0LnN0cm9rZSgpKSx0LnJlc3RvcmUoKX19LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmKHRoaXMuX21hcC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLHRoaXMpLHRoaXMuX21hcC5vbihcImNsaWNrIGRibGNsaWNrIGNvbnRleHRtZW51XCIsdGhpcy5fZmlyZU1vdXNlRXZlbnQsdGhpcykpfSxfZmlyZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbnNQb2ludCh0LmxheWVyUG9pbnQpJiZ0aGlzLmZpcmUodC50eXBlLHQpfSxfb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCl7dGhpcy5fbWFwJiYhdGhpcy5fbWFwLl9hbmltYXRpbmdab29tJiYodGhpcy5fY29udGFpbnNQb2ludCh0LmxheWVyUG9pbnQpPyh0aGlzLl9jdHguY2FudmFzLnN0eWxlLmN1cnNvcj1cInBvaW50ZXJcIix0aGlzLl9tb3VzZUluc2lkZT0hMCx0aGlzLmZpcmUoXCJtb3VzZW92ZXJcIix0KSk6dGhpcy5fbW91c2VJbnNpZGUmJih0aGlzLl9jdHguY2FudmFzLnN0eWxlLmN1cnNvcj1cIlwiLHRoaXMuX21vdXNlSW5zaWRlPSExLHRoaXMuZmlyZShcIm1vdXNlb3V0XCIsdCkpKX19KSxvLk1hcC5pbmNsdWRlKG8uUGF0aC5TVkcmJiF0LkxfUFJFRkVSX0NBTlZBU3x8IW8uQnJvd3Nlci5jYW52YXM/e306e19pbml0UGF0aFJvb3Q6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3BhdGhSb290O2l8fChpPXRoaXMuX3BhdGhSb290PWUuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0PXRoaXMuX2NhbnZhc0N0eD1pLmdldENvbnRleHQoXCIyZFwiKSx0LmxpbmVDYXA9XCJyb3VuZFwiLHQubGluZUpvaW49XCJyb3VuZFwiLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKGkpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiYodGhpcy5fcGF0aFJvb3QuY2xhc3NOYW1lPVwibGVhZmxldC16b29tLWFuaW1hdGVkXCIsdGhpcy5vbihcInpvb21hbmltXCIsdGhpcy5fYW5pbWF0ZVBhdGhab29tKSx0aGlzLm9uKFwiem9vbWVuZFwiLHRoaXMuX2VuZFBhdGhab29tKSksdGhpcy5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVDYW52YXNWaWV3cG9ydCksdGhpcy5fdXBkYXRlQ2FudmFzVmlld3BvcnQoKSl9LF91cGRhdGVDYW52YXNWaWV3cG9ydDpmdW5jdGlvbigpe2lmKCF0aGlzLl9wYXRoWm9vbWluZyl7dGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCk7dmFyIHQ9dGhpcy5fcGF0aFZpZXdwb3J0LGU9dC5taW4saT10Lm1heC5zdWJ0cmFjdChlKSxuPXRoaXMuX3BhdGhSb290O28uRG9tVXRpbC5zZXRQb3NpdGlvbihuLGUpLG4ud2lkdGg9aS54LG4uaGVpZ2h0PWkueSxuLmdldENvbnRleHQoXCIyZFwiKS50cmFuc2xhdGUoLWUueCwtZS55KX19fSksby5MaW5lVXRpbD17c2ltcGxpZnk6ZnVuY3Rpb24odCxlKXtpZighZXx8IXQubGVuZ3RoKXJldHVybiB0LnNsaWNlKCk7dmFyIGk9ZSplO3JldHVybiB0PXRoaXMuX3JlZHVjZVBvaW50cyh0LGkpLHQ9dGhpcy5fc2ltcGxpZnlEUCh0LGkpfSxwb2ludFRvU2VnbWVudERpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpLCEwKSl9LGNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKX0sX3NpbXBsaWZ5RFA6ZnVuY3Rpb24odCxlKXt2YXIgbj10Lmxlbmd0aCxvPXR5cGVvZiBVaW50OEFycmF5IT1pK1wiXCI/VWludDhBcnJheTpBcnJheSxzPW5ldyBvKG4pO3NbMF09c1tuLTFdPTEsdGhpcy5fc2ltcGxpZnlEUFN0ZXAodCxzLGUsMCxuLTEpO3ZhciBhLHI9W107Zm9yKGE9MDtuPmE7YSsrKXNbYV0mJnIucHVzaCh0W2FdKTtyZXR1cm4gcn0sX3NpbXBsaWZ5RFBTdGVwOmZ1bmN0aW9uKHQsZSxpLG4sbyl7dmFyIHMsYSxyLGg9MDtmb3IoYT1uKzE7by0xPj1hO2ErKylyPXRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHRbYV0sdFtuXSx0W29dLCEwKSxyPmgmJihzPWEsaD1yKTtoPmkmJihlW3NdPTEsdGhpcy5fc2ltcGxpZnlEUFN0ZXAodCxlLGksbixzKSx0aGlzLl9zaW1wbGlmeURQU3RlcCh0LGUsaSxzLG8pKX0sX3JlZHVjZVBvaW50czpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1bdFswXV0sbj0xLG89MCxzPXQubGVuZ3RoO3M+bjtuKyspdGhpcy5fc3FEaXN0KHRbbl0sdFtvXSk+ZSYmKGkucHVzaCh0W25dKSxvPW4pO3JldHVybiBzLTE+byYmaS5wdXNoKHRbcy0xXSksaX0sY2xpcFNlZ21lbnQ6ZnVuY3Rpb24odCxlLGksbil7dmFyIG8scyxhLHI9bj90aGlzLl9sYXN0Q29kZTp0aGlzLl9nZXRCaXRDb2RlKHQsaSksaD10aGlzLl9nZXRCaXRDb2RlKGUsaSk7Zm9yKHRoaXMuX2xhc3RDb2RlPWg7Oyl7aWYoIShyfGgpKXJldHVyblt0LGVdO2lmKHImaClyZXR1cm4hMTtvPXJ8fGgscz10aGlzLl9nZXRFZGdlSW50ZXJzZWN0aW9uKHQsZSxvLGkpLGE9dGhpcy5fZ2V0Qml0Q29kZShzLGkpLG89PT1yPyh0PXMscj1hKTooZT1zLGg9YSl9fSxfZ2V0RWRnZUludGVyc2VjdGlvbjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcz1lLngtdC54LGE9ZS55LXQueSxyPW4ubWluLGg9bi5tYXg7cmV0dXJuIDgmaT9uZXcgby5Qb2ludCh0LngrcyooaC55LXQueSkvYSxoLnkpOjQmaT9uZXcgby5Qb2ludCh0Lngrcyooci55LXQueSkvYSxyLnkpOjImaT9uZXcgby5Qb2ludChoLngsdC55K2EqKGgueC10LngpL3MpOjEmaT9uZXcgby5Qb2ludChyLngsdC55K2EqKHIueC10LngpL3MpOnZvaWQgMH0sX2dldEJpdENvZGU6ZnVuY3Rpb24odCxlKXt2YXIgaT0wO3JldHVybiB0Lng8ZS5taW4ueD9pfD0xOnQueD5lLm1heC54JiYoaXw9MiksdC55PGUubWluLnk/aXw9NDp0Lnk+ZS5tYXgueSYmKGl8PTgpLGl9LF9zcURpc3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLngtdC54LG49ZS55LXQueTtyZXR1cm4gaSppK24qbn0sX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBzLGE9ZS54LHI9ZS55LGg9aS54LWEsbD1pLnktcix1PWgqaCtsKmw7cmV0dXJuIHU+MCYmKHM9KCh0LngtYSkqaCsodC55LXIpKmwpL3Uscz4xPyhhPWkueCxyPWkueSk6cz4wJiYoYSs9aCpzLHIrPWwqcykpLGg9dC54LWEsbD10LnktcixuP2gqaCtsKmw6bmV3IG8uUG9pbnQoYSxyKX19LG8uUG9seWxpbmU9by5QYXRoLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe28uUGF0aC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSksdGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0KX0sb3B0aW9uczp7c21vb3RoRmFjdG9yOjEsbm9DbGlwOiExfSxwcm9qZWN0TGF0bG5nczpmdW5jdGlvbigpe3RoaXMuX29yaWdpbmFsUG9pbnRzPVtdO2Zvcih2YXIgdD0wLGU9dGhpcy5fbGF0bG5ncy5sZW5ndGg7ZT50O3QrKyl0aGlzLl9vcmlnaW5hbFBvaW50c1t0XT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZ3NbdF0pfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLl9wYXJ0cy5sZW5ndGgsaT1cIlwiO2U+dDt0KyspaSs9dGhpcy5fZ2V0UGF0aFBhcnRTdHIodGhpcy5fcGFydHNbdF0pO3JldHVybiBpfSxnZXRMYXRMbmdzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdGxuZ3N9LHNldExhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZ3M9dGhpcy5fY29udmVydExhdExuZ3ModCksdGhpcy5yZWRyYXcoKX0sYWRkTGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmdzLnB1c2goby5sYXRMbmcodCkpLHRoaXMucmVkcmF3KCl9LHNwbGljZUxhdExuZ3M6ZnVuY3Rpb24oKXt2YXIgdD1bXS5zcGxpY2UuYXBwbHkodGhpcy5fbGF0bG5ncyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9jb252ZXJ0TGF0TG5ncyh0aGlzLl9sYXRsbmdzLCEwKSx0aGlzLnJlZHJhdygpLHR9LGNsb3Nlc3RMYXllclBvaW50OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLG49MS8wLHM9dGhpcy5fcGFydHMsYT1udWxsLHI9MCxoPXMubGVuZ3RoO2g+cjtyKyspZm9yKHZhciBsPXNbcl0sdT0xLGM9bC5sZW5ndGg7Yz51O3UrKyl7ZT1sW3UtMV0saT1sW3VdO3ZhciBkPW8uTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpLCEwKTtuPmQmJihuPWQsYT1vLkxpbmVVdGlsLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCh0LGUsaSkpfXJldHVybiBhJiYoYS5kaXN0YW5jZT1NYXRoLnNxcnQobikpLGF9LGdldEJvdW5kczpmdW5jdGlvbigpe3JldHVybiBuZXcgby5MYXRMbmdCb3VuZHModGhpcy5nZXRMYXRMbmdzKCkpfSxfY29udmVydExhdExuZ3M6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLHM9ZT90OltdO2ZvcihpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKXtpZihvLlV0aWwuaXNBcnJheSh0W2ldKSYmXCJudW1iZXJcIiE9dHlwZW9mIHRbaV1bMF0pcmV0dXJuO3NbaV09by5sYXRMbmcodFtpXSl9cmV0dXJuIHN9LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7by5QYXRoLnByb3RvdHlwZS5faW5pdEV2ZW50cy5jYWxsKHRoaXMpfSxfZ2V0UGF0aFBhcnRTdHI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9by5QYXRoLlZNTCxuPTAscz10Lmxlbmd0aCxhPVwiXCI7cz5uO24rKyllPXRbbl0saSYmZS5fcm91bmQoKSxhKz0obj9cIkxcIjpcIk1cIikrZS54K1wiIFwiK2UueTtyZXR1cm4gYX0sX2NsaXBQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbj10aGlzLl9vcmlnaW5hbFBvaW50cyxzPW4ubGVuZ3RoO2lmKHRoaXMub3B0aW9ucy5ub0NsaXApcmV0dXJuIHZvaWQodGhpcy5fcGFydHM9W25dKTt0aGlzLl9wYXJ0cz1bXTt2YXIgYT10aGlzLl9wYXJ0cyxyPXRoaXMuX21hcC5fcGF0aFZpZXdwb3J0LGg9by5MaW5lVXRpbDtmb3IodD0wLGU9MDtzLTE+dDt0KyspaT1oLmNsaXBTZWdtZW50KG5bdF0sblt0KzFdLHIsdCksaSYmKGFbZV09YVtlXXx8W10sYVtlXS5wdXNoKGlbMF0pLChpWzFdIT09blt0KzFdfHx0PT09cy0yKSYmKGFbZV0ucHVzaChpWzFdKSxlKyspKX0sX3NpbXBsaWZ5UG9pbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3BhcnRzLGU9by5MaW5lVXRpbCxpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKXRbaV09ZS5zaW1wbGlmeSh0W2ldLHRoaXMub3B0aW9ucy5zbW9vdGhGYWN0b3IpfSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe3RoaXMuX21hcCYmKHRoaXMuX2NsaXBQb2ludHMoKSx0aGlzLl9zaW1wbGlmeVBvaW50cygpLG8uUGF0aC5wcm90b3R5cGUuX3VwZGF0ZVBhdGguY2FsbCh0aGlzKSl9fSksby5wb2x5bGluZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5Qb2x5bGluZSh0LGUpfSxvLlBvbHlVdGlsPXt9LG8uUG9seVV0aWwuY2xpcFBvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgaSxuLHMsYSxyLGgsbCx1LGMsZD1bMSw0LDIsOF0scD1vLkxpbmVVdGlsO2ZvcihuPTAsbD10Lmxlbmd0aDtsPm47bisrKXRbbl0uX2NvZGU9cC5fZ2V0Qml0Q29kZSh0W25dLGUpO2ZvcihhPTA7ND5hO2ErKyl7Zm9yKHU9ZFthXSxpPVtdLG49MCxsPXQubGVuZ3RoLHM9bC0xO2w+bjtzPW4rKylyPXRbbl0saD10W3NdLHIuX2NvZGUmdT9oLl9jb2RlJnV8fChjPXAuX2dldEVkZ2VJbnRlcnNlY3Rpb24oaCxyLHUsZSksYy5fY29kZT1wLl9nZXRCaXRDb2RlKGMsZSksaS5wdXNoKGMpKTooaC5fY29kZSZ1JiYoYz1wLl9nZXRFZGdlSW50ZXJzZWN0aW9uKGgscix1LGUpLGMuX2NvZGU9cC5fZ2V0Qml0Q29kZShjLGUpLGkucHVzaChjKSksaS5wdXNoKHIpKTt0PWl9cmV0dXJuIHR9LG8uUG9seWdvbj1vLlBvbHlsaW5lLmV4dGVuZCh7b3B0aW9uczp7ZmlsbDohMH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe28uUG9seWxpbmUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLHQsZSksdGhpcy5faW5pdFdpdGhIb2xlcyh0KX0sX2luaXRXaXRoSG9sZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxuO2lmKHQmJm8uVXRpbC5pc0FycmF5KHRbMF0pJiZcIm51bWJlclwiIT10eXBlb2YgdFswXVswXSlmb3IodGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0WzBdKSx0aGlzLl9ob2xlcz10LnNsaWNlKDEpLGU9MCxpPXRoaXMuX2hvbGVzLmxlbmd0aDtpPmU7ZSsrKW49dGhpcy5faG9sZXNbZV09dGhpcy5fY29udmVydExhdExuZ3ModGhpcy5faG9sZXNbZV0pLG5bMF0uZXF1YWxzKG5bbi5sZW5ndGgtMV0pJiZuLnBvcCgpO3Q9dGhpcy5fbGF0bG5ncyx0Lmxlbmd0aD49MiYmdFswXS5lcXVhbHModFt0Lmxlbmd0aC0xXSkmJnQucG9wKCl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7aWYoby5Qb2x5bGluZS5wcm90b3R5cGUucHJvamVjdExhdGxuZ3MuY2FsbCh0aGlzKSx0aGlzLl9ob2xlUG9pbnRzPVtdLHRoaXMuX2hvbGVzKXt2YXIgdCxlLGksbjtmb3IodD0wLGk9dGhpcy5faG9sZXMubGVuZ3RoO2k+dDt0KyspZm9yKHRoaXMuX2hvbGVQb2ludHNbdF09W10sZT0wLG49dGhpcy5faG9sZXNbdF0ubGVuZ3RoO24+ZTtlKyspdGhpcy5faG9sZVBvaW50c1t0XVtlXT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2hvbGVzW3RdW2VdKX19LHNldExhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJm8uVXRpbC5pc0FycmF5KHRbMF0pJiZcIm51bWJlclwiIT10eXBlb2YgdFswXVswXT8odGhpcy5faW5pdFdpdGhIb2xlcyh0KSx0aGlzLnJlZHJhdygpKTpvLlBvbHlsaW5lLnByb3RvdHlwZS5zZXRMYXRMbmdzLmNhbGwodGhpcyx0KX0sX2NsaXBQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9vcmlnaW5hbFBvaW50cyxlPVtdO2lmKHRoaXMuX3BhcnRzPVt0XS5jb25jYXQodGhpcy5faG9sZVBvaW50cyksIXRoaXMub3B0aW9ucy5ub0NsaXApe2Zvcih2YXIgaT0wLG49dGhpcy5fcGFydHMubGVuZ3RoO24+aTtpKyspe3ZhciBzPW8uUG9seVV0aWwuY2xpcFBvbHlnb24odGhpcy5fcGFydHNbaV0sdGhpcy5fbWFwLl9wYXRoVmlld3BvcnQpO3MubGVuZ3RoJiZlLnB1c2gocyl9dGhpcy5fcGFydHM9ZX19LF9nZXRQYXRoUGFydFN0cjpmdW5jdGlvbih0KXt2YXIgZT1vLlBvbHlsaW5lLnByb3RvdHlwZS5fZ2V0UGF0aFBhcnRTdHIuY2FsbCh0aGlzLHQpO3JldHVybiBlKyhvLkJyb3dzZXIuc3ZnP1wielwiOlwieFwiKX19KSxvLnBvbHlnb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uUG9seWdvbih0LGUpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIG8uRmVhdHVyZUdyb3VwLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2xheWVycz17fSx0aGlzLl9vcHRpb25zPWUsdGhpcy5zZXRMYXRMbmdzKHQpfSxzZXRMYXRMbmdzOmZ1bmN0aW9uKGUpe3ZhciBpPTAsbj1lLmxlbmd0aDtmb3IodGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7bj5pP3Quc2V0TGF0TG5ncyhlW2krK10pOnRoaXMucmVtb3ZlTGF5ZXIodCl9LHRoaXMpO24+aTspdGhpcy5hZGRMYXllcihuZXcgdChlW2krK10sdGhpcy5fb3B0aW9ucykpO3JldHVybiB0aGlzfSxnZXRMYXRMbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3QucHVzaChlLmdldExhdExuZ3MoKSl9KSx0fX0pfW8uTXVsdGlQb2x5bGluZT10KG8uUG9seWxpbmUpLG8uTXVsdGlQb2x5Z29uPXQoby5Qb2x5Z29uKSxvLm11bHRpUG9seWxpbmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uTXVsdGlQb2x5bGluZSh0LGUpfSxvLm11bHRpUG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgby5NdWx0aVBvbHlnb24odCxlKX19KCksby5SZWN0YW5nbGU9by5Qb2x5Z29uLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe28uUG9seWdvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdGhpcy5fYm91bmRzVG9MYXRMbmdzKHQpLGUpfSxzZXRCb3VuZHM6ZnVuY3Rpb24odCl7dGhpcy5zZXRMYXRMbmdzKHRoaXMuX2JvdW5kc1RvTGF0TG5ncyh0KSl9LF9ib3VuZHNUb0xhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9by5sYXRMbmdCb3VuZHModCksW3QuZ2V0U291dGhXZXN0KCksdC5nZXROb3J0aFdlc3QoKSx0LmdldE5vcnRoRWFzdCgpLHQuZ2V0U291dGhFYXN0KCldfX0pLG8ucmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLlJlY3RhbmdsZSh0LGUpfSxvLkNpcmNsZT1vLlBhdGguZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXtvLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGkpLHRoaXMuX2xhdGxuZz1vLmxhdExuZyh0KSx0aGlzLl9tUmFkaXVzPWV9LG9wdGlvbnM6e2ZpbGw6ITB9LHNldExhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5nPW8ubGF0TG5nKHQpLHRoaXMucmVkcmF3KCl9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbVJhZGl1cz10LHRoaXMucmVkcmF3KCl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TG5nUmFkaXVzKCksZT10aGlzLl9sYXRsbmcsaT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFtlLmxhdCxlLmxuZy10XSk7dGhpcy5fcG9pbnQ9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChlKSx0aGlzLl9yYWRpdXM9TWF0aC5tYXgodGhpcy5fcG9pbnQueC1pLngsMSl9LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldExuZ1JhZGl1cygpLGU9dGhpcy5fbVJhZGl1cy80MDA3NTAxNyozNjAsaT10aGlzLl9sYXRsbmc7cmV0dXJuIG5ldyBvLkxhdExuZ0JvdW5kcyhbaS5sYXQtZSxpLmxuZy10XSxbaS5sYXQrZSxpLmxuZyt0XSl9LGdldExhdExuZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXRsbmd9LGdldFBhdGhTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludCxlPXRoaXMuX3JhZGl1cztyZXR1cm4gdGhpcy5fY2hlY2tJZkVtcHR5KCk/XCJcIjpvLkJyb3dzZXIuc3ZnP1wiTVwiK3QueCtcIixcIisodC55LWUpK1wiQVwiK2UrXCIsXCIrZStcIiwwLDEsMSxcIisodC54LS4xKStcIixcIisodC55LWUpK1wiIHpcIjoodC5fcm91bmQoKSxlPU1hdGgucm91bmQoZSksXCJBTCBcIit0LngrXCIsXCIrdC55K1wiIFwiK2UrXCIsXCIrZStcIiAwLDIzNTkyNjAwXCIpfSxnZXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbVJhZGl1c30sX2dldExhdFJhZGl1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tUmFkaXVzLzQwMDc1MDE3KjM2MH0sX2dldExuZ1JhZGl1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRMYXRSYWRpdXMoKS9NYXRoLmNvcyhvLkxhdExuZy5ERUdfVE9fUkFEKnRoaXMuX2xhdGxuZy5sYXQpfSxfY2hlY2tJZkVtcHR5OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX21hcClyZXR1cm4hMTt2YXIgdD10aGlzLl9tYXAuX3BhdGhWaWV3cG9ydCxlPXRoaXMuX3JhZGl1cyxpPXRoaXMuX3BvaW50O3JldHVybiBpLngtZT50Lm1heC54fHxpLnktZT50Lm1heC55fHxpLngrZTx0Lm1pbi54fHxpLnkrZTx0Lm1pbi55fX0pLG8uY2lyY2xlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IG8uQ2lyY2xlKHQsZSxpKX0sby5DaXJjbGVNYXJrZXI9by5DaXJjbGUuZXh0ZW5kKHtvcHRpb25zOntyYWRpdXM6MTAsd2VpZ2h0OjJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLkNpcmNsZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxudWxsLGUpLHRoaXMuX3JhZGl1cz10aGlzLm9wdGlvbnMucmFkaXVzfSxwcm9qZWN0TGF0bG5nczpmdW5jdGlvbigpe3RoaXMuX3BvaW50PXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fbGF0bG5nKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7by5DaXJjbGUucHJvdG90eXBlLl91cGRhdGVTdHlsZS5jYWxsKHRoaXMpLHRoaXMuc2V0UmFkaXVzKHRoaXMub3B0aW9ucy5yYWRpdXMpfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIG8uQ2lyY2xlLnByb3RvdHlwZS5zZXRMYXRMbmcuY2FsbCh0aGlzLHQpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5faXNPcGVuJiZ0aGlzLl9wb3B1cC5zZXRMYXRMbmcodCksdGhpc30sc2V0UmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucmFkaXVzPXRoaXMuX3JhZGl1cz10LHRoaXMucmVkcmF3KCl9LGdldFJhZGl1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXN9fSksby5jaXJjbGVNYXJrZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG8uQ2lyY2xlTWFya2VyKHQsZSl9LG8uUG9seWxpbmUuaW5jbHVkZShvLlBhdGguQ0FOVkFTP3tfY29udGFpbnNQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpLG4scyxhLHIsaCxsLHU9dGhpcy5vcHRpb25zLndlaWdodC8yO2ZvcihvLkJyb3dzZXIudG91Y2gmJih1Kz0xMCksaT0wLGE9dGhpcy5fcGFydHMubGVuZ3RoO2E+aTtpKyspZm9yKGw9dGhpcy5fcGFydHNbaV0sbj0wLHI9bC5sZW5ndGgscz1yLTE7cj5uO3M9bisrKWlmKChlfHwwIT09bikmJihoPW8uTGluZVV0aWwucG9pbnRUb1NlZ21lbnREaXN0YW5jZSh0LGxbc10sbFtuXSksdT49aCkpcmV0dXJuITA7cmV0dXJuITF9fTp7fSksby5Qb2x5Z29uLmluY2x1ZGUoby5QYXRoLkNBTlZBUz97X2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHMsYSxyLGgsbCx1PSExO2lmKG8uUG9seWxpbmUucHJvdG90eXBlLl9jb250YWluc1BvaW50LmNhbGwodGhpcyx0LCEwKSlyZXR1cm4hMDtmb3Iocz0wLGg9dGhpcy5fcGFydHMubGVuZ3RoO2g+cztzKyspZm9yKGU9dGhpcy5fcGFydHNbc10sYT0wLGw9ZS5sZW5ndGgscj1sLTE7bD5hO3I9YSsrKWk9ZVthXSxuPWVbcl0saS55PnQueSE9bi55PnQueSYmdC54PChuLngtaS54KSoodC55LWkueSkvKG4ueS1pLnkpK2kueCYmKHU9IXUpO3JldHVybiB1fX06e30pLG8uQ2lyY2xlLmluY2x1ZGUoby5QYXRoLkNBTlZBUz97X2RyYXdQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcG9pbnQ7dGhpcy5fY3R4LmJlZ2luUGF0aCgpLHRoaXMuX2N0eC5hcmModC54LHQueSx0aGlzLl9yYWRpdXMsMCwyKk1hdGguUEksITEpfSxfY29udGFpbnNQb2ludDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wb2ludCxpPXRoaXMub3B0aW9ucy5zdHJva2U/dGhpcy5vcHRpb25zLndlaWdodC8yOjA7cmV0dXJuIHQuZGlzdGFuY2VUbyhlKTw9dGhpcy5fcmFkaXVzK2l9fTp7fSksby5DaXJjbGVNYXJrZXIuaW5jbHVkZShvLlBhdGguQ0FOVkFTP3tfdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXtvLlBhdGgucHJvdG90eXBlLl91cGRhdGVTdHlsZS5jYWxsKHRoaXMpfX06e30pLG8uR2VvSlNPTj1vLkZlYXR1cmVHcm91cC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtvLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sYXllcnM9e30sdCYmdGhpcy5hZGREYXRhKHQpfSxhZGREYXRhOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixzPW8uVXRpbC5pc0FycmF5KHQpP3Q6dC5mZWF0dXJlcztpZihzKXtmb3IoZT0wLGk9cy5sZW5ndGg7aT5lO2UrKyluPXNbZV0sKG4uZ2VvbWV0cmllc3x8bi5nZW9tZXRyeXx8bi5mZWF0dXJlc3x8bi5jb29yZGluYXRlcykmJnRoaXMuYWRkRGF0YShzW2VdKTtyZXR1cm4gdGhpc312YXIgYT10aGlzLm9wdGlvbnM7aWYoIWEuZmlsdGVyfHxhLmZpbHRlcih0KSl7dmFyIHI9by5HZW9KU09OLmdlb21ldHJ5VG9MYXllcih0LGEucG9pbnRUb0xheWVyLGEuY29vcmRzVG9MYXRMbmcsYSk7cmV0dXJuIHIuZmVhdHVyZT1vLkdlb0pTT04uYXNGZWF0dXJlKHQpLHIuZGVmYXVsdE9wdGlvbnM9ci5vcHRpb25zLHRoaXMucmVzZXRTdHlsZShyKSxhLm9uRWFjaEZlYXR1cmUmJmEub25FYWNoRmVhdHVyZSh0LHIpLHRoaXMuYWRkTGF5ZXIocil9fSxyZXNldFN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5zdHlsZTtlJiYoby5VdGlsLmV4dGVuZCh0Lm9wdGlvbnMsdC5kZWZhdWx0T3B0aW9ucyksdGhpcy5fc2V0TGF5ZXJTdHlsZSh0LGUpKX0sc2V0U3R5bGU6ZnVuY3Rpb24odCl7dGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24oZSl7dGhpcy5fc2V0TGF5ZXJTdHlsZShlLHQpfSx0aGlzKX0sX3NldExheWVyU3R5bGU6ZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1lKHQuZmVhdHVyZSkpLHQuc2V0U3R5bGUmJnQuc2V0U3R5bGUoZSl9fSksby5leHRlbmQoby5HZW9KU09OLHtnZW9tZXRyeVRvTGF5ZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIHMsYSxyLGgsbD1cIkZlYXR1cmVcIj09PXQudHlwZT90Lmdlb21ldHJ5OnQsdT1sLmNvb3JkaW5hdGVzLGM9W107c3dpdGNoKGk9aXx8dGhpcy5jb29yZHNUb0xhdExuZyxsLnR5cGUpe2Nhc2VcIlBvaW50XCI6cmV0dXJuIHM9aSh1KSxlP2UodCxzKTpuZXcgby5NYXJrZXIocyk7Y2FzZVwiTXVsdGlQb2ludFwiOmZvcihyPTAsaD11Lmxlbmd0aDtoPnI7cisrKXM9aSh1W3JdKSxjLnB1c2goZT9lKHQscyk6bmV3IG8uTWFya2VyKHMpKTtyZXR1cm4gbmV3IG8uRmVhdHVyZUdyb3VwKGMpO2Nhc2VcIkxpbmVTdHJpbmdcIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDAsaSksbmV3IG8uUG9seWxpbmUoYSxuKTtjYXNlXCJQb2x5Z29uXCI6aWYoMj09PXUubGVuZ3RoJiYhdVsxXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBHZW9KU09OIG9iamVjdC5cIik7cmV0dXJuIGE9dGhpcy5jb29yZHNUb0xhdExuZ3ModSwxLGkpLG5ldyBvLlBvbHlnb24oYSxuKTtjYXNlXCJNdWx0aUxpbmVTdHJpbmdcIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDEsaSksbmV3IG8uTXVsdGlQb2x5bGluZShhLG4pO2Nhc2VcIk11bHRpUG9seWdvblwiOnJldHVybiBhPXRoaXMuY29vcmRzVG9MYXRMbmdzKHUsMixpKSxuZXcgby5NdWx0aVBvbHlnb24oYSxuKTtjYXNlXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjpmb3Iocj0wLGg9bC5nZW9tZXRyaWVzLmxlbmd0aDtoPnI7cisrKWMucHVzaCh0aGlzLmdlb21ldHJ5VG9MYXllcih7Z2VvbWV0cnk6bC5nZW9tZXRyaWVzW3JdLHR5cGU6XCJGZWF0dXJlXCIscHJvcGVydGllczp0LnByb3BlcnRpZXN9LGUsaSxuKSk7cmV0dXJuIG5ldyBvLkZlYXR1cmVHcm91cChjKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgR2VvSlNPTiBvYmplY3QuXCIpfX0sY29vcmRzVG9MYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkxhdExuZyh0WzFdLHRbMF0sdFsyXSl9LGNvb3Jkc1RvTGF0TG5nczpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxzLGE9W107Zm9yKG89MCxzPXQubGVuZ3RoO3M+bztvKyspbj1lP3RoaXMuY29vcmRzVG9MYXRMbmdzKHRbb10sZS0xLGkpOihpfHx0aGlzLmNvb3Jkc1RvTGF0TG5nKSh0W29dKSxhLnB1c2gobik7cmV0dXJuIGF9LGxhdExuZ1RvQ29vcmRzOmZ1bmN0aW9uKHQpe3ZhciBlPVt0LmxuZyx0LmxhdF07cmV0dXJuIHQuYWx0IT09aSYmZS5wdXNoKHQuYWx0KSxlfSxsYXRMbmdzVG9Db29yZHM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MCxuPXQubGVuZ3RoO24+aTtpKyspZS5wdXNoKG8uR2VvSlNPTi5sYXRMbmdUb0Nvb3Jkcyh0W2ldKSk7cmV0dXJuIGV9LGdldEZlYXR1cmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5mZWF0dXJlP28uZXh0ZW5kKHt9LHQuZmVhdHVyZSx7Z2VvbWV0cnk6ZX0pOm8uR2VvSlNPTi5hc0ZlYXR1cmUoZSl9LGFzRmVhdHVyZTpmdW5jdGlvbih0KXtyZXR1cm5cIkZlYXR1cmVcIj09PXQudHlwZT90Ont0eXBlOlwiRmVhdHVyZVwiLHByb3BlcnRpZXM6e30sZ2VvbWV0cnk6dH19fSk7dmFyIGE9e3RvR2VvSlNPTjpmdW5jdGlvbigpe3JldHVybiBvLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOlwiUG9pbnRcIixjb29yZGluYXRlczpvLkdlb0pTT04ubGF0TG5nVG9Db29yZHModGhpcy5nZXRMYXRMbmcoKSl9KX19O28uTWFya2VyLmluY2x1ZGUoYSksby5DaXJjbGUuaW5jbHVkZShhKSxvLkNpcmNsZU1hcmtlci5pbmNsdWRlKGEpLG8uUG9seWxpbmUuaW5jbHVkZSh7dG9HZW9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIG8uR2VvSlNPTi5nZXRGZWF0dXJlKHRoaXMse3R5cGU6XCJMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6by5HZW9KU09OLmxhdExuZ3NUb0Nvb3Jkcyh0aGlzLmdldExhdExuZ3MoKSl9KX19KSxvLlBvbHlnb24uaW5jbHVkZSh7dG9HZW9KU09OOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG49W28uR2VvSlNPTi5sYXRMbmdzVG9Db29yZHModGhpcy5nZXRMYXRMbmdzKCkpXTtpZihuWzBdLnB1c2goblswXVswXSksdGhpcy5faG9sZXMpZm9yKHQ9MCxlPXRoaXMuX2hvbGVzLmxlbmd0aDtlPnQ7dCsrKWk9by5HZW9KU09OLmxhdExuZ3NUb0Nvb3Jkcyh0aGlzLl9ob2xlc1t0XSksaS5wdXNoKGlbMF0pLG4ucHVzaChpKTtyZXR1cm4gby5HZW9KU09OLmdldEZlYXR1cmUodGhpcyx7dHlwZTpcIlBvbHlnb25cIixjb29yZGluYXRlczpufSl9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXtlLnB1c2godC50b0dlb0pTT04oKS5nZW9tZXRyeS5jb29yZGluYXRlcyl9KSxvLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOnQsY29vcmRpbmF0ZXM6ZX0pfX1vLk11bHRpUG9seWxpbmUuaW5jbHVkZSh7dG9HZW9KU09OOnQoXCJNdWx0aUxpbmVTdHJpbmdcIil9KSxvLk11bHRpUG9seWdvbi5pbmNsdWRlKHt0b0dlb0pTT046dChcIk11bHRpUG9seWdvblwiKX0pLG8uTGF5ZXJHcm91cC5pbmNsdWRlKHt0b0dlb0pTT046ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXMuZmVhdHVyZSYmdGhpcy5mZWF0dXJlLmdlb21ldHJ5LG49W107aWYoaSYmXCJNdWx0aVBvaW50XCI9PT1pLnR5cGUpcmV0dXJuIHQoXCJNdWx0aVBvaW50XCIpLmNhbGwodGhpcyk7dmFyIHM9aSYmXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PWkudHlwZTtyZXR1cm4gdGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7dC50b0dlb0pTT04mJihlPXQudG9HZW9KU09OKCksbi5wdXNoKHM/ZS5nZW9tZXRyeTpvLkdlb0pTT04uYXNGZWF0dXJlKGUpKSl9KSxzP28uR2VvSlNPTi5nZXRGZWF0dXJlKHRoaXMse2dlb21ldHJpZXM6bix0eXBlOlwiR2VvbWV0cnlDb2xsZWN0aW9uXCJ9KTp7dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6bn19fSl9KCksby5nZW9Kc29uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvLkdlb0pTT04odCxlKX0sby5Eb21FdmVudD17YWRkTGlzdGVuZXI6ZnVuY3Rpb24odCxlLGksbil7dmFyIHMsYSxyLGg9by5zdGFtcChpKSxsPVwiX2xlYWZsZXRfXCIrZStoO3JldHVybiB0W2xdP3RoaXM6KHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChufHx0LGV8fG8uRG9tRXZlbnQuX2dldEV2ZW50KCkpfSxvLkJyb3dzZXIucG9pbnRlciYmMD09PWUuaW5kZXhPZihcInRvdWNoXCIpP3RoaXMuYWRkUG9pbnRlckxpc3RlbmVyKHQsZSxzLGgpOihvLkJyb3dzZXIudG91Y2gmJlwiZGJsY2xpY2tcIj09PWUmJnRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXImJnRoaXMuYWRkRG91YmxlVGFwTGlzdGVuZXIodCxzLGgpLFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gdD9cIm1vdXNld2hlZWxcIj09PWU/KHQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIscywhMSksdC5hZGRFdmVudExpc3RlbmVyKGUscywhMSkpOlwibW91c2VlbnRlclwiPT09ZXx8XCJtb3VzZWxlYXZlXCI9PT1lPyhhPXMscj1cIm1vdXNlZW50ZXJcIj09PWU/XCJtb3VzZW92ZXJcIjpcIm1vdXNlb3V0XCIscz1mdW5jdGlvbihlKXtyZXR1cm4gby5Eb21FdmVudC5fY2hlY2tNb3VzZSh0LGUpP2EoZSk6dm9pZCAwfSx0LmFkZEV2ZW50TGlzdGVuZXIocixzLCExKSk6XCJjbGlja1wiPT09ZSYmby5Ccm93c2VyLmFuZHJvaWQ/KGE9cyxzPWZ1bmN0aW9uKHQpe3JldHVybiBvLkRvbUV2ZW50Ll9maWx0ZXJDbGljayh0LGEpfSx0LmFkZEV2ZW50TGlzdGVuZXIoZSxzLCExKSk6dC5hZGRFdmVudExpc3RlbmVyKGUscywhMSk6XCJhdHRhY2hFdmVudFwiaW4gdCYmdC5hdHRhY2hFdmVudChcIm9uXCIrZSxzKSx0W2xdPXMsdGhpcykpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49by5zdGFtcChpKSxzPVwiX2xlYWZsZXRfXCIrZStuLGE9dFtzXTtyZXR1cm4gYT8oby5Ccm93c2VyLnBvaW50ZXImJjA9PT1lLmluZGV4T2YoXCJ0b3VjaFwiKT90aGlzLnJlbW92ZVBvaW50ZXJMaXN0ZW5lcih0LGUsbik6by5Ccm93c2VyLnRvdWNoJiZcImRibGNsaWNrXCI9PT1lJiZ0aGlzLnJlbW92ZURvdWJsZVRhcExpc3RlbmVyP3RoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIodCxuKTpcInJlbW92ZUV2ZW50TGlzdGVuZXJcImluIHQ/XCJtb3VzZXdoZWVsXCI9PT1lPyh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLGEsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEsITEpKTpcIm1vdXNlZW50ZXJcIj09PWV8fFwibW91c2VsZWF2ZVwiPT09ZT90LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCI9PT1lP1wibW91c2VvdmVyXCI6XCJtb3VzZW91dFwiLGEsITEpOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEsITEpOlwiZGV0YWNoRXZlbnRcImluIHQmJnQuZGV0YWNoRXZlbnQoXCJvblwiK2UsYSksdFtzXT1udWxsLHRoaXMpOnRoaXN9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5zdG9wUHJvcGFnYXRpb24/dC5zdG9wUHJvcGFnYXRpb24oKTp0LmNhbmNlbEJ1YmJsZT0hMCxvLkRvbUV2ZW50Ll9za2lwcGVkKHQpLHRoaXN9LGRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbjpmdW5jdGlvbih0KXt2YXIgZT1vLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbjtyZXR1cm4gby5Eb21FdmVudC5vbih0LFwibW91c2V3aGVlbFwiLGUpLm9uKHQsXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsZSl9LGRpc2FibGVDbGlja1Byb3BhZ2F0aW9uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1vLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbixpPW8uRHJhZ2dhYmxlLlNUQVJULmxlbmd0aC0xO2k+PTA7aS0tKW8uRG9tRXZlbnQub24odCxvLkRyYWdnYWJsZS5TVEFSVFtpXSxlKTtyZXR1cm4gby5Eb21FdmVudC5vbih0LFwiY2xpY2tcIixvLkRvbUV2ZW50Ll9mYWtlU3RvcCkub24odCxcImRibGNsaWNrXCIsZSl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExLHRoaXN9LHN0b3A6ZnVuY3Rpb24odCl7cmV0dXJuIG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCkuc3RvcFByb3BhZ2F0aW9uKHQpfSxnZXRNb3VzZVBvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIG5ldyBvLlBvaW50KHQuY2xpZW50WCx0LmNsaWVudFkpO3ZhciBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG5ldyBvLlBvaW50KHQuY2xpZW50WC1pLmxlZnQtZS5jbGllbnRMZWZ0LHQuY2xpZW50WS1pLnRvcC1lLmNsaWVudFRvcCl9LGdldFdoZWVsRGVsdGE6ZnVuY3Rpb24odCl7dmFyIGU9MDtyZXR1cm4gdC53aGVlbERlbHRhJiYoZT10LndoZWVsRGVsdGEvMTIwKSx0LmRldGFpbCYmKGU9LXQuZGV0YWlsLzMpLGV9LF9za2lwRXZlbnRzOnt9LF9mYWtlU3RvcDpmdW5jdGlvbih0KXtvLkRvbUV2ZW50Ll9za2lwRXZlbnRzW3QudHlwZV09ITB9LF9za2lwcGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NraXBFdmVudHNbdC50eXBlXTtyZXR1cm4gdGhpcy5fc2tpcEV2ZW50c1t0LnR5cGVdPSExLGV9LF9jaGVja01vdXNlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5yZWxhdGVkVGFyZ2V0O2lmKCFpKXJldHVybiEwO3RyeXtmb3IoO2kmJmkhPT10OylpPWkucGFyZW50Tm9kZX1jYXRjaChuKXtyZXR1cm4hMX1yZXR1cm4gaSE9PXR9LF9nZXRFdmVudDpmdW5jdGlvbigpe3ZhciBlPXQuZXZlbnQ7aWYoIWUpZm9yKHZhciBpPWFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyO2kmJihlPWkuYXJndW1lbnRzWzBdLCFlfHx0LkV2ZW50IT09ZS5jb25zdHJ1Y3Rvcik7KWk9aS5jYWxsZXI7cmV0dXJuIGV9LF9maWx0ZXJDbGljazpmdW5jdGlvbih0LGUpe3ZhciBpPXQudGltZVN0YW1wfHx0Lm9yaWdpbmFsRXZlbnQudGltZVN0YW1wLG49by5Eb21FdmVudC5fbGFzdENsaWNrJiZpLW8uRG9tRXZlbnQuX2xhc3RDbGljaztyZXR1cm4gbiYmbj4xMDAmJjUwMD5ufHx0LnRhcmdldC5fc2ltdWxhdGVkQ2xpY2smJiF0Ll9zaW11bGF0ZWQ/dm9pZCBvLkRvbUV2ZW50LnN0b3AodCk6KG8uRG9tRXZlbnQuX2xhc3RDbGljaz1pLGUodCkpfX0sby5Eb21FdmVudC5vbj1vLkRvbUV2ZW50LmFkZExpc3RlbmVyLG8uRG9tRXZlbnQub2ZmPW8uRG9tRXZlbnQucmVtb3ZlTGlzdGVuZXIsby5EcmFnZ2FibGU9by5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm8uTWl4aW4uRXZlbnRzLHN0YXRpY3M6e1NUQVJUOm8uQnJvd3Nlci50b3VjaD9bXCJ0b3VjaHN0YXJ0XCIsXCJtb3VzZWRvd25cIl06W1wibW91c2Vkb3duXCJdLEVORDp7bW91c2Vkb3duOlwibW91c2V1cFwiLHRvdWNoc3RhcnQ6XCJ0b3VjaGVuZFwiLHBvaW50ZXJkb3duOlwidG91Y2hlbmRcIixNU1BvaW50ZXJEb3duOlwidG91Y2hlbmRcIn0sTU9WRTp7bW91c2Vkb3duOlwibW91c2Vtb3ZlXCIsdG91Y2hzdGFydDpcInRvdWNobW92ZVwiLHBvaW50ZXJkb3duOlwidG91Y2htb3ZlXCIsTVNQb2ludGVyRG93bjpcInRvdWNobW92ZVwifX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2VsZW1lbnQ9dCx0aGlzLl9kcmFnU3RhcnRUYXJnZXQ9ZXx8dH0sZW5hYmxlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VuYWJsZWQpe2Zvcih2YXIgdD1vLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGgtMTt0Pj0wO3QtLSlvLkRvbUV2ZW50Lm9uKHRoaXMuX2RyYWdTdGFydFRhcmdldCxvLkRyYWdnYWJsZS5TVEFSVFt0XSx0aGlzLl9vbkRvd24sdGhpcyk7dGhpcy5fZW5hYmxlZD0hMH19LGRpc2FibGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9lbmFibGVkKXtmb3IodmFyIHQ9by5EcmFnZ2FibGUuU1RBUlQubGVuZ3RoLTE7dD49MDt0LS0pby5Eb21FdmVudC5vZmYodGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0LG8uRHJhZ2dhYmxlLlNUQVJUW3RdLHRoaXMuX29uRG93bix0aGlzKTt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21vdmVkPSExfX0sX29uRG93bjpmdW5jdGlvbih0KXtpZih0aGlzLl9tb3ZlZD0hMSwhdC5zaGlmdEtleSYmKDE9PT10LndoaWNofHwxPT09dC5idXR0b258fHQudG91Y2hlcykmJihvLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KSwhby5EcmFnZ2FibGUuX2Rpc2FibGVkJiYoby5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKSxvLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSwhdGhpcy5fbW92aW5nKSkpe3ZhciBpPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dDt0aGlzLl9zdGFydFBvaW50PW5ldyBvLlBvaW50KGkuY2xpZW50WCxpLmNsaWVudFkpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX25ld1Bvcz1vLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCksby5Eb21FdmVudC5vbihlLG8uRHJhZ2dhYmxlLk1PVkVbdC50eXBlXSx0aGlzLl9vbk1vdmUsdGhpcykub24oZSxvLkRyYWdnYWJsZS5FTkRbdC50eXBlXSx0aGlzLl9vblVwLHRoaXMpfX0sX29uTW92ZTpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMmJnQudG91Y2hlcy5sZW5ndGg+MSlyZXR1cm4gdm9pZCh0aGlzLl9tb3ZlZD0hMCk7dmFyIGk9dC50b3VjaGVzJiYxPT09dC50b3VjaGVzLmxlbmd0aD90LnRvdWNoZXNbMF06dCxuPW5ldyBvLlBvaW50KGkuY2xpZW50WCxpLmNsaWVudFkpLHM9bi5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvaW50KTsocy54fHxzLnkpJiYoby5Ccm93c2VyLnRvdWNoJiZNYXRoLmFicyhzLngpK01hdGguYWJzKHMueSk8M3x8KG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fbW92ZWR8fCh0aGlzLmZpcmUoXCJkcmFnc3RhcnRcIiksdGhpcy5fbW92ZWQ9ITAsdGhpcy5fc3RhcnRQb3M9by5Eb21VdGlsLmdldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQpLnN1YnRyYWN0KHMpLG8uRG9tVXRpbC5hZGRDbGFzcyhlLmJvZHksXCJsZWFmbGV0LWRyYWdnaW5nXCIpLHRoaXMuX2xhc3RUYXJnZXQ9dC50YXJnZXR8fHQuc3JjRWxlbWVudCxvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbGFzdFRhcmdldCxcImxlYWZsZXQtZHJhZy10YXJnZXRcIikpLHRoaXMuX25ld1Bvcz10aGlzLl9zdGFydFBvcy5hZGQocyksdGhpcy5fbW92aW5nPSEwLG8uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHRoaXMuX2FuaW1SZXF1ZXN0PW8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZVBvc2l0aW9uLHRoaXMsITAsdGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0KSkpfSxfdXBkYXRlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJwcmVkcmFnXCIpLG8uRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50LHRoaXMuX25ld1BvcyksdGhpcy5maXJlKFwiZHJhZ1wiKX0sX29uVXA6ZnVuY3Rpb24oKXtvLkRvbVV0aWwucmVtb3ZlQ2xhc3MoZS5ib2R5LFwibGVhZmxldC1kcmFnZ2luZ1wiKSx0aGlzLl9sYXN0VGFyZ2V0JiYoby5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2xhc3RUYXJnZXQsXCJsZWFmbGV0LWRyYWctdGFyZ2V0XCIpLHRoaXMuX2xhc3RUYXJnZXQ9bnVsbCk7Zm9yKHZhciB0IGluIG8uRHJhZ2dhYmxlLk1PVkUpby5Eb21FdmVudC5vZmYoZSxvLkRyYWdnYWJsZS5NT1ZFW3RdLHRoaXMuX29uTW92ZSkub2ZmKGUsby5EcmFnZ2FibGUuRU5EW3RdLHRoaXMuX29uVXApO28uRG9tVXRpbC5lbmFibGVJbWFnZURyYWcoKSxvLkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbigpLHRoaXMuX21vdmVkJiZ0aGlzLl9tb3ZpbmcmJihvLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KSx0aGlzLmZpcmUoXCJkcmFnZW5kXCIse2Rpc3RhbmNlOnRoaXMuX25ld1Bvcy5kaXN0YW5jZVRvKHRoaXMuX3N0YXJ0UG9zKX0pKSx0aGlzLl9tb3Zpbmc9ITF9fSksby5IYW5kbGVyPW8uQ2xhc3MuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10fSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGVkfHwodGhpcy5fZW5hYmxlZD0hMCx0aGlzLmFkZEhvb2tzKCkpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZCYmKHRoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZW1vdmVIb29rcygpKX0sZW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fZW5hYmxlZH19KSxvLk1hcC5tZXJnZU9wdGlvbnMoe2RyYWdnaW5nOiEwLGluZXJ0aWE6IW8uQnJvd3Nlci5hbmRyb2lkMjMsaW5lcnRpYURlY2VsZXJhdGlvbjozNDAwLGluZXJ0aWFNYXhTcGVlZDoxLzAsaW5lcnRpYVRocmVzaG9sZDpvLkJyb3dzZXIudG91Y2g/MzI6MTgsZWFzZUxpbmVhcml0eTouMjUsd29ybGRDb3B5SnVtcDohMX0pLG8uTWFwLkRyYWc9by5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtpZighdGhpcy5fZHJhZ2dhYmxlKXt2YXIgdD10aGlzLl9tYXA7dGhpcy5fZHJhZ2dhYmxlPW5ldyBvLkRyYWdnYWJsZSh0Ll9tYXBQYW5lLHQuX2NvbnRhaW5lciksdGhpcy5fZHJhZ2dhYmxlLm9uKHtkcmFnc3RhcnQ6dGhpcy5fb25EcmFnU3RhcnQsZHJhZzp0aGlzLl9vbkRyYWcsZHJhZ2VuZDp0aGlzLl9vbkRyYWdFbmR9LHRoaXMpLHQub3B0aW9ucy53b3JsZENvcHlKdW1wJiYodGhpcy5fZHJhZ2dhYmxlLm9uKFwicHJlZHJhZ1wiLHRoaXMuX29uUHJlRHJhZyx0aGlzKSx0Lm9uKFwidmlld3Jlc2V0XCIsdGhpcy5fb25WaWV3UmVzZXQsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fb25WaWV3UmVzZXQsdGhpcykpfXRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpfSxtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5fbW92ZWR9LF9vbkRyYWdTdGFydDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDt0Ll9wYW5BbmltJiZ0Ll9wYW5BbmltLnN0b3AoKSx0LmZpcmUoXCJtb3Zlc3RhcnRcIikuZmlyZShcImRyYWdzdGFydFwiKSx0Lm9wdGlvbnMuaW5lcnRpYSYmKHRoaXMuX3Bvc2l0aW9ucz1bXSx0aGlzLl90aW1lcz1bXSl9LF9vbkRyYWc6ZnVuY3Rpb24oKXtpZih0aGlzLl9tYXAub3B0aW9ucy5pbmVydGlhKXt2YXIgdD10aGlzLl9sYXN0VGltZT0rbmV3IERhdGUsZT10aGlzLl9sYXN0UG9zPXRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zO3RoaXMuX3Bvc2l0aW9ucy5wdXNoKGUpLHRoaXMuX3RpbWVzLnB1c2godCksdC10aGlzLl90aW1lc1swXT4yMDAmJih0aGlzLl9wb3NpdGlvbnMuc2hpZnQoKSx0aGlzLl90aW1lcy5zaGlmdCgpKX10aGlzLl9tYXAuZmlyZShcIm1vdmVcIikuZmlyZShcImRyYWdcIil9LF9vblZpZXdSZXNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpLGU9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChbMCwwXSk7dGhpcy5faW5pdGlhbFdvcmxkT2Zmc2V0PWUuc3VidHJhY3QodCkueCx0aGlzLl93b3JsZFdpZHRoPXRoaXMuX21hcC5wcm9qZWN0KFswLDE4MF0pLnh9LF9vblByZURyYWc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl93b3JsZFdpZHRoLGU9TWF0aC5yb3VuZCh0LzIpLGk9dGhpcy5faW5pdGlhbFdvcmxkT2Zmc2V0LG49dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MueCxvPShuLWUraSkldCtlLWkscz0obitlK2kpJXQtZS1pLGE9TWF0aC5hYnMobytpKTxNYXRoLmFicyhzK2kpP286czt0aGlzLl9kcmFnZ2FibGUuX25ld1Bvcy54PWF9LF9vbkRyYWdFbmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5vcHRpb25zLG49K25ldyBEYXRlLXRoaXMuX2xhc3RUaW1lLHM9IWkuaW5lcnRpYXx8bj5pLmluZXJ0aWFUaHJlc2hvbGR8fCF0aGlzLl9wb3NpdGlvbnNbMF07aWYoZS5maXJlKFwiZHJhZ2VuZFwiLHQpLHMpZS5maXJlKFwibW92ZWVuZFwiKTtlbHNle3ZhciBhPXRoaXMuX2xhc3RQb3Muc3VidHJhY3QodGhpcy5fcG9zaXRpb25zWzBdKSxyPSh0aGlzLl9sYXN0VGltZStuLXRoaXMuX3RpbWVzWzBdKS8xZTMsaD1pLmVhc2VMaW5lYXJpdHksbD1hLm11bHRpcGx5QnkoaC9yKSx1PWwuZGlzdGFuY2VUbyhbMCwwXSksYz1NYXRoLm1pbihpLmluZXJ0aWFNYXhTcGVlZCx1KSxkPWwubXVsdGlwbHlCeShjL3UpLHA9Yy8oaS5pbmVydGlhRGVjZWxlcmF0aW9uKmgpLF89ZC5tdWx0aXBseUJ5KC1wLzIpLnJvdW5kKCk7Xy54JiZfLnk/KF89ZS5fbGltaXRPZmZzZXQoXyxlLm9wdGlvbnMubWF4Qm91bmRzKSxvLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpe2UucGFuQnkoXyx7ZHVyYXRpb246cCxlYXNlTGluZWFyaXR5Omgsbm9Nb3ZlU3RhcnQ6ITB9KX0pKTplLmZpcmUoXCJtb3ZlZW5kXCIpfX19KSxvLk1hcC5hZGRJbml0SG9vayhcImFkZEhhbmRsZXJcIixcImRyYWdnaW5nXCIsby5NYXAuRHJhZyksby5NYXAubWVyZ2VPcHRpb25zKHtkb3VibGVDbGlja1pvb206ITB9KSxvLk1hcC5Eb3VibGVDbGlja1pvb209by5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9tYXAub24oXCJkYmxjbGlja1wiLHRoaXMuX29uRG91YmxlQ2xpY2ssdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fbWFwLm9mZihcImRibGNsaWNrXCIsdGhpcy5fb25Eb3VibGVDbGljayx0aGlzKX0sX29uRG91YmxlQ2xpY2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5nZXRab29tKCkrKHQub3JpZ2luYWxFdmVudC5zaGlmdEtleT8tMToxKTtcImNlbnRlclwiPT09ZS5vcHRpb25zLmRvdWJsZUNsaWNrWm9vbT9lLnNldFpvb20oaSk6ZS5zZXRab29tQXJvdW5kKHQuY29udGFpbmVyUG9pbnQsaSl9fSksby5NYXAuYWRkSW5pdEhvb2soXCJhZGRIYW5kbGVyXCIsXCJkb3VibGVDbGlja1pvb21cIixvLk1hcC5Eb3VibGVDbGlja1pvb20pLG8uTWFwLm1lcmdlT3B0aW9ucyh7c2Nyb2xsV2hlZWxab29tOiEwfSksby5NYXAuU2Nyb2xsV2hlZWxab29tPW8uSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lcixcIm1vdXNld2hlZWxcIix0aGlzLl9vbldoZWVsU2Nyb2xsLHRoaXMpLG8uRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsXCJNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCksdGhpcy5fZGVsdGE9MH0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXtvLkRvbUV2ZW50Lm9mZih0aGlzLl9tYXAuX2NvbnRhaW5lcixcIm1vdXNld2hlZWxcIix0aGlzLl9vbldoZWVsU2Nyb2xsKSxvLkRvbUV2ZW50Lm9mZih0aGlzLl9tYXAuX2NvbnRhaW5lcixcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIixvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KX0sX29uV2hlZWxTY3JvbGw6ZnVuY3Rpb24odCl7dmFyIGU9by5Eb21FdmVudC5nZXRXaGVlbERlbHRhKHQpO3RoaXMuX2RlbHRhKz1lLHRoaXMuX2xhc3RNb3VzZVBvcz10aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksdGhpcy5fc3RhcnRUaW1lfHwodGhpcy5fc3RhcnRUaW1lPStuZXcgRGF0ZSk7dmFyIGk9TWF0aC5tYXgoNDAtKCtuZXcgRGF0ZS10aGlzLl9zdGFydFRpbWUpLDApO2NsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9c2V0VGltZW91dChvLmJpbmQodGhpcy5fcGVyZm9ybVpvb20sdGhpcyksaSksby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSxvLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KX0sX3BlcmZvcm1ab29tOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLGU9dGhpcy5fZGVsdGEsaT10LmdldFpvb20oKTtlPWU+MD9NYXRoLmNlaWwoZSk6TWF0aC5mbG9vcihlKSxlPU1hdGgubWF4KE1hdGgubWluKGUsNCksLTQpLGU9dC5fbGltaXRab29tKGkrZSktaSx0aGlzLl9kZWx0YT0wLHRoaXMuX3N0YXJ0VGltZT1udWxsLGUmJihcImNlbnRlclwiPT09dC5vcHRpb25zLnNjcm9sbFdoZWVsWm9vbT90LnNldFpvb20oaStlKTp0LnNldFpvb21Bcm91bmQodGhpcy5fbGFzdE1vdXNlUG9zLGkrZSkpfX0pLG8uTWFwLmFkZEluaXRIb29rKFwiYWRkSGFuZGxlclwiLFwic2Nyb2xsV2hlZWxab29tXCIsby5NYXAuU2Nyb2xsV2hlZWxab29tKSxvLmV4dGVuZChvLkRvbUV2ZW50LHtfdG91Y2hzdGFydDpvLkJyb3dzZXIubXNQb2ludGVyP1wiTVNQb2ludGVyRG93blwiOm8uQnJvd3Nlci5wb2ludGVyP1wicG9pbnRlcmRvd25cIjpcInRvdWNoc3RhcnRcIixfdG91Y2hlbmQ6by5Ccm93c2VyLm1zUG9pbnRlcj9cIk1TUG9pbnRlclVwXCI6by5Ccm93c2VyLnBvaW50ZXI/XCJwb2ludGVydXBcIjpcInRvdWNoZW5kXCIsYWRkRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxpLG4pe2Z1bmN0aW9uIHModCl7dmFyIGU7aWYoby5Ccm93c2VyLnBvaW50ZXI/KF8ucHVzaCh0LnBvaW50ZXJJZCksZT1fLmxlbmd0aCk6ZT10LnRvdWNoZXMubGVuZ3RoLCEoZT4xKSl7dmFyIGk9RGF0ZS5ub3coKSxuPWktKHJ8fGkpO2g9dC50b3VjaGVzP3QudG91Y2hlc1swXTp0LGw9bj4wJiZ1Pj1uLHI9aX19ZnVuY3Rpb24gYSh0KXtpZihvLkJyb3dzZXIucG9pbnRlcil7dmFyIGU9Xy5pbmRleE9mKHQucG9pbnRlcklkKTtpZigtMT09PWUpcmV0dXJuO18uc3BsaWNlKGUsMSl9aWYobCl7aWYoby5Ccm93c2VyLnBvaW50ZXIpe3ZhciBuLHM9e307Zm9yKHZhciBhIGluIGgpbj1oW2FdLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/c1thXT1uLmJpbmQoaCk6c1thXT1uO2g9c31oLnR5cGU9XCJkYmxjbGlja1wiLGkoaCkscj1udWxsfX12YXIgcixoLGw9ITEsdT0yNTAsYz1cIl9sZWFmbGV0X1wiLGQ9dGhpcy5fdG91Y2hzdGFydCxwPXRoaXMuX3RvdWNoZW5kLF89W107dFtjK2Qrbl09cyx0W2MrcCtuXT1hO3ZhciBtPW8uQnJvd3Nlci5wb2ludGVyP2UuZG9jdW1lbnRFbGVtZW50OnQ7cmV0dXJuIHQuYWRkRXZlbnRMaXN0ZW5lcihkLHMsITEpLG0uYWRkRXZlbnRMaXN0ZW5lcihwLGEsITEpLG8uQnJvd3Nlci5wb2ludGVyJiZtLmFkZEV2ZW50TGlzdGVuZXIoby5Eb21FdmVudC5QT0lOVEVSX0NBTkNFTCxhLCExKSx0aGlzfSxyZW1vdmVEb3VibGVUYXBMaXN0ZW5lcjpmdW5jdGlvbih0LGkpe3ZhciBuPVwiX2xlYWZsZXRfXCI7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl90b3VjaHN0YXJ0LHRbbit0aGlzLl90b3VjaHN0YXJ0K2ldLCExKSwoby5Ccm93c2VyLnBvaW50ZXI/ZS5kb2N1bWVudEVsZW1lbnQ6dCkucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl90b3VjaGVuZCx0W24rdGhpcy5fdG91Y2hlbmQraV0sITEpLG8uQnJvd3Nlci5wb2ludGVyJiZlLmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG8uRG9tRXZlbnQuUE9JTlRFUl9DQU5DRUwsdFtuK3RoaXMuX3RvdWNoZW5kK2ldLCExKSx0aGlzfX0pLG8uZXh0ZW5kKG8uRG9tRXZlbnQse1BPSU5URVJfRE9XTjpvLkJyb3dzZXIubXNQb2ludGVyP1wiTVNQb2ludGVyRG93blwiOlwicG9pbnRlcmRvd25cIixQT0lOVEVSX01PVkU6by5Ccm93c2VyLm1zUG9pbnRlcj9cIk1TUG9pbnRlck1vdmVcIjpcInBvaW50ZXJtb3ZlXCIsUE9JTlRFUl9VUDpvLkJyb3dzZXIubXNQb2ludGVyP1wiTVNQb2ludGVyVXBcIjpcInBvaW50ZXJ1cFwiLFBPSU5URVJfQ0FOQ0VMOm8uQnJvd3Nlci5tc1BvaW50ZXI/XCJNU1BvaW50ZXJDYW5jZWxcIjpcInBvaW50ZXJjYW5jZWxcIixfcG9pbnRlcnM6W10sX3BvaW50ZXJEb2N1bWVudExpc3RlbmVyOiExLGFkZFBvaW50ZXJMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSxuKXtzd2l0Y2goZSl7Y2FzZVwidG91Y2hzdGFydFwiOnJldHVybiB0aGlzLmFkZFBvaW50ZXJMaXN0ZW5lclN0YXJ0KHQsZSxpLG4pO1xuY2FzZVwidG91Y2hlbmRcIjpyZXR1cm4gdGhpcy5hZGRQb2ludGVyTGlzdGVuZXJFbmQodCxlLGksbik7Y2FzZVwidG91Y2htb3ZlXCI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyTW92ZSh0LGUsaSxuKTtkZWZhdWx0OnRocm93XCJVbmtub3duIHRvdWNoIGV2ZW50IHR5cGVcIn19LGFkZFBvaW50ZXJMaXN0ZW5lclN0YXJ0OmZ1bmN0aW9uKHQsaSxuLHMpe3ZhciBhPVwiX2xlYWZsZXRfXCIscj10aGlzLl9wb2ludGVycyxoPWZ1bmN0aW9uKHQpe1wibW91c2VcIiE9PXQucG9pbnRlclR5cGUmJnQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFJiZvLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO2Zvcih2YXIgZT0hMSxpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ZT0hMDticmVha31lfHxyLnB1c2godCksdC50b3VjaGVzPXIuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxuKHQpfTtpZih0W2ErXCJ0b3VjaHN0YXJ0XCIrc109aCx0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0RPV04saCwhMSksIXRoaXMuX3BvaW50ZXJEb2N1bWVudExpc3RlbmVyKXt2YXIgbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHIubGVuZ3RoO2UrKylpZihyW2VdLnBvaW50ZXJJZD09PXQucG9pbnRlcklkKXtyLnNwbGljZShlLDEpO2JyZWFrfX07ZS5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsbCwhMSksZS5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfQ0FOQ0VMLGwsITEpLHRoaXMuX3BvaW50ZXJEb2N1bWVudExpc3RlbmVyPSEwfXJldHVybiB0aGlzfSxhZGRQb2ludGVyTGlzdGVuZXJNb3ZlOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIG8odCl7aWYodC5wb2ludGVyVHlwZSE9PXQuTVNQT0lOVEVSX1RZUEVfTU9VU0UmJlwibW91c2VcIiE9PXQucG9pbnRlclR5cGV8fDAhPT10LmJ1dHRvbnMpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKGFbZV0ucG9pbnRlcklkPT09dC5wb2ludGVySWQpe2FbZV09dDticmVha310LnRvdWNoZXM9YS5zbGljZSgpLHQuY2hhbmdlZFRvdWNoZXM9W3RdLGkodCl9fXZhciBzPVwiX2xlYWZsZXRfXCIsYT10aGlzLl9wb2ludGVycztyZXR1cm4gdFtzK1widG91Y2htb3ZlXCIrbl09byx0LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX01PVkUsbywhMSksdGhpc30sYWRkUG9pbnRlckxpc3RlbmVyRW5kOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPVwiX2xlYWZsZXRfXCIscz10aGlzLl9wb2ludGVycyxhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8cy5sZW5ndGg7ZSsrKWlmKHNbZV0ucG9pbnRlcklkPT09dC5wb2ludGVySWQpe3Muc3BsaWNlKGUsMSk7YnJlYWt9dC50b3VjaGVzPXMuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxpKHQpfTtyZXR1cm4gdFtvK1widG91Y2hlbmRcIituXT1hLHQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsYSwhMSksdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlUG9pbnRlckxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1cIl9sZWFmbGV0X1wiLG89dFtuK2UraV07c3dpdGNoKGUpe2Nhc2VcInRvdWNoc3RhcnRcIjp0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0RPV04sbywhMSk7YnJlYWs7Y2FzZVwidG91Y2htb3ZlXCI6dC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpO2JyZWFrO2Nhc2VcInRvdWNoZW5kXCI6dC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9VUCxvLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCxvLCExKX1yZXR1cm4gdGhpc319KSxvLk1hcC5tZXJnZU9wdGlvbnMoe3RvdWNoWm9vbTpvLkJyb3dzZXIudG91Y2gmJiFvLkJyb3dzZXIuYW5kcm9pZDIzLGJvdW5jZUF0Wm9vbUxpbWl0czohMH0pLG8uTWFwLlRvdWNoWm9vbT1vLkhhbmRsZXIuZXh0ZW5kKHthZGRIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fb25Ub3VjaFN0YXJ0LHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLFwidG91Y2hzdGFydFwiLHRoaXMuX29uVG91Y2hTdGFydCx0aGlzKX0sX29uVG91Y2hTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl9tYXA7aWYodC50b3VjaGVzJiYyPT09dC50b3VjaGVzLmxlbmd0aCYmIWkuX2FuaW1hdGluZ1pvb20mJiF0aGlzLl96b29taW5nKXt2YXIgbj1pLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxzPWkubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pLGE9aS5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpO3RoaXMuX3N0YXJ0Q2VudGVyPW4uYWRkKHMpLl9kaXZpZGVCeSgyKSx0aGlzLl9zdGFydERpc3Q9bi5kaXN0YW5jZVRvKHMpLHRoaXMuX21vdmVkPSExLHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fY2VudGVyT2Zmc2V0PWEuc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLGkuX3BhbkFuaW0mJmkuX3BhbkFuaW0uc3RvcCgpLG8uRG9tRXZlbnQub24oZSxcInRvdWNobW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlLHRoaXMpLm9uKGUsXCJ0b3VjaGVuZFwiLHRoaXMuX29uVG91Y2hFbmQsdGhpcyksby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KX19LF9vblRvdWNoTW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXA7aWYodC50b3VjaGVzJiYyPT09dC50b3VjaGVzLmxlbmd0aCYmdGhpcy5fem9vbWluZyl7dmFyIGk9ZS5tb3VzZUV2ZW50VG9MYXllclBvaW50KHQudG91Y2hlc1swXSksbj1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzFdKTt0aGlzLl9zY2FsZT1pLmRpc3RhbmNlVG8obikvdGhpcy5fc3RhcnREaXN0LHRoaXMuX2RlbHRhPWkuX2FkZChuKS5fZGl2aWRlQnkoMikuX3N1YnRyYWN0KHRoaXMuX3N0YXJ0Q2VudGVyKSwxIT09dGhpcy5fc2NhbGUmJihlLm9wdGlvbnMuYm91bmNlQXRab29tTGltaXRzfHwhKGUuZ2V0Wm9vbSgpPT09ZS5nZXRNaW5ab29tKCkmJnRoaXMuX3NjYWxlPDF8fGUuZ2V0Wm9vbSgpPT09ZS5nZXRNYXhab29tKCkmJnRoaXMuX3NjYWxlPjEpKSYmKHRoaXMuX21vdmVkfHwoby5Eb21VdGlsLmFkZENsYXNzKGUuX21hcFBhbmUsXCJsZWFmbGV0LXRvdWNoaW5nXCIpLGUuZmlyZShcIm1vdmVzdGFydFwiKS5maXJlKFwiem9vbXN0YXJ0XCIpLHRoaXMuX21vdmVkPSEwKSxvLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KSx0aGlzLl9hbmltUmVxdWVzdD1vLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl91cGRhdGVPbk1vdmUsdGhpcywhMCx0aGlzLl9tYXAuX2NvbnRhaW5lciksby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSl9fSxfdXBkYXRlT25Nb3ZlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLGU9dGhpcy5fZ2V0U2NhbGVPcmlnaW4oKSxpPXQubGF5ZXJQb2ludFRvTGF0TG5nKGUpLG49dC5nZXRTY2FsZVpvb20odGhpcy5fc2NhbGUpO3QuX2FuaW1hdGVab29tKGksbix0aGlzLl9zdGFydENlbnRlcix0aGlzLl9zY2FsZSx0aGlzLl9kZWx0YSwhMSwhMCl9LF9vblRvdWNoRW5kOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX21vdmVkfHwhdGhpcy5fem9vbWluZylyZXR1cm4gdm9pZCh0aGlzLl96b29taW5nPSExKTt2YXIgdD10aGlzLl9tYXA7dGhpcy5fem9vbWluZz0hMSxvLkRvbVV0aWwucmVtb3ZlQ2xhc3ModC5fbWFwUGFuZSxcImxlYWZsZXQtdG91Y2hpbmdcIiksby5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksby5Eb21FdmVudC5vZmYoZSxcInRvdWNobW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlKS5vZmYoZSxcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCk7dmFyIGk9dGhpcy5fZ2V0U2NhbGVPcmlnaW4oKSxuPXQubGF5ZXJQb2ludFRvTGF0TG5nKGkpLHM9dC5nZXRab29tKCksYT10LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSktcyxyPWE+MD9NYXRoLmNlaWwoYSk6TWF0aC5mbG9vcihhKSxoPXQuX2xpbWl0Wm9vbShzK3IpLGw9dC5nZXRab29tU2NhbGUoaCkvdGhpcy5fc2NhbGU7dC5fYW5pbWF0ZVpvb20obixoLGksbCl9LF9nZXRTY2FsZU9yaWdpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NlbnRlck9mZnNldC5zdWJ0cmFjdCh0aGlzLl9kZWx0YSkuZGl2aWRlQnkodGhpcy5fc2NhbGUpO3JldHVybiB0aGlzLl9zdGFydENlbnRlci5hZGQodCl9fSksby5NYXAuYWRkSW5pdEhvb2soXCJhZGRIYW5kbGVyXCIsXCJ0b3VjaFpvb21cIixvLk1hcC5Ub3VjaFpvb20pLG8uTWFwLm1lcmdlT3B0aW9ucyh7dGFwOiEwLHRhcFRvbGVyYW5jZToxNX0pLG8uTWFwLlRhcD1vLkhhbmRsZXIuZXh0ZW5kKHthZGRIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fb25Eb3duLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLFwidG91Y2hzdGFydFwiLHRoaXMuX29uRG93bix0aGlzKX0sX29uRG93bjpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMpe2lmKG8uRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fZmlyZUNsaWNrPSEwLHQudG91Y2hlcy5sZW5ndGg+MSlyZXR1cm4gdGhpcy5fZmlyZUNsaWNrPSExLHZvaWQgY2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTt2YXIgaT10LnRvdWNoZXNbMF0sbj1pLnRhcmdldDt0aGlzLl9zdGFydFBvcz10aGlzLl9uZXdQb3M9bmV3IG8uUG9pbnQoaS5jbGllbnRYLGkuY2xpZW50WSksbi50YWdOYW1lJiZcImFcIj09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZvLkRvbVV0aWwuYWRkQ2xhc3MobixcImxlYWZsZXQtYWN0aXZlXCIpLHRoaXMuX2hvbGRUaW1lb3V0PXNldFRpbWVvdXQoby5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5faXNUYXBWYWxpZCgpJiYodGhpcy5fZmlyZUNsaWNrPSExLHRoaXMuX29uVXAoKSx0aGlzLl9zaW11bGF0ZUV2ZW50KFwiY29udGV4dG1lbnVcIixpKSl9LHRoaXMpLDFlMyksby5Eb21FdmVudC5vbihlLFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlLHRoaXMpLm9uKGUsXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXAsdGhpcyl9fSxfb25VcDpmdW5jdGlvbih0KXtpZihjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLG8uRG9tRXZlbnQub2ZmKGUsXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUsdGhpcykub2ZmKGUsXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXAsdGhpcyksdGhpcy5fZmlyZUNsaWNrJiZ0JiZ0LmNoYW5nZWRUb3VjaGVzKXt2YXIgaT10LmNoYW5nZWRUb3VjaGVzWzBdLG49aS50YXJnZXQ7biYmbi50YWdOYW1lJiZcImFcIj09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZvLkRvbVV0aWwucmVtb3ZlQ2xhc3MobixcImxlYWZsZXQtYWN0aXZlXCIpLHRoaXMuX2lzVGFwVmFsaWQoKSYmdGhpcy5fc2ltdWxhdGVFdmVudChcImNsaWNrXCIsaSl9fSxfaXNUYXBWYWxpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcyk8PXRoaXMuX21hcC5vcHRpb25zLnRhcFRvbGVyYW5jZX0sX29uTW92ZTpmdW5jdGlvbih0KXt2YXIgZT10LnRvdWNoZXNbMF07dGhpcy5fbmV3UG9zPW5ldyBvLlBvaW50KGUuY2xpZW50WCxlLmNsaWVudFkpfSxfc2ltdWxhdGVFdmVudDpmdW5jdGlvbihpLG4pe3ZhciBvPWUuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtvLl9zaW11bGF0ZWQ9ITAsbi50YXJnZXQuX3NpbXVsYXRlZENsaWNrPSEwLG8uaW5pdE1vdXNlRXZlbnQoaSwhMCwhMCx0LDEsbi5zY3JlZW5YLG4uc2NyZWVuWSxuLmNsaWVudFgsbi5jbGllbnRZLCExLCExLCExLCExLDAsbnVsbCksbi50YXJnZXQuZGlzcGF0Y2hFdmVudChvKX19KSxvLkJyb3dzZXIudG91Y2gmJiFvLkJyb3dzZXIucG9pbnRlciYmby5NYXAuYWRkSW5pdEhvb2soXCJhZGRIYW5kbGVyXCIsXCJ0YXBcIixvLk1hcC5UYXApLG8uTWFwLm1lcmdlT3B0aW9ucyh7Ym94Wm9vbTohMH0pLG8uTWFwLkJveFpvb209by5IYW5kbGVyLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXI9dC5fY29udGFpbmVyLHRoaXMuX3BhbmU9dC5fcGFuZXMub3ZlcmxheVBhbmUsdGhpcy5fbW92ZWQ9ITF9LGFkZEhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbih0aGlzLl9jb250YWluZXIsXCJtb3VzZWRvd25cIix0aGlzLl9vbk1vdXNlRG93bix0aGlzKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXtvLkRvbUV2ZW50Lm9mZih0aGlzLl9jb250YWluZXIsXCJtb3VzZWRvd25cIix0aGlzLl9vbk1vdXNlRG93biksdGhpcy5fbW92ZWQ9ITF9LG1vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVkfSxfb25Nb3VzZURvd246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21vdmVkPSExLCF0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uPyExOihvLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSxvLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpLHRoaXMuX3N0YXJ0TGF5ZXJQb2ludD10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSx2b2lkIG8uRG9tRXZlbnQub24oZSxcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VNb3ZlLHRoaXMpLm9uKGUsXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZVVwLHRoaXMpLm9uKGUsXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duLHRoaXMpKX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX21vdmVkfHwodGhpcy5fYm94PW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixcImxlYWZsZXQtem9vbS1ib3hcIix0aGlzLl9wYW5lKSxvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fYm94LHRoaXMuX3N0YXJ0TGF5ZXJQb2ludCksdGhpcy5fY29udGFpbmVyLnN0eWxlLmN1cnNvcj1cImNyb3NzaGFpclwiLHRoaXMuX21hcC5maXJlKFwiYm94em9vbXN0YXJ0XCIpKTt2YXIgZT10aGlzLl9zdGFydExheWVyUG9pbnQsaT10aGlzLl9ib3gsbj10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSxzPW4uc3VidHJhY3QoZSksYT1uZXcgby5Qb2ludChNYXRoLm1pbihuLngsZS54KSxNYXRoLm1pbihuLnksZS55KSk7by5Eb21VdGlsLnNldFBvc2l0aW9uKGksYSksdGhpcy5fbW92ZWQ9ITAsaS5zdHlsZS53aWR0aD1NYXRoLm1heCgwLE1hdGguYWJzKHMueCktNCkrXCJweFwiLGkuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsTWF0aC5hYnMocy55KS00KStcInB4XCJ9LF9maW5pc2g6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlZCYmKHRoaXMuX3BhbmUucmVtb3ZlQ2hpbGQodGhpcy5fYm94KSx0aGlzLl9jb250YWluZXIuc3R5bGUuY3Vyc29yPVwiXCIpLG8uRG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uKCksby5Eb21VdGlsLmVuYWJsZUltYWdlRHJhZygpLG8uRG9tRXZlbnQub2ZmKGUsXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSkub2ZmKGUsXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZVVwKS5vZmYoZSxcImtleWRvd25cIix0aGlzLl9vbktleURvd24pfSxfb25Nb3VzZVVwOmZ1bmN0aW9uKHQpe3RoaXMuX2ZpbmlzaCgpO3ZhciBlPXRoaXMuX21hcCxpPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KTtpZighdGhpcy5fc3RhcnRMYXllclBvaW50LmVxdWFscyhpKSl7dmFyIG49bmV3IG8uTGF0TG5nQm91bmRzKGUubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX3N0YXJ0TGF5ZXJQb2ludCksZS5sYXllclBvaW50VG9MYXRMbmcoaSkpO2UuZml0Qm91bmRzKG4pLGUuZmlyZShcImJveHpvb21lbmRcIix7Ym94Wm9vbUJvdW5kczpufSl9fSxfb25LZXlEb3duOmZ1bmN0aW9uKHQpezI3PT09dC5rZXlDb2RlJiZ0aGlzLl9maW5pc2goKX19KSxvLk1hcC5hZGRJbml0SG9vayhcImFkZEhhbmRsZXJcIixcImJveFpvb21cIixvLk1hcC5Cb3hab29tKSxvLk1hcC5tZXJnZU9wdGlvbnMoe2tleWJvYXJkOiEwLGtleWJvYXJkUGFuT2Zmc2V0OjgwLGtleWJvYXJkWm9vbU9mZnNldDoxfSksby5NYXAuS2V5Ym9hcmQ9by5IYW5kbGVyLmV4dGVuZCh7a2V5Q29kZXM6e2xlZnQ6WzM3XSxyaWdodDpbMzldLGRvd246WzQwXSx1cDpbMzhdLHpvb21JbjpbMTg3LDEwNyw2MSwxNzFdLHpvb21PdXQ6WzE4OSwxMDksMTczXX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9zZXRQYW5PZmZzZXQodC5vcHRpb25zLmtleWJvYXJkUGFuT2Zmc2V0KSx0aGlzLl9zZXRab29tT2Zmc2V0KHQub3B0aW9ucy5rZXlib2FyZFpvb21PZmZzZXQpfSxhZGRIb29rczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fY29udGFpbmVyOy0xPT09dC50YWJJbmRleCYmKHQudGFiSW5kZXg9XCIwXCIpLG8uRG9tRXZlbnQub24odCxcImZvY3VzXCIsdGhpcy5fb25Gb2N1cyx0aGlzKS5vbih0LFwiYmx1clwiLHRoaXMuX29uQmx1cix0aGlzKS5vbih0LFwibW91c2Vkb3duXCIsdGhpcy5fb25Nb3VzZURvd24sdGhpcyksdGhpcy5fbWFwLm9uKFwiZm9jdXNcIix0aGlzLl9hZGRIb29rcyx0aGlzKS5vbihcImJsdXJcIix0aGlzLl9yZW1vdmVIb29rcyx0aGlzKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVIb29rcygpO3ZhciB0PXRoaXMuX21hcC5fY29udGFpbmVyO28uRG9tRXZlbnQub2ZmKHQsXCJmb2N1c1wiLHRoaXMuX29uRm9jdXMsdGhpcykub2ZmKHQsXCJibHVyXCIsdGhpcy5fb25CbHVyLHRoaXMpLm9mZih0LFwibW91c2Vkb3duXCIsdGhpcy5fb25Nb3VzZURvd24sdGhpcyksdGhpcy5fbWFwLm9mZihcImZvY3VzXCIsdGhpcy5fYWRkSG9va3MsdGhpcykub2ZmKFwiYmx1clwiLHRoaXMuX3JlbW92ZUhvb2tzLHRoaXMpfSxfb25Nb3VzZURvd246ZnVuY3Rpb24oKXtpZighdGhpcy5fZm9jdXNlZCl7dmFyIGk9ZS5ib2R5LG49ZS5kb2N1bWVudEVsZW1lbnQsbz1pLnNjcm9sbFRvcHx8bi5zY3JvbGxUb3Ascz1pLnNjcm9sbExlZnR8fG4uc2Nyb2xsTGVmdDt0aGlzLl9tYXAuX2NvbnRhaW5lci5mb2N1cygpLHQuc2Nyb2xsVG8ocyxvKX19LF9vbkZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZD0hMCx0aGlzLl9tYXAuZmlyZShcImZvY3VzXCIpfSxfb25CbHVyOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZD0hMSx0aGlzLl9tYXAuZmlyZShcImJsdXJcIil9LF9zZXRQYW5PZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXMuX3BhbktleXM9e30sbz10aGlzLmtleUNvZGVzO2ZvcihlPTAsaT1vLmxlZnQubGVuZ3RoO2k+ZTtlKyspbltvLmxlZnRbZV1dPVstMSp0LDBdO2ZvcihlPTAsaT1vLnJpZ2h0Lmxlbmd0aDtpPmU7ZSsrKW5bby5yaWdodFtlXV09W3QsMF07Zm9yKGU9MCxpPW8uZG93bi5sZW5ndGg7aT5lO2UrKyluW28uZG93bltlXV09WzAsdF07Zm9yKGU9MCxpPW8udXAubGVuZ3RoO2k+ZTtlKyspbltvLnVwW2VdXT1bMCwtMSp0XX0sX3NldFpvb21PZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXMuX3pvb21LZXlzPXt9LG89dGhpcy5rZXlDb2Rlcztmb3IoZT0wLGk9by56b29tSW4ubGVuZ3RoO2k+ZTtlKyspbltvLnpvb21JbltlXV09dDtmb3IoZT0wLGk9by56b29tT3V0Lmxlbmd0aDtpPmU7ZSsrKW5bby56b29tT3V0W2VdXT0tdH0sX2FkZEhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vbihlLFwia2V5ZG93blwiLHRoaXMuX29uS2V5RG93bix0aGlzKX0sX3JlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7by5Eb21FdmVudC5vZmYoZSxcImtleWRvd25cIix0aGlzLl9vbktleURvd24sdGhpcyl9LF9vbktleURvd246ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXlDb2RlLGk9dGhpcy5fbWFwO2lmKGUgaW4gdGhpcy5fcGFuS2V5cyl7aWYoaS5fcGFuQW5pbSYmaS5fcGFuQW5pbS5faW5Qcm9ncmVzcylyZXR1cm47aS5wYW5CeSh0aGlzLl9wYW5LZXlzW2VdKSxpLm9wdGlvbnMubWF4Qm91bmRzJiZpLnBhbkluc2lkZUJvdW5kcyhpLm9wdGlvbnMubWF4Qm91bmRzKX1lbHNle2lmKCEoZSBpbiB0aGlzLl96b29tS2V5cykpcmV0dXJuO2kuc2V0Wm9vbShpLmdldFpvb20oKSt0aGlzLl96b29tS2V5c1tlXSl9by5Eb21FdmVudC5zdG9wKHQpfX0pLG8uTWFwLmFkZEluaXRIb29rKFwiYWRkSGFuZGxlclwiLFwia2V5Ym9hcmRcIixvLk1hcC5LZXlib2FyZCksby5IYW5kbGVyLk1hcmtlckRyYWc9by5IYW5kbGVyLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXJrZXI9dH0sYWRkSG9va3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXJrZXIuX2ljb247dGhpcy5fZHJhZ2dhYmxlfHwodGhpcy5fZHJhZ2dhYmxlPW5ldyBvLkRyYWdnYWJsZSh0LHQpKSx0aGlzLl9kcmFnZ2FibGUub24oXCJkcmFnc3RhcnRcIix0aGlzLl9vbkRyYWdTdGFydCx0aGlzKS5vbihcImRyYWdcIix0aGlzLl9vbkRyYWcsdGhpcykub24oXCJkcmFnZW5kXCIsdGhpcy5fb25EcmFnRW5kLHRoaXMpLHRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKSxvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFya2VyLl9pY29uLFwibGVhZmxldC1tYXJrZXItZHJhZ2dhYmxlXCIpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX2RyYWdnYWJsZS5vZmYoXCJkcmFnc3RhcnRcIix0aGlzLl9vbkRyYWdTdGFydCx0aGlzKS5vZmYoXCJkcmFnXCIsdGhpcy5fb25EcmFnLHRoaXMpLm9mZihcImRyYWdlbmRcIix0aGlzLl9vbkRyYWdFbmQsdGhpcyksdGhpcy5fZHJhZ2dhYmxlLmRpc2FibGUoKSxvLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFya2VyLl9pY29uLFwibGVhZmxldC1tYXJrZXItZHJhZ2dhYmxlXCIpfSxtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5fbW92ZWR9LF9vbkRyYWdTdGFydDpmdW5jdGlvbigpe3RoaXMuX21hcmtlci5jbG9zZVBvcHVwKCkuZmlyZShcIm1vdmVzdGFydFwiKS5maXJlKFwiZHJhZ3N0YXJ0XCIpfSxfb25EcmFnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFya2VyLGU9dC5fc2hhZG93LGk9by5Eb21VdGlsLmdldFBvc2l0aW9uKHQuX2ljb24pLG49dC5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpKTtlJiZvLkRvbVV0aWwuc2V0UG9zaXRpb24oZSxpKSx0Ll9sYXRsbmc9bix0LmZpcmUoXCJtb3ZlXCIse2xhdGxuZzpufSkuZmlyZShcImRyYWdcIil9LF9vbkRyYWdFbmQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFya2VyLmZpcmUoXCJtb3ZlZW5kXCIpLmZpcmUoXCJkcmFnZW5kXCIsdCl9fSksby5Db250cm9sPW8uQ2xhc3MuZXh0ZW5kKHtvcHRpb25zOntwb3NpdGlvbjpcInRvcHJpZ2h0XCJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7by5zZXRPcHRpb25zKHRoaXMsdCl9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbn0sc2V0UG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwO3JldHVybiBlJiZlLnJlbW92ZUNvbnRyb2wodGhpcyksdGhpcy5vcHRpb25zLnBvc2l0aW9uPXQsZSYmZS5hZGRDb250cm9sKHRoaXMpLHRoaXN9LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LGFkZFRvOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10O3ZhciBlPXRoaXMuX2NvbnRhaW5lcj10aGlzLm9uQWRkKHQpLGk9dGhpcy5nZXRQb3NpdGlvbigpLG49dC5fY29udHJvbENvcm5lcnNbaV07cmV0dXJuIG8uRG9tVXRpbC5hZGRDbGFzcyhlLFwibGVhZmxldC1jb250cm9sXCIpLC0xIT09aS5pbmRleE9mKFwiYm90dG9tXCIpP24uaW5zZXJ0QmVmb3JlKGUsbi5maXJzdENoaWxkKTpuLmFwcGVuZENoaWxkKGUpLHRoaXN9LHJlbW92ZUZyb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQb3NpdGlvbigpLGk9dC5fY29udHJvbENvcm5lcnNbZV07cmV0dXJuIGkucmVtb3ZlQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLl9tYXA9bnVsbCx0aGlzLm9uUmVtb3ZlJiZ0aGlzLm9uUmVtb3ZlKHQpLHRoaXN9LF9yZWZvY3VzT25NYXA6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJnRoaXMuX21hcC5nZXRDb250YWluZXIoKS5mb2N1cygpfX0pLG8uY29udHJvbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uQ29udHJvbCh0KX0sby5NYXAuaW5jbHVkZSh7YWRkQ29udHJvbDpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRUbyh0aGlzKSx0aGlzfSxyZW1vdmVDb250cm9sOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlbW92ZUZyb20odGhpcyksdGhpc30sX2luaXRDb250cm9sUG9zOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LHMpe3ZhciBhPWkrdCtcIiBcIitpK3M7ZVt0K3NdPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixhLG4pfXZhciBlPXRoaXMuX2NvbnRyb2xDb3JuZXJzPXt9LGk9XCJsZWFmbGV0LVwiLG49dGhpcy5fY29udHJvbENvbnRhaW5lcj1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsaStcImNvbnRyb2wtY29udGFpbmVyXCIsdGhpcy5fY29udGFpbmVyKTt0KFwidG9wXCIsXCJsZWZ0XCIpLHQoXCJ0b3BcIixcInJpZ2h0XCIpLHQoXCJib3R0b21cIixcImxlZnRcIiksdChcImJvdHRvbVwiLFwicmlnaHRcIil9LF9jbGVhckNvbnRyb2xQb3M6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fY29udHJvbENvbnRhaW5lcil9fSksby5Db250cm9sLlpvb209by5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246XCJ0b3BsZWZ0XCIsem9vbUluVGV4dDpcIitcIix6b29tSW5UaXRsZTpcIlpvb20gaW5cIix6b29tT3V0VGV4dDpcIi1cIix6b29tT3V0VGl0bGU6XCJab29tIG91dFwifSxvbkFkZDpmdW5jdGlvbih0KXt2YXIgZT1cImxlYWZsZXQtY29udHJvbC16b29tXCIsaT1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsZStcIiBsZWFmbGV0LWJhclwiKTtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbih0aGlzLm9wdGlvbnMuem9vbUluVGV4dCx0aGlzLm9wdGlvbnMuem9vbUluVGl0bGUsZStcIi1pblwiLGksdGhpcy5fem9vbUluLHRoaXMpLHRoaXMuX3pvb21PdXRCdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKHRoaXMub3B0aW9ucy56b29tT3V0VGV4dCx0aGlzLm9wdGlvbnMuem9vbU91dFRpdGxlLGUrXCItb3V0XCIsaSx0aGlzLl96b29tT3V0LHRoaXMpLHRoaXMuX3VwZGF0ZURpc2FibGVkKCksdC5vbihcInpvb21lbmQgem9vbWxldmVsc2NoYW5nZVwiLHRoaXMuX3VwZGF0ZURpc2FibGVkLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKFwiem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlXCIsdGhpcy5fdXBkYXRlRGlzYWJsZWQsdGhpcyl9LF96b29tSW46ZnVuY3Rpb24odCl7dGhpcy5fbWFwLnpvb21Jbih0LnNoaWZ0S2V5PzM6MSl9LF96b29tT3V0OmZ1bmN0aW9uKHQpe3RoaXMuX21hcC56b29tT3V0KHQuc2hpZnRLZXk/MzoxKX0sX2NyZWF0ZUJ1dHRvbjpmdW5jdGlvbih0LGUsaSxuLHMsYSl7dmFyIHI9by5Eb21VdGlsLmNyZWF0ZShcImFcIixpLG4pO3IuaW5uZXJIVE1MPXQsci5ocmVmPVwiI1wiLHIudGl0bGU9ZTt2YXIgaD1vLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbjtyZXR1cm4gby5Eb21FdmVudC5vbihyLFwiY2xpY2tcIixoKS5vbihyLFwibW91c2Vkb3duXCIsaCkub24ocixcImRibGNsaWNrXCIsaCkub24ocixcImNsaWNrXCIsby5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCkub24ocixcImNsaWNrXCIscyxhKS5vbihyLFwiY2xpY2tcIix0aGlzLl9yZWZvY3VzT25NYXAsYSkscn0sX3VwZGF0ZURpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLGU9XCJsZWFmbGV0LWRpc2FibGVkXCI7by5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbixlKSxvLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbU91dEJ1dHRvbixlKSx0Ll96b29tPT09dC5nZXRNaW5ab29tKCkmJm8uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLGUpLHQuX3pvb209PT10LmdldE1heFpvb20oKSYmby5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21JbkJ1dHRvbixlKX19KSxvLk1hcC5tZXJnZU9wdGlvbnMoe3pvb21Db250cm9sOiEwfSksby5NYXAuYWRkSW5pdEhvb2soZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuem9vbUNvbnRyb2wmJih0aGlzLnpvb21Db250cm9sPW5ldyBvLkNvbnRyb2wuWm9vbSx0aGlzLmFkZENvbnRyb2wodGhpcy56b29tQ29udHJvbCkpfSksby5jb250cm9sLnpvb209ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkNvbnRyb2wuWm9vbSh0KX0sby5Db250cm9sLkF0dHJpYnV0aW9uPW8uQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOlwiYm90dG9tcmlnaHRcIixwcmVmaXg6JzxhIGhyZWY9XCJodHRwOi8vbGVhZmxldGpzLmNvbVwiIHRpdGxlPVwiQSBKUyBsaWJyYXJ5IGZvciBpbnRlcmFjdGl2ZSBtYXBzXCI+TGVhZmxldDwvYT4nfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe28uc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX2F0dHJpYnV0aW9ucz17fX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixcImxlYWZsZXQtY29udHJvbC1hdHRyaWJ1dGlvblwiKSxvLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lcik7Zm9yKHZhciBlIGluIHQuX2xheWVycyl0Ll9sYXllcnNbZV0uZ2V0QXR0cmlidXRpb24mJnRoaXMuYWRkQXR0cmlidXRpb24odC5fbGF5ZXJzW2VdLmdldEF0dHJpYnV0aW9uKCkpO3JldHVybiB0Lm9uKFwibGF5ZXJhZGRcIix0aGlzLl9vbkxheWVyQWRkLHRoaXMpLm9uKFwibGF5ZXJyZW1vdmVcIix0aGlzLl9vbkxheWVyUmVtb3ZlLHRoaXMpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoXCJsYXllcmFkZFwiLHRoaXMuX29uTGF5ZXJBZGQpLm9mZihcImxheWVycmVtb3ZlXCIsdGhpcy5fb25MYXllclJlbW92ZSl9LHNldFByZWZpeDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnByZWZpeD10LHRoaXMuX3VwZGF0ZSgpLHRoaXN9LGFkZEF0dHJpYnV0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9hdHRyaWJ1dGlvbnNbdF18fCh0aGlzLl9hdHRyaWJ1dGlvbnNbdF09MCksdGhpcy5fYXR0cmlidXRpb25zW3RdKyssdGhpcy5fdXBkYXRlKCksdGhpcyk6dm9pZCAwfSxyZW1vdmVBdHRyaWJ1dGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5fYXR0cmlidXRpb25zW3RdJiYodGhpcy5fYXR0cmlidXRpb25zW3RdLS0sdGhpcy5fdXBkYXRlKCkpLHRoaXMpOnZvaWQgMH0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9W107Zm9yKHZhciBlIGluIHRoaXMuX2F0dHJpYnV0aW9ucyl0aGlzLl9hdHRyaWJ1dGlvbnNbZV0mJnQucHVzaChlKTt2YXIgaT1bXTt0aGlzLm9wdGlvbnMucHJlZml4JiZpLnB1c2godGhpcy5vcHRpb25zLnByZWZpeCksdC5sZW5ndGgmJmkucHVzaCh0LmpvaW4oXCIsIFwiKSksdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1pLmpvaW4oXCIgfCBcIil9fSxfb25MYXllckFkZDpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLmFkZEF0dHJpYnV0aW9uKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSl9LF9vbkxheWVyUmVtb3ZlOmZ1bmN0aW9uKHQpe3QubGF5ZXIuZ2V0QXR0cmlidXRpb24mJnRoaXMucmVtb3ZlQXR0cmlidXRpb24odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX19KSxvLk1hcC5tZXJnZU9wdGlvbnMoe2F0dHJpYnV0aW9uQ29udHJvbDohMH0pLG8uTWFwLmFkZEluaXRIb29rKGZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF0dHJpYnV0aW9uQ29udHJvbCYmKHRoaXMuYXR0cmlidXRpb25Db250cm9sPShuZXcgby5Db250cm9sLkF0dHJpYnV0aW9uKS5hZGRUbyh0aGlzKSl9KSxvLmNvbnRyb2wuYXR0cmlidXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvLkNvbnRyb2wuQXR0cmlidXRpb24odCl9LG8uQ29udHJvbC5TY2FsZT1vLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntwb3NpdGlvbjpcImJvdHRvbWxlZnRcIixtYXhXaWR0aDoxMDAsbWV0cmljOiEwLGltcGVyaWFsOiEwLHVwZGF0ZVdoZW5JZGxlOiExfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dDt2YXIgZT1cImxlYWZsZXQtY29udHJvbC1zY2FsZVwiLGk9by5Eb21VdGlsLmNyZWF0ZShcImRpdlwiLGUpLG49dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLl9hZGRTY2FsZXMobixlLGkpLHQub24obi51cGRhdGVXaGVuSWRsZT9cIm1vdmVlbmRcIjpcIm1vdmVcIix0aGlzLl91cGRhdGUsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fdXBkYXRlLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZT9cIm1vdmVlbmRcIjpcIm1vdmVcIix0aGlzLl91cGRhdGUsdGhpcyl9LF9hZGRTY2FsZXM6ZnVuY3Rpb24odCxlLGkpe3QubWV0cmljJiYodGhpcy5fbVNjYWxlPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIixlK1wiLWxpbmVcIixpKSksdC5pbXBlcmlhbCYmKHRoaXMuX2lTY2FsZT1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsZStcIi1saW5lXCIsaSkpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLmdldEJvdW5kcygpLGU9dC5nZXRDZW50ZXIoKS5sYXQsaT02Mzc4MTM3Kk1hdGguUEkqTWF0aC5jb3MoZSpNYXRoLlBJLzE4MCksbj1pKih0LmdldE5vcnRoRWFzdCgpLmxuZy10LmdldFNvdXRoV2VzdCgpLmxuZykvMTgwLG89dGhpcy5fbWFwLmdldFNpemUoKSxzPXRoaXMub3B0aW9ucyxhPTA7by54PjAmJihhPW4qKHMubWF4V2lkdGgvby54KSksdGhpcy5fdXBkYXRlU2NhbGVzKHMsYSl9LF91cGRhdGVTY2FsZXM6ZnVuY3Rpb24odCxlKXt0Lm1ldHJpYyYmZSYmdGhpcy5fdXBkYXRlTWV0cmljKGUpLHQuaW1wZXJpYWwmJmUmJnRoaXMuX3VwZGF0ZUltcGVyaWFsKGUpfSxfdXBkYXRlTWV0cmljOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFJvdW5kTnVtKHQpO3RoaXMuX21TY2FsZS5zdHlsZS53aWR0aD10aGlzLl9nZXRTY2FsZVdpZHRoKGUvdCkrXCJweFwiLHRoaXMuX21TY2FsZS5pbm5lckhUTUw9MWUzPmU/ZStcIiBtXCI6ZS8xZTMrXCIga21cIn0sX3VwZGF0ZUltcGVyaWFsOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvPTMuMjgwODM5OSp0LHM9dGhpcy5faVNjYWxlO28+NTI4MD8oZT1vLzUyODAsaT10aGlzLl9nZXRSb3VuZE51bShlKSxzLnN0eWxlLndpZHRoPXRoaXMuX2dldFNjYWxlV2lkdGgoaS9lKStcInB4XCIscy5pbm5lckhUTUw9aStcIiBtaVwiKToobj10aGlzLl9nZXRSb3VuZE51bShvKSxzLnN0eWxlLndpZHRoPXRoaXMuX2dldFNjYWxlV2lkdGgobi9vKStcInB4XCIscy5pbm5lckhUTUw9bitcIiBmdFwiKX0sX2dldFNjYWxlV2lkdGg6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy5vcHRpb25zLm1heFdpZHRoKnQpLTEwfSxfZ2V0Um91bmROdW06ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5wb3coMTAsKE1hdGguZmxvb3IodCkrXCJcIikubGVuZ3RoLTEpLGk9dC9lO3JldHVybiBpPWk+PTEwPzEwOmk+PTU/NTppPj0zPzM6aT49Mj8yOjEsZSppfX0pLG8uY29udHJvbC5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG8uQ29udHJvbC5TY2FsZSh0KX0sby5Db250cm9sLkxheWVycz1vLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntjb2xsYXBzZWQ6ITAscG9zaXRpb246XCJ0b3ByaWdodFwiLGF1dG9aSW5kZXg6ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlLGkpe28uc2V0T3B0aW9ucyh0aGlzLGkpLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXN0WkluZGV4PTAsdGhpcy5faGFuZGxpbmdDbGljaz0hMTtmb3IodmFyIG4gaW4gdCl0aGlzLl9hZGRMYXllcih0W25dLG4pO2ZvcihuIGluIGUpdGhpcy5fYWRkTGF5ZXIoZVtuXSxuLCEwKX0sb25BZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2luaXRMYXlvdXQoKSx0aGlzLl91cGRhdGUoKSx0Lm9uKFwibGF5ZXJhZGRcIix0aGlzLl9vbkxheWVyQ2hhbmdlLHRoaXMpLm9uKFwibGF5ZXJyZW1vdmVcIix0aGlzLl9vbkxheWVyQ2hhbmdlLHRoaXMpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoXCJsYXllcmFkZFwiLHRoaXMuX29uTGF5ZXJDaGFuZ2UsdGhpcykub2ZmKFwibGF5ZXJyZW1vdmVcIix0aGlzLl9vbkxheWVyQ2hhbmdlLHRoaXMpfSxhZGRCYXNlTGF5ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoKSx0aGlzfSxhZGRPdmVybGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2FkZExheWVyKHQsZSwhMCksdGhpcy5fdXBkYXRlKCksdGhpc30scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9by5zdGFtcCh0KTtyZXR1cm4gZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl91cGRhdGUoKSx0aGlzfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0PVwibGVhZmxldC1jb250cm9sLWxheWVyc1wiLGU9dGhpcy5fY29udGFpbmVyPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIix0KTtlLnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiwhMCksby5Ccm93c2VyLnRvdWNoP28uRG9tRXZlbnQub24oZSxcImNsaWNrXCIsby5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24pOm8uRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24oZSkuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKGUpO3ZhciBpPXRoaXMuX2Zvcm09by5Eb21VdGlsLmNyZWF0ZShcImZvcm1cIix0K1wiLWxpc3RcIik7aWYodGhpcy5vcHRpb25zLmNvbGxhcHNlZCl7by5Ccm93c2VyLmFuZHJvaWR8fG8uRG9tRXZlbnQub24oZSxcIm1vdXNlb3ZlclwiLHRoaXMuX2V4cGFuZCx0aGlzKS5vbihlLFwibW91c2VvdXRcIix0aGlzLl9jb2xsYXBzZSx0aGlzKTt2YXIgbj10aGlzLl9sYXllcnNMaW5rPW8uRG9tVXRpbC5jcmVhdGUoXCJhXCIsdCtcIi10b2dnbGVcIixlKTtuLmhyZWY9XCIjXCIsbi50aXRsZT1cIkxheWVyc1wiLG8uQnJvd3Nlci50b3VjaD9vLkRvbUV2ZW50Lm9uKG4sXCJjbGlja1wiLG8uRG9tRXZlbnQuc3RvcCkub24obixcImNsaWNrXCIsdGhpcy5fZXhwYW5kLHRoaXMpOm8uRG9tRXZlbnQub24obixcImZvY3VzXCIsdGhpcy5fZXhwYW5kLHRoaXMpLG8uRG9tRXZlbnQub24oaSxcImNsaWNrXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KG8uYmluZCh0aGlzLl9vbklucHV0Q2xpY2ssdGhpcyksMCl9LHRoaXMpLHRoaXMuX21hcC5vbihcImNsaWNrXCIsdGhpcy5fY29sbGFwc2UsdGhpcyl9ZWxzZSB0aGlzLl9leHBhbmQoKTt0aGlzLl9iYXNlTGF5ZXJzTGlzdD1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsdCtcIi1iYXNlXCIsaSksdGhpcy5fc2VwYXJhdG9yPW8uRG9tVXRpbC5jcmVhdGUoXCJkaXZcIix0K1wiLXNlcGFyYXRvclwiLGkpLHRoaXMuX292ZXJsYXlzTGlzdD1vLkRvbVV0aWwuY3JlYXRlKFwiZGl2XCIsdCtcIi1vdmVybGF5c1wiLGkpLGUuYXBwZW5kQ2hpbGQoaSl9LF9hZGRMYXllcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49by5zdGFtcCh0KTt0aGlzLl9sYXllcnNbbl09e2xheWVyOnQsbmFtZTplLG92ZXJsYXk6aX0sdGhpcy5vcHRpb25zLmF1dG9aSW5kZXgmJnQuc2V0WkluZGV4JiYodGhpcy5fbGFzdFpJbmRleCsrLHQuc2V0WkluZGV4KHRoaXMuX2xhc3RaSW5kZXgpKX0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2NvbnRhaW5lcil7dGhpcy5fYmFzZUxheWVyc0xpc3QuaW5uZXJIVE1MPVwiXCIsdGhpcy5fb3ZlcmxheXNMaXN0LmlubmVySFRNTD1cIlwiO3ZhciB0LGUsaT0hMSxuPSExO2Zvcih0IGluIHRoaXMuX2xheWVycyllPXRoaXMuX2xheWVyc1t0XSx0aGlzLl9hZGRJdGVtKGUpLG49bnx8ZS5vdmVybGF5LGk9aXx8IWUub3ZlcmxheTt0aGlzLl9zZXBhcmF0b3Iuc3R5bGUuZGlzcGxheT1uJiZpP1wiXCI6XCJub25lXCJ9fSxfb25MYXllckNoYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbby5zdGFtcCh0LmxheWVyKV07aWYoZSl7dGhpcy5faGFuZGxpbmdDbGlja3x8dGhpcy5fdXBkYXRlKCk7dmFyIGk9ZS5vdmVybGF5P1wibGF5ZXJhZGRcIj09PXQudHlwZT9cIm92ZXJsYXlhZGRcIjpcIm92ZXJsYXlyZW1vdmVcIjpcImxheWVyYWRkXCI9PT10LnR5cGU/XCJiYXNlbGF5ZXJjaGFuZ2VcIjpudWxsO2kmJnRoaXMuX21hcC5maXJlKGksZSl9fSxfY3JlYXRlUmFkaW9FbGVtZW50OmZ1bmN0aW9uKHQsaSl7dmFyIG49JzxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cImxlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3JcIiBuYW1lPVwiJyt0KydcIic7aSYmKG4rPScgY2hlY2tlZD1cImNoZWNrZWRcIicpLG4rPVwiLz5cIjt2YXIgbz1lLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIG8uaW5uZXJIVE1MPW4sby5maXJzdENoaWxkfSxfYWRkSXRlbTpmdW5jdGlvbih0KXt2YXIgaSxuPWUuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpLHM9dGhpcy5fbWFwLmhhc0xheWVyKHQubGF5ZXIpO3Qub3ZlcmxheT8oaT1lLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxpLnR5cGU9XCJjaGVja2JveFwiLGkuY2xhc3NOYW1lPVwibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvclwiLGkuZGVmYXVsdENoZWNrZWQ9cyk6aT10aGlzLl9jcmVhdGVSYWRpb0VsZW1lbnQoXCJsZWFmbGV0LWJhc2UtbGF5ZXJzXCIscyksaS5sYXllcklkPW8uc3RhbXAodC5sYXllciksby5Eb21FdmVudC5vbihpLFwiY2xpY2tcIix0aGlzLl9vbklucHV0Q2xpY2ssdGhpcyk7dmFyIGE9ZS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTthLmlubmVySFRNTD1cIiBcIit0Lm5hbWUsbi5hcHBlbmRDaGlsZChpKSxuLmFwcGVuZENoaWxkKGEpO3ZhciByPXQub3ZlcmxheT90aGlzLl9vdmVybGF5c0xpc3Q6dGhpcy5fYmFzZUxheWVyc0xpc3Q7cmV0dXJuIHIuYXBwZW5kQ2hpbGQobiksbn0sX29uSW5wdXRDbGljazpmdW5jdGlvbigpe3ZhciB0LGUsaSxuPXRoaXMuX2Zvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSxvPW4ubGVuZ3RoO2Zvcih0aGlzLl9oYW5kbGluZ0NsaWNrPSEwLHQ9MDtvPnQ7dCsrKWU9blt0XSxpPXRoaXMuX2xheWVyc1tlLmxheWVySWRdLGUuY2hlY2tlZCYmIXRoaXMuX21hcC5oYXNMYXllcihpLmxheWVyKT90aGlzLl9tYXAuYWRkTGF5ZXIoaS5sYXllcik6IWUuY2hlY2tlZCYmdGhpcy5fbWFwLmhhc0xheWVyKGkubGF5ZXIpJiZ0aGlzLl9tYXAucmVtb3ZlTGF5ZXIoaS5sYXllcik7dGhpcy5faGFuZGxpbmdDbGljaz0hMSx0aGlzLl9yZWZvY3VzT25NYXAoKX0sX2V4cGFuZDpmdW5jdGlvbigpe28uRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXIsXCJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkXCIpfSxfY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lPXRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZShcIiBsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzLWV4cGFuZGVkXCIsXCJcIil9fSksby5jb250cm9sLmxheWVycz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBvLkNvbnRyb2wuTGF5ZXJzKHQsZSxpKX0sby5Qb3NBbmltYXRpb249by5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOm8uTWl4aW4uRXZlbnRzLHJ1bjpmdW5jdGlvbih0LGUsaSxuKXt0aGlzLnN0b3AoKSx0aGlzLl9lbD10LHRoaXMuX2luUHJvZ3Jlc3M9ITAsdGhpcy5fbmV3UG9zPWUsdGhpcy5maXJlKFwic3RhcnRcIiksdC5zdHlsZVtvLkRvbVV0aWwuVFJBTlNJVElPTl09XCJhbGwgXCIrKGl8fC4yNSkrXCJzIGN1YmljLWJlemllcigwLDAsXCIrKG58fC41KStcIiwxKVwiLG8uRG9tRXZlbnQub24odCxvLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQsdGhpcy5fb25UcmFuc2l0aW9uRW5kLHRoaXMpLG8uRG9tVXRpbC5zZXRQb3NpdGlvbih0LGUpLG8uVXRpbC5mYWxzZUZuKHQub2Zmc2V0V2lkdGgpLHRoaXMuX3N0ZXBUaW1lcj1zZXRJbnRlcnZhbChvLmJpbmQodGhpcy5fb25TdGVwLHRoaXMpLDUwKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJihvLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsdGhpcy5fZ2V0UG9zKCkpLHRoaXMuX29uVHJhbnNpdGlvbkVuZCgpLG8uVXRpbC5mYWxzZUZuKHRoaXMuX2VsLm9mZnNldFdpZHRoKSl9LF9vblN0ZXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRQb3MoKTtyZXR1cm4gdD8odGhpcy5fZWwuX2xlYWZsZXRfcG9zPXQsdm9pZCB0aGlzLmZpcmUoXCJzdGVwXCIpKTp2b2lkIHRoaXMuX29uVHJhbnNpdGlvbkVuZCgpfSxfdHJhbnNmb3JtUmU6LyhbLStdPyg/OlxcZCpcXC4pP1xcZCspXFxEKiwgKFstK10/KD86XFxkKlxcLik/XFxkKylcXEQqXFwpLyxfZ2V0UG9zOmZ1bmN0aW9uKCl7dmFyIGUsaSxuLHM9dGhpcy5fZWwsYT10LmdldENvbXB1dGVkU3R5bGUocyk7aWYoby5Ccm93c2VyLmFueTNkKXtpZihuPWFbby5Eb21VdGlsLlRSQU5TRk9STV0ubWF0Y2godGhpcy5fdHJhbnNmb3JtUmUpLCFuKXJldHVybjtlPXBhcnNlRmxvYXQoblsxXSksaT1wYXJzZUZsb2F0KG5bMl0pfWVsc2UgZT1wYXJzZUZsb2F0KGEubGVmdCksaT1wYXJzZUZsb2F0KGEudG9wKTtyZXR1cm4gbmV3IG8uUG9pbnQoZSxpLCEwKX0sX29uVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe28uRG9tRXZlbnQub2ZmKHRoaXMuX2VsLG8uRG9tVXRpbC5UUkFOU0lUSU9OX0VORCx0aGlzLl9vblRyYW5zaXRpb25FbmQsdGhpcyksdGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5fZWwuc3R5bGVbby5Eb21VdGlsLlRSQU5TSVRJT05dPVwiXCIsdGhpcy5fZWwuX2xlYWZsZXRfcG9zPXRoaXMuX25ld1BvcyxjbGVhckludGVydmFsKHRoaXMuX3N0ZXBUaW1lciksdGhpcy5maXJlKFwic3RlcFwiKS5maXJlKFwiZW5kXCIpKX19KSxvLk1hcC5pbmNsdWRlKHtzZXRWaWV3OmZ1bmN0aW9uKHQsZSxuKXtpZihlPWU9PT1pP3RoaXMuX3pvb206dGhpcy5fbGltaXRab29tKGUpLHQ9dGhpcy5fbGltaXRDZW50ZXIoby5sYXRMbmcodCksZSx0aGlzLm9wdGlvbnMubWF4Qm91bmRzKSxuPW58fHt9LHRoaXMuX3BhbkFuaW0mJnRoaXMuX3BhbkFuaW0uc3RvcCgpLHRoaXMuX2xvYWRlZCYmIW4ucmVzZXQmJm4hPT0hMCl7bi5hbmltYXRlIT09aSYmKG4uem9vbT1vLmV4dGVuZCh7YW5pbWF0ZTpuLmFuaW1hdGV9LG4uem9vbSksbi5wYW49by5leHRlbmQoe2FuaW1hdGU6bi5hbmltYXRlfSxuLnBhbikpO3ZhciBzPXRoaXMuX3pvb20hPT1lP3RoaXMuX3RyeUFuaW1hdGVkWm9vbSYmdGhpcy5fdHJ5QW5pbWF0ZWRab29tKHQsZSxuLnpvb20pOnRoaXMuX3RyeUFuaW1hdGVkUGFuKHQsbi5wYW4pO2lmKHMpcmV0dXJuIGNsZWFyVGltZW91dCh0aGlzLl9zaXplVGltZXIpLHRoaXN9cmV0dXJuIHRoaXMuX3Jlc2V0Vmlldyh0LGUpLHRoaXN9LHBhbkJ5OmZ1bmN0aW9uKHQsZSl7aWYodD1vLnBvaW50KHQpLnJvdW5kKCksZT1lfHx7fSwhdC54JiYhdC55KXJldHVybiB0aGlzO2lmKHRoaXMuX3BhbkFuaW18fCh0aGlzLl9wYW5BbmltPW5ldyBvLlBvc0FuaW1hdGlvbix0aGlzLl9wYW5BbmltLm9uKHtzdGVwOnRoaXMuX29uUGFuVHJhbnNpdGlvblN0ZXAsZW5kOnRoaXMuX29uUGFuVHJhbnNpdGlvbkVuZH0sdGhpcykpLGUubm9Nb3ZlU3RhcnR8fHRoaXMuZmlyZShcIm1vdmVzdGFydFwiKSxlLmFuaW1hdGUhPT0hMSl7by5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsXCJsZWFmbGV0LXBhbi1hbmltXCIpO3ZhciBpPXRoaXMuX2dldE1hcFBhbmVQb3MoKS5zdWJ0cmFjdCh0KTt0aGlzLl9wYW5BbmltLnJ1bih0aGlzLl9tYXBQYW5lLGksZS5kdXJhdGlvbnx8LjI1LGUuZWFzZUxpbmVhcml0eSl9ZWxzZSB0aGlzLl9yYXdQYW5CeSh0KSx0aGlzLmZpcmUoXCJtb3ZlXCIpLmZpcmUoXCJtb3ZlZW5kXCIpO3JldHVybiB0aGlzfSxfb25QYW5UcmFuc2l0aW9uU3RlcDpmdW5jdGlvbigpe3RoaXMuZmlyZShcIm1vdmVcIil9LF9vblBhblRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oKXtvLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSxcImxlYWZsZXQtcGFuLWFuaW1cIiksdGhpcy5maXJlKFwibW92ZWVuZFwiKX0sX3RyeUFuaW1hdGVkUGFuOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9mbG9vcigpO3JldHVybihlJiZlLmFuaW1hdGUpPT09ITB8fHRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKGkpPyh0aGlzLnBhbkJ5KGksZSksITApOiExfX0pLG8uUG9zQW5pbWF0aW9uPW8uRG9tVXRpbC5UUkFOU0lUSU9OP28uUG9zQW5pbWF0aW9uOm8uUG9zQW5pbWF0aW9uLmV4dGVuZCh7cnVuOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuc3RvcCgpLHRoaXMuX2VsPXQsdGhpcy5faW5Qcm9ncmVzcz0hMCx0aGlzLl9kdXJhdGlvbj1pfHwuMjUsdGhpcy5fZWFzZU91dFBvd2VyPTEvTWF0aC5tYXgobnx8LjUsLjIpLHRoaXMuX3N0YXJ0UG9zPW8uRG9tVXRpbC5nZXRQb3NpdGlvbih0KSx0aGlzLl9vZmZzZXQ9ZS5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvcyksdGhpcy5fc3RhcnRUaW1lPStuZXcgRGF0ZSx0aGlzLmZpcmUoXCJzdGFydFwiKSx0aGlzLl9hbmltYXRlKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9pblByb2dyZXNzJiYodGhpcy5fc3RlcCgpLHRoaXMuX2NvbXBsZXRlKCkpfSxfYW5pbWF0ZTpmdW5jdGlvbigpe3RoaXMuX2FuaW1JZD1vLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLl9hbmltYXRlLHRoaXMpLHRoaXMuX3N0ZXAoKX0sX3N0ZXA6ZnVuY3Rpb24oKXt2YXIgdD0rbmV3IERhdGUtdGhpcy5fc3RhcnRUaW1lLGU9MWUzKnRoaXMuX2R1cmF0aW9uO2U+dD90aGlzLl9ydW5GcmFtZSh0aGlzLl9lYXNlT3V0KHQvZSkpOih0aGlzLl9ydW5GcmFtZSgxKSx0aGlzLl9jb21wbGV0ZSgpKX0sX3J1bkZyYW1lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0YXJ0UG9zLmFkZCh0aGlzLl9vZmZzZXQubXVsdGlwbHlCeSh0KSk7by5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsLGUpLHRoaXMuZmlyZShcInN0ZXBcIil9LF9jb21wbGV0ZTpmdW5jdGlvbigpe28uVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbUlkKSx0aGlzLl9pblByb2dyZXNzPSExLHRoaXMuZmlyZShcImVuZFwiKX0sX2Vhc2VPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5wb3coMS10LHRoaXMuX2Vhc2VPdXRQb3dlcil9fSksby5NYXAubWVyZ2VPcHRpb25zKHt6b29tQW5pbWF0aW9uOiEwLHpvb21BbmltYXRpb25UaHJlc2hvbGQ6NH0pLG8uRG9tVXRpbC5UUkFOU0lUSU9OJiZvLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMuX3pvb21BbmltYXRlZD10aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmby5Eb21VdGlsLlRSQU5TSVRJT04mJm8uQnJvd3Nlci5hbnkzZCYmIW8uQnJvd3Nlci5hbmRyb2lkMjMmJiFvLkJyb3dzZXIubW9iaWxlT3BlcmEsdGhpcy5fem9vbUFuaW1hdGVkJiZvLkRvbUV2ZW50Lm9uKHRoaXMuX21hcFBhbmUsby5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELHRoaXMuX2NhdGNoVHJhbnNpdGlvbkVuZCx0aGlzKX0pLG8uTWFwLmluY2x1ZGUoby5Eb21VdGlsLlRSQU5TSVRJT04/e19jYXRjaFRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5pbWF0aW5nWm9vbSYmdC5wcm9wZXJ0eU5hbWUuaW5kZXhPZihcInRyYW5zZm9ybVwiKT49MCYmdGhpcy5fb25ab29tVHJhbnNpdGlvbkVuZCgpfSxfbm90aGluZ1RvQW5pbWF0ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxlYWZsZXQtem9vbS1hbmltYXRlZFwiKS5sZW5ndGh9LF90cnlBbmltYXRlZFpvb206ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuX2FuaW1hdGluZ1pvb20pcmV0dXJuITA7aWYoaT1pfHx7fSwhdGhpcy5fem9vbUFuaW1hdGVkfHxpLmFuaW1hdGU9PT0hMXx8dGhpcy5fbm90aGluZ1RvQW5pbWF0ZSgpfHxNYXRoLmFicyhlLXRoaXMuX3pvb20pPnRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uVGhyZXNob2xkKXJldHVybiExO3ZhciBuPXRoaXMuZ2V0Wm9vbVNjYWxlKGUpLG89dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9kaXZpZGVCeSgxLTEvbikscz10aGlzLl9nZXRDZW50ZXJMYXllclBvaW50KCkuX2FkZChvKTtyZXR1cm4gaS5hbmltYXRlPT09ITB8fHRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKG8pPyh0aGlzLmZpcmUoXCJtb3Zlc3RhcnRcIikuZmlyZShcInpvb21zdGFydFwiKSx0aGlzLl9hbmltYXRlWm9vbSh0LGUscyxuLG51bGwsITApLCEwKTohMX0sX2FuaW1hdGVab29tOmZ1bmN0aW9uKHQsZSxpLG4scyxhLHIpe3J8fCh0aGlzLl9hbmltYXRpbmdab29tPSEwKSxvLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwUGFuZSxcImxlYWZsZXQtem9vbS1hbmltXCIpLHRoaXMuX2FuaW1hdGVUb0NlbnRlcj10LHRoaXMuX2FuaW1hdGVUb1pvb209ZSxvLkRyYWdnYWJsZSYmKG8uRHJhZ2dhYmxlLl9kaXNhYmxlZD0hMCksby5VdGlsLnJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJ6b29tYW5pbVwiLHtjZW50ZXI6dCx6b29tOmUsb3JpZ2luOmksc2NhbGU6bixkZWx0YTpzLGJhY2t3YXJkczphfSksc2V0VGltZW91dChvLmJpbmQodGhpcy5fb25ab29tVHJhbnNpdGlvbkVuZCx0aGlzKSwyNTApfSx0aGlzKX0sX29uWm9vbVRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oKXt0aGlzLl9hbmltYXRpbmdab29tJiYodGhpcy5fYW5pbWF0aW5nWm9vbT0hMSxvLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSxcImxlYWZsZXQtem9vbS1hbmltXCIpLG8uVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCl7dGhpcy5fcmVzZXRWaWV3KHRoaXMuX2FuaW1hdGVUb0NlbnRlcix0aGlzLl9hbmltYXRlVG9ab29tLCEwLCEwKSxvLkRyYWdnYWJsZSYmKG8uRHJhZ2dhYmxlLl9kaXNhYmxlZD0hMSl9LHRoaXMpKX19Ont9KSxvLlRpbGVMYXllci5pbmNsdWRlKHtfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dGhpcy5fYW5pbWF0aW5nfHwodGhpcy5fYW5pbWF0aW5nPSEwLHRoaXMuX3ByZXBhcmVCZ0J1ZmZlcigpKTt2YXIgZT10aGlzLl9iZ0J1ZmZlcixpPW8uRG9tVXRpbC5UUkFOU0ZPUk0sbj10LmRlbHRhP28uRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcodC5kZWx0YSk6ZS5zdHlsZVtpXSxzPW8uRG9tVXRpbC5nZXRTY2FsZVN0cmluZyh0LnNjYWxlLHQub3JpZ2luKTtlLnN0eWxlW2ldPXQuYmFja3dhcmRzP3MrXCIgXCIrbjpuK1wiIFwiK3N9LF9lbmRab29tQW5pbTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RpbGVDb250YWluZXIsZT10aGlzLl9iZ0J1ZmZlcjt0LnN0eWxlLnZpc2liaWxpdHk9XCJcIix0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCksby5VdGlsLmZhbHNlRm4oZS5vZmZzZXRXaWR0aCk7dmFyIGk9dGhpcy5fbWFwLmdldFpvb20oKTsoaT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8aTx0aGlzLm9wdGlvbnMubWluWm9vbSkmJnRoaXMuX2NsZWFyQmdCdWZmZXIoKSx0aGlzLl9hbmltYXRpbmc9ITF9LF9jbGVhckJnQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwOyF0fHx0Ll9hbmltYXRpbmdab29tfHx0LnRvdWNoWm9vbS5fem9vbWluZ3x8KHRoaXMuX2JnQnVmZmVyLmlubmVySFRNTD1cIlwiLHRoaXMuX2JnQnVmZmVyLnN0eWxlW28uRG9tVXRpbC5UUkFOU0ZPUk1dPVwiXCIpfSxfcHJlcGFyZUJnQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGlsZUNvbnRhaW5lcixlPXRoaXMuX2JnQnVmZmVyLGk9dGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKGUpLG49dGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKHQpO3JldHVybiBlJiZpPi41JiYuNT5uPyh0LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix2b2lkIHRoaXMuX3N0b3BMb2FkaW5nSW1hZ2VzKHQpKTooZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsZS5zdHlsZVtvLkRvbVV0aWwuVFJBTlNGT1JNXT1cIlwiLHRoaXMuX3RpbGVDb250YWluZXI9ZSxlPXRoaXMuX2JnQnVmZmVyPXQsdGhpcy5fc3RvcExvYWRpbmdJbWFnZXMoZSksdm9pZCBjbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKSl9LF9nZXRMb2FkZWRUaWxlc1BlcmNlbnRhZ2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIiksbz0wO2ZvcihlPTAsaT1uLmxlbmd0aDtpPmU7ZSsrKW5bZV0uY29tcGxldGUmJm8rKztyZXR1cm4gby9pfSxfc3RvcExvYWRpbmdJbWFnZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltZ1wiKSk7Zm9yKGU9MCxpPXMubGVuZ3RoO2k+ZTtlKyspbj1zW2VdLG4uY29tcGxldGV8fChuLm9ubG9hZD1vLlV0aWwuZmFsc2VGbixuLm9uZXJyb3I9by5VdGlsLmZhbHNlRm4sbi5zcmM9by5VdGlsLmVtcHR5SW1hZ2VVcmwsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKX19KSxvLk1hcC5pbmNsdWRlKHtfZGVmYXVsdExvY2F0ZU9wdGlvbnM6e3dhdGNoOiExLHNldFZpZXc6ITEsbWF4Wm9vbToxLzAsdGltZW91dDoxZTQsbWF4aW11bUFnZTowLGVuYWJsZUhpZ2hBY2N1cmFjeTohMX0sbG9jYXRlOmZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5fbG9jYXRlT3B0aW9ucz1vLmV4dGVuZCh0aGlzLl9kZWZhdWx0TG9jYXRlT3B0aW9ucyx0KSwhbmF2aWdhdG9yLmdlb2xvY2F0aW9uKXJldHVybiB0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yKHtjb2RlOjAsbWVzc2FnZTpcIkdlb2xvY2F0aW9uIG5vdCBzdXBwb3J0ZWQuXCJ9KSx0aGlzO3ZhciBlPW8uYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlLHRoaXMpLGk9by5iaW5kKHRoaXMuX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3IsdGhpcyk7cmV0dXJuIHQud2F0Y2g/dGhpcy5fbG9jYXRpb25XYXRjaElkPW5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uKGUsaSx0KTpuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGUsaSx0KSx0aGlzfSxzdG9wTG9jYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5nZW9sb2NhdGlvbiYmbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fbG9jYXRpb25XYXRjaElkKSx0aGlzLl9sb2NhdGVPcHRpb25zJiYodGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3PSExKSx0aGlzfSxfaGFuZGxlR2VvbG9jYXRpb25FcnJvcjpmdW5jdGlvbih0KXt2YXIgZT10LmNvZGUsaT10Lm1lc3NhZ2V8fCgxPT09ZT9cInBlcm1pc3Npb24gZGVuaWVkXCI6Mj09PWU/XCJwb3NpdGlvbiB1bmF2YWlsYWJsZVwiOlwidGltZW91dFwiKTt0aGlzLl9sb2NhdGVPcHRpb25zLnNldFZpZXcmJiF0aGlzLl9sb2FkZWQmJnRoaXMuZml0V29ybGQoKSx0aGlzLmZpcmUoXCJsb2NhdGlvbmVycm9yXCIse2NvZGU6ZSxtZXNzYWdlOlwiR2VvbG9jYXRpb24gZXJyb3I6IFwiK2krXCIuXCJ9KX0sX2hhbmRsZUdlb2xvY2F0aW9uUmVzcG9uc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb29yZHMubGF0aXR1ZGUsaT10LmNvb3Jkcy5sb25naXR1ZGUsbj1uZXcgby5MYXRMbmcoZSxpKSxzPTE4MCp0LmNvb3Jkcy5hY2N1cmFjeS80MDA3NTAxNyxhPXMvTWF0aC5jb3Moby5MYXRMbmcuREVHX1RPX1JBRCplKSxyPW8ubGF0TG5nQm91bmRzKFtlLXMsaS1hXSxbZStzLGkrYV0pLGg9dGhpcy5fbG9jYXRlT3B0aW9ucztpZihoLnNldFZpZXcpe3ZhciBsPU1hdGgubWluKHRoaXMuZ2V0Qm91bmRzWm9vbShyKSxoLm1heFpvb20pO3RoaXMuc2V0VmlldyhuLGwpfXZhciB1PXtsYXRsbmc6bixib3VuZHM6cix0aW1lc3RhbXA6dC50aW1lc3RhbXB9O2Zvcih2YXIgYyBpbiB0LmNvb3JkcylcIm51bWJlclwiPT10eXBlb2YgdC5jb29yZHNbY10mJih1W2NdPXQuY29vcmRzW2NdKTt0aGlzLmZpcmUoXCJsb2NhdGlvbmZvdW5kXCIsdSl9fSl9KHdpbmRvdyxkb2N1bWVudCk7IiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gQnJvd3NlciBSZXF1ZXN0XG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLyBVTUQgSEVBREVSIFNUQVJUIFxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcbiAgICAgICAgcm9vdC5yZXR1cm5FeHBvcnRzID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbi8vIFVNRCBIRUFERVIgRU5EXG5cbnZhciBYSFIgPSBYTUxIdHRwUmVxdWVzdFxuaWYgKCFYSFIpIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBYTUxIdHRwUmVxdWVzdCcpXG5yZXF1ZXN0LmxvZyA9IHtcbiAgJ3RyYWNlJzogbm9vcCwgJ2RlYnVnJzogbm9vcCwgJ2luZm8nOiBub29wLCAnd2Fybic6IG5vb3AsICdlcnJvcic6IG5vb3Bcbn1cblxudmFyIERFRkFVTFRfVElNRU9VVCA9IDMgKiA2MCAqIDEwMDAgLy8gMyBtaW51dGVzXG5cbi8vXG4vLyByZXF1ZXN0XG4vL1xuXG5mdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIC8vIFRoZSBlbnRyeS1wb2ludCB0byB0aGUgQVBJOiBwcmVwIHRoZSBvcHRpb25zIG9iamVjdCBhbmQgcGFzcyB0aGUgcmVhbCB3b3JrIHRvIHJ1bl94aHIuXG4gIGlmKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBjYWxsYmFjayBnaXZlbjogJyArIGNhbGxiYWNrKVxuXG4gIGlmKCFvcHRpb25zKVxuICAgIHRocm93IG5ldyBFcnJvcignTm8gb3B0aW9ucyBnaXZlbicpXG5cbiAgdmFyIG9wdGlvbnNfb25SZXNwb25zZSA9IG9wdGlvbnMub25SZXNwb25zZTsgLy8gU2F2ZSB0aGlzIGZvciBsYXRlci5cblxuICBpZih0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpXG4gICAgb3B0aW9ucyA9IHsndXJpJzpvcHRpb25zfTtcbiAgZWxzZVxuICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpKTsgLy8gVXNlIGEgZHVwbGljYXRlIGZvciBtdXRhdGluZy5cblxuICBvcHRpb25zLm9uUmVzcG9uc2UgPSBvcHRpb25zX29uUmVzcG9uc2UgLy8gQW5kIHB1dCBpdCBiYWNrLlxuXG4gIGlmIChvcHRpb25zLnZlcmJvc2UpIHJlcXVlc3QubG9nID0gZ2V0TG9nZ2VyKCk7XG5cbiAgaWYob3B0aW9ucy51cmwpIHtcbiAgICBvcHRpb25zLnVyaSA9IG9wdGlvbnMudXJsO1xuICAgIGRlbGV0ZSBvcHRpb25zLnVybDtcbiAgfVxuXG4gIGlmKCFvcHRpb25zLnVyaSAmJiBvcHRpb25zLnVyaSAhPT0gXCJcIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLnVyaSBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50XCIpO1xuXG4gIGlmKHR5cGVvZiBvcHRpb25zLnVyaSAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMudXJpIG11c3QgYmUgYSBzdHJpbmdcIik7XG5cbiAgdmFyIHVuc3VwcG9ydGVkX29wdGlvbnMgPSBbJ3Byb3h5JywgJ19yZWRpcmVjdHNGb2xsb3dlZCcsICdtYXhSZWRpcmVjdHMnLCAnZm9sbG93UmVkaXJlY3QnXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHVuc3VwcG9ydGVkX29wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgaWYob3B0aW9uc1sgdW5zdXBwb3J0ZWRfb3B0aW9uc1tpXSBdKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5cIiArIHVuc3VwcG9ydGVkX29wdGlvbnNbaV0gKyBcIiBpcyBub3Qgc3VwcG9ydGVkXCIpXG5cbiAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrXG4gIG9wdGlvbnMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgJ0dFVCc7XG4gIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgb3B0aW9ucy5ib2R5ICAgID0gb3B0aW9ucy5ib2R5IHx8IG51bGxcbiAgb3B0aW9ucy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IHJlcXVlc3QuREVGQVVMVF9USU1FT1VUXG5cbiAgaWYob3B0aW9ucy5oZWFkZXJzLmhvc3QpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT3B0aW9ucy5oZWFkZXJzLmhvc3QgaXMgbm90IHN1cHBvcnRlZFwiKTtcblxuICBpZihvcHRpb25zLmpzb24pIHtcbiAgICBvcHRpb25zLmhlYWRlcnMuYWNjZXB0ID0gb3B0aW9ucy5oZWFkZXJzLmFjY2VwdCB8fCAnYXBwbGljYXRpb24vanNvbidcbiAgICBpZihvcHRpb25zLm1ldGhvZCAhPT0gJ0dFVCcpXG4gICAgICBvcHRpb25zLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nXG5cbiAgICBpZih0eXBlb2Ygb3B0aW9ucy5qc29uICE9PSAnYm9vbGVhbicpXG4gICAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmpzb24pXG4gICAgZWxzZSBpZih0eXBlb2Ygb3B0aW9ucy5ib2R5ICE9PSAnc3RyaW5nJylcbiAgICAgIG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSlcbiAgfVxuICBcbiAgLy9CRUdJTiBRUyBIYWNrXG4gIHZhciBzZXJpYWxpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc3RyID0gW107XG4gICAgZm9yKHZhciBwIGluIG9iailcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgc3RyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW3BdKSk7XG4gICAgICB9XG4gICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgfVxuICBcbiAgaWYob3B0aW9ucy5xcyl7XG4gICAgdmFyIHFzID0gKHR5cGVvZiBvcHRpb25zLnFzID09ICdzdHJpbmcnKT8gb3B0aW9ucy5xcyA6IHNlcmlhbGl6ZShvcHRpb25zLnFzKTtcbiAgICBpZihvcHRpb25zLnVyaS5pbmRleE9mKCc/JykgIT09IC0xKXsgLy9ubyBnZXQgcGFyYW1zXG4gICAgICAgIG9wdGlvbnMudXJpID0gb3B0aW9ucy51cmkrJyYnK3FzO1xuICAgIH1lbHNleyAvL2V4aXN0aW5nIGdldCBwYXJhbXNcbiAgICAgICAgb3B0aW9ucy51cmkgPSBvcHRpb25zLnVyaSsnPycrcXM7XG4gICAgfVxuICB9XG4gIC8vRU5EIFFTIEhhY2tcbiAgXG4gIC8vQkVHSU4gRk9STSBIYWNrXG4gIHZhciBtdWx0aXBhcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICAvL3RvZG86IHN1cHBvcnQgZmlsZSB0eXBlICh1c2VmdWw/KVxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICByZXN1bHQuYm91bmRyeSA9ICctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJytNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwMDAwMDAwMCk7XG4gICAgdmFyIGxpbmVzID0gW107XG4gICAgZm9yKHZhciBwIGluIG9iail7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXG4gICAgICAgICAgICAgICAgJy0tJytyZXN1bHQuYm91bmRyeStcIlxcblwiK1xuICAgICAgICAgICAgICAgICdDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9XCInK3ArJ1wiJytcIlxcblwiK1xuICAgICAgICAgICAgICAgIFwiXFxuXCIrXG4gICAgICAgICAgICAgICAgb2JqW3BdK1wiXFxuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGluZXMucHVzaCggJy0tJytyZXN1bHQuYm91bmRyeSsnLS0nICk7XG4gICAgcmVzdWx0LmJvZHkgPSBsaW5lcy5qb2luKCcnKTtcbiAgICByZXN1bHQubGVuZ3RoID0gcmVzdWx0LmJvZHkubGVuZ3RoO1xuICAgIHJlc3VsdC50eXBlID0gJ211bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PScrcmVzdWx0LmJvdW5kcnk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBcbiAgaWYob3B0aW9ucy5mb3JtKXtcbiAgICBpZih0eXBlb2Ygb3B0aW9ucy5mb3JtID09ICdzdHJpbmcnKSB0aHJvdygnZm9ybSBuYW1lIHVuc3VwcG9ydGVkJyk7XG4gICAgaWYob3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJyl7XG4gICAgICAgIHZhciBlbmNvZGluZyA9IChvcHRpb25zLmVuY29kaW5nIHx8ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBvcHRpb25zLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gZW5jb2Rpbmc7XG4gICAgICAgIHN3aXRjaChlbmNvZGluZyl7XG4gICAgICAgICAgICBjYXNlICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IHNlcmlhbGl6ZShvcHRpb25zLmZvcm0pLnJlcGxhY2UoLyUyMC9nLCBcIitcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtdWx0aXBhcnQvZm9ybS1kYXRhJzpcbiAgICAgICAgICAgICAgICB2YXIgbXVsdGkgPSBtdWx0aXBhcnQob3B0aW9ucy5mb3JtKTtcbiAgICAgICAgICAgICAgICAvL29wdGlvbnMuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IG11bHRpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBtdWx0aS5ib2R5O1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBtdWx0aS50eXBlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdCA6IHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgZW5jb2Rpbmc6JytlbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy9FTkQgRk9STSBIYWNrXG5cbiAgLy8gSWYgb25SZXNwb25zZSBpcyBib29sZWFuIHRydWUsIGNhbGwgYmFjayBpbW1lZGlhdGVseSB3aGVuIHRoZSByZXNwb25zZSBpcyBrbm93bixcbiAgLy8gbm90IHdoZW4gdGhlIGZ1bGwgcmVxdWVzdCBpcyBjb21wbGV0ZS5cbiAgb3B0aW9ucy5vblJlc3BvbnNlID0gb3B0aW9ucy5vblJlc3BvbnNlIHx8IG5vb3BcbiAgaWYob3B0aW9ucy5vblJlc3BvbnNlID09PSB0cnVlKSB7XG4gICAgb3B0aW9ucy5vblJlc3BvbnNlID0gY2FsbGJhY2tcbiAgICBvcHRpb25zLmNhbGxiYWNrID0gbm9vcFxuICB9XG5cbiAgLy8gWFhYIEJyb3dzZXJzIGRvIG5vdCBsaWtlIHRoaXMuXG4gIC8vaWYob3B0aW9ucy5ib2R5KVxuICAvLyAgb3B0aW9ucy5oZWFkZXJzWydjb250ZW50LWxlbmd0aCddID0gb3B0aW9ucy5ib2R5Lmxlbmd0aDtcblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmKCFvcHRpb25zLmhlYWRlcnMuYXV0aG9yaXphdGlvbiAmJiBvcHRpb25zLmF1dGgpXG4gICAgb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGI2NF9lbmMob3B0aW9ucy5hdXRoLnVzZXJuYW1lICsgJzonICsgb3B0aW9ucy5hdXRoLnBhc3N3b3JkKTtcblxuICByZXR1cm4gcnVuX3hocihvcHRpb25zKVxufVxuXG52YXIgcmVxX3NlcSA9IDBcbmZ1bmN0aW9uIHJ1bl94aHIob3B0aW9ucykge1xuICB2YXIgeGhyID0gbmV3IFhIUlxuICAgICwgdGltZWRfb3V0ID0gZmFsc2VcbiAgICAsIGlzX2NvcnMgPSBpc19jcm9zc0RvbWFpbihvcHRpb25zLnVyaSlcbiAgICAsIHN1cHBvcnRzX2NvcnMgPSAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKVxuXG4gIHJlcV9zZXEgKz0gMVxuICB4aHIuc2VxX2lkID0gcmVxX3NlcVxuICB4aHIuaWQgPSByZXFfc2VxICsgJzogJyArIG9wdGlvbnMubWV0aG9kICsgJyAnICsgb3B0aW9ucy51cmlcbiAgeGhyLl9pZCA9IHhoci5pZCAvLyBJIGtub3cgSSB3aWxsIHR5cGUgXCJfaWRcIiBmcm9tIGhhYml0IGFsbCB0aGUgdGltZS5cblxuICBpZihpc19jb3JzICYmICFzdXBwb3J0c19jb3JzKSB7XG4gICAgdmFyIGNvcnNfZXJyID0gbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY3Jvc3Mtb3JpZ2luIHJlcXVlc3Q6ICcgKyBvcHRpb25zLnVyaSlcbiAgICBjb3JzX2Vyci5jb3JzID0gJ3Vuc3VwcG9ydGVkJ1xuICAgIHJldHVybiBvcHRpb25zLmNhbGxiYWNrKGNvcnNfZXJyLCB4aHIpXG4gIH1cblxuICB4aHIudGltZW91dFRpbWVyID0gc2V0VGltZW91dCh0b29fbGF0ZSwgb3B0aW9ucy50aW1lb3V0KVxuICBmdW5jdGlvbiB0b29fbGF0ZSgpIHtcbiAgICB0aW1lZF9vdXQgPSB0cnVlXG4gICAgdmFyIGVyID0gbmV3IEVycm9yKCdFVElNRURPVVQnKVxuICAgIGVyLmNvZGUgPSAnRVRJTUVET1VUJ1xuICAgIGVyLmR1cmF0aW9uID0gb3B0aW9ucy50aW1lb3V0XG5cbiAgICByZXF1ZXN0LmxvZy5lcnJvcignVGltZW91dCcsIHsgJ2lkJzp4aHIuX2lkLCAnbWlsbGlzZWNvbmRzJzpvcHRpb25zLnRpbWVvdXQgfSlcbiAgICByZXR1cm4gb3B0aW9ucy5jYWxsYmFjayhlciwgeGhyKVxuICB9XG5cbiAgLy8gU29tZSBzdGF0ZXMgY2FuIGJlIHNraXBwZWQgb3Zlciwgc28gcmVtZW1iZXIgd2hhdCBpcyBzdGlsbCBpbmNvbXBsZXRlLlxuICB2YXIgZGlkID0geydyZXNwb25zZSc6ZmFsc2UsICdsb2FkaW5nJzpmYWxzZSwgJ2VuZCc6ZmFsc2V9XG5cbiAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG9uX3N0YXRlX2NoYW5nZVxuICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgb3B0aW9ucy51cmksIHRydWUpIC8vIGFzeW5jaHJvbm91c1xuICBpZihpc19jb3JzKVxuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhISBvcHRpb25zLndpdGhDcmVkZW50aWFsc1xuICB4aHIuc2VuZChvcHRpb25zLmJvZHkpXG4gIHJldHVybiB4aHJcblxuICBmdW5jdGlvbiBvbl9zdGF0ZV9jaGFuZ2UoZXZlbnQpIHtcbiAgICBpZih0aW1lZF9vdXQpXG4gICAgICByZXR1cm4gcmVxdWVzdC5sb2cuZGVidWcoJ0lnbm9yaW5nIHRpbWVkIG91dCBzdGF0ZSBjaGFuZ2UnLCB7J3N0YXRlJzp4aHIucmVhZHlTdGF0ZSwgJ2lkJzp4aHIuaWR9KVxuXG4gICAgcmVxdWVzdC5sb2cuZGVidWcoJ1N0YXRlIGNoYW5nZScsIHsnc3RhdGUnOnhoci5yZWFkeVN0YXRlLCAnaWQnOnhoci5pZCwgJ3RpbWVkX291dCc6dGltZWRfb3V0fSlcblxuICAgIGlmKHhoci5yZWFkeVN0YXRlID09PSBYSFIuT1BFTkVEKSB7XG4gICAgICByZXF1ZXN0LmxvZy5kZWJ1ZygnUmVxdWVzdCBzdGFydGVkJywgeydpZCc6eGhyLmlkfSlcbiAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmhlYWRlcnMpXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgb3B0aW9ucy5oZWFkZXJzW2tleV0pXG4gICAgfVxuXG4gICAgZWxzZSBpZih4aHIucmVhZHlTdGF0ZSA9PT0gWEhSLkhFQURFUlNfUkVDRUlWRUQpXG4gICAgICBvbl9yZXNwb25zZSgpXG5cbiAgICBlbHNlIGlmKHhoci5yZWFkeVN0YXRlID09PSBYSFIuTE9BRElORykge1xuICAgICAgb25fcmVzcG9uc2UoKVxuICAgICAgb25fbG9hZGluZygpXG4gICAgfVxuXG4gICAgZWxzZSBpZih4aHIucmVhZHlTdGF0ZSA9PT0gWEhSLkRPTkUpIHtcbiAgICAgIG9uX3Jlc3BvbnNlKClcbiAgICAgIG9uX2xvYWRpbmcoKVxuICAgICAgb25fZW5kKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbl9yZXNwb25zZSgpIHtcbiAgICBpZihkaWQucmVzcG9uc2UpXG4gICAgICByZXR1cm5cblxuICAgIGRpZC5yZXNwb25zZSA9IHRydWVcbiAgICByZXF1ZXN0LmxvZy5kZWJ1ZygnR290IHJlc3BvbnNlJywgeydpZCc6eGhyLmlkLCAnc3RhdHVzJzp4aHIuc3RhdHVzfSlcbiAgICBjbGVhclRpbWVvdXQoeGhyLnRpbWVvdXRUaW1lcilcbiAgICB4aHIuc3RhdHVzQ29kZSA9IHhoci5zdGF0dXMgLy8gTm9kZSByZXF1ZXN0IGNvbXBhdGliaWxpdHlcblxuICAgIC8vIERldGVjdCBmYWlsZWQgQ09SUyByZXF1ZXN0cy5cbiAgICBpZihpc19jb3JzICYmIHhoci5zdGF0dXNDb2RlID09IDApIHtcbiAgICAgIHZhciBjb3JzX2VyciA9IG5ldyBFcnJvcignQ09SUyByZXF1ZXN0IHJlamVjdGVkOiAnICsgb3B0aW9ucy51cmkpXG4gICAgICBjb3JzX2Vyci5jb3JzID0gJ3JlamVjdGVkJ1xuXG4gICAgICAvLyBEbyBub3QgcHJvY2VzcyB0aGlzIHJlcXVlc3QgZnVydGhlci5cbiAgICAgIGRpZC5sb2FkaW5nID0gdHJ1ZVxuICAgICAgZGlkLmVuZCA9IHRydWVcblxuICAgICAgcmV0dXJuIG9wdGlvbnMuY2FsbGJhY2soY29yc19lcnIsIHhocilcbiAgICB9XG5cbiAgICBvcHRpb25zLm9uUmVzcG9uc2UobnVsbCwgeGhyKVxuICB9XG5cbiAgZnVuY3Rpb24gb25fbG9hZGluZygpIHtcbiAgICBpZihkaWQubG9hZGluZylcbiAgICAgIHJldHVyblxuXG4gICAgZGlkLmxvYWRpbmcgPSB0cnVlXG4gICAgcmVxdWVzdC5sb2cuZGVidWcoJ1Jlc3BvbnNlIGJvZHkgbG9hZGluZycsIHsnaWQnOnhoci5pZH0pXG4gICAgLy8gVE9ETzogTWF5YmUgc2ltdWxhdGUgXCJkYXRhXCIgZXZlbnRzIGJ5IHdhdGNoaW5nIHhoci5yZXNwb25zZVRleHRcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uX2VuZCgpIHtcbiAgICBpZihkaWQuZW5kKVxuICAgICAgcmV0dXJuXG5cbiAgICBkaWQuZW5kID0gdHJ1ZVxuICAgIHJlcXVlc3QubG9nLmRlYnVnKCdSZXF1ZXN0IGRvbmUnLCB7J2lkJzp4aHIuaWR9KVxuXG4gICAgeGhyLmJvZHkgPSB4aHIucmVzcG9uc2VUZXh0XG4gICAgaWYob3B0aW9ucy5qc29uKSB7XG4gICAgICB0cnkgICAgICAgIHsgeGhyLmJvZHkgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpIH1cbiAgICAgIGNhdGNoIChlcikgeyByZXR1cm4gb3B0aW9ucy5jYWxsYmFjayhlciwgeGhyKSAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnMuY2FsbGJhY2sobnVsbCwgeGhyLCB4aHIuYm9keSlcbiAgfVxuXG59IC8vIHJlcXVlc3RcblxucmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcbnJlcXVlc3QuREVGQVVMVF9USU1FT1VUID0gREVGQVVMVF9USU1FT1VUO1xuXG4vL1xuLy8gZGVmYXVsdHNcbi8vXG5cbnJlcXVlc3QuZGVmYXVsdHMgPSBmdW5jdGlvbihvcHRpb25zLCByZXF1ZXN0ZXIpIHtcbiAgdmFyIGRlZiA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICB2YXIgZCA9IGZ1bmN0aW9uIChwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICBpZih0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJylcbiAgICAgICAgcGFyYW1zID0geyd1cmknOiBwYXJhbXN9O1xuICAgICAgZWxzZSB7XG4gICAgICAgIHBhcmFtcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHBhcmFtc1tpXSA9PT0gdW5kZWZpbmVkKSBwYXJhbXNbaV0gPSBvcHRpb25zW2ldXG4gICAgICB9XG4gICAgICByZXR1cm4gbWV0aG9kKHBhcmFtcywgY2FsbGJhY2spXG4gICAgfVxuICAgIHJldHVybiBkXG4gIH1cbiAgdmFyIGRlID0gZGVmKHJlcXVlc3QpXG4gIGRlLmdldCA9IGRlZihyZXF1ZXN0LmdldClcbiAgZGUucG9zdCA9IGRlZihyZXF1ZXN0LnBvc3QpXG4gIGRlLnB1dCA9IGRlZihyZXF1ZXN0LnB1dClcbiAgZGUuaGVhZCA9IGRlZihyZXF1ZXN0LmhlYWQpXG4gIHJldHVybiBkZVxufVxuXG4vL1xuLy8gSFRUUCBtZXRob2Qgc2hvcnRjdXRzXG4vL1xuXG52YXIgc2hvcnRjdXRzID0gWyAnZ2V0JywgJ3B1dCcsICdwb3N0JywgJ2hlYWQnIF07XG5zaG9ydGN1dHMuZm9yRWFjaChmdW5jdGlvbihzaG9ydGN1dCkge1xuICB2YXIgbWV0aG9kID0gc2hvcnRjdXQudG9VcHBlckNhc2UoKTtcbiAgdmFyIGZ1bmMgICA9IHNob3J0Y3V0LnRvTG93ZXJDYXNlKCk7XG5cbiAgcmVxdWVzdFtmdW5jXSA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICBpZih0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpXG4gICAgICBvcHRzID0geydtZXRob2QnOm1ldGhvZCwgJ3VyaSc6b3B0c307XG4gICAgZWxzZSB7XG4gICAgICBvcHRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvcHRzKSk7XG4gICAgICBvcHRzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IFtvcHRzXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cywgWzFdKSk7XG4gICAgcmV0dXJuIHJlcXVlc3QuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbn0pXG5cbi8vXG4vLyBDb3VjaERCIHNob3J0Y3V0XG4vL1xuXG5yZXF1ZXN0LmNvdWNoID0gZnVuY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgaWYodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKVxuICAgIG9wdGlvbnMgPSB7J3VyaSc6b3B0aW9uc31cblxuICAvLyBKdXN0IHVzZSB0aGUgcmVxdWVzdCBBUEkgdG8gZG8gSlNPTi5cbiAgb3B0aW9ucy5qc29uID0gdHJ1ZVxuICBpZihvcHRpb25zLmJvZHkpXG4gICAgb3B0aW9ucy5qc29uID0gb3B0aW9ucy5ib2R5XG4gIGRlbGV0ZSBvcHRpb25zLmJvZHlcblxuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IG5vb3BcblxuICB2YXIgeGhyID0gcmVxdWVzdChvcHRpb25zLCBjb3VjaF9oYW5kbGVyKVxuICByZXR1cm4geGhyXG5cbiAgZnVuY3Rpb24gY291Y2hfaGFuZGxlcihlciwgcmVzcCwgYm9keSkge1xuICAgIGlmKGVyKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyLCByZXNwLCBib2R5KVxuXG4gICAgaWYoKHJlc3Auc3RhdHVzQ29kZSA8IDIwMCB8fCByZXNwLnN0YXR1c0NvZGUgPiAyOTkpICYmIGJvZHkuZXJyb3IpIHtcbiAgICAgIC8vIFRoZSBib2R5IGlzIGEgQ291Y2ggSlNPTiBvYmplY3QgaW5kaWNhdGluZyB0aGUgZXJyb3IuXG4gICAgICBlciA9IG5ldyBFcnJvcignQ291Y2hEQiBlcnJvcjogJyArIChib2R5LmVycm9yLnJlYXNvbiB8fCBib2R5LmVycm9yLmVycm9yKSlcbiAgICAgIGZvciAodmFyIGtleSBpbiBib2R5KVxuICAgICAgICBlcltrZXldID0gYm9keVtrZXldXG4gICAgICByZXR1cm4gY2FsbGJhY2soZXIsIHJlc3AsIGJvZHkpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsYmFjayhlciwgcmVzcCwgYm9keSk7XG4gIH1cbn1cblxuLy9cbi8vIFV0aWxpdHlcbi8vXG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXRMb2dnZXIoKSB7XG4gIHZhciBsb2dnZXIgPSB7fVxuICAgICwgbGV2ZWxzID0gWyd0cmFjZScsICdkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXVxuICAgICwgbGV2ZWwsIGlcblxuICBmb3IoaSA9IDA7IGkgPCBsZXZlbHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXZlbCA9IGxldmVsc1tpXVxuXG4gICAgbG9nZ2VyW2xldmVsXSA9IG5vb3BcbiAgICBpZih0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZSAmJiBjb25zb2xlW2xldmVsXSlcbiAgICAgIGxvZ2dlcltsZXZlbF0gPSBmb3JtYXR0ZWQoY29uc29sZSwgbGV2ZWwpXG4gIH1cblxuICByZXR1cm4gbG9nZ2VyXG59XG5cbmZ1bmN0aW9uIGZvcm1hdHRlZChvYmosIG1ldGhvZCkge1xuICByZXR1cm4gZm9ybWF0dGVkX2xvZ2dlclxuXG4gIGZ1bmN0aW9uIGZvcm1hdHRlZF9sb2dnZXIoc3RyLCBjb250ZXh0KSB7XG4gICAgaWYodHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKVxuICAgICAgc3RyICs9ICcgJyArIEpTT04uc3RyaW5naWZ5KGNvbnRleHQpXG5cbiAgICByZXR1cm4gb2JqW21ldGhvZF0uY2FsbChvYmosIHN0cilcbiAgfVxufVxuXG4vLyBSZXR1cm4gd2hldGhlciBhIFVSTCBpcyBhIGNyb3NzLWRvbWFpbiByZXF1ZXN0LlxuZnVuY3Rpb24gaXNfY3Jvc3NEb21haW4odXJsKSB7XG4gIHZhciBydXJsID0gL14oW1xcd1xcK1xcLlxcLV0rOikoPzpcXC9cXC8oW15cXC8/IzpdKikoPzo6KFxcZCspKT8pPy9cblxuICAvLyBqUXVlcnkgIzgxMzgsIElFIG1heSB0aHJvdyBhbiBleGNlcHRpb24gd2hlbiBhY2Nlc3NpbmdcbiAgLy8gYSBmaWVsZCBmcm9tIHdpbmRvdy5sb2NhdGlvbiBpZiBkb2N1bWVudC5kb21haW4gaGFzIGJlZW4gc2V0XG4gIHZhciBhamF4TG9jYXRpb25cbiAgdHJ5IHsgYWpheExvY2F0aW9uID0gbG9jYXRpb24uaHJlZiB9XG4gIGNhdGNoIChlKSB7XG4gICAgLy8gVXNlIHRoZSBocmVmIGF0dHJpYnV0ZSBvZiBhbiBBIGVsZW1lbnQgc2luY2UgSUUgd2lsbCBtb2RpZnkgaXQgZ2l2ZW4gZG9jdW1lbnQubG9jYXRpb25cbiAgICBhamF4TG9jYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuICAgIGFqYXhMb2NhdGlvbi5ocmVmID0gXCJcIjtcbiAgICBhamF4TG9jYXRpb24gPSBhamF4TG9jYXRpb24uaHJlZjtcbiAgfVxuXG4gIHZhciBhamF4TG9jUGFydHMgPSBydXJsLmV4ZWMoYWpheExvY2F0aW9uLnRvTG93ZXJDYXNlKCkpIHx8IFtdXG4gICAgLCBwYXJ0cyA9IHJ1cmwuZXhlYyh1cmwudG9Mb3dlckNhc2UoKSApXG5cbiAgdmFyIHJlc3VsdCA9ICEhKFxuICAgIHBhcnRzICYmXG4gICAgKCAgcGFydHNbMV0gIT0gYWpheExvY1BhcnRzWzFdXG4gICAgfHwgcGFydHNbMl0gIT0gYWpheExvY1BhcnRzWzJdXG4gICAgfHwgKHBhcnRzWzNdIHx8IChwYXJ0c1sxXSA9PT0gXCJodHRwOlwiID8gODAgOiA0NDMpKSAhPSAoYWpheExvY1BhcnRzWzNdIHx8IChhamF4TG9jUGFydHNbMV0gPT09IFwiaHR0cDpcIiA/IDgwIDogNDQzKSlcbiAgICApXG4gIClcblxuICAvL2NvbnNvbGUuZGVidWcoJ2lzX2Nyb3NzRG9tYWluKCcrdXJsKycpIC0+ICcgKyByZXN1bHQpXG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gTUlUIExpY2Vuc2UgZnJvbSBodHRwOi8vcGhwanMub3JnL2Z1bmN0aW9ucy9iYXNlNjRfZW5jb2RlOjM1OFxuZnVuY3Rpb24gYjY0X2VuYyAoZGF0YSkge1xuICAgIC8vIEVuY29kZXMgc3RyaW5nIHVzaW5nIE1JTUUgYmFzZTY0IGFsZ29yaXRobVxuICAgIHZhciBiNjQgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG4gICAgdmFyIG8xLCBvMiwgbzMsIGgxLCBoMiwgaDMsIGg0LCBiaXRzLCBpID0gMCwgYWMgPSAwLCBlbmM9XCJcIiwgdG1wX2FyciA9IFtdO1xuXG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8vIGFzc3VtZSB1dGY4IGRhdGFcbiAgICAvLyBkYXRhID0gdGhpcy51dGY4X2VuY29kZShkYXRhKycnKTtcblxuICAgIGRvIHsgLy8gcGFjayB0aHJlZSBvY3RldHMgaW50byBmb3VyIGhleGV0c1xuICAgICAgICBvMSA9IGRhdGEuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBvMiA9IGRhdGEuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBvMyA9IGRhdGEuY2hhckNvZGVBdChpKyspO1xuXG4gICAgICAgIGJpdHMgPSBvMTw8MTYgfCBvMjw8OCB8IG8zO1xuXG4gICAgICAgIGgxID0gYml0cz4+MTggJiAweDNmO1xuICAgICAgICBoMiA9IGJpdHM+PjEyICYgMHgzZjtcbiAgICAgICAgaDMgPSBiaXRzPj42ICYgMHgzZjtcbiAgICAgICAgaDQgPSBiaXRzICYgMHgzZjtcblxuICAgICAgICAvLyB1c2UgaGV4ZXRzIHRvIGluZGV4IGludG8gYjY0LCBhbmQgYXBwZW5kIHJlc3VsdCB0byBlbmNvZGVkIHN0cmluZ1xuICAgICAgICB0bXBfYXJyW2FjKytdID0gYjY0LmNoYXJBdChoMSkgKyBiNjQuY2hhckF0KGgyKSArIGI2NC5jaGFyQXQoaDMpICsgYjY0LmNoYXJBdChoNCk7XG4gICAgfSB3aGlsZSAoaSA8IGRhdGEubGVuZ3RoKTtcblxuICAgIGVuYyA9IHRtcF9hcnIuam9pbignJyk7XG5cbiAgICBzd2l0Y2ggKGRhdGEubGVuZ3RoICUgMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBlbmMgPSBlbmMuc2xpY2UoMCwgLTIpICsgJz09JztcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGVuYyA9IGVuYy5zbGljZSgwLCAtMSkgKyAnPSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBlbmM7XG59XG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4vL1VNRCBGT09URVIgU1RBUlRcbn0pKTtcbi8vVU1EIEZPT1RFUiBFTkRcblxufSx7fV0sMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cblxudmFyIHJlcXVlc3QgPSByZXF1aXJlKCdicm93c2VyLXJlcXVlc3QnKTtcblxudmFyIHBvcGlseSA9IHdpbmRvdy5wb3BpbHkgfHwge307XG5cbnZhciBfZXJyb3IgPSBmdW5jdGlvbihtc2csIGVycm9yKSB7XG4gIHJldHVybiB7bXNnOiBtc2csIGVycm9yOiBlcnJvcn07XG59O1xuICBcbnZhciBfcmVxdWVzdCA9IGZ1bmN0aW9uKG1ldGhvZCwgcGF0aCwgZGF0YSwgY2FsbGJhY2spIHtcbiAgdmFyIERFRkFVTFRfVVJMID0gJ2h0dHBzOi8vcG9waWx5LmNvbSc7XG4gIHZhciBERUZBVUxUX0JBU0VfUEFUSCA9ICcvYXBpJztcblxuICB2YXIgYXBpVXJsID0gcG9waWx5LmFwaS5hcGlVcmw7XG4gIGlmKCFwb3BpbHkuYXBpLmFwaVVybCkge1xuICAgIGFwaVVybCA9IERFRkFVTFRfVVJMO1xuICB9IFxuICBhcGlVcmwgPSBhcGlVcmwgKyBERUZBVUxUX0JBU0VfUEFUSDtcblxuICB2YXIgcGFyYW1zID0ge1xuICAgIG1ldGhvZDogbWV0aG9kLFxuICAgIGhlYWRlcnM6IHsgXG4gICAgICAnQXV0aG9yaXphdGlvbic6ICdUb2tlbiAnICsgcG9waWx5LmFwaS50b2tlbixcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICB1cmw6IGFwaVVybCArIHBhdGgvLyArICc/Zm9ybWF0PWFwaSdcbiAgfTtcbiAgICAgIFxuICBpZigncXMnIGluIGRhdGEpIHtcbiAgICBwYXJhbXNbJ3FzJ10gPSBkYXRhWydxcyddO1xuICAgIHBhcmFtc1snanNvbiddID0gdHJ1ZTtcbiAgfVxuICBpZignanNvbicgaW4gZGF0YSkge1xuICAgIHBhcmFtc1snYm9keSddID0gZGF0YVsnanNvbiddO1xuICAgIHBhcmFtc1snanNvbiddID0gdHJ1ZTtcbiAgfVxuICBpZignZm9ybScgaW4gZGF0YSkge1xuICAgIHBhcmFtc1snZm9ybURhdGEnXSA9IGRhdGFbJ2Zvcm0nXTtcbiAgfVxuICBcbiAgcmVxdWVzdChwYXJhbXMsIGZ1bmN0aW9uKGVyciwgaHR0cFJlc3BvbnNlLCBib2R5KSB7XG4gICAgaWYoZXJyKVxuICAgICAgcmV0dXJuIGNhbGxiYWNrKF9lcnJvcignUmVxdWVzdCBlcnJvcicsIGVycikpO1xuICAgICAgXG4gICAgaWYoaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQwMSlcbiAgICAgIHJldHVybiBjYWxsYmFjayhfZXJyb3IoJ0ludmFsaWQgQVBJIHRva2VuJykpO1xuXG4gICAgaWYoaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQwMClcbiAgICAgIHJldHVybiBjYWxsYmFjayhfZXJyb3IoJ0JhZCByZXF1ZXN0JywgYm9keSkpO1xuICAgICAgXG4gICAgdHJ5IHtcbiAgICAgIHZhciByZXNwb25zZSA9IGJvZHk7XG4gICAgICBpZih0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhfZXJyb3IoJ0Vycm9yOiAnK2UsIGUpIClcbiAgICB9XG5cbiAgICBjYWxsYmFjayhudWxsLCByZXNwb25zZSk7XG5cbiAgfSk7XG59O1xuXG52YXIgcGFja0ZpbHRlcnMgPSBmdW5jdGlvbihmaWx0ZXJzKSB7XG4gIHZhciBwYWNrZWRTdHIgPSAnJztcbiAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGYsIGkpIHtcbiAgICB2YXIgb3AgPSAnZXEnXG4gICAgaWYoJ29wJyBpbiBmKVxuICAgICAgb3AgPSBmWydvcCddXG4gICAgXG4gICAgdmFyIGZpbHRlclN0ciA9ICcnO1xuICAgIGlmKGkgPiAwKVxuICAgICAgZmlsdGVyU3RyICs9ICdfXyc7XG5cbiAgICB2YXIgdmFsU3RyID0gJyc7XG4gICAgaWYoZi5oYXNPd25Qcm9wZXJ0eSgndmFsdWVzJykpIHtcbiAgICAgIHZhbFN0ciA9IGZbJ3ZhbHVlcyddLmpvaW4oJywnKTtcbiAgICB9XG4gICAgZmlsdGVyU3RyICs9IGZbJ2NvbHVtbiddICsgJyEnICsgb3AgKyAnIScgKyAoIHZhbFN0ciApO1xuICAgIHBhY2tlZFN0ciArPSBmaWx0ZXJTdHJcbiAgfSk7XG4gIHJldHVybiBwYWNrZWRTdHI7XG59XG5cbnZhciBhc3NpZ25DdXN0b21pemF0aW9ucyA9IGZ1bmN0aW9uKGRhdGFEaWN0LCBpbnNpZ2h0RGF0YSkge1xuICBbXG4gICAgJ3RpdGxlJyxcbiAgICAneF9sYWJlbCcsXG4gICAgJ3lfbGFiZWwnLFxuICAgICd6X2xhYmVsJyxcbiAgICAnY2F0ZWdvcnlfb3JkZXInLFxuICAgICd0aW1lX2ludGVydmFsJyxcbiAgICAncmVmcmVzaF9yYXRlJyxcbiAgICAnc3dhcCdcbiAgXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmKGtleSBpbiBpbnNpZ2h0RGF0YSlcbiAgICAgIGRhdGFEaWN0W2tleV0gPSBpbnNpZ2h0RGF0YVtrZXldO1xuICB9KTtcblxuICByZXR1cm4gZGF0YURpY3Q7XG59OyAgICAgICAgXG4gICAgICAgIFxucG9waWx5LmFwaSA9IHtcbiAgYWRkU291cmNlOiBmdW5jdGlvbihzb3VyY2VEYXRhLCBjYikge1xuICAgIFxuICAgIHZhciBkYXRhID0ge307XG4gICAgWydjb2x1bW5zJywgJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJ10uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmKGtleSBpbiBzb3VyY2VEYXRhKVxuICAgICAgICBkYXRhW2tleV0gPSBzb3VyY2VEYXRhW2tleV07XG4gICAgfSlcblxuICAgIGlmKCd1cmwnIGluIHNvdXJjZURhdGEpIHtcbiAgICAgIGRhdGFbJ3VybCddID0gc291cmNlRGF0YVsndXJsJ11cbiAgICAgIF9yZXF1ZXN0KCdQT1NUJywgJy9zb3VyY2VzLycsIHtqc29uOiBkYXRhfSwgY2IpO1xuICAgIH1cblxuICAgIGVsc2UgaWYoJ2Nvbm5lY3Rpb25fc3RyaW5nJyBpbiBzb3VyY2VEYXRhICkge1xuICAgICAgZGF0YVsnY29ubmVjdGlvbl9zdHJpbmcnXSA9IHNvdXJjZURhdGFbJ2Nvbm5lY3Rpb25fc3RyaW5nJ11cbiAgICAgIGRhdGFbJ3F1ZXJ5J10gPSBzb3VyY2VEYXRhWydxdWVyeSddXG4gICAgICBfcmVxdWVzdCgnUE9TVCcsICcvc291cmNlcy8nLCB7anNvbjogZGF0YX0sIGNiKTtcbiAgICB9XG4gICAgXG4gICAgZWxzZVxuICAgICAgY2IoJ3VybCBvciBjb25uZWN0aW9uX3N0cmluZyBpcyByZXF1aXJlZCcpO1xuICB9LFxuXG5cbiAgZ2V0U291cmNlczogZnVuY3Rpb24oY2IpIHtcbiAgICBfcmVxdWVzdCgnR0VUJywgJy9zb3VyY2VzLycsIHt9LCBjYik7XG4gIH0sXG5cblxuICBnZXRTb3VyY2U6IGZ1bmN0aW9uKHNvdXJjZUlkLCBjYikge1xuICAgIF9yZXF1ZXN0KCdHRVQnLCAnL3NvdXJjZXMvJytzb3VyY2VJZCsnLycsIHt9LCBjYik7XG4gIH0sXG5cblxuICBnZXRJbnNpZ2h0czogZnVuY3Rpb24oc291cmNlSWQsIHBhcmFtcywgY2IpIHtcbiAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgdmFyIHBheWxvYWQgPSB7J3NvdXJjZSc6IHNvdXJjZUlkfTtcblxuICAgIFsnY29sdW1ucycsICdpbnNpZ2h0X3R5cGVzJywgJ2luc2lnaHRfYWN0aW9ucyddLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZihrZXkgaW4gcGFyYW1zKVxuICAgICAgICBwYXlsb2FkW2tleV0gPSBwYXJhbXNba2V5XS5qb2luKCcsJylcbiAgICB9KTtcblxuICAgIGlmKCdmaWx0ZXJzJyBpbiBwYXJhbXMpXG4gICAgICBwYXlsb2FkWydmaWx0ZXJzJ10gPSBwYWNrRmlsdGVycyhwYXJhbXNbJ2ZpbHRlcnMnXSlcblxuICAgIGlmKCdmdWxsJyBpbiBwYXJhbXMpXG4gICAgICBwYXlsb2FkWydmdWxsJ10gPSBwYXJhbXNbJ2Z1bGwnXVxuXG4gICAgaWYoJ3NpbmdsZScgaW4gcGFyYW1zKSB7XG4gICAgICBwYXlsb2FkWydzaW5nbGUnXSA9IHBhcmFtc1snc2luZ2xlJ107XG4gICAgICBwYXlsb2FkID0gYXNzaWduQ3VzdG9taXphdGlvbnMocGF5bG9hZCwgcGFyYW1zKTtcbiAgICB9XG5cbiAgICBfcmVxdWVzdCgnR0VUJywgJy9pbnNpZ2h0cy8nLCB7cXM6IHBheWxvYWR9LCBjYik7XG4gIH0sXG5cblxuICBnZXRJbnNpZ2h0OiBmdW5jdGlvbihpbnNpZ2h0SWQsIHBhcmFtcywgY2IpIHtcbiAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgIGlmKCdmaWx0ZXJzJyBpbiBwYXJhbXMpXG4gICAgICBwYXlsb2FkWydmaWx0ZXJzJ10gPSBwYWNrRmlsdGVycyhwYXJhbXNbJ2ZpbHRlcnMnXSk7XG5cbiAgICBbJ2Z1bGwnLCAnaGVpZ2h0JywgJ3dpZHRoJ10uZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmKGtleSBpbiBwYXJhbXMpXG4gICAgICAgIHBheWxvYWRba2V5XSA9IHBhcmFtc1trZXldO1xuICAgIH0pO1xuXG4gICAgcGF5bG9hZCA9IGFzc2lnbkN1c3RvbWl6YXRpb25zKHBheWxvYWQsIHBhcmFtcyk7XG4gICAgXG4gICAgX3JlcXVlc3QoJ0dFVCcsICcvaW5zaWdodHMvJyArIGluc2lnaHRJZCArICcvJywge3FzOiBwYXlsb2FkfSwgY2IpO1xuICB9LFxuXG5cbiAgY3VzdG9taXplSW5zaWdodDogZnVuY3Rpb24oaW5zaWdodElkLCBwYXJhbXMsIGluc2lnaHREYXRhLCBjYikge1xuICAgIHZhciBkYXRhID0gYXNzaWduQ3VzdG9taXphdGlvbnMoe30sIGluc2lnaHREYXRhKTtcbiAgICBpZignZmlsdGVycycgaW4gcGFyYW1zKVxuICAgICAgZGF0YVsnZmlsdGVycyddID0gcGFja0ZpbHRlcnMocGFyYW1zWydmaWx0ZXJzJ10pXG5cbiAgICBfcmVxdWVzdCgnUFVUJywgJy9pbnNpZ2h0cy8nICsgaW5zaWdodElkICsgJy8nLCB7anNvbjogZGF0YX0sIGNiKTtcbiAgfSxcblxuICBzZXRUb2tlbjogZnVuY3Rpb24odG9rZW4pIHtcbiAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gIH0sXG5cbiAgc2V0VVJMOiBmdW5jdGlvbihhcGlVcmwpIHtcbiAgICB0aGlzLmFwaVVybCA9IGFwaVVybDtcbiAgfVxufVxuXG53aW5kb3cucG9waWx5ID0gcG9waWx5O1xubW9kdWxlLmV4cG9ydHMgPSBwb3BpbHk7XG5cbn0se1wiYnJvd3Nlci1yZXF1ZXN0XCI6MX1dfSx7fSxbMl0pXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk5MllYSXZkM2QzTDNCdmNHbHNlUzl3YjNCcGJIa3Rhbk12Ym05a1pWOXRiMlIxYkdWekwyZDFiSEF0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNpMXdZV05yTDE5d2NtVnNkV1JsTG1weklpd2lMM1poY2k5M2QzY3ZjRzl3YVd4NUwzQnZjR2xzZVMxcWN5OXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjaTF5WlhGMVpYTjBMMmx1WkdWNExtcHpJaXdpTDNaaGNpOTNkM2N2Y0c5d2FXeDVMM0J2Y0dsc2VTMXFjeTl6Y21NdlptRnJaVjlrTVRnNE9HWmtaaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUdEJRMEZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUczdRVU01WlVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaWhtZFc1amRHbHZiaUJsS0hRc2JpeHlLWHRtZFc1amRHbHZiaUJ6S0c4c2RTbDdhV1lvSVc1YmIxMHBlMmxtS0NGMFcyOWRLWHQyWVhJZ1lUMTBlWEJsYjJZZ2NtVnhkV2x5WlQwOVhDSm1kVzVqZEdsdmJsd2lKaVp5WlhGMWFYSmxPMmxtS0NGMUppWmhLWEpsZEhWeWJpQmhLRzhzSVRBcE8ybG1LR2twY21WMGRYSnVJR2tvYnl3aE1DazdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtGd2lRMkZ1Ym05MElHWnBibVFnYlc5a2RXeGxJQ2RjSWl0dksxd2lKMXdpS1gxMllYSWdaajF1VzI5ZFBYdGxlSEJ2Y25Sek9udDlmVHQwVzI5ZFd6QmRMbU5oYkd3b1ppNWxlSEJ2Y25SekxHWjFibU4wYVc5dUtHVXBlM1poY2lCdVBYUmJiMTFiTVYxYlpWMDdjbVYwZFhKdUlITW9iajl1T21VcGZTeG1MR1l1Wlhod2IzSjBjeXhsTEhRc2JpeHlLWDF5WlhSMWNtNGdibHR2WFM1bGVIQnZjblJ6ZlhaaGNpQnBQWFI1Y0dWdlppQnlaWEYxYVhKbFBUMWNJbVoxYm1OMGFXOXVYQ0ltSm5KbGNYVnBjbVU3Wm05eUtIWmhjaUJ2UFRBN2J6eHlMbXhsYm1kMGFEdHZLeXNwY3loeVcyOWRLVHR5WlhSMWNtNGdjMzBwSWl3aUx5OGdRbkp2ZDNObGNpQlNaWEYxWlhOMFhHNHZMMXh1THk4Z1RHbGpaVzV6WldRZ2RXNWtaWElnZEdobElFRndZV05vWlNCTWFXTmxibk5sTENCV1pYSnphVzl1SURJdU1DQW9kR2hsSUZ3aVRHbGpaVzV6WlZ3aUtUdGNiaTh2SUhsdmRTQnRZWGtnYm05MElIVnpaU0IwYUdseklHWnBiR1VnWlhoalpYQjBJR2x1SUdOdmJYQnNhV0Z1WTJVZ2QybDBhQ0IwYUdVZ1RHbGpaVzV6WlM1Y2JpOHZJRmx2ZFNCdFlYa2diMkowWVdsdUlHRWdZMjl3ZVNCdlppQjBhR1VnVEdsalpXNXpaU0JoZEZ4dUx5OWNiaTh2SUNBZ0lDQm9kSFJ3T2k4dmQzZDNMbUZ3WVdOb1pTNXZjbWN2YkdsalpXNXpaWE12VEVsRFJVNVRSUzB5TGpCY2JpOHZYRzR2THlCVmJteGxjM01nY21WeGRXbHlaV1FnWW5rZ1lYQndiR2xqWVdKc1pTQnNZWGNnYjNJZ1lXZHlaV1ZrSUhSdklHbHVJSGR5YVhScGJtY3NJSE52Wm5SM1lYSmxYRzR2THlCa2FYTjBjbWxpZFhSbFpDQjFibVJsY2lCMGFHVWdUR2xqWlc1elpTQnBjeUJrYVhOMGNtbGlkWFJsWkNCdmJpQmhiaUJjSWtGVElFbFRYQ0lnUWtGVFNWTXNYRzR2THlCWFNWUklUMVZVSUZkQlVsSkJUbFJKUlZNZ1QxSWdRMDlPUkVsVVNVOU9VeUJQUmlCQlRsa2dTMGxPUkN3Z1pXbDBhR1Z5SUdWNGNISmxjM01nYjNJZ2FXMXdiR2xsWkM1Y2JpOHZJRk5sWlNCMGFHVWdUR2xqWlc1elpTQm1iM0lnZEdobElITndaV05wWm1saklHeGhibWQxWVdkbElHZHZkbVZ5Ym1sdVp5QndaWEp0YVhOemFXOXVjeUJoYm1SY2JpOHZJR3hwYldsMFlYUnBiMjV6SUhWdVpHVnlJSFJvWlNCTWFXTmxibk5sTGx4dVhHNHZMeUJWVFVRZ1NFVkJSRVZTSUZOVVFWSlVJRnh1S0daMWJtTjBhVzl1SUNoeWIyOTBMQ0JtWVdOMGIzSjVLU0I3WEc0Z0lDQWdhV1lnS0hSNWNHVnZaaUJrWldacGJtVWdQVDA5SUNkbWRXNWpkR2x2YmljZ0ppWWdaR1ZtYVc1bExtRnRaQ2tnZTF4dUlDQWdJQ0FnSUNBdkx5QkJUVVF1SUZKbFoybHpkR1Z5SUdGeklHRnVJR0Z1YjI1NWJXOTFjeUJ0YjJSMWJHVXVYRzRnSUNBZ0lDQWdJR1JsWm1sdVpTaGJYU3dnWm1GamRHOXllU2s3WEc0Z0lDQWdmU0JsYkhObElHbG1JQ2gwZVhCbGIyWWdaWGh3YjNKMGN5QTlQVDBnSjI5aWFtVmpkQ2NwSUh0Y2JpQWdJQ0FnSUNBZ0x5OGdUbTlrWlM0Z1JHOWxjeUJ1YjNRZ2QyOXlheUIzYVhSb0lITjBjbWxqZENCRGIyMXRiMjVLVXl3Z1luVjBYRzRnSUNBZ0lDQWdJQzh2SUc5dWJIa2dRMjl0Ylc5dVNsTXRiR2xyWlNCbGJuWnBjbTl0Wlc1MGN5QjBhR0YwSUhOMWNIQnZjblFnYlc5a2RXeGxMbVY0Y0c5eWRITXNYRzRnSUNBZ0lDQWdJQzh2SUd4cGEyVWdUbTlrWlM1Y2JpQWdJQ0FnSUNBZ2JXOWtkV3hsTG1WNGNHOXlkSE1nUFNCbVlXTjBiM0o1S0NrN1hHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnTHk4Z1FuSnZkM05sY2lCbmJHOWlZV3h6SUNoeWIyOTBJR2x6SUhkcGJtUnZkeWxjYmlBZ0lDQWdJQ0FnY205dmRDNXlaWFIxY201RmVIQnZjblJ6SUQwZ1ptRmpkRzl5ZVNncE8xeHVJQ0I5WEc1OUtIUm9hWE1zSUdaMWJtTjBhVzl1SUNncElIdGNiaTh2SUZWTlJDQklSVUZFUlZJZ1JVNUVYRzVjYm5aaGNpQllTRklnUFNCWVRVeElkSFJ3VW1WeGRXVnpkRnh1YVdZZ0tDRllTRklwSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduYldsemMybHVaeUJZVFV4SWRIUndVbVZ4ZFdWemRDY3BYRzV5WlhGMVpYTjBMbXh2WnlBOUlIdGNiaUFnSjNSeVlXTmxKem9nYm05dmNDd2dKMlJsWW5Wbkp6b2dibTl2Y0N3Z0oybHVabThuT2lCdWIyOXdMQ0FuZDJGeWJpYzZJRzV2YjNBc0lDZGxjbkp2Y2ljNklHNXZiM0JjYm4xY2JseHVkbUZ5SUVSRlJrRlZURlJmVkVsTlJVOVZWQ0E5SURNZ0tpQTJNQ0FxSURFd01EQWdMeThnTXlCdGFXNTFkR1Z6WEc1Y2JpOHZYRzR2THlCeVpYRjFaWE4wWEc0dkwxeHVYRzVtZFc1amRHbHZiaUJ5WlhGMVpYTjBLRzl3ZEdsdmJuTXNJR05oYkd4aVlXTnJLU0I3WEc0Z0lDOHZJRlJvWlNCbGJuUnllUzF3YjJsdWRDQjBieUIwYUdVZ1FWQkpPaUJ3Y21Wd0lIUm9aU0J2Y0hScGIyNXpJRzlpYW1WamRDQmhibVFnY0dGemN5QjBhR1VnY21WaGJDQjNiM0pySUhSdklISjFibDk0YUhJdVhHNGdJR2xtS0hSNWNHVnZaaUJqWVd4c1ltRmpheUFoUFQwZ0oyWjFibU4wYVc5dUp5bGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjBKaFpDQmpZV3hzWW1GamF5Qm5hWFpsYmpvZ0p5QXJJR05oYkd4aVlXTnJLVnh1WEc0Z0lHbG1LQ0Z2Y0hScGIyNXpLVnh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnblRtOGdiM0IwYVc5dWN5Qm5hWFpsYmljcFhHNWNiaUFnZG1GeUlHOXdkR2x2Ym5OZmIyNVNaWE53YjI1elpTQTlJRzl3ZEdsdmJuTXViMjVTWlhOd2IyNXpaVHNnTHk4Z1UyRjJaU0IwYUdseklHWnZjaUJzWVhSbGNpNWNibHh1SUNCcFppaDBlWEJsYjJZZ2IzQjBhVzl1Y3lBOVBUMGdKM04wY21sdVp5Y3BYRzRnSUNBZ2IzQjBhVzl1Y3lBOUlIc25kWEpwSnpwdmNIUnBiMjV6ZlR0Y2JpQWdaV3h6WlZ4dUlDQWdJRzl3ZEdsdmJuTWdQU0JLVTA5T0xuQmhjbk5sS0VwVFQwNHVjM1J5YVc1bmFXWjVLRzl3ZEdsdmJuTXBLVHNnTHk4Z1ZYTmxJR0VnWkhWd2JHbGpZWFJsSUdadmNpQnRkWFJoZEdsdVp5NWNibHh1SUNCdmNIUnBiMjV6TG05dVVtVnpjRzl1YzJVZ1BTQnZjSFJwYjI1elgyOXVVbVZ6Y0c5dWMyVWdMeThnUVc1a0lIQjFkQ0JwZENCaVlXTnJMbHh1WEc0Z0lHbG1JQ2h2Y0hScGIyNXpMblpsY21KdmMyVXBJSEpsY1hWbGMzUXViRzluSUQwZ1oyVjBURzluWjJWeUtDazdYRzVjYmlBZ2FXWW9iM0IwYVc5dWN5NTFjbXdwSUh0Y2JpQWdJQ0J2Y0hScGIyNXpMblZ5YVNBOUlHOXdkR2x2Ym5NdWRYSnNPMXh1SUNBZ0lHUmxiR1YwWlNCdmNIUnBiMjV6TG5WeWJEdGNiaUFnZlZ4dVhHNGdJR2xtS0NGdmNIUnBiMjV6TG5WeWFTQW1KaUJ2Y0hScGIyNXpMblZ5YVNBaFBUMGdYQ0pjSWlsY2JpQWdJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9YQ0p2Y0hScGIyNXpMblZ5YVNCcGN5QmhJSEpsY1hWcGNtVmtJR0Z5WjNWdFpXNTBYQ0lwTzF4dVhHNGdJR2xtS0hSNWNHVnZaaUJ2Y0hScGIyNXpMblZ5YVNBaFBTQmNJbk4wY21sdVoxd2lLVnh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2loY0ltOXdkR2x2Ym5NdWRYSnBJRzExYzNRZ1ltVWdZU0J6ZEhKcGJtZGNJaWs3WEc1Y2JpQWdkbUZ5SUhWdWMzVndjRzl5ZEdWa1gyOXdkR2x2Ym5NZ1BTQmJKM0J5YjNoNUp5d2dKMTl5WldScGNtVmpkSE5HYjJ4c2IzZGxaQ2NzSUNkdFlYaFNaV1JwY21WamRITW5MQ0FuWm05c2JHOTNVbVZrYVhKbFkzUW5YVnh1SUNCbWIzSWdLSFpoY2lCcElEMGdNRHNnYVNBOElIVnVjM1Z3Y0c5eWRHVmtYMjl3ZEdsdmJuTXViR1Z1WjNSb095QnBLeXNwWEc0Z0lDQWdhV1lvYjNCMGFXOXVjMXNnZFc1emRYQndiM0owWldSZmIzQjBhVzl1YzF0cFhTQmRLVnh1SUNBZ0lDQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtGd2liM0IwYVc5dWN5NWNJaUFySUhWdWMzVndjRzl5ZEdWa1gyOXdkR2x2Ym5OYmFWMGdLeUJjSWlCcGN5QnViM1FnYzNWd2NHOXlkR1ZrWENJcFhHNWNiaUFnYjNCMGFXOXVjeTVqWVd4c1ltRmpheUE5SUdOaGJHeGlZV05yWEc0Z0lHOXdkR2x2Ym5NdWJXVjBhRzlrSUQwZ2IzQjBhVzl1Y3k1dFpYUm9iMlFnZkh3Z0owZEZWQ2M3WEc0Z0lHOXdkR2x2Ym5NdWFHVmhaR1Z5Y3lBOUlHOXdkR2x2Ym5NdWFHVmhaR1Z5Y3lCOGZDQjdmVHRjYmlBZ2IzQjBhVzl1Y3k1aWIyUjVJQ0FnSUQwZ2IzQjBhVzl1Y3k1aWIyUjVJSHg4SUc1MWJHeGNiaUFnYjNCMGFXOXVjeTUwYVcxbGIzVjBJRDBnYjNCMGFXOXVjeTUwYVcxbGIzVjBJSHg4SUhKbGNYVmxjM1F1UkVWR1FWVk1WRjlVU1UxRlQxVlVYRzVjYmlBZ2FXWW9iM0IwYVc5dWN5NW9aV0ZrWlhKekxtaHZjM1FwWEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtGd2lUM0IwYVc5dWN5NW9aV0ZrWlhKekxtaHZjM1FnYVhNZ2JtOTBJSE4xY0hCdmNuUmxaRndpS1R0Y2JseHVJQ0JwWmlodmNIUnBiMjV6TG1wemIyNHBJSHRjYmlBZ0lDQnZjSFJwYjI1ekxtaGxZV1JsY25NdVlXTmpaWEIwSUQwZ2IzQjBhVzl1Y3k1b1pXRmtaWEp6TG1GalkyVndkQ0I4ZkNBbllYQndiR2xqWVhScGIyNHZhbk52YmlkY2JpQWdJQ0JwWmlodmNIUnBiMjV6TG0xbGRHaHZaQ0FoUFQwZ0owZEZWQ2NwWEc0Z0lDQWdJQ0J2Y0hScGIyNXpMbWhsWVdSbGNuTmJKMk52Ym5SbGJuUXRkSGx3WlNkZElEMGdKMkZ3Y0d4cFkyRjBhVzl1TDJwemIyNG5YRzVjYmlBZ0lDQnBaaWgwZVhCbGIyWWdiM0IwYVc5dWN5NXFjMjl1SUNFOVBTQW5ZbTl2YkdWaGJpY3BYRzRnSUNBZ0lDQnZjSFJwYjI1ekxtSnZaSGtnUFNCS1UwOU9Mbk4wY21sdVoybG1lU2h2Y0hScGIyNXpMbXB6YjI0cFhHNGdJQ0FnWld4elpTQnBaaWgwZVhCbGIyWWdiM0IwYVc5dWN5NWliMlI1SUNFOVBTQW5jM1J5YVc1bkp5bGNiaUFnSUNBZ0lHOXdkR2x2Ym5NdVltOWtlU0E5SUVwVFQwNHVjM1J5YVc1bmFXWjVLRzl3ZEdsdmJuTXVZbTlrZVNsY2JpQWdmVnh1SUNCY2JpQWdMeTlDUlVkSlRpQlJVeUJJWVdOclhHNGdJSFpoY2lCelpYSnBZV3hwZW1VZ1BTQm1kVzVqZEdsdmJpaHZZbW9wSUh0Y2JpQWdJQ0IyWVhJZ2MzUnlJRDBnVzEwN1hHNGdJQ0FnWm05eUtIWmhjaUJ3SUdsdUlHOWlhaWxjYmlBZ0lDQWdJR2xtSUNodlltb3VhR0Z6VDNkdVVISnZjR1Z5ZEhrb2NDa3BJSHRjYmlBZ0lDQWdJQ0FnYzNSeUxuQjFjMmdvWlc1amIyUmxWVkpKUTI5dGNHOXVaVzUwS0hBcElDc2dYQ0k5WENJZ0t5QmxibU52WkdWVlVrbERiMjF3YjI1bGJuUW9iMkpxVzNCZEtTazdYRzRnSUNBZ0lDQjlYRzRnSUNBZ2NtVjBkWEp1SUhOMGNpNXFiMmx1S0Z3aUpsd2lLVHRjYmlBZ2ZWeHVJQ0JjYmlBZ2FXWW9iM0IwYVc5dWN5NXhjeWw3WEc0Z0lDQWdkbUZ5SUhGeklEMGdLSFI1Y0dWdlppQnZjSFJwYjI1ekxuRnpJRDA5SUNkemRISnBibWNuS1Q4Z2IzQjBhVzl1Y3k1eGN5QTZJSE5sY21saGJHbDZaU2h2Y0hScGIyNXpMbkZ6S1R0Y2JpQWdJQ0JwWmlodmNIUnBiMjV6TG5WeWFTNXBibVJsZUU5bUtDYy9KeWtnSVQwOUlDMHhLWHNnTHk5dWJ5Qm5aWFFnY0dGeVlXMXpYRzRnSUNBZ0lDQWdJRzl3ZEdsdmJuTXVkWEpwSUQwZ2IzQjBhVzl1Y3k1MWNta3JKeVluSzNGek8xeHVJQ0FnSUgxbGJITmxleUF2TDJWNGFYTjBhVzVuSUdkbGRDQndZWEpoYlhOY2JpQWdJQ0FnSUNBZ2IzQjBhVzl1Y3k1MWNta2dQU0J2Y0hScGIyNXpMblZ5YVNzblB5Y3JjWE03WEc0Z0lDQWdmVnh1SUNCOVhHNGdJQzh2UlU1RUlGRlRJRWhoWTJ0Y2JpQWdYRzRnSUM4dlFrVkhTVTRnUms5U1RTQklZV05yWEc0Z0lIWmhjaUJ0ZFd4MGFYQmhjblFnUFNCbWRXNWpkR2x2Ymlodlltb3BJSHRjYmlBZ0lDQXZMM1J2Wkc4NklITjFjSEJ2Y25RZ1ptbHNaU0IwZVhCbElDaDFjMlZtZFd3L0tWeHVJQ0FnSUhaaGNpQnlaWE4xYkhRZ1BTQjdmVHRjYmlBZ0lDQnlaWE4xYkhRdVltOTFibVJ5ZVNBOUlDY3RMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0TFMwdExTMHRMUzB0Snl0TllYUm9MbVpzYjI5eUtFMWhkR2d1Y21GdVpHOXRLQ2txTVRBd01EQXdNREF3TUNrN1hHNGdJQ0FnZG1GeUlHeHBibVZ6SUQwZ1cxMDdYRzRnSUNBZ1ptOXlLSFpoY2lCd0lHbHVJRzlpYWlsN1hHNGdJQ0FnSUNBZ0lHbG1JQ2h2WW1vdWFHRnpUM2R1VUhKdmNHVnlkSGtvY0NrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUd4cGJtVnpMbkIxYzJnb1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0p5MHRKeXR5WlhOMWJIUXVZbTkxYm1SeWVTdGNJbHhjYmx3aUsxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDZERiMjUwWlc1MExVUnBjM0J2YzJsMGFXOXVPaUJtYjNKdExXUmhkR0U3SUc1aGJXVTlYQ0luSzNBckoxd2lKeXRjSWx4Y2Jsd2lLMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRndpWEZ4dVhDSXJYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiMkpxVzNCZEsxd2lYRnh1WENKY2JpQWdJQ0FnSUNBZ0lDQWdJQ2s3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0I5WEc0Z0lDQWdiR2x1WlhNdWNIVnphQ2dnSnkwdEp5dHlaWE4xYkhRdVltOTFibVJ5ZVNzbkxTMG5JQ2s3WEc0Z0lDQWdjbVZ6ZFd4MExtSnZaSGtnUFNCc2FXNWxjeTVxYjJsdUtDY25LVHRjYmlBZ0lDQnlaWE4xYkhRdWJHVnVaM1JvSUQwZ2NtVnpkV3gwTG1KdlpIa3ViR1Z1WjNSb08xeHVJQ0FnSUhKbGMzVnNkQzUwZVhCbElEMGdKMjExYkhScGNHRnlkQzltYjNKdExXUmhkR0U3SUdKdmRXNWtZWEo1UFNjcmNtVnpkV3gwTG1KdmRXNWtjbms3WEc0Z0lDQWdjbVYwZFhKdUlISmxjM1ZzZER0Y2JpQWdmVnh1SUNCY2JpQWdhV1lvYjNCMGFXOXVjeTVtYjNKdEtYdGNiaUFnSUNCcFppaDBlWEJsYjJZZ2IzQjBhVzl1Y3k1bWIzSnRJRDA5SUNkemRISnBibWNuS1NCMGFISnZkeWduWm05eWJTQnVZVzFsSUhWdWMzVndjRzl5ZEdWa0p5azdYRzRnSUNBZ2FXWW9iM0IwYVc5dWN5NXRaWFJvYjJRZ1BUMDlJQ2RRVDFOVUp5bDdYRzRnSUNBZ0lDQWdJSFpoY2lCbGJtTnZaR2x1WnlBOUlDaHZjSFJwYjI1ekxtVnVZMjlrYVc1bklIeDhJQ2RoY0hCc2FXTmhkR2x2Ymk5NExYZDNkeTFtYjNKdExYVnliR1Z1WTI5a1pXUW5LUzUwYjB4dmQyVnlRMkZ6WlNncE8xeHVJQ0FnSUNBZ0lDQnZjSFJwYjI1ekxtaGxZV1JsY25OYkoyTnZiblJsYm5RdGRIbHdaU2RkSUQwZ1pXNWpiMlJwYm1jN1hHNGdJQ0FnSUNBZ0lITjNhWFJqYUNobGJtTnZaR2x1WnlsN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JqWVhObElDZGhjSEJzYVdOaGRHbHZiaTk0TFhkM2R5MW1iM0p0TFhWeWJHVnVZMjlrWldRbk9seHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHOXdkR2x2Ym5NdVltOWtlU0E5SUhObGNtbGhiR2w2WlNodmNIUnBiMjV6TG1admNtMHBMbkpsY0d4aFkyVW9MeVV5TUM5bkxDQmNJaXRjSWlrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1luSmxZV3M3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpZWE5sSUNkdGRXeDBhWEJoY25RdlptOXliUzFrWVhSaEp6cGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjJZWElnYlhWc2RHa2dQU0J0ZFd4MGFYQmhjblFvYjNCMGFXOXVjeTVtYjNKdEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMMjl3ZEdsdmJuTXVhR1ZoWkdWeWMxc25ZMjl1ZEdWdWRDMXNaVzVuZEdnblhTQTlJRzExYkhScExteGxibWQwYUR0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCdmNIUnBiMjV6TG1KdlpIa2dQU0J0ZFd4MGFTNWliMlI1TzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUc5d2RHbHZibk11YUdWaFpHVnljMXNuWTI5dWRHVnVkQzEwZVhCbEoxMGdQU0J0ZFd4MGFTNTBlWEJsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdKeVpXRnJPMXh1SUNBZ0lDQWdJQ0FnSUNBZ1pHVm1ZWFZzZENBNklIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnbmRXNXpkWEJ3YjNKMFpXUWdaVzVqYjJScGJtYzZKeXRsYm1OdlpHbHVaeWs3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0I5WEc0Z0lIMWNiaUFnTHk5RlRrUWdSazlTVFNCSVlXTnJYRzVjYmlBZ0x5OGdTV1lnYjI1U1pYTndiMjV6WlNCcGN5QmliMjlzWldGdUlIUnlkV1VzSUdOaGJHd2dZbUZqYXlCcGJXMWxaR2xoZEdWc2VTQjNhR1Z1SUhSb1pTQnlaWE53YjI1elpTQnBjeUJyYm05M2JpeGNiaUFnTHk4Z2JtOTBJSGRvWlc0Z2RHaGxJR1oxYkd3Z2NtVnhkV1Z6ZENCcGN5QmpiMjF3YkdWMFpTNWNiaUFnYjNCMGFXOXVjeTV2YmxKbGMzQnZibk5sSUQwZ2IzQjBhVzl1Y3k1dmJsSmxjM0J2Ym5ObElIeDhJRzV2YjNCY2JpQWdhV1lvYjNCMGFXOXVjeTV2YmxKbGMzQnZibk5sSUQwOVBTQjBjblZsS1NCN1hHNGdJQ0FnYjNCMGFXOXVjeTV2YmxKbGMzQnZibk5sSUQwZ1kyRnNiR0poWTJ0Y2JpQWdJQ0J2Y0hScGIyNXpMbU5oYkd4aVlXTnJJRDBnYm05dmNGeHVJQ0I5WEc1Y2JpQWdMeThnV0ZoWUlFSnliM2R6WlhKeklHUnZJRzV2ZENCc2FXdGxJSFJvYVhNdVhHNGdJQzh2YVdZb2IzQjBhVzl1Y3k1aWIyUjVLVnh1SUNBdkx5QWdiM0IwYVc5dWN5NW9aV0ZrWlhKeld5ZGpiMjUwWlc1MExXeGxibWQwYUNkZElEMGdiM0IwYVc5dWN5NWliMlI1TG14bGJtZDBhRHRjYmx4dUlDQXZMeUJJVkZSUUlHSmhjMmxqSUdGMWRHaGxiblJwWTJGMGFXOXVYRzRnSUdsbUtDRnZjSFJwYjI1ekxtaGxZV1JsY25NdVlYVjBhRzl5YVhwaGRHbHZiaUFtSmlCdmNIUnBiMjV6TG1GMWRHZ3BYRzRnSUNBZ2IzQjBhVzl1Y3k1b1pXRmtaWEp6TG1GMWRHaHZjbWw2WVhScGIyNGdQU0FuUW1GemFXTWdKeUFySUdJMk5GOWxibU1vYjNCMGFXOXVjeTVoZFhSb0xuVnpaWEp1WVcxbElDc2dKem9uSUNzZ2IzQjBhVzl1Y3k1aGRYUm9MbkJoYzNOM2IzSmtLVHRjYmx4dUlDQnlaWFIxY200Z2NuVnVYM2hvY2lodmNIUnBiMjV6S1Z4dWZWeHVYRzUyWVhJZ2NtVnhYM05sY1NBOUlEQmNibVoxYm1OMGFXOXVJSEoxYmw5NGFISW9iM0IwYVc5dWN5a2dlMXh1SUNCMllYSWdlR2h5SUQwZ2JtVjNJRmhJVWx4dUlDQWdJQ3dnZEdsdFpXUmZiM1YwSUQwZ1ptRnNjMlZjYmlBZ0lDQXNJR2x6WDJOdmNuTWdQU0JwYzE5amNtOXpjMFJ2YldGcGJpaHZjSFJwYjI1ekxuVnlhU2xjYmlBZ0lDQXNJSE4xY0hCdmNuUnpYMk52Y25NZ1BTQW9KM2RwZEdoRGNtVmtaVzUwYVdGc2N5Y2dhVzRnZUdoeUtWeHVYRzRnSUhKbGNWOXpaWEVnS3owZ01WeHVJQ0I0YUhJdWMyVnhYMmxrSUQwZ2NtVnhYM05sY1Z4dUlDQjRhSEl1YVdRZ1BTQnlaWEZmYzJWeElDc2dKem9nSnlBcklHOXdkR2x2Ym5NdWJXVjBhRzlrSUNzZ0p5QW5JQ3NnYjNCMGFXOXVjeTUxY21sY2JpQWdlR2h5TGw5cFpDQTlJSGhvY2k1cFpDQXZMeUJKSUd0dWIzY2dTU0IzYVd4c0lIUjVjR1VnWENKZmFXUmNJaUJtY205dElHaGhZbWwwSUdGc2JDQjBhR1VnZEdsdFpTNWNibHh1SUNCcFppaHBjMTlqYjNKeklDWW1JQ0Z6ZFhCd2IzSjBjMTlqYjNKektTQjdYRzRnSUNBZ2RtRnlJR052Y25OZlpYSnlJRDBnYm1WM0lFVnljbTl5S0NkQ2NtOTNjMlZ5SUdSdlpYTWdibTkwSUhOMWNIQnZjblFnWTNKdmMzTXRiM0pwWjJsdUlISmxjWFZsYzNRNklDY2dLeUJ2Y0hScGIyNXpMblZ5YVNsY2JpQWdJQ0JqYjNKelgyVnljaTVqYjNKeklEMGdKM1Z1YzNWd2NHOXlkR1ZrSjF4dUlDQWdJSEpsZEhWeWJpQnZjSFJwYjI1ekxtTmhiR3hpWVdOcktHTnZjbk5mWlhKeUxDQjRhSElwWEc0Z0lIMWNibHh1SUNCNGFISXVkR2x0Wlc5MWRGUnBiV1Z5SUQwZ2MyVjBWR2x0Wlc5MWRDaDBiMjlmYkdGMFpTd2diM0IwYVc5dWN5NTBhVzFsYjNWMEtWeHVJQ0JtZFc1amRHbHZiaUIwYjI5ZmJHRjBaU2dwSUh0Y2JpQWdJQ0IwYVcxbFpGOXZkWFFnUFNCMGNuVmxYRzRnSUNBZ2RtRnlJR1Z5SUQwZ2JtVjNJRVZ5Y205eUtDZEZWRWxOUlVSUFZWUW5LVnh1SUNBZ0lHVnlMbU52WkdVZ1BTQW5SVlJKVFVWRVQxVlVKMXh1SUNBZ0lHVnlMbVIxY21GMGFXOXVJRDBnYjNCMGFXOXVjeTUwYVcxbGIzVjBYRzVjYmlBZ0lDQnlaWEYxWlhOMExteHZaeTVsY25KdmNpZ25WR2x0Wlc5MWRDY3NJSHNnSjJsa0p6cDRhSEl1WDJsa0xDQW5iV2xzYkdselpXTnZibVJ6SnpwdmNIUnBiMjV6TG5ScGJXVnZkWFFnZlNsY2JpQWdJQ0J5WlhSMWNtNGdiM0IwYVc5dWN5NWpZV3hzWW1GamF5aGxjaXdnZUdoeUtWeHVJQ0I5WEc1Y2JpQWdMeThnVTI5dFpTQnpkR0YwWlhNZ1kyRnVJR0psSUhOcmFYQndaV1FnYjNabGNpd2djMjhnY21WdFpXMWlaWElnZDJoaGRDQnBjeUJ6ZEdsc2JDQnBibU52YlhCc1pYUmxMbHh1SUNCMllYSWdaR2xrSUQwZ2V5ZHlaWE53YjI1elpTYzZabUZzYzJVc0lDZHNiMkZrYVc1bkp6cG1ZV3h6WlN3Z0oyVnVaQ2M2Wm1Gc2MyVjlYRzVjYmlBZ2VHaHlMbTl1Y21WaFpIbHpkR0YwWldOb1lXNW5aU0E5SUc5dVgzTjBZWFJsWDJOb1lXNW5aVnh1SUNCNGFISXViM0JsYmlodmNIUnBiMjV6TG0xbGRHaHZaQ3dnYjNCMGFXOXVjeTUxY21rc0lIUnlkV1VwSUM4dklHRnplVzVqYUhKdmJtOTFjMXh1SUNCcFppaHBjMTlqYjNKektWeHVJQ0FnSUhob2NpNTNhWFJvUTNKbFpHVnVkR2xoYkhNZ1BTQWhJU0J2Y0hScGIyNXpMbmRwZEdoRGNtVmtaVzUwYVdGc2MxeHVJQ0I0YUhJdWMyVnVaQ2h2Y0hScGIyNXpMbUp2WkhrcFhHNGdJSEpsZEhWeWJpQjRhSEpjYmx4dUlDQm1kVzVqZEdsdmJpQnZibDl6ZEdGMFpWOWphR0Z1WjJVb1pYWmxiblFwSUh0Y2JpQWdJQ0JwWmloMGFXMWxaRjl2ZFhRcFhHNGdJQ0FnSUNCeVpYUjFjbTRnY21WeGRXVnpkQzVzYjJjdVpHVmlkV2NvSjBsbmJtOXlhVzVuSUhScGJXVmtJRzkxZENCemRHRjBaU0JqYUdGdVoyVW5MQ0I3SjNOMFlYUmxKenA0YUhJdWNtVmhaSGxUZEdGMFpTd2dKMmxrSnpwNGFISXVhV1I5S1Z4dVhHNGdJQ0FnY21WeGRXVnpkQzVzYjJjdVpHVmlkV2NvSjFOMFlYUmxJR05vWVc1blpTY3NJSHNuYzNSaGRHVW5PbmhvY2k1eVpXRmtlVk4wWVhSbExDQW5hV1FuT25ob2NpNXBaQ3dnSjNScGJXVmtYMjkxZENjNmRHbHRaV1JmYjNWMGZTbGNibHh1SUNBZ0lHbG1LSGhvY2k1eVpXRmtlVk4wWVhSbElEMDlQU0JZU0ZJdVQxQkZUa1ZFS1NCN1hHNGdJQ0FnSUNCeVpYRjFaWE4wTG14dlp5NWtaV0oxWnlnblVtVnhkV1Z6ZENCemRHRnlkR1ZrSnl3Z2V5ZHBaQ2M2ZUdoeUxtbGtmU2xjYmlBZ0lDQWdJR1p2Y2lBb2RtRnlJR3RsZVNCcGJpQnZjSFJwYjI1ekxtaGxZV1JsY25NcFhHNGdJQ0FnSUNBZ0lIaG9jaTV6WlhSU1pYRjFaWE4wU0dWaFpHVnlLR3RsZVN3Z2IzQjBhVzl1Y3k1b1pXRmtaWEp6VzJ0bGVWMHBYRzRnSUNBZ2ZWeHVYRzRnSUNBZ1pXeHpaU0JwWmloNGFISXVjbVZoWkhsVGRHRjBaU0E5UFQwZ1dFaFNMa2hGUVVSRlVsTmZVa1ZEUlVsV1JVUXBYRzRnSUNBZ0lDQnZibDl5WlhOd2IyNXpaU2dwWEc1Y2JpQWdJQ0JsYkhObElHbG1LSGhvY2k1eVpXRmtlVk4wWVhSbElEMDlQU0JZU0ZJdVRFOUJSRWxPUnlrZ2UxeHVJQ0FnSUNBZ2IyNWZjbVZ6Y0c5dWMyVW9LVnh1SUNBZ0lDQWdiMjVmYkc5aFpHbHVaeWdwWEc0Z0lDQWdmVnh1WEc0Z0lDQWdaV3h6WlNCcFppaDRhSEl1Y21WaFpIbFRkR0YwWlNBOVBUMGdXRWhTTGtSUFRrVXBJSHRjYmlBZ0lDQWdJRzl1WDNKbGMzQnZibk5sS0NsY2JpQWdJQ0FnSUc5dVgyeHZZV1JwYm1jb0tWeHVJQ0FnSUNBZ2IyNWZaVzVrS0NsY2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCbWRXNWpkR2x2YmlCdmJsOXlaWE53YjI1elpTZ3BJSHRjYmlBZ0lDQnBaaWhrYVdRdWNtVnpjRzl1YzJVcFhHNGdJQ0FnSUNCeVpYUjFjbTVjYmx4dUlDQWdJR1JwWkM1eVpYTndiMjV6WlNBOUlIUnlkV1ZjYmlBZ0lDQnlaWEYxWlhOMExteHZaeTVrWldKMVp5Z25SMjkwSUhKbGMzQnZibk5sSnl3Z2V5ZHBaQ2M2ZUdoeUxtbGtMQ0FuYzNSaGRIVnpKenA0YUhJdWMzUmhkSFZ6ZlNsY2JpQWdJQ0JqYkdWaGNsUnBiV1Z2ZFhRb2VHaHlMblJwYldWdmRYUlVhVzFsY2lsY2JpQWdJQ0I0YUhJdWMzUmhkSFZ6UTI5a1pTQTlJSGhvY2k1emRHRjBkWE1nTHk4Z1RtOWtaU0J5WlhGMVpYTjBJR052YlhCaGRHbGlhV3hwZEhsY2JseHVJQ0FnSUM4dklFUmxkR1ZqZENCbVlXbHNaV1FnUTA5U1V5QnlaWEYxWlhOMGN5NWNiaUFnSUNCcFppaHBjMTlqYjNKeklDWW1JSGhvY2k1emRHRjBkWE5EYjJSbElEMDlJREFwSUh0Y2JpQWdJQ0FnSUhaaGNpQmpiM0p6WDJWeWNpQTlJRzVsZHlCRmNuSnZjaWduUTA5U1V5QnlaWEYxWlhOMElISmxhbVZqZEdWa09pQW5JQ3NnYjNCMGFXOXVjeTUxY21rcFhHNGdJQ0FnSUNCamIzSnpYMlZ5Y2k1amIzSnpJRDBnSjNKbGFtVmpkR1ZrSjF4dVhHNGdJQ0FnSUNBdkx5QkVieUJ1YjNRZ2NISnZZMlZ6Y3lCMGFHbHpJSEpsY1hWbGMzUWdablZ5ZEdobGNpNWNiaUFnSUNBZ0lHUnBaQzVzYjJGa2FXNW5JRDBnZEhKMVpWeHVJQ0FnSUNBZ1pHbGtMbVZ1WkNBOUlIUnlkV1ZjYmx4dUlDQWdJQ0FnY21WMGRYSnVJRzl3ZEdsdmJuTXVZMkZzYkdKaFkyc29ZMjl5YzE5bGNuSXNJSGhvY2lsY2JpQWdJQ0I5WEc1Y2JpQWdJQ0J2Y0hScGIyNXpMbTl1VW1WemNHOXVjMlVvYm5Wc2JDd2dlR2h5S1Z4dUlDQjlYRzVjYmlBZ1puVnVZM1JwYjI0Z2IyNWZiRzloWkdsdVp5Z3BJSHRjYmlBZ0lDQnBaaWhrYVdRdWJHOWhaR2x1WnlsY2JpQWdJQ0FnSUhKbGRIVnlibHh1WEc0Z0lDQWdaR2xrTG14dllXUnBibWNnUFNCMGNuVmxYRzRnSUNBZ2NtVnhkV1Z6ZEM1c2IyY3VaR1ZpZFdjb0oxSmxjM0J2Ym5ObElHSnZaSGtnYkc5aFpHbHVaeWNzSUhzbmFXUW5PbmhvY2k1cFpIMHBYRzRnSUNBZ0x5OGdWRTlFVHpvZ1RXRjVZbVVnYzJsdGRXeGhkR1VnWENKa1lYUmhYQ0lnWlhabGJuUnpJR0o1SUhkaGRHTm9hVzVuSUhob2NpNXlaWE53YjI1elpWUmxlSFJjYmlBZ2ZWeHVYRzRnSUdaMWJtTjBhVzl1SUc5dVgyVnVaQ2dwSUh0Y2JpQWdJQ0JwWmloa2FXUXVaVzVrS1Z4dUlDQWdJQ0FnY21WMGRYSnVYRzVjYmlBZ0lDQmthV1F1Wlc1a0lEMGdkSEoxWlZ4dUlDQWdJSEpsY1hWbGMzUXViRzluTG1SbFluVm5LQ2RTWlhGMVpYTjBJR1J2Ym1VbkxDQjdKMmxrSnpwNGFISXVhV1I5S1Z4dVhHNGdJQ0FnZUdoeUxtSnZaSGtnUFNCNGFISXVjbVZ6Y0c5dWMyVlVaWGgwWEc0Z0lDQWdhV1lvYjNCMGFXOXVjeTVxYzI5dUtTQjdYRzRnSUNBZ0lDQjBjbmtnSUNBZ0lDQWdJSHNnZUdoeUxtSnZaSGtnUFNCS1UwOU9MbkJoY25ObEtIaG9jaTV5WlhOd2IyNXpaVlJsZUhRcElIMWNiaUFnSUNBZ0lHTmhkR05vSUNobGNpa2dleUJ5WlhSMWNtNGdiM0IwYVc5dWN5NWpZV3hzWW1GamF5aGxjaXdnZUdoeUtTQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JseHVJQ0FnSUc5d2RHbHZibk11WTJGc2JHSmhZMnNvYm5Wc2JDd2dlR2h5TENCNGFISXVZbTlrZVNsY2JpQWdmVnh1WEc1OUlDOHZJSEpsY1hWbGMzUmNibHh1Y21WeGRXVnpkQzUzYVhSb1EzSmxaR1Z1ZEdsaGJITWdQU0JtWVd4elpUdGNibkpsY1hWbGMzUXVSRVZHUVZWTVZGOVVTVTFGVDFWVUlEMGdSRVZHUVZWTVZGOVVTVTFGVDFWVU8xeHVYRzR2TDF4dUx5OGdaR1ZtWVhWc2RITmNiaTh2WEc1Y2JuSmxjWFZsYzNRdVpHVm1ZWFZzZEhNZ1BTQm1kVzVqZEdsdmJpaHZjSFJwYjI1ekxDQnlaWEYxWlhOMFpYSXBJSHRjYmlBZ2RtRnlJR1JsWmlBOUlHWjFibU4wYVc5dUlDaHRaWFJvYjJRcElIdGNiaUFnSUNCMllYSWdaQ0E5SUdaMWJtTjBhVzl1SUNod1lYSmhiWE1zSUdOaGJHeGlZV05yS1NCN1hHNGdJQ0FnSUNCcFppaDBlWEJsYjJZZ2NHRnlZVzF6SUQwOVBTQW5jM1J5YVc1bkp5bGNiaUFnSUNBZ0lDQWdjR0Z5WVcxeklEMGdleWQxY21rbk9pQndZWEpoYlhOOU8xeHVJQ0FnSUNBZ1pXeHpaU0I3WEc0Z0lDQWdJQ0FnSUhCaGNtRnRjeUE5SUVwVFQwNHVjR0Z5YzJVb1NsTlBUaTV6ZEhKcGJtZHBabmtvY0dGeVlXMXpLU2s3WEc0Z0lDQWdJQ0I5WEc0Z0lDQWdJQ0JtYjNJZ0tIWmhjaUJwSUdsdUlHOXdkR2x2Ym5NcElIdGNiaUFnSUNBZ0lDQWdhV1lnS0hCaGNtRnRjMXRwWFNBOVBUMGdkVzVrWldacGJtVmtLU0J3WVhKaGJYTmJhVjBnUFNCdmNIUnBiMjV6VzJsZFhHNGdJQ0FnSUNCOVhHNGdJQ0FnSUNCeVpYUjFjbTRnYldWMGFHOWtLSEJoY21GdGN5d2dZMkZzYkdKaFkyc3BYRzRnSUNBZ2ZWeHVJQ0FnSUhKbGRIVnliaUJrWEc0Z0lIMWNiaUFnZG1GeUlHUmxJRDBnWkdWbUtISmxjWFZsYzNRcFhHNGdJR1JsTG1kbGRDQTlJR1JsWmloeVpYRjFaWE4wTG1kbGRDbGNiaUFnWkdVdWNHOXpkQ0E5SUdSbFppaHlaWEYxWlhOMExuQnZjM1FwWEc0Z0lHUmxMbkIxZENBOUlHUmxaaWh5WlhGMVpYTjBMbkIxZENsY2JpQWdaR1V1YUdWaFpDQTlJR1JsWmloeVpYRjFaWE4wTG1obFlXUXBYRzRnSUhKbGRIVnliaUJrWlZ4dWZWeHVYRzR2TDF4dUx5OGdTRlJVVUNCdFpYUm9iMlFnYzJodmNuUmpkWFJ6WEc0dkwxeHVYRzUyWVhJZ2MyaHZjblJqZFhSeklEMGdXeUFuWjJWMEp5d2dKM0IxZENjc0lDZHdiM04wSnl3Z0oyaGxZV1FuSUYwN1hHNXphRzl5ZEdOMWRITXVabTl5UldGamFDaG1kVzVqZEdsdmJpaHphRzl5ZEdOMWRDa2dlMXh1SUNCMllYSWdiV1YwYUc5a0lEMGdjMmh2Y25SamRYUXVkRzlWY0hCbGNrTmhjMlVvS1R0Y2JpQWdkbUZ5SUdaMWJtTWdJQ0E5SUhOb2IzSjBZM1YwTG5SdlRHOTNaWEpEWVhObEtDazdYRzVjYmlBZ2NtVnhkV1Z6ZEZ0bWRXNWpYU0E5SUdaMWJtTjBhVzl1S0c5d2RITXBJSHRjYmlBZ0lDQnBaaWgwZVhCbGIyWWdiM0IwY3lBOVBUMGdKM04wY21sdVp5Y3BYRzRnSUNBZ0lDQnZjSFJ6SUQwZ2V5ZHRaWFJvYjJRbk9tMWxkR2h2WkN3Z0ozVnlhU2M2YjNCMGMzMDdYRzRnSUNBZ1pXeHpaU0I3WEc0Z0lDQWdJQ0J2Y0hSeklEMGdTbE5QVGk1d1lYSnpaU2hLVTA5T0xuTjBjbWx1WjJsbWVTaHZjSFJ6S1NrN1hHNGdJQ0FnSUNCdmNIUnpMbTFsZEdodlpDQTlJRzFsZEdodlpEdGNiaUFnSUNCOVhHNWNiaUFnSUNCMllYSWdZWEpuY3lBOUlGdHZjSFJ6WFM1amIyNWpZWFFvUVhKeVlYa3VjSEp2ZEc5MGVYQmxMbk5zYVdObExtRndjR3g1S0dGeVozVnRaVzUwY3l3Z1d6RmRLU2s3WEc0Z0lDQWdjbVYwZFhKdUlISmxjWFZsYzNRdVlYQndiSGtvZEdocGN5d2dZWEpuY3lrN1hHNGdJSDFjYm4wcFhHNWNiaTh2WEc0dkx5QkRiM1ZqYUVSQ0lITm9iM0owWTNWMFhHNHZMMXh1WEc1eVpYRjFaWE4wTG1OdmRXTm9JRDBnWm5WdVkzUnBiMjRvYjNCMGFXOXVjeXdnWTJGc2JHSmhZMnNwSUh0Y2JpQWdhV1lvZEhsd1pXOW1JRzl3ZEdsdmJuTWdQVDA5SUNkemRISnBibWNuS1Z4dUlDQWdJRzl3ZEdsdmJuTWdQU0I3SjNWeWFTYzZiM0IwYVc5dWMzMWNibHh1SUNBdkx5QktkWE4wSUhWelpTQjBhR1VnY21WeGRXVnpkQ0JCVUVrZ2RHOGdaRzhnU2xOUFRpNWNiaUFnYjNCMGFXOXVjeTVxYzI5dUlEMGdkSEoxWlZ4dUlDQnBaaWh2Y0hScGIyNXpMbUp2WkhrcFhHNGdJQ0FnYjNCMGFXOXVjeTVxYzI5dUlEMGdiM0IwYVc5dWN5NWliMlI1WEc0Z0lHUmxiR1YwWlNCdmNIUnBiMjV6TG1KdlpIbGNibHh1SUNCallXeHNZbUZqYXlBOUlHTmhiR3hpWVdOcklIeDhJRzV2YjNCY2JseHVJQ0IyWVhJZ2VHaHlJRDBnY21WeGRXVnpkQ2h2Y0hScGIyNXpMQ0JqYjNWamFGOW9ZVzVrYkdWeUtWeHVJQ0J5WlhSMWNtNGdlR2h5WEc1Y2JpQWdablZ1WTNScGIyNGdZMjkxWTJoZmFHRnVaR3hsY2lobGNpd2djbVZ6Y0N3Z1ltOWtlU2tnZTF4dUlDQWdJR2xtS0dWeUtWeHVJQ0FnSUNBZ2NtVjBkWEp1SUdOaGJHeGlZV05yS0dWeUxDQnlaWE53TENCaWIyUjVLVnh1WEc0Z0lDQWdhV1lvS0hKbGMzQXVjM1JoZEhWelEyOWtaU0E4SURJd01DQjhmQ0J5WlhOd0xuTjBZWFIxYzBOdlpHVWdQaUF5T1RrcElDWW1JR0p2WkhrdVpYSnliM0lwSUh0Y2JpQWdJQ0FnSUM4dklGUm9aU0JpYjJSNUlHbHpJR0VnUTI5MVkyZ2dTbE5QVGlCdlltcGxZM1FnYVc1a2FXTmhkR2x1WnlCMGFHVWdaWEp5YjNJdVhHNGdJQ0FnSUNCbGNpQTlJRzVsZHlCRmNuSnZjaWduUTI5MVkyaEVRaUJsY25KdmNqb2dKeUFySUNoaWIyUjVMbVZ5Y205eUxuSmxZWE52YmlCOGZDQmliMlI1TG1WeWNtOXlMbVZ5Y205eUtTbGNiaUFnSUNBZ0lHWnZjaUFvZG1GeUlHdGxlU0JwYmlCaWIyUjVLVnh1SUNBZ0lDQWdJQ0JsY2x0clpYbGRJRDBnWW05a2VWdHJaWGxkWEc0Z0lDQWdJQ0J5WlhSMWNtNGdZMkZzYkdKaFkyc29aWElzSUhKbGMzQXNJR0p2WkhrcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUhKbGRIVnliaUJqWVd4c1ltRmpheWhsY2l3Z2NtVnpjQ3dnWW05a2VTazdYRzRnSUgxY2JuMWNibHh1THk5Y2JpOHZJRlYwYVd4cGRIbGNiaTh2WEc1Y2JtWjFibU4wYVc5dUlHNXZiM0FvS1NCN2ZWeHVYRzVtZFc1amRHbHZiaUJuWlhSTWIyZG5aWElvS1NCN1hHNGdJSFpoY2lCc2IyZG5aWElnUFNCN2ZWeHVJQ0FnSUN3Z2JHVjJaV3h6SUQwZ1d5ZDBjbUZqWlNjc0lDZGtaV0oxWnljc0lDZHBibVp2Snl3Z0ozZGhjbTRuTENBblpYSnliM0luWFZ4dUlDQWdJQ3dnYkdWMlpXd3NJR2xjYmx4dUlDQm1iM0lvYVNBOUlEQTdJR2tnUENCc1pYWmxiSE11YkdWdVozUm9PeUJwS3lzcElIdGNiaUFnSUNCc1pYWmxiQ0E5SUd4bGRtVnNjMXRwWFZ4dVhHNGdJQ0FnYkc5bloyVnlXMnhsZG1Wc1hTQTlJRzV2YjNCY2JpQWdJQ0JwWmloMGVYQmxiMllnWTI5dWMyOXNaU0FoUFQwZ0ozVnVaR1ZtYVc1bFpDY2dKaVlnWTI5dWMyOXNaU0FtSmlCamIyNXpiMnhsVzJ4bGRtVnNYU2xjYmlBZ0lDQWdJR3h2WjJkbGNsdHNaWFpsYkYwZ1BTQm1iM0p0WVhSMFpXUW9ZMjl1YzI5c1pTd2diR1YyWld3cFhHNGdJSDFjYmx4dUlDQnlaWFIxY200Z2JHOW5aMlZ5WEc1OVhHNWNibVoxYm1OMGFXOXVJR1p2Y20xaGRIUmxaQ2h2WW1vc0lHMWxkR2h2WkNrZ2UxeHVJQ0J5WlhSMWNtNGdabTl5YldGMGRHVmtYMnh2WjJkbGNseHVYRzRnSUdaMWJtTjBhVzl1SUdadmNtMWhkSFJsWkY5c2IyZG5aWElvYzNSeUxDQmpiMjUwWlhoMEtTQjdYRzRnSUNBZ2FXWW9kSGx3Wlc5bUlHTnZiblJsZUhRZ1BUMDlJQ2R2WW1wbFkzUW5LVnh1SUNBZ0lDQWdjM1J5SUNzOUlDY2dKeUFySUVwVFQwNHVjM1J5YVc1bmFXWjVLR052Ym5SbGVIUXBYRzVjYmlBZ0lDQnlaWFIxY200Z2IySnFXMjFsZEdodlpGMHVZMkZzYkNodlltb3NJSE4wY2lsY2JpQWdmVnh1ZlZ4dVhHNHZMeUJTWlhSMWNtNGdkMmhsZEdobGNpQmhJRlZTVENCcGN5QmhJR055YjNOekxXUnZiV0ZwYmlCeVpYRjFaWE4wTGx4dVpuVnVZM1JwYjI0Z2FYTmZZM0p2YzNORWIyMWhhVzRvZFhKc0tTQjdYRzRnSUhaaGNpQnlkWEpzSUQwZ0wxNG9XMXhjZDF4Y0sxeGNMbHhjTFYwck9pa29QenBjWEM5Y1hDOG9XMTVjWEM4L0l6cGRLaWtvUHpvNktGeGNaQ3NwS1Q4cFB5OWNibHh1SUNBdkx5QnFVWFZsY25rZ0l6Z3hNemdzSUVsRklHMWhlU0IwYUhKdmR5QmhiaUJsZUdObGNIUnBiMjRnZDJobGJpQmhZMk5sYzNOcGJtZGNiaUFnTHk4Z1lTQm1hV1ZzWkNCbWNtOXRJSGRwYm1SdmR5NXNiMk5oZEdsdmJpQnBaaUJrYjJOMWJXVnVkQzVrYjIxaGFXNGdhR0Z6SUdKbFpXNGdjMlYwWEc0Z0lIWmhjaUJoYW1GNFRHOWpZWFJwYjI1Y2JpQWdkSEo1SUhzZ1lXcGhlRXh2WTJGMGFXOXVJRDBnYkc5allYUnBiMjR1YUhKbFppQjlYRzRnSUdOaGRHTm9JQ2hsS1NCN1hHNGdJQ0FnTHk4Z1ZYTmxJSFJvWlNCb2NtVm1JR0YwZEhKcFluVjBaU0J2WmlCaGJpQkJJR1ZzWlcxbGJuUWdjMmx1WTJVZ1NVVWdkMmxzYkNCdGIyUnBabmtnYVhRZ1oybDJaVzRnWkc5amRXMWxiblF1Ykc5allYUnBiMjVjYmlBZ0lDQmhhbUY0VEc5allYUnBiMjRnUFNCa2IyTjFiV1Z1ZEM1amNtVmhkR1ZGYkdWdFpXNTBLQ0JjSW1GY0lpQXBPMXh1SUNBZ0lHRnFZWGhNYjJOaGRHbHZiaTVvY21WbUlEMGdYQ0pjSWp0Y2JpQWdJQ0JoYW1GNFRHOWpZWFJwYjI0Z1BTQmhhbUY0VEc5allYUnBiMjR1YUhKbFpqdGNiaUFnZlZ4dVhHNGdJSFpoY2lCaGFtRjRURzlqVUdGeWRITWdQU0J5ZFhKc0xtVjRaV01vWVdwaGVFeHZZMkYwYVc5dUxuUnZURzkzWlhKRFlYTmxLQ2twSUh4OElGdGRYRzRnSUNBZ0xDQndZWEowY3lBOUlISjFjbXd1WlhobFl5aDFjbXd1ZEc5TWIzZGxja05oYzJVb0tTQXBYRzVjYmlBZ2RtRnlJSEpsYzNWc2RDQTlJQ0VoS0Z4dUlDQWdJSEJoY25SeklDWW1YRzRnSUNBZ0tDQWdjR0Z5ZEhOYk1WMGdJVDBnWVdwaGVFeHZZMUJoY25Seld6RmRYRzRnSUNBZ2ZId2djR0Z5ZEhOYk1sMGdJVDBnWVdwaGVFeHZZMUJoY25Seld6SmRYRzRnSUNBZ2ZId2dLSEJoY25Seld6TmRJSHg4SUNod1lYSjBjMXN4WFNBOVBUMGdYQ0pvZEhSd09sd2lJRDhnT0RBZ09pQTBORE1wS1NBaFBTQW9ZV3BoZUV4dlkxQmhjblJ6V3pOZElIeDhJQ2hoYW1GNFRHOWpVR0Z5ZEhOYk1WMGdQVDA5SUZ3aWFIUjBjRHBjSWlBL0lEZ3dJRG9nTkRRektTbGNiaUFnSUNBcFhHNGdJQ2xjYmx4dUlDQXZMMk52Ym5OdmJHVXVaR1ZpZFdjb0oybHpYMk55YjNOelJHOXRZV2x1S0NjcmRYSnNLeWNwSUMwK0lDY2dLeUJ5WlhOMWJIUXBYRzRnSUhKbGRIVnliaUJ5WlhOMWJIUmNibjFjYmx4dUx5OGdUVWxVSUV4cFkyVnVjMlVnWm5KdmJTQm9kSFJ3T2k4dmNHaHdhbk11YjNKbkwyWjFibU4wYVc5dWN5OWlZWE5sTmpSZlpXNWpiMlJsT2pNMU9GeHVablZ1WTNScGIyNGdZalkwWDJWdVl5QW9aR0YwWVNrZ2UxeHVJQ0FnSUM4dklFVnVZMjlrWlhNZ2MzUnlhVzVuSUhWemFXNW5JRTFKVFVVZ1ltRnpaVFkwSUdGc1oyOXlhWFJvYlZ4dUlDQWdJSFpoY2lCaU5qUWdQU0JjSWtGQ1EwUkZSa2RJU1VwTFRFMU9UMUJSVWxOVVZWWlhXRmxhWVdKalpHVm1aMmhwYW10c2JXNXZjSEZ5YzNSMWRuZDRlWG93TVRJek5EVTJOemc1S3k4OVhDSTdYRzRnSUNBZ2RtRnlJRzh4TENCdk1pd2diek1zSUdneExDQm9NaXdnYURNc0lHZzBMQ0JpYVhSekxDQnBJRDBnTUN3Z1lXTWdQU0F3TENCbGJtTTlYQ0pjSWl3Z2RHMXdYMkZ5Y2lBOUlGdGRPMXh1WEc0Z0lDQWdhV1lnS0NGa1lYUmhLU0I3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUJrWVhSaE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUM4dklHRnpjM1Z0WlNCMWRHWTRJR1JoZEdGY2JpQWdJQ0F2THlCa1lYUmhJRDBnZEdocGN5NTFkR1k0WDJWdVkyOWtaU2hrWVhSaEt5Y25LVHRjYmx4dUlDQWdJR1J2SUhzZ0x5OGdjR0ZqYXlCMGFISmxaU0J2WTNSbGRITWdhVzUwYnlCbWIzVnlJR2hsZUdWMGMxeHVJQ0FnSUNBZ0lDQnZNU0E5SUdSaGRHRXVZMmhoY2tOdlpHVkJkQ2hwS3lzcE8xeHVJQ0FnSUNBZ0lDQnZNaUE5SUdSaGRHRXVZMmhoY2tOdlpHVkJkQ2hwS3lzcE8xeHVJQ0FnSUNBZ0lDQnZNeUE5SUdSaGRHRXVZMmhoY2tOdlpHVkJkQ2hwS3lzcE8xeHVYRzRnSUNBZ0lDQWdJR0pwZEhNZ1BTQnZNVHc4TVRZZ2ZDQnZNanc4T0NCOElHOHpPMXh1WEc0Z0lDQWdJQ0FnSUdneElEMGdZbWwwY3o0K01UZ2dKaUF3ZURObU8xeHVJQ0FnSUNBZ0lDQm9NaUE5SUdKcGRITStQakV5SUNZZ01IZ3paanRjYmlBZ0lDQWdJQ0FnYURNZ1BTQmlhWFJ6UGo0MklDWWdNSGd6Wmp0Y2JpQWdJQ0FnSUNBZ2FEUWdQU0JpYVhSeklDWWdNSGd6Wmp0Y2JseHVJQ0FnSUNBZ0lDQXZMeUIxYzJVZ2FHVjRaWFJ6SUhSdklHbHVaR1Y0SUdsdWRHOGdZalkwTENCaGJtUWdZWEJ3Wlc1a0lISmxjM1ZzZENCMGJ5QmxibU52WkdWa0lITjBjbWx1WjF4dUlDQWdJQ0FnSUNCMGJYQmZZWEp5VzJGakt5dGRJRDBnWWpZMExtTm9ZWEpCZENob01Ta2dLeUJpTmpRdVkyaGhja0YwS0dneUtTQXJJR0kyTkM1amFHRnlRWFFvYURNcElDc2dZalkwTG1Ob1lYSkJkQ2hvTkNrN1hHNGdJQ0FnZlNCM2FHbHNaU0FvYVNBOElHUmhkR0V1YkdWdVozUm9LVHRjYmx4dUlDQWdJR1Z1WXlBOUlIUnRjRjloY25JdWFtOXBiaWduSnlrN1hHNWNiaUFnSUNCemQybDBZMmdnS0dSaGRHRXViR1Z1WjNSb0lDVWdNeWtnZTF4dUlDQWdJQ0FnSUNCallYTmxJREU2WEc0Z0lDQWdJQ0FnSUNBZ0lDQmxibU1nUFNCbGJtTXVjMnhwWTJVb01Dd2dMVElwSUNzZ0p6MDlKenRjYmlBZ0lDQWdJQ0FnWW5KbFlXczdYRzRnSUNBZ0lDQWdJR05oYzJVZ01qcGNiaUFnSUNBZ0lDQWdJQ0FnSUdWdVl5QTlJR1Z1WXk1emJHbGpaU2d3TENBdE1Ta2dLeUFuUFNjN1hHNGdJQ0FnSUNBZ0lHSnlaV0ZyTzF4dUlDQWdJSDFjYmx4dUlDQWdJSEpsZEhWeWJpQmxibU03WEc1OVhHNGdJQ0FnY21WMGRYSnVJSEpsY1hWbGMzUTdYRzR2TDFWTlJDQkdUMDlVUlZJZ1UxUkJVbFJjYm4wcEtUdGNiaTh2VlUxRUlFWlBUMVJGVWlCRlRrUmNiaUlzSWlkMWMyVWdjM1J5YVdOMEp6dGNibHh1WEc1MllYSWdjbVZ4ZFdWemRDQTlJSEpsY1hWcGNtVW9KMkp5YjNkelpYSXRjbVZ4ZFdWemRDY3BPMXh1WEc1MllYSWdjRzl3YVd4NUlEMGdkMmx1Wkc5M0xuQnZjR2xzZVNCOGZDQjdmVHRjYmx4dWRtRnlJRjlsY25KdmNpQTlJR1oxYm1OMGFXOXVLRzF6Wnl3Z1pYSnliM0lwSUh0Y2JpQWdjbVYwZFhKdUlIdHRjMmM2SUcxelp5d2daWEp5YjNJNklHVnljbTl5ZlR0Y2JuMDdYRzRnSUZ4dWRtRnlJRjl5WlhGMVpYTjBJRDBnWm5WdVkzUnBiMjRvYldWMGFHOWtMQ0J3WVhSb0xDQmtZWFJoTENCallXeHNZbUZqYXlrZ2UxeHVJQ0IyWVhJZ1JFVkdRVlZNVkY5VlVrd2dQU0FuYUhSMGNITTZMeTl3YjNCcGJIa3VZMjl0Snp0Y2JpQWdkbUZ5SUVSRlJrRlZURlJmUWtGVFJWOVFRVlJJSUQwZ0p5OWhjR2tuTzF4dVhHNGdJSFpoY2lCaGNHbFZjbXdnUFNCd2IzQnBiSGt1WVhCcExtRndhVlZ5YkR0Y2JpQWdhV1lvSVhCdmNHbHNlUzVoY0drdVlYQnBWWEpzS1NCN1hHNGdJQ0FnWVhCcFZYSnNJRDBnUkVWR1FWVk1WRjlWVWt3N1hHNGdJSDBnWEc0Z0lHRndhVlZ5YkNBOUlHRndhVlZ5YkNBcklFUkZSa0ZWVEZSZlFrRlRSVjlRUVZSSU8xeHVYRzRnSUhaaGNpQndZWEpoYlhNZ1BTQjdYRzRnSUNBZ2JXVjBhRzlrT2lCdFpYUm9iMlFzWEc0Z0lDQWdhR1ZoWkdWeWN6b2dleUJjYmlBZ0lDQWdJQ2RCZFhSb2IzSnBlbUYwYVc5dUp6b2dKMVJ2YTJWdUlDY2dLeUJ3YjNCcGJIa3VZWEJwTG5SdmEyVnVMRnh1SUNBZ0lDQWdKMEZqWTJWd2RDYzZJQ2RoY0hCc2FXTmhkR2x2Ymk5cWMyOXVKeXhjYmlBZ0lDQjlMRnh1SUNBZ0lIVnliRG9nWVhCcFZYSnNJQ3NnY0dGMGFDOHZJQ3NnSno5bWIzSnRZWFE5WVhCcEoxeHVJQ0I5TzF4dUlDQWdJQ0FnWEc0Z0lHbG1LQ2R4Y3ljZ2FXNGdaR0YwWVNrZ2UxeHVJQ0FnSUhCaGNtRnRjMXNuY1hNblhTQTlJR1JoZEdGYkozRnpKMTA3WEc0Z0lDQWdjR0Z5WVcxeld5ZHFjMjl1SjEwZ1BTQjBjblZsTzF4dUlDQjlYRzRnSUdsbUtDZHFjMjl1SnlCcGJpQmtZWFJoS1NCN1hHNGdJQ0FnY0dGeVlXMXpXeWRpYjJSNUoxMGdQU0JrWVhSaFd5ZHFjMjl1SjEwN1hHNGdJQ0FnY0dGeVlXMXpXeWRxYzI5dUoxMGdQU0IwY25WbE8xeHVJQ0I5WEc0Z0lHbG1LQ2RtYjNKdEp5QnBiaUJrWVhSaEtTQjdYRzRnSUNBZ2NHRnlZVzF6V3lkbWIzSnRSR0YwWVNkZElEMGdaR0YwWVZzblptOXliU2RkTzF4dUlDQjlYRzRnSUZ4dUlDQnlaWEYxWlhOMEtIQmhjbUZ0Y3l3Z1puVnVZM1JwYjI0b1pYSnlMQ0JvZEhSd1VtVnpjRzl1YzJVc0lHSnZaSGtwSUh0Y2JpQWdJQ0JwWmlobGNuSXBYRzRnSUNBZ0lDQnlaWFIxY200Z1kyRnNiR0poWTJzb1gyVnljbTl5S0NkU1pYRjFaWE4wSUdWeWNtOXlKeXdnWlhKeUtTazdYRzRnSUNBZ0lDQmNiaUFnSUNCcFppaG9kSFJ3VW1WemNHOXVjMlV1YzNSaGRIVnpRMjlrWlNBOVBUMGdOREF4S1Z4dUlDQWdJQ0FnY21WMGRYSnVJR05oYkd4aVlXTnJLRjlsY25KdmNpZ25TVzUyWVd4cFpDQkJVRWtnZEc5clpXNG5LU2s3WEc1Y2JpQWdJQ0JwWmlob2RIUndVbVZ6Y0c5dWMyVXVjM1JoZEhWelEyOWtaU0E5UFQwZ05EQXdLVnh1SUNBZ0lDQWdjbVYwZFhKdUlHTmhiR3hpWVdOcktGOWxjbkp2Y2lnblFtRmtJSEpsY1hWbGMzUW5MQ0JpYjJSNUtTazdYRzRnSUNBZ0lDQmNiaUFnSUNCMGNua2dlMXh1SUNBZ0lDQWdkbUZ5SUhKbGMzQnZibk5sSUQwZ1ltOWtlVHRjYmlBZ0lDQWdJR2xtS0hSNWNHVnZaaUJpYjJSNUlEMDlQU0FuYzNSeWFXNW5KeWxjYmlBZ0lDQWdJQ0FnY21WemNHOXVjMlVnUFNCS1UwOU9MbkJoY25ObEtHSnZaSGtwTzF4dUlDQWdJSDBnWTJGMFkyZ29aU2tnZTF4dUlDQWdJQ0FnY21WMGRYSnVJR05oYkd4aVlXTnJLRjlsY25KdmNpZ25SWEp5YjNJNklDY3JaU3dnWlNrZ0tWeHVJQ0FnSUgxY2JseHVJQ0FnSUdOaGJHeGlZV05yS0c1MWJHd3NJSEpsYzNCdmJuTmxLVHRjYmx4dUlDQjlLVHRjYm4wN1hHNWNiblpoY2lCd1lXTnJSbWxzZEdWeWN5QTlJR1oxYm1OMGFXOXVLR1pwYkhSbGNuTXBJSHRjYmlBZ2RtRnlJSEJoWTJ0bFpGTjBjaUE5SUNjbk8xeHVJQ0JtYVd4MFpYSnpMbVp2Y2tWaFkyZ29ablZ1WTNScGIyNG9aaXdnYVNrZ2UxeHVJQ0FnSUhaaGNpQnZjQ0E5SUNkbGNTZGNiaUFnSUNCcFppZ25iM0FuSUdsdUlHWXBYRzRnSUNBZ0lDQnZjQ0E5SUdaYkoyOXdKMTFjYmlBZ0lDQmNiaUFnSUNCMllYSWdabWxzZEdWeVUzUnlJRDBnSnljN1hHNGdJQ0FnYVdZb2FTQStJREFwWEc0Z0lDQWdJQ0JtYVd4MFpYSlRkSElnS3owZ0oxOWZKenRjYmx4dUlDQWdJSFpoY2lCMllXeFRkSElnUFNBbkp6dGNiaUFnSUNCcFppaG1MbWhoYzA5M2JsQnliM0JsY25SNUtDZDJZV3gxWlhNbktTa2dlMXh1SUNBZ0lDQWdkbUZzVTNSeUlEMGdabHNuZG1Gc2RXVnpKMTB1YW05cGJpZ25MQ2NwTzF4dUlDQWdJSDFjYmlBZ0lDQm1hV3gwWlhKVGRISWdLejBnWmxzblkyOXNkVzF1SjEwZ0t5QW5JU2NnS3lCdmNDQXJJQ2NoSnlBcklDZ2dkbUZzVTNSeUlDazdYRzRnSUNBZ2NHRmphMlZrVTNSeUlDczlJR1pwYkhSbGNsTjBjbHh1SUNCOUtUdGNiaUFnY21WMGRYSnVJSEJoWTJ0bFpGTjBjanRjYm4xY2JseHVkbUZ5SUdGemMybG5ia04xYzNSdmJXbDZZWFJwYjI1eklEMGdablZ1WTNScGIyNG9aR0YwWVVScFkzUXNJR2x1YzJsbmFIUkVZWFJoS1NCN1hHNGdJRnRjYmlBZ0lDQW5kR2wwYkdVbkxGeHVJQ0FnSUNkNFgyeGhZbVZzSnl4Y2JpQWdJQ0FuZVY5c1lXSmxiQ2NzWEc0Z0lDQWdKM3BmYkdGaVpXd25MRnh1SUNBZ0lDZGpZWFJsWjI5eWVWOXZjbVJsY2ljc1hHNGdJQ0FnSjNScGJXVmZhVzUwWlhKMllXd25MRnh1SUNBZ0lDZHlaV1p5WlhOb1gzSmhkR1VuTEZ4dUlDQWdJQ2R6ZDJGd0oxeHVJQ0JkTG1admNrVmhZMmdvWm5WdVkzUnBiMjRvYTJWNUtTQjdYRzRnSUNBZ2FXWW9hMlY1SUdsdUlHbHVjMmxuYUhSRVlYUmhLVnh1SUNBZ0lDQWdaR0YwWVVScFkzUmJhMlY1WFNBOUlHbHVjMmxuYUhSRVlYUmhXMnRsZVYwN1hHNGdJSDBwTzF4dVhHNGdJSEpsZEhWeWJpQmtZWFJoUkdsamREdGNibjA3SUNBZ0lDQWdJQ0JjYmlBZ0lDQWdJQ0FnWEc1d2IzQnBiSGt1WVhCcElEMGdlMXh1SUNCaFpHUlRiM1Z5WTJVNklHWjFibU4wYVc5dUtITnZkWEpqWlVSaGRHRXNJR05pS1NCN1hHNGdJQ0FnWEc0Z0lDQWdkbUZ5SUdSaGRHRWdQU0I3ZlR0Y2JpQWdJQ0JiSjJOdmJIVnRibk1uTENBbmRHbDBiR1VuTENBblpHVnpZM0pwY0hScGIyNG5YUzVtYjNKRllXTm9LR1oxYm1OMGFXOXVLR3RsZVNrZ2UxeHVJQ0FnSUNBZ2FXWW9hMlY1SUdsdUlITnZkWEpqWlVSaGRHRXBYRzRnSUNBZ0lDQWdJR1JoZEdGYmEyVjVYU0E5SUhOdmRYSmpaVVJoZEdGYmEyVjVYVHRjYmlBZ0lDQjlLVnh1WEc0Z0lDQWdhV1lvSjNWeWJDY2dhVzRnYzI5MWNtTmxSR0YwWVNrZ2UxeHVJQ0FnSUNBZ1pHRjBZVnNuZFhKc0oxMGdQU0J6YjNWeVkyVkVZWFJoV3lkMWNtd25YVnh1SUNBZ0lDQWdYM0psY1hWbGMzUW9KMUJQVTFRbkxDQW5MM052ZFhKalpYTXZKeXdnZTJwemIyNDZJR1JoZEdGOUxDQmpZaWs3WEc0Z0lDQWdmVnh1WEc0Z0lDQWdaV3h6WlNCcFppZ25ZMjl1Ym1WamRHbHZibDl6ZEhKcGJtY25JR2x1SUhOdmRYSmpaVVJoZEdFZ0tTQjdYRzRnSUNBZ0lDQmtZWFJoV3lkamIyNXVaV04wYVc5dVgzTjBjbWx1WnlkZElEMGdjMjkxY21ObFJHRjBZVnNuWTI5dWJtVmpkR2x2Ymw5emRISnBibWNuWFZ4dUlDQWdJQ0FnWkdGMFlWc25jWFZsY25rblhTQTlJSE52ZFhKalpVUmhkR0ZiSjNGMVpYSjVKMTFjYmlBZ0lDQWdJRjl5WlhGMVpYTjBLQ2RRVDFOVUp5d2dKeTl6YjNWeVkyVnpMeWNzSUh0cWMyOXVPaUJrWVhSaGZTd2dZMklwTzF4dUlDQWdJSDFjYmlBZ0lDQmNiaUFnSUNCbGJITmxYRzRnSUNBZ0lDQmpZaWduZFhKc0lHOXlJR052Ym01bFkzUnBiMjVmYzNSeWFXNW5JR2x6SUhKbGNYVnBjbVZrSnlrN1hHNGdJSDBzWEc1Y2JseHVJQ0JuWlhSVGIzVnlZMlZ6T2lCbWRXNWpkR2x2Ymloallpa2dlMXh1SUNBZ0lGOXlaWEYxWlhOMEtDZEhSVlFuTENBbkwzTnZkWEpqWlhNdkp5d2dlMzBzSUdOaUtUdGNiaUFnZlN4Y2JseHVYRzRnSUdkbGRGTnZkWEpqWlRvZ1puVnVZM1JwYjI0b2MyOTFjbU5sU1dRc0lHTmlLU0I3WEc0Z0lDQWdYM0psY1hWbGMzUW9KMGRGVkNjc0lDY3ZjMjkxY21ObGN5OG5LM052ZFhKalpVbGtLeWN2Snl3Z2UzMHNJR05pS1R0Y2JpQWdmU3hjYmx4dVhHNGdJR2RsZEVsdWMybG5hSFJ6T2lCbWRXNWpkR2x2YmloemIzVnlZMlZKWkN3Z2NHRnlZVzF6TENCallpa2dlMXh1SUNBZ0lIQmhjbUZ0Y3lBOUlIQmhjbUZ0Y3lCOGZDQjdmVHRjYmlBZ0lDQjJZWElnY0dGNWJHOWhaQ0E5SUhzbmMyOTFjbU5sSnpvZ2MyOTFjbU5sU1dSOU8xeHVYRzRnSUNBZ1d5ZGpiMngxYlc1ekp5d2dKMmx1YzJsbmFIUmZkSGx3WlhNbkxDQW5hVzV6YVdkb2RGOWhZM1JwYjI1ekoxMHVabTl5UldGamFDaG1kVzVqZEdsdmJpaHJaWGtwSUh0Y2JpQWdJQ0FnSUdsbUtHdGxlU0JwYmlCd1lYSmhiWE1wWEc0Z0lDQWdJQ0FnSUhCaGVXeHZZV1JiYTJWNVhTQTlJSEJoY21GdGMxdHJaWGxkTG1wdmFXNG9KeXduS1Z4dUlDQWdJSDBwTzF4dVhHNGdJQ0FnYVdZb0oyWnBiSFJsY25NbklHbHVJSEJoY21GdGN5bGNiaUFnSUNBZ0lIQmhlV3h2WVdSYkoyWnBiSFJsY25NblhTQTlJSEJoWTJ0R2FXeDBaWEp6S0hCaGNtRnRjMXNuWm1sc2RHVnljeWRkS1Z4dVhHNGdJQ0FnYVdZb0oyWjFiR3duSUdsdUlIQmhjbUZ0Y3lsY2JpQWdJQ0FnSUhCaGVXeHZZV1JiSjJaMWJHd25YU0E5SUhCaGNtRnRjMXNuWm5Wc2JDZGRYRzVjYmlBZ0lDQnBaaWduYzJsdVoyeGxKeUJwYmlCd1lYSmhiWE1wSUh0Y2JpQWdJQ0FnSUhCaGVXeHZZV1JiSjNOcGJtZHNaU2RkSUQwZ2NHRnlZVzF6V3lkemFXNW5iR1VuWFR0Y2JpQWdJQ0FnSUhCaGVXeHZZV1FnUFNCaGMzTnBaMjVEZFhOMGIyMXBlbUYwYVc5dWN5aHdZWGxzYjJGa0xDQndZWEpoYlhNcE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUY5eVpYRjFaWE4wS0NkSFJWUW5MQ0FuTDJsdWMybG5hSFJ6THljc0lIdHhjem9nY0dGNWJHOWhaSDBzSUdOaUtUdGNiaUFnZlN4Y2JseHVYRzRnSUdkbGRFbHVjMmxuYUhRNklHWjFibU4wYVc5dUtHbHVjMmxuYUhSSlpDd2djR0Z5WVcxekxDQmpZaWtnZTF4dUlDQWdJSFpoY2lCd1lYbHNiMkZrSUQwZ2UzMDdYRzRnSUNBZ2FXWW9KMlpwYkhSbGNuTW5JR2x1SUhCaGNtRnRjeWxjYmlBZ0lDQWdJSEJoZVd4dllXUmJKMlpwYkhSbGNuTW5YU0E5SUhCaFkydEdhV3gwWlhKektIQmhjbUZ0YzFzblptbHNkR1Z5Y3lkZEtUdGNibHh1SUNBZ0lGc25ablZzYkNjc0lDZG9aV2xuYUhRbkxDQW5kMmxrZEdnblhTNW1iM0pGWVdOb0tHWjFibU4wYVc5dUtHdGxlU2tnZTF4dUlDQWdJQ0FnYVdZb2EyVjVJR2x1SUhCaGNtRnRjeWxjYmlBZ0lDQWdJQ0FnY0dGNWJHOWhaRnRyWlhsZElEMGdjR0Z5WVcxelcydGxlVjA3WEc0Z0lDQWdmU2s3WEc1Y2JpQWdJQ0J3WVhsc2IyRmtJRDBnWVhOemFXZHVRM1Z6ZEc5dGFYcGhkR2x2Ym5Nb2NHRjViRzloWkN3Z2NHRnlZVzF6S1R0Y2JpQWdJQ0JjYmlBZ0lDQmZjbVZ4ZFdWemRDZ25SMFZVSnl3Z0p5OXBibk5wWjJoMGN5OG5JQ3NnYVc1emFXZG9kRWxrSUNzZ0p5OG5MQ0I3Y1hNNklIQmhlV3h2WVdSOUxDQmpZaWs3WEc0Z0lIMHNYRzVjYmx4dUlDQmpkWE4wYjIxcGVtVkpibk5wWjJoME9pQm1kVzVqZEdsdmJpaHBibk5wWjJoMFNXUXNJSEJoY21GdGN5d2dhVzV6YVdkb2RFUmhkR0VzSUdOaUtTQjdYRzRnSUNBZ2RtRnlJR1JoZEdFZ1BTQmhjM05wWjI1RGRYTjBiMjFwZW1GMGFXOXVjeWg3ZlN3Z2FXNXphV2RvZEVSaGRHRXBPMXh1SUNBZ0lHbG1LQ2RtYVd4MFpYSnpKeUJwYmlCd1lYSmhiWE1wWEc0Z0lDQWdJQ0JrWVhSaFd5ZG1hV3gwWlhKekoxMGdQU0J3WVdOclJtbHNkR1Z5Y3lod1lYSmhiWE5iSjJacGJIUmxjbk1uWFNsY2JseHVJQ0FnSUY5eVpYRjFaWE4wS0NkUVZWUW5MQ0FuTDJsdWMybG5hSFJ6THljZ0t5QnBibk5wWjJoMFNXUWdLeUFuTHljc0lIdHFjMjl1T2lCa1lYUmhmU3dnWTJJcE8xeHVJQ0I5TEZ4dVhHNGdJSE5sZEZSdmEyVnVPaUJtZFc1amRHbHZiaWgwYjJ0bGJpa2dlMXh1SUNBZ0lIUm9hWE11ZEc5clpXNGdQU0IwYjJ0bGJqdGNiaUFnZlN4Y2JseHVJQ0J6WlhSVlVrdzZJR1oxYm1OMGFXOXVLR0Z3YVZWeWJDa2dlMXh1SUNBZ0lIUm9hWE11WVhCcFZYSnNJRDBnWVhCcFZYSnNPMXh1SUNCOVhHNTlYRzVjYm5kcGJtUnZkeTV3YjNCcGJIa2dQU0J3YjNCcGJIazdYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJSEJ2Y0dsc2VUdGNiaUpkZlE9PVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBwb3BpbHkgPSB3aW5kb3cucG9waWx5IHx8IHt9O1xuICBwb3BpbHkuY2hhcnQgPSB7fTtcbiAgcG9waWx5LmNoYXJ0LmNoYXJ0VHlwZXMgPSB7fTtcbiAgcG9waWx5LmNoYXJ0LmJhc2VDaGFydCA9IHtcbiAgICBkZWZhdWx0czoge1xuICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgc3R5bGU6ICdkZXRhaWwnLFxuICAgICAgICAgIHJvdGF0ZWQ6IGZhbHNlLFxuICAgICAgICAgIHJlZHJhd09uUmVzaXplOiB0cnVlLFxuICAgICAgICAgIGNvbG9yczogW1xuICAgICAgICAgICAgJyM1NEM4OEEnLCAnI0JCRDQ0MicsICcjODVDNEVEJywgJyNGRkM1OUMnLCAnIzRGQjI3QScsICcjNzQxNjk5JywgJyNGRjczNjQnLFxuICAgICAgICAgICAgJyNGMUM0MEYnLCAnI0RDODM0NScsICcjRTc0QzNDJywgJyMwOTZDMzQnLCAnIzREMTU2NycsICcjOTg0NjBDJywgJyNEQUYxNkInLFxuICAgICAgICAgICAgJyNGOUQ1NDMnLCAnIzk0NzcwMCcsICcjMTg4ODQ5JywgJyNDQzNBN0YnLCAnI0EwMTUwNycsICcjRjlENTQzJywgJyNEQjVDOTgnLFxuICAgICAgICAgICAgJyMzNDk5REInLCAnI0ZGOTg4RScsICcjMzE5RDYwJywgJyNCQzk4MDUnLCAnI0U5Rjk5OCcsICcjNjI4RTBCJywgJyMxRTRDN0MnLFxuICAgICAgICAgICAgJyM3RUNFQTEnLCAnIzRGNzhBMycsICcjQzAxNDY1JywgJyNGMUM0MEYnLCAnIzBGODVEMScsICcjOUE1MUI3JywgJyM3REEwQzQnLFxuICAgICAgICAgICAgJyNCQjdGRDInLCAnIzM0NjE4RicsICcjOTQ3NzAwJywgJyNGRkUyNkMnLCAnIzkyMDk0QScsICcjQkY2MzIyJywgJyM1OEFERTMnLFxuICAgICAgICAgICAgJyM5RkI5MjEnLCAnIzA2NjVBMicsICcjODMzM0EyJywgJyMwRjM4NjMnLCAnI0JDOTgwNScsICcjRkZFMjZDJywgJyNFOTg5QjYnLFxuICAgICAgICAgICAgJyNDOTI5MTgnLCAnI0ZBQTk2RidcbiAgICAgICAgICBdXG4gICAgICB9LFxuICAgICAgYmFyQnViYmxlQ3V0b2ZmOiAzMCxcbiAgICAgIGNoYXJ0UGFkZGluZzoge3JpZ2h0OiA1MCwgdG9wOiAxMH1cbiAgICB9LFxuICAgIHJlc2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jaGFydC5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfSxcbiAgICBjbGVhbkRhdGE6IGZ1bmN0aW9uKHJhd0RhdGEpIHtcbiAgICAgIHZhciB4VmFsdWVzID0gcmF3RGF0YS5jaGFydERhdGEueC52YWx1ZXM7XG4gICAgICB2YXIgeVZhbHVlcyA9IHJhd0RhdGEuY2hhcnREYXRhLnkudmFsdWVzO1xuICAgICAgdmFyIHpWYWx1ZXMgPSBbXTtcbiAgICAgIHZhciB6MlZhbHVlcyA9IFtdO1xuXG4gICAgICBpZihyYXdEYXRhLmNoYXJ0RGF0YS56KSB7XG4gICAgICAgIHZhciB6VmFsdWVzID0gcmF3RGF0YS5jaGFydERhdGEuei52YWx1ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmKHJhd0RhdGEuY2hhcnREYXRhLnoyKSB7XG4gICAgICAgIHZhciB6MlZhbHVlcyA9IHJhd0RhdGEuY2hhcnREYXRhLnoyLnZhbHVlcztcbiAgICAgIH1cblxuICAgICAgdmFyIGNsZWFuVmFsdWVzID0gcG9waWx5LmNoYXJ0LmNoYXJ0RGF0YS5jbGVhbkRhdGEoeFZhbHVlcyx5VmFsdWVzLHpWYWx1ZXMsejJWYWx1ZXMpO1xuXG4gICAgICByZXR1cm4gY2xlYW5WYWx1ZXM7XG4gICAgfVxuICB9O1xuXG4gIHBvcGlseS5jaGFydC5nZXRDaGFydEZvclR5cGUgPSBmdW5jdGlvbihhbmFseXNpc1R5cGUsIGNoYXJ0VHlwZSkge1xuICAgIGlmKF8uaXNVbmRlZmluZWQocG9waWx5LmNoYXJ0LmNoYXJ0TWFwKSkge1xuICAgICAgX2J1aWxkQ2hhcnRNYXAoKTtcbiAgICB9XG5cbiAgICB2YXIgdG9Db21wbGV4ID0ge1xuICAgICAgJ2Jhcic6IFsnYmFyU3RhY2tlZCcsICdiYXJHcm91cGVkJ10sXG4gICAgICAnc2NhdHRlcnBsb3QnOiBbJ3NjYXR0ZXJwbG90Q2F0ZWdvcnknXSxcbiAgICAgICdsaW5lJzogWydtdWx0aUxpbmUnXVxuICAgIH1cblxuICAgIGlmKGFuYWx5c2lzVHlwZSBpbiBwb3BpbHkuY2hhcnQuY2hhcnRNYXApIHtcbiAgICAgICAgaWYoIV8uaXNVbmRlZmluZWQoY2hhcnRUeXBlKSkge1xuICAgICAgICAgICAgaWYoXyhwb3BpbHkuY2hhcnQuY2hhcnRNYXBbYW5hbHlzaXNUeXBlXS5hbGxvd2VkKS5jb250YWlucyhjaGFydFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0VHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYocG9waWx5LmNoYXJ0LmNoYXJ0TWFwW2FuYWx5c2lzVHlwZV0uZGVmYXVsdENoYXJ0ID09PSBjaGFydFR5cGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0VHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYodG9Db21wbGV4Lmhhc093blByb3BlcnR5KGNoYXJ0VHlwZSkpIHtcbiAgICAgICAgICAgICAgdmFyIHRvUmV0dXJuO1xuICAgICAgICAgICAgICBfLmVhY2godG9Db21wbGV4W2NoYXJ0VHlwZV0sIGZ1bmN0aW9uKGNvbXBsZXhDaGFydFR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZihfKHBvcGlseS5jaGFydC5jaGFydE1hcFthbmFseXNpc1R5cGVdLmFsbG93ZWQpLmNvbnRhaW5zKGNvbXBsZXhDaGFydFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICB0b1JldHVybiA9IGNvbXBsZXhDaGFydFR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYocG9waWx5LmNoYXJ0LmNoYXJ0TWFwW2FuYWx5c2lzVHlwZV0uZGVmYXVsdENoYXJ0ID09PSBjb21wbGV4Q2hhcnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICB0b1JldHVybiA9IGNvbXBsZXhDaGFydFR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmKCFfLmlzVW5kZWZpbmVkKHRvUmV0dXJuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b1JldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoY2hhcnRUeXBlICsgJyBub3QgcG9zc2libGUgZm9yICcgKyBhbmFseXNpc1R5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihjaGFydFR5cGUgKyAnIG5vdCBwb3NzaWJsZSBmb3IgJyArIGFuYWx5c2lzVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvcGlseS5jaGFydC5jaGFydE1hcFthbmFseXNpc1R5cGVdLmRlZmF1bHRDaGFydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGNoYXJ0IGZvciAnICsgYW5hbHlzaXNUeXBlKTtcbiAgICB9XG4gIH07XG5cbiAgcG9waWx5LmNoYXJ0LmNyZWF0ZSA9IGZ1bmN0aW9uKGFwaVJlc3BvbnNlKSB7XG4gIFxuICAgIHZhciBkcyA9IHBvcGlseS5kYXRhc2V0KGFwaVJlc3BvbnNlLmNvbHVtbnMpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBkYXRhc2V0IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkcztcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIGRyYXc6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB2YXIgY2FsY3VsYXRpb24gPSBhcGlSZXNwb25zZS5jYWxjdWxhdGlvbjtcbiAgICAgICAgdmFyIGF4aXNBc3NpZ25tZW50cyA9IHBvcGlseS5jaGFydC5hbmFseXplLmFzc2lnblRvQXhpcyhkcy5nZXRDb2x1bW5zKCksIG9wdGlvbnMpO1xuICAgICAgICB2YXIgYW5hbHlzaXNUeXBlID0gcG9waWx5LmNoYXJ0LmFuYWx5emUuZGV0ZXJtaW5lVHlwZShkcy5nZXRDb2x1bW5zKCksIGF4aXNBc3NpZ25tZW50cywgY2FsY3VsYXRpb24pO1xuICAgICAgICB2YXIgZm9ybWF0dGVkRGF0YSA9IHBvcGlseS5jaGFydC51dGlscy5mb3JtYXREYXRhc2V0KGFwaVJlc3BvbnNlLCBheGlzQXNzaWdubWVudHMsIGFuYWx5c2lzVHlwZSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgbGFiZWxzID0gcG9waWx5LmNoYXJ0LmdlbmVyYXRlTGFiZWxzKGNhbGN1bGF0aW9uLCBheGlzQXNzaWdubWVudHMpO1xuXG4gICAgICAgIHZhciBjaGFydFR5cGUgPSBwb3BpbHkuY2hhcnQuZ2V0Q2hhcnRGb3JUeXBlKGFuYWx5c2lzVHlwZSwgb3B0aW9ucy5jaGFydFR5cGUpO1xuICAgICAgICB2YXIgY2hhcnRDbGFzcyA9IHBvcGlseS5jaGFydC5jaGFydFR5cGVzW2NoYXJ0VHlwZV07XG4gICAgICAgIHZhciBleHRyYUNzcyA9ICcnO1xuICAgICAgICBcbiAgICAgICAgLy9vcHRpb25zID0gXy5leHRlbmQoY2hhcnRDbGFzcy5kZWZhdWx0cy5vcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBfLmVhY2goXy5rZXlzKHBvcGlseS5jaGFydC5iYXNlQ2hhcnQuZGVmYXVsdHMub3B0aW9ucyksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIGlmKCFvcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHBvcGlseS5jaGFydC5iYXNlQ2hhcnQuZGVmYXVsdHMub3B0aW9uc1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9wdGlvbnMudW5pcXVlQ2xhc3NOYW1lID0gXy51bmlxdWVJZCgncG9waWx5LWlkLScpO1xuXG4gICAgICAgIGlmKHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9waWx5LWJveCcpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQob3B0aW9ucy51bmlxdWVDbGFzc05hbWUpO1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBpZihvcHRpb25zLnRpdGxlKSB7XG4gICAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgdGl0bGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcGlseS10aXRsZScpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5pbm5lckhUTUwgPSBsYWJlbHMudGl0bGU7XG4gICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aXRsZUVsZW1lbnQpO1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciB0aXRsZUNzcyA9ICcnO1xuICAgICAgICAgIGlmKG9wdGlvbnMudGl0bGVGb250U2l6ZSlcbiAgICAgICAgICAgIHRpdGxlQ3NzICs9ICdmb250LXNpemU6ICcrb3B0aW9ucy50aXRsZUZvbnRTaXplKyc7JztcbiAgICAgICAgICBpZihvcHRpb25zLnRpdGxlRm9udEZhbWlseSlcbiAgICAgICAgICAgIHRpdGxlQ3NzICs9ICdmb250LWZhbWlseTogJytvcHRpb25zLnRpdGxlRm9udEZhbWlseSsnOyc7XG4gICAgICAgICAgaWYob3B0aW9ucy50aXRsZUZvbnRDb2xvcilcbiAgICAgICAgICAgIHRpdGxlQ3NzICs9ICdjb2xvcjogJytvcHRpb25zLnRpdGxlRm9udENvbG9yKyc7JztcbiAgICAgICAgICBpZih0aXRsZUNzcylcbiAgICAgICAgICAgIGV4dHJhQ3NzID0gJy4nK29wdGlvbnMudW5pcXVlQ2xhc3NOYW1lKyAnIC5wb3BpbHktdGl0bGUgeycrdGl0bGVDc3MrJ30nO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZihleHRyYUNzcykge1xuICAgICAgICAgIHZhciBzdHlsZSA9IHBvcGlseS5jaGFydC51dGlscy5jcmVhdGVTdHlsZUVsZW1lbnQoZXh0cmFDc3MpO1xuICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICB9XG4gIFxuICAgICAgICB2YXIgY2hhcnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY2hhcnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcGlseS1jaGFydCcpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoYXJ0RWxlbWVudCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgY2hhcnQgPSBjaGFydENsYXNzLnJlbmRlcihjaGFydEVsZW1lbnQsIG9wdGlvbnMsIGZvcm1hdHRlZERhdGEpO1xuICAgICAgICByZXR1cm4gY2hhcnQ7XG4gICAgICB9LFxuICAgICAgXG4gICAgfVxuICBcbiAgfSBcblxuICBwb3BpbHkuY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgYXBpUmVzcG9uc2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgXG4gICAgdmFyIGNoYXJ0ID0gcG9waWx5LmNoYXJ0LmNyZWF0ZShhcGlSZXNwb25zZSk7XG4gICAgXG4gICAgaWYob3B0aW9ucy5maWx0ZXJzICYmICFvcHRpb25zLnRyYW5zZm9ybWF0aW9ucykge1xuICAgICAgY29uc29sZS5sb2coJ2ZpbHRlcnMgcHJvcHJ0dHkgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHJlbmFtZSBpdCB0byB0cmFuc2Zvcm1hdGlvbnMnKVxuICAgICAgb3B0aW9ucy50cmFuc2Zvcm1hdGlvbnMgPSBvcHRpb25zLmZpbHRlcnM7XG4gICAgfSAgICAgIFxuICAgIHZhciBjaGFydCA9IHBvcGlseS5jaGFydC5jcmVhdGUoYXBpUmVzcG9uc2UpO1xuICAgIFxuICAgIGlmKG9wdGlvbnMudHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICB2YXIgZHMgPSBjaGFydC5kYXRhc2V0KCk7XG4gICAgICBwb3BpbHkuY2hhcnQuYXBwbHlUcmFuc2Zvcm1hdGlvbnMoZHMsIG9wdGlvbnMudHJhbnNmb3JtYXRpb25zKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNoYXJ0LmRyYXcoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgXG4gIH07XG5cbiAgcG9waWx5LmNoYXJ0LmdldEFuZFJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY2hhcnRPcHRpb25zID0ge307XG4gICAgdmFyIHNlcnZlck9wdGlvbnMgPSB7fTtcblxuICAgIHZhciBhdmFpbGFibGVDaGFydE9wdGlvbnMgPSB7XG4gICAgICAnY2hhcnRUeXBlJzogJ2NoYXJ0VHlwZScsXG4gICAgICAnY29sb3JzJzogJ2NvbG9ycycsXG4gICAgICAndHJhbnNmb3JtYXRpb25zJzogJ3RyYW5zZm9ybWF0aW9ucycsXG4gICAgICAnZmlsdGVycyc6ICd0cmFuc2Zvcm1hdGlvbnMnLFxuICAgICAgJ3hMYWJlbCc6ICd4TGFiZWwnLFxuICAgICAgJ3lMYWJlbCc6ICd5TGFiZWwnLFxuICAgICAgJ3hDb2x1bW4nOiAneENvbHVtbicsXG4gICAgICAnZ3JvdXBCeUNvbHVtbic6ICdncm91cEJ5Q29sdW1uJyxcbiAgICAgICdoZWlnaHQnOiAnaGVpZ2h0JyxcbiAgICAgICd3aWR0aCc6ICd3aWR0aCcsXG4gICAgICAncm90YXRlZCc6ICdyb3RhdGVkJyxcbiAgICAgICd0aXRsZSc6ICd0aXRsZScsXG4gICAgICAneE9yZGVyJzogJ29yZGVyJyxcbiAgICAgICd0aW1lSW50ZXJ2YWwnOiAnaW50ZXJ2YWwnLFxuICAgICAgJ3RpbWVfaW50ZXJ2YWwnOiAnaW50ZXJ2YWwnLFxuICAgICAgJ2JhclNpemUnOiAnYmFyU2l6ZScsXG4gICAgICAnbGluZVNpemUnOiAnbGluZVNpemUnLFxuICAgICAgJ3BvaW50U2l6ZSc6ICdwb2ludFNpemUnLFxuICAgICAgJ3RpdGxlRm9udEZhbWlseSc6ICd0aXRsZUZvbnRGYW1pbHknLFxuICAgICAgJ3RpdGxlRm9udFNpemUnOiAndGl0bGVGb250U2l6ZScsXG4gICAgICAndGl0bGVGb250Q29sb3InOiAndGl0bGVGb250Q29sb3InXG4gICAgfTtcblxuICAgIHZhciBhdmFpbGFibGVTZXJ2ZXJPcHRpb25zID0ge1xuICAgICAgJ2NvbHVtbnMnOiAnY29sdW1ucycsXG4gICAgICAnY2FsY3VsYXRpb24nOiAnaW5zaWdodF9hY3Rpb25zJyxcbiAgICAgICd0aW1lSW50ZXJ2YWwnOiAndGltZV9pbnRlcnZhbCcsXG4gICAgICAndGltZV9pbnRlcnZhbCc6ICd0aW1lX2ludGVydmFsJyxcbiAgICAgICdpbnNpZ2h0X2FjdGlvbic6ICdpbnNpZ2h0X2FjdGlvbnMnLFxuICAgICAgJ2FuYWx5c2lzVHlwZSc6ICdpbnNpZ2h0X3R5cGVzJ1xuICAgIH07XG5cbiAgICBfLmVhY2goXy5rZXlzKGF2YWlsYWJsZUNoYXJ0T3B0aW9ucyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgaWYob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIGNoYXJ0T3B0aW9uc1thdmFpbGFibGVDaGFydE9wdGlvbnNbb3B0aW9uXV0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfLmVhY2goXy5rZXlzKGF2YWlsYWJsZVNlcnZlck9wdGlvbnMpLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgIGlmKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICBpZihbJ2NhbGN1bGF0aW9uJywgJ2luc2lnaHRfYWN0aW9uJywgJ2FuYWx5c2lzVHlwZSddLmluZGV4T2Yob3B0aW9uKSE9PS0xKVxuICAgICAgICAgIHNlcnZlck9wdGlvbnNbYXZhaWxhYmxlU2VydmVyT3B0aW9uc1tvcHRpb25dXSA9IFtvcHRpb25zW29wdGlvbl1dO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgc2VydmVyT3B0aW9uc1thdmFpbGFibGVTZXJ2ZXJPcHRpb25zW29wdGlvbl1dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2VydmVyT3B0aW9ucy5mdWxsID0gdHJ1ZTtcbiAgICBpZihvcHRpb25zLmhhc093blByb3BlcnR5KCdpbnNpZ2h0JykpIHtcbiAgICAgIHBvcGlseS5hcGkuZ2V0SW5zaWdodChvcHRpb25zLmluc2lnaHQsIHNlcnZlck9wdGlvbnMsIGZ1bmN0aW9uKGVyciwgYXBpUmVzcG9uc2UpIHtcbiAgICAgICAgcG9waWx5LmNoYXJ0LnJlbmRlcihlbGVtZW50LCBhcGlSZXNwb25zZSwgY2hhcnRPcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmKCFvcHRpb25zLmhhc093blByb3BlcnR5KCdzb3VyY2UnKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0VpdGhlciB0aGUgaW5zaWdodCBvciBzb3VyY2UgcHJvcGVydHkgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc2VydmVyT3B0aW9ucy5zaW5nbGUgPSB0cnVlO1xuICAgICAgXG4gICAgICBwb3BpbHkuYXBpLmdldEluc2lnaHRzKG9wdGlvbnMuc291cmNlLCBzZXJ2ZXJPcHRpb25zLCBmdW5jdGlvbihlcnIsIGFwaVJlc3BvbnNlKSB7XG4gICAgICAgIHBvcGlseS5jaGFydC5yZW5kZXIoZWxlbWVudCwgYXBpUmVzcG9uc2UsIGNoYXJ0T3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcG9waWx5LmNoYXJ0LmFwcGx5VHJhbnNmb3JtYXRpb25zID0gZnVuY3Rpb24oZHMsIHRyYW5zZm9ybWF0aW9ucykge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICBpZihbJ2NvdW50JywgJ2NvdW50VW5pcXVlJ10uaW5kZXhPZih0cmFuc2Zvcm1hdGlvbi5vcCkgIT09IC0xKSB7XG4gICAgICAgIHBvcGlseS5jaGFydC5hcHBseUdyb3VwRGF0YShkcywgdHJhbnNmb3JtYXRpb24pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZigncmVwbGFjZScgPT0gdHJhbnNmb3JtYXRpb24ub3ApIHtcbiAgICAgICAgZHMucmVwbGFjZVZhbHVlcyh0cmFuc2Zvcm1hdGlvbi5jb2x1bW4sIHRyYW5zZm9ybWF0aW9uLnJlcGxhY2VtZW50cyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcG9waWx5LmNoYXJ0LmFwcGx5RmlsdGVyKGRzLCB0cmFuc2Zvcm1hdGlvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLypcbiAgICBmaWx0ZXIgPSBbe1xuICAgICAgY29sdW1uOiA8Y29sdW1uLW5hbWU+LFxuICAgICAgb3A6IG5vbmV8ZXF8bm90ZXEsXG4gICAgICB2YWx1ZXM6IFs8YXJyYXktb2YtdmFsdWVzXT5cbiAgICB9LCAuLiBdXG4gICovXG4gIHBvcGlseS5jaGFydC5hcHBseUZpbHRlciA9IGZ1bmN0aW9uKGRzLCBmaWx0ZXJzKSB7XG4gICAgXG4gICAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikge1xuICAgICAgLy8gSSB0aGluayB0aGlzIGNvdW50VW5pcXVlIHNob3VsZCBub3QgYmUgaGVyZSFcbiAgICAgIGlmKGZpbHRlci5vcCA9PSAnZGlzdGluY3QnIHx8IGZpbHRlci5vcCA9PSAnY291bnRVbmlxdWUnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmaWx0ZXIgY291bnRVbmlxdWUgaXMgZGVwcmVjYXRlZCBwbGVhc2UgZG9udCB1c2UgaXQsIHVzZSBcImdyb3VwRGF0YVwiIGluc3RlYWQhJyk7XG4gICAgICAgIGRzLmNvdW50VW5pcXVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcy5maWx0ZXIoZmlsdGVyLmNvbHVtbiwgZmlsdGVyLm9wIHx8ICdlcScsIGZpbHRlci52YWx1ZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBkcztcbiAgfTtcbiAgXG4gIC8qXG4gICAgZ3JvdXBEYXRhID0ge1xuICAgICAgY29sdW1uOiA8Y29sdW1uLW5hbWUtdG8tZ3JvdXAtYnk+LFxuICAgICAgYWdncmVnYXRpb246IGNvdW50fGNvdW50VW5pcXVlLFxuICAgICAgZ3JvdXBJbnRvOiA8bmV3LWNvbHVtbi13aXRoLWFnZ3JlZ2F0ZWQtdmFsdWVzPixcbiAgICAgIGN1c3RvbUZ1bmN0aW9uOiA8b3B0aW9uYWwtY3VzdG9tLWFnZ3JlZ2F0aW9uLWZ1bmN0aW9uPlxuICAgICAgY3VzdG9tRGF0YVR5cGU6IDxvcHRpb25hbC1jdXN0b20tdHlwZS1vZmFnZ3JlZ2F0aW9ucz5cbiAgICB9XG4gICovXG4gIHBvcGlseS5jaGFydC5hcHBseUdyb3VwRGF0YSA9IGZ1bmN0aW9uKGRzLCBncm91cERhdGEpIHtcbiAgICBcbiAgICBpZihncm91cERhdGEuY3VzdG9tRnVuY3Rpb24pIHtcbiAgICAgIHZhciBncm91cEZ1bmMgPSBjdXN0b21GdW5jdGlvbjtcbiAgICB9XG4gICAgZWxzZSBpZihbJ2NvdW50JywgJ2NvdW50VW5pcXVlJ10uaW5kZXhPZihncm91cERhdGEub3ApICE9PSAtMSkge1xuICAgICAgdmFyIGdyb3VwRnVuYyA9IHBvcGlseS5kYXRhc2V0W2dyb3VwRGF0YS5vcF1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVbnJlY29nbml6ZXIgZ3JvdXBpbmcgYWdyZWdhdGlvbiBmdW5jdGlvbicpO1xuICAgICAgcmV0dXJuIGRzO1xuICAgIH1cbiAgICBcbiAgICBkcy5ncm91cEJ5KGdyb3VwRGF0YS5jb2x1bW4sIGdyb3VwRnVuYywgZ3JvdXBEYXRhLmN1c3RvbURhdGFUeXBlIHx8IGdyb3VwRnVuYy5kYXRhVHlwZSwgZ3JvdXBEYXRhLmdyb3VwSW50byB8fCBncm91cEZ1bmMuY29sdW1uTGFiZWwpO1xuICAgIFxuICAgIHJldHVybiBkcztcbiAgfTtcbiAgXG4gIFxuICB2YXIgX2J1aWxkQ2hhcnRNYXAgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hhcnRNYXAgPSB7fTtcblxuICAgIGZvcih2YXIgY2hhcnRUeXBlIGluIHBvcGlseS5jaGFydC5jaGFydFR5cGVzKSB7XG4gICAgICB2YXIgY2hhcnRPYmogPSBwb3BpbHkuY2hhcnQuY2hhcnRUeXBlc1tjaGFydFR5cGVdO1xuICAgICAgXy5lYWNoKGNoYXJ0T2JqLmRlZmF1bHRGb3IsIGZ1bmN0aW9uKGFuYWx5c2lzVHlwZSkge1xuICAgICAgICBjaGFydE1hcFthbmFseXNpc1R5cGVdID0gY2hhcnRNYXBbYW5hbHlzaXNUeXBlXSB8fCB7fTtcbiAgICAgICAgY2hhcnRNYXBbYW5hbHlzaXNUeXBlXS5hbGxvd2VkID0gY2hhcnRNYXBbYW5hbHlzaXNUeXBlXS5hbGxvd2VkIHx8IFtdO1xuICAgICAgICBjaGFydE1hcFthbmFseXNpc1R5cGVdLmRlZmF1bHRDaGFydCA9IGNoYXJ0VHlwZTtcbiAgICAgICAgY2hhcnRNYXBbYW5hbHlzaXNUeXBlXS5hbGxvd2VkLnB1c2goY2hhcnRUeXBlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfLmVhY2goY2hhcnRPYmouYWNjZXB0cywgZnVuY3Rpb24oYW5hbHlzaXNUeXBlKSB7XG4gICAgICAgIGNoYXJ0TWFwW2FuYWx5c2lzVHlwZV0gPSBjaGFydE1hcFthbmFseXNpc1R5cGVdIHx8IHt9O1xuICAgICAgICBjaGFydE1hcFthbmFseXNpc1R5cGVdLmFsbG93ZWQgPSBjaGFydE1hcFthbmFseXNpc1R5cGVdLmFsbG93ZWQgfHwgW107XG4gICAgICAgIGNoYXJ0TWFwW2FuYWx5c2lzVHlwZV0uYWxsb3dlZC5wdXNoKGNoYXJ0VHlwZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3BpbHkuY2hhcnQuY2hhcnRNYXAgPSBjaGFydE1hcDtcbiAgfTtcblxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICBkZWZpbmUoXCJwb3BpbHlcIiwgW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGMzOyB9KTtcbiAgfSBlbHNlIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGV4cG9ydHMgJiYgJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBtb2R1bGUpIHtcbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcG9waWx5O1xuICB9IGVsc2Uge1xuICAgICAgd2luZG93LnBvcGlseSA9IHBvcGlseTtcbiAgfVxuICBcbn0pKHdpbmRvdyk7XG4iLCIvKipcbkFuYWx5emUgZGF0YSBmcm9tIHRoZSBQb3BpbHkgQVBJIGFuZCBwcmVwYXJlIGZvciByZW5kZXJpbmdcbiovXG5cbihmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgY2F0ZWdvcmljYWxzID0gW1xuICAgICAgICAnY2F0ZWdvcnknLFxuICAgICAgICAnc3RhdGUnLFxuICAgICAgICAnY291bnRyeScsXG4gICAgICAgICd6aXBjb2RlJyxcbiAgICAgICAgJ3Jvd2xhYmVsJ1xuICAgIF07XG5cbiAgICB2YXIgbnVtZXJhbHMgPSBbXG4gICAgICAgICdudW1lcmljJyxcbiAgICAgICAgJ2N1cnJlbmN5J1xuICAgIF07XG5cbiAgICB2YXIgaXNBID0gZnVuY3Rpb24oZGF0YVR5cGUsIGNvbHVtbikge1xuICAgICAgICBpZihfLmlzVW5kZWZpbmVkKGNvbHVtbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHlwZUxpc3QgPSBkYXRhVHlwZSA9PT0gJ251bWJlcicgPyBudW1lcmFscyA6IGNhdGVnb3JpY2FscztcbiAgICAgICAgcmV0dXJuIF8odHlwZUxpc3QpLmNvbnRhaW5zKGNvbHVtbi5kYXRhX3R5cGUpO1xuICAgIH07XG5cbiAgICB2YXIgaXNOdW1lcmljID0gZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBpc0EoJ251bWJlcicsIGNvbHVtbik7XG4gICAgfTtcblxuICAgIHZhciBpc0NhdGVnb3JpY2FsID0gZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBpc0EoJ2NhdGVnb3J5JywgY29sdW1uKTtcbiAgICB9O1xuXG4gICAgdmFyIGhhc1NpbmdsZUVxdWFsaXR5ID0gZnVuY3Rpb24oZmlsdGVycykge1xuICAgICAgICByZXR1cm4gXy5zb21lKGZpbHRlcnMsIGZ1bmN0aW9uKF9maWx0ZXIpIHtcbiAgICAgICAgICAgIHZhciBvcCA9IF9maWx0ZXIub3AgfHwgJ2VxJztcbiAgICAgICAgICAgIGlmKG9wID09PSAnZXEnICYmIF9maWx0ZXIudmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGhhc0Rpc3RpbmN0ID0gZnVuY3Rpb24oZmlsdGVycykge1xuICAgICAgICByZXR1cm4gXy5zb21lKGZpbHRlcnMsIGZ1bmN0aW9uKF9maWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBfZmlsdGVyLm9wID09PSAnZGlzdGluY3QnIHx8IF9maWx0ZXIub3AgPT09ICdjb3VudFVuaXF1ZSc7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYXNzaWduVG9BeGlzID0gZnVuY3Rpb24oY29sdW1ucywgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBvcHRpb25zLmZpbHRlcnM7XG4gICAgICAgIHZhciBheGlzQXNzaWdubWVudHMgPSB7fTtcbiAgICAgICAgdmFyIGZpbHRlclJlZiA9IHt9O1xuXG4gICAgICAgIHZhciBhc3NpZ25lZCA9IFtdO1xuICAgICAgICB2YXIgaXNBc3NpZ25lZCA9IGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBfKGFzc2lnbmVkKS5jb250YWlucyhwcm9wKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZighXy5pc1VuZGVmaW5lZChmaWx0ZXJzKSkge1xuICAgICAgICAgICAgXy5lYWNoKGZpbHRlcnMsIGZ1bmN0aW9uKGNvbHVtbkZpbHRlcikge1xuICAgICAgICAgICAgICAgIF8uZWFjaChjb2x1bW5zLCBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIWZpbHRlclJlZi5oYXNPd25Qcm9wZXJ0eShjb2x1bW4uY29sdW1uX2hlYWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclJlZltjb2x1bW4uY29sdW1uX2hlYWRlcl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZihjb2x1bW4uY29sdW1uX2hlYWRlciA9PT0gY29sdW1uRmlsdGVyLmNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyUmVmW2NvbHVtbi5jb2x1bW5faGVhZGVyXS5wdXNoKGNvbHVtbkZpbHRlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhc1NpbmdsZU9yRGlzdGluY3QgPSBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgIGlmKCFmaWx0ZXJSZWYuaGFzT3duUHJvcGVydHkoY29sdW1uLmNvbHVtbl9oZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihoYXNEaXN0aW5jdChmaWx0ZXJSZWZbY29sdW1uLmNvbHVtbl9oZWFkZXJdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihoYXNTaW5nbGVFcXVhbGl0eShmaWx0ZXJSZWZbY29sdW1uLmNvbHVtbl9oZWFkZXJdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgXG4gICAgICAgIC8vIEFsbG93IGZvciB1c2VyIHRvIHNldCB4LHouIEluIG9yZGVyIGZvciB0aGlzIHRvIGJlIHBvc3NpYmxlXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlc2UgYXJlIHRoZSBmaXJzdCBjb2x1bW5zIHdlIGNoZWNrLlxuICAgICAgICB2YXIgdXNlQ29sdW1ucyA9IFtdLFxuICAgICAgICAgICAgeENvbHVtbixcbiAgICAgICAgICAgIHpDb2x1bW47XG5cbiAgICAgICAgaWYob3B0aW9ucy54Q29sdW1uKSB7XG4gICAgICAgICAgICB4Q29sdW1uID0gXy5maW5kKGNvbHVtbnMsIGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uY29sdW1uX2hlYWRlciA9PT0gb3B0aW9ucy54Q29sdW1uO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZih4Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdXNlQ29sdW1ucy5wdXNoKHhDb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKG9wdGlvbnMuZ3JvdXBCeUNvbHVtbikge1xuICAgICAgICAgICAgekNvbHVtbiA9IF8uZmluZChjb2x1bW5zLCBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uLmNvbHVtbl9oZWFkZXIgPT09IG9wdGlvbnMuZ3JvdXBCeUNvbHVtbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYoekNvbHVtbikge1xuICAgICAgICAgICAgICAgIHVzZUNvbHVtbnMucHVzaCh6Q29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1c2VkSGVhZGVycyA9IF8ucGx1Y2sodXNlQ29sdW1ucywgJ2NvbHVtbl9oZWFkZXInKTtcbiAgICAgICAgXy5lYWNoKGNvbHVtbnMsIGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgaWYoIV8odXNlZEhlYWRlcnMpLmNvbnRhaW5zKGNvbHVtbi5jb2x1bW5faGVhZGVyKSkge1xuICAgICAgICAgICAgICAgIHVzZUNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZih1c2VDb2x1bW5zLmxlbmd0aCA8IGNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB1c2VDb2x1bW5zID0gY29sdW1ucztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB0aGF0IHdlIGhhdmUgYSBkZWZpbml0ZSBjb2x1bW4gb3JkZXIsIHdlIGNhbiBpbnNwZWN0XG4gICAgICAgIC8vIHRoZSBjb2x1bW5zLiBcbiAgICAgICAgdmFyIGNvbHVtbiwgZGF0YVR5cGU7XG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHVzZUNvbHVtbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb2x1bW4gPSB1c2VDb2x1bW5zW2luZGV4XTtcbiAgICAgICAgICAgIGRhdGFUeXBlID0gY29sdW1uLmRhdGFfdHlwZTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgdXNlciBvcHRpb25zXG4gICAgICAgICAgICBpZihvcHRpb25zLnhDb2x1bW4gJiYgY29sdW1uLmNvbHVtbl9oZWFkZXIgPT09IG9wdGlvbnMueENvbHVtbikge1xuICAgICAgICAgICAgICAgIGF4aXNBc3NpZ25tZW50cy54ID0gY29sdW1uO1xuICAgICAgICAgICAgICAgIGFzc2lnbmVkLnB1c2goJ3gnKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYob3B0aW9ucy5ncm91cEJ5Q29sdW1uICYmIGNvbHVtbi5jb2x1bW5faGVhZGVyID09PSBvcHRpb25zLmdyb3VwQnlDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICBheGlzQXNzaWdubWVudHMueiA9IGNvbHVtbjtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZC5wdXNoKCd6Jyk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNoZWNrIGZpbHRlcnNcbiAgICAgICAgICAgIGlmKGZpbHRlclJlZi5oYXNPd25Qcm9wZXJ0eShjb2x1bW4uY29sdW1uX2hlYWRlcikgJiYgZmlsdGVyUmVmW2NvbHVtbi5jb2x1bW5faGVhZGVyXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgY29sdW1uIGhhcyBmaWx0ZXIgd2hlcmUgYW5kIDEgdmFsdWUsIGl0IGlzIHpcblxuICAgICAgICAgICAgICAgIGlmKGhhc1NpbmdsZUVxdWFsaXR5KGZpbHRlclJlZltjb2x1bW4uY29sdW1uX2hlYWRlcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQXNzaWduZWQoJ3onKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnoyID0gY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWQucHVzaCgnejInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnogPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZC5wdXNoKCd6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGNvbHVtbiBoYXMgZmlsdGVyIGRpc3RpbmN0L2NvdW50VW5pcXVlXG4gICAgICAgICAgICAgICAgZWxzZSBpZihoYXNEaXN0aW5jdChmaWx0ZXJSZWZbY29sdW1uLmNvbHVtbl9oZWFkZXJdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGFzc2lnbmVkIHoyLCB0aGVuIGl0IGlzIHpcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNBc3NpZ25lZCgneCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzQXNzaWdubWVudHMueiA9IGNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkLnB1c2goJ3onKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnggPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZC5wdXNoKCd4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZ2VvXG4gICAgICAgICAgICBpZihkYXRhVHlwZSA9PT0gJ2Nvb3JkaW5hdGUnKSB7XG4gICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnggPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgYXNzaWduZWQucHVzaCgneCcpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBjb2x1bW4gaXMgbnVtZXJpY1xuICAgICAgICAgICAgaWYoaXNOdW1lcmljKGNvbHVtbikpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSB5XG4gICAgICAgICAgICAgICAgaWYoaXNBc3NpZ25lZCgneScpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB0aHJlZSBjb2x1bW5zIGl0IGlzIHkyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNvbHVtbnMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnkyID0gY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWQucHVzaCgneTInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHR3byBjb2x1bW5zIGl0IGlzIHhcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzQXNzaWdubWVudHMueCA9IGNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkLnB1c2goJ3gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVsc2UgaXQgaXMgeVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBheGlzQXNzaWdubWVudHMueSA9IGNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWQucHVzaCgneScpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYoZGF0YVR5cGUgPT09ICdkYXRldGltZScgJiYgIWhhc1NpbmdsZU9yRGlzdGluY3QoY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIGF4aXNBc3NpZ25tZW50cy54ID0gY29sdW1uO1xuICAgICAgICAgICAgICAgIGFzc2lnbmVkLnB1c2goJ3gnKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgY29sdW1uIGlzIGNhdGVnb3J5XG4gICAgICAgICAgICBlbHNlIGlmKGlzQ2F0ZWdvcmljYWwoY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSB4XG4gICAgICAgICAgICAgICAgaWYoaXNBc3NpZ25lZCgneCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSB6XG4gICAgICAgICAgICAgICAgICAgIGlmKGlzQXNzaWduZWQoJ3onKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnoyID0gY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWQucHVzaCgnejInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnogPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZC5wdXNoKCd6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnggPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkLnB1c2goJ3gnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBheGlzQXNzaWdubWVudHM7XG4gICAgfTtcblxuICAgIHZhciBkZXRlcm1pbmVUeXBlID0gZnVuY3Rpb24oY29sdW1ucywgYXhpc0Fzc2lnbm1lbnRzLCBjYWxjdWxhdGlvbikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKGF4aXNBc3NpZ25tZW50cyk7XG5cbiAgICAgICAgdmFyIHR5cGVzID0ge1xuICAgICAgICAgICAgY291bnRCeUNhdGVnb3J5OiAnY291bnRfYnlfY2F0ZWdvcnknLFxuICAgICAgICAgICAgYXZlcmFnZUJ5Q2F0ZWdvcnk6ICdhdmVyYWdlX2J5X2NhdGVnb3J5JyxcbiAgICAgICAgICAgIHN1bUJ5Q2F0ZWdvcnk6ICdzdW1fYnlfY2F0ZWdvcnknLFxuICAgICAgICAgICAgZ2VvUG9pbnRzOiAnZ2VvX3BvaW50cycsXG4gICAgICAgICAgICBnZW9Qb2ludHNDYXRlZ29yeTogJ2dlb19wb2ludHNfY2F0ZWdvcnknLFxuICAgICAgICAgICAgZ2VvUG9pbnRzQW1vdW50OiAnZ2VvX3BvaW50c19hbW91bnQnLFxuICAgICAgICAgICAgZ2VvUG9pbnRzQ2F0ZWdvcnlBbW91bnQ6ICdnZW9fcG9pbnRzX2NhdGVnb3J5X2Ftb3VudCcsXG4gICAgICAgICAgICBzY2F0dGVycGxvdDogJ3NjYXR0ZXJwbG90JyxcbiAgICAgICAgICAgIHNjYXR0ZXJwbG90QnlDYXRlZ29yeTogJ3NjYXR0ZXJwbG90X2J5X2NhdGVnb3J5JyxcbiAgICAgICAgICAgIGNvdW50UGVyQ2F0ZWdvcnlCeURhdGV0aW1lOiAnY291bnRfcGVyX2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAgICAgICAgIHJhdGlvUGVyQ2F0ZWdvcnk6ICdyYXRpb19wZXJfY2F0ZWdvcnknLFxuICAgICAgICAgICAgY291bnRCeVN0YXRlOiAnY291bnRfYnlfc3RhdGUnLFxuICAgICAgICAgICAgY291bnRCeUNvdW50cnk6ICdjb3VudF9ieV9jb3VudHJ5J1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBkZWZhdWx0VHlwZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKGNhbGN1bGF0aW9uPT09J2NvbXBhcmlzb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdzY2F0dGVycGxvdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0eXBlU3RyID0gY2FsY3VsYXRpb247XG4gICAgICAgICAgICB2YXIgc29ydGVkQ29sdW1ucyA9IF8oY29sdW1ucykuc29ydEJ5KCdkYXRhX3R5cGUnKTtcblxuICAgICAgICAgICAgXy5lYWNoKHNvcnRlZENvbHVtbnMsIGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICAgIGlmKCFpc051bWVyaWMoY29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlU3RyICs9ICdfYnlfJyArIGNvbHVtbi5kYXRhX3R5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0eXBlU3RyO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIC8vIGdlb19wb2ludHNcbiAgICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLnguZGF0YV90eXBlID09PSAnY29vcmRpbmF0ZScpIHtcbiAgICAgICAgICAgIGlmKGF4aXNBc3NpZ25tZW50cy5oYXNPd25Qcm9wZXJ0eSgneicpKSB7XG4gICAgICAgICAgICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLnoudmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZihheGlzQXNzaWdubWVudHMuaGFzT3duUHJvcGVydHkoJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLmdlb1BvaW50c0Ftb3VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMuZ2VvUG9pbnRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihheGlzQXNzaWdubWVudHMuaGFzT3duUHJvcGVydHkoJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMuZ2VvUG9pbnRzQ2F0ZWdvcnlBbW91bnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLmdlb1BvaW50c0NhdGVnb3J5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihheGlzQXNzaWdubWVudHMuaGFzT3duUHJvcGVydHkoJ3knKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5nZW9Qb2ludHNBbW91bnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0eXBlcy5nZW9Qb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzY2F0dGVycGxvdFxuICAgICAgICBpZihpc051bWVyaWMoYXhpc0Fzc2lnbm1lbnRzLngpICYmXG4gICAgICAgICAgICBheGlzQXNzaWdubWVudHMuaGFzT3duUHJvcGVydHkoJ3knKSAmJiBcbiAgICAgICAgICAgIGlzTnVtZXJpYyhheGlzQXNzaWdubWVudHMueSkpIHtcblxuICAgICAgICAgICAgaWYoY29sdW1ucy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMuc2NhdHRlcnBsb3RCeUNhdGVnb3J5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnNjYXR0ZXJwbG90O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY291bnRfYnlfY2F0ZWdvcnlcbiAgICAgICAgaWYoY29sdW1ucy5sZW5ndGggPT09IDIgJiYgXG4gICAgICAgICAgICBpc0NhdGVnb3JpY2FsKGF4aXNBc3NpZ25tZW50cy54KSA9PT0gJ2NhdGVnb3J5JyAmJiBcbiAgICAgICAgICAgIGlzTnVtZXJpYyhheGlzQXNzaWdubWVudHMueSkpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHR5cGVzW2NhbGN1bGF0aW9uICsgJ0J5Q2F0ZWdvcnknXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGNvbHVtbnMubGVuZ3RoID09PSAzICYmXG4gICAgICAgICAgICBheGlzQXNzaWdubWVudHMuaGFzT3duUHJvcGVydHkoJ3onKSAmJlxuICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLnoudmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuXG4gICAgICAgICAgICBpZihheGlzQXNzaWdubWVudHMueC5kYXRhX3R5cGUgPT09ICdkYXRldGltZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXNbY2FsY3VsYXRpb24gKyAnUGVyQ2F0ZWdvcnlCeURhdGV0aW1lJ107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0eXBlc1tjYWxjdWxhdGlvbiArICdCeUNhdGVnb3J5J107XG4gICAgICAgIH1cblxuICAgICAgICBpZihjYWxjdWxhdGlvbiA9PT0gJ2dlbycpIHtcbiAgICAgICAgICAgIGlmKGF4aXNBc3NpZ25tZW50cy54LmRhdGFfdHlwZSA9PT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5jb3VudEJ5U3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGF4aXNBc3NpZ25tZW50cy54X2RhdGFfdHlwZSA9PT0gJ2NvdW50cnknKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLmNvdW50QnlDb3VudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmF0aW9fcGVyX2NhdGVnb3J5XG4gICAgICAgIGlmKGNvbHVtbnMubGVuZ3RoID09PSAyICYmXG4gICAgICAgICAgICBjYWxjdWxhdGlvbiA9PT0gJ3JhdGlvJyAmJlxuICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLngudmFsdWVzLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgYXhpc0Fzc2lnbm1lbnRzLmhhc093blByb3BlcnR5KCd5JykgJiZcbiAgICAgICAgICAgIGF4aXNBc3NpZ25tZW50cy55LnZhbHVlcy5sZW5ndGggPT09IDEpIHtcblxuICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnJhdGlvUGVyQ2F0ZWdvcnk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmYXVsdFR5cGU7XG4gICAgfTtcblxuICAgIHdpbmRvdy5wb3BpbHkuY2hhcnQuYW5hbHl6ZSA9IHtcbiAgICAgICAgYXNzaWduVG9BeGlzOiBhc3NpZ25Ub0F4aXMsXG4gICAgICAgIGRldGVybWluZVR5cGU6IGRldGVybWluZVR5cGVcbiAgICB9XG59KSh3aW5kb3cpOyIsIihmdW5jdGlvbih3aW5kb3cpIHtcblxuICB2YXIgYzNpZnkgPSBmdW5jdGlvbih4VmFsdWVzLHlWYWx1ZXMselZhbHVlcykge1xuICAgICAgdmFyIGdyb3VwaW5ncyA9IFtdO1xuICAgICAgdmFyIGNvbHVtbnMgPSBbXTtcbiAgICAgIHZhciB4eXogPSBfLnppcCh4VmFsdWVzLHpWYWx1ZXMseVZhbHVlcyk7XG5cbiAgICAgIC8vY29uc29sZS5sb2coeVZhbHVlcyk7XG5cbiAgICAgIF8uZWFjaChfLnVuaXEoeFZhbHVlcyksZnVuY3Rpb24oeCkge1xuICAgICAgICAgIF8uZWFjaChfLnVuaXEoelZhbHVlcyksZnVuY3Rpb24oeikge1xuICAgICAgICAgICAgICBncm91cGluZ3MucHVzaChbeCx6LDBdKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgfSk7XG5cbiAgICAgIF8uZWFjaCh4eXosZnVuY3Rpb24oX3h5eikge1xuICAgICAgICAgIF8uZWFjaChncm91cGluZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgICAgICAgaWYoX3h5elswXSA9PT0gcGFpclswXSAmJiBfeHl6WzFdID09PSBwYWlyWzFdKSB7XG4gICAgICAgICAgICAgICAgICBwYWlyWzJdID0gX3h5elsyXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYXRlZ29yaWVzID0gXy51bmlxKF8ubWFwKGdyb3VwaW5ncywgZnVuY3Rpb24oZ3JvdXApIHsgcmV0dXJuIGdyb3VwWzBdOyB9KSk7XG4gICAgICB2YXIgdmFsdWVQYWlycyA9IF8ubWFwKGdyb3VwaW5ncywgZnVuY3Rpb24oZ3JvdXApIHsgcmV0dXJuIFtncm91cFsxXSxncm91cFsyXV0gfSk7XG4gICAgICB2YXIgbGFiZWxzID0gXy51bmlxKF8ubWFwKGdyb3VwaW5ncywgZnVuY3Rpb24oZ3JvdXApIHsgcmV0dXJuIGdyb3VwWzFdIH0pKTtcblxuICAgICAgdmFyIHZhbHVlcztcbiAgICAgIF8uZWFjaChsYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgICAgICAgdmFsdWVzID0gXy5tYXAoXy5maWx0ZXIodmFsdWVQYWlycywgZnVuY3Rpb24odnApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZwWzBdID09IGxhYmVsfSksZnVuY3Rpb24odnApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB2cFsxXTsgfSk7XG4gICAgICAgICAgY29sdW1ucy5wdXNoKFtsYWJlbF0uY29uY2F0KHZhbHVlcykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllcyxcbiAgICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgICAgIGdyb3VwczogbGFiZWxzXG4gICAgICB9XG4gIH07XG5cbiAgdmFyIGMzaWZ5TXVsdGkgPSBmdW5jdGlvbih4VmFsdWVzLHlWYWx1ZXMselZhbHVlcyx6MlZhbHVlcykge1xuICAgIHZhciB6aXBwZWQgPSBfLnppcCh4VmFsdWVzLHlWYWx1ZXMselZhbHVlcyx6MlZhbHVlcyk7XG4gICAgdmFyIHNlcCA9ICdfX18nO1xuICAgIHZhciBuYW1lcyA9IHt9O1xuXG4gICAgdmFyIGNvbHVtbk1hcCA9IHt9O1xuICAgIF8uZWFjaCh6aXBwZWQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICB2YXIgeCA9IGdyb3VwWzBdO1xuICAgICAgdmFyIHkgPSBncm91cFsxXTtcbiAgICAgIHZhciB6ID0gZ3JvdXBbMl07XG4gICAgICB2YXIgejIgPSBncm91cFszXTtcbiAgICAgIHZhciB6ejIgPSB6ICsgc2VwICsgejI7XG5cbiAgICAgIG5hbWVzW3p6Ml0gPSB6O1xuXG4gICAgICBpZighY29sdW1uTWFwW3p6Ml0pIHtcbiAgICAgICAgY29sdW1uTWFwW3p6Ml0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbHVtbk1hcFt6ejJdW3hdID0geTtcbiAgICB9KTtcblxuICAgIHZhciBncm91cHMgPSBbXTtcbiAgICB2YXIgb3JkZXJlZEdyb3VwcyA9IFtdO1xuICAgIF8uZWFjaChfLnVuaXEoejJWYWx1ZXMpLCBmdW5jdGlvbih6Mikge1xuICAgICAgb3JkZXJlZEdyb3Vwcy5wdXNoKHoyKTtcbiAgICAgIHZhciBncm91cCA9IFtdO1xuICAgICAgXy5lYWNoKF8udW5pcSh6VmFsdWVzKSwgZnVuY3Rpb24oeikge1xuICAgICAgICBncm91cC5wdXNoKHogKyBzZXAgKyB6Mik7XG4gICAgICB9KTtcbiAgICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICB9KTtcblxuICAgIHZhciB4TGFiZWxzID0gXy51bmlxdWUoeFZhbHVlcyk7XG4gICAgdmFyIHhMYWJlbHNEaXNwbGF5ID0gXy5tYXAoeExhYmVscywgZnVuY3Rpb24oeFZhbHVlKSB7XG4gICAgICByZXR1cm4geFZhbHVlICsgJyAoJyArIG9yZGVyZWRHcm91cHMuam9pbignLCcpICsgJyknO1xuICAgIH0pO1xuXG4gICAgdmFyIGNvbHVtbnMgPSBbXTtcblxuICAgIGZvcih2YXIgY29sdW1uIGluIGNvbHVtbk1hcCkge1xuICAgICAgdmFyIGNvbCA9IFtjb2x1bW5dO1xuICAgICAgXy5lYWNoKHhMYWJlbHMsIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgY29sLnB1c2gocGFyc2VGbG9hdChjb2x1bW5NYXBbY29sdW1uXVt4XSB8fCAwKSk7XG4gICAgICB9KTtcbiAgICAgIGNvbHVtbnMucHVzaChjb2wpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgICBjYXRlZ29yaWVzOiB4TGFiZWxzRGlzcGxheSxcbiAgICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICAgIG5hbWVzOiBuYW1lc1xuICAgIH1cbiAgfTtcblxuICB2YXIgbmFuID0gLTk5OTk5O1xuICB2YXIgY2xlYW5EYXRhID0gZnVuY3Rpb24oeFZhbHVlcyx5VmFsdWVzLHpWYWx1ZXMsejJWYWx1ZXMpIHtcbiAgICAgIHhWYWx1ZXMgPSB4VmFsdWVzIHx8IFtdO1xuICAgICAgeVZhbHVlcyA9IHlWYWx1ZXMgfHwgW107XG4gICAgICB6VmFsdWVzID0gelZhbHVlcyB8fCBbXTtcbiAgICAgIHoyVmFsdWVzID0gejJWYWx1ZXMgfHwgW107XG5cblxuICAgICAgdmFyIHR1cGxlcyA9IF8uemlwKHhWYWx1ZXMseVZhbHVlcyx6VmFsdWVzLHoyVmFsdWVzKTtcblxuICAgICAgLy8gUmVtb3ZlIG5hblxuICAgICAgdmFyIGNsZWFuZWQgPSBfLnJlamVjdCh0dXBsZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBpZiAodFsxXSA9PT0gbmFuIHx8IHRbMF0gPT09IG5hbikge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cblxuICAgICAgcmV0dXJuIF8udW56aXAoY2xlYW5lZCk7XG5cbiAgfTtcblxuICB2YXIgbmFuVG9aZXJvID0gZnVuY3Rpb24obnVtKSB7XG4gICAgICBpZihudW0gPT09IG5hbiB8fCBudW0gPT09ICduYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtO1xuICB9O1xuICB2YXIgY2xlYW5OYW5Ub1plcm8gPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHZhbHVlcyA9IF8ubWFwKHZhbHVlcywgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBuYW5Ub1plcm8odik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgdmFyIGRheUxpc3QgPSBbJ3N1bmRheScsJ21vbmRheScsJ3R1ZXNkYXknLCd3ZWRuZXNkYXknLCd0aHVyc2RheScsJ2ZyaWRheScsJ3NhdHVyZGF5J107XG4gIHZhciBkYXlMaXN0QWJiciA9IFsnc3VuJywnbW9uJywndHVlJywnd2VkJywndGh1JywnZnJpJywnc2F0J107XG4gIHZhciBtb250aExpc3QgPSBbJ2phbnVhcnknLCdmZWJydWFyeScsJ21hcmNoJywnYXByaWwnLCdtYXknLCdqdW5lJywnanVseScsJ2F1Z3VzdCcsJ3NlcHRlbWJlcicsJ29jdG9iZXInLCdub3ZlbWJlcicsJ2RlY2VtYmVyJ107XG4gIHZhciBtb250aExpc3RBYmJyID0gWydqYW4nLCdmZWInLCdtYXInLCdhcHInLCdtYXknLCdqdW4nLCdqdWwnLCdhdWcnLCdzZXAnLCdzZXB0Jywnb2N0Jywnbm92JywnZGVjJ107XG5cbiAgdmFyIGNhdGVnb3J5VHlwZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgaWYoXy5ldmVyeSh2YWx1ZXMsIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIF8oZGF5TGlzdCkuY29udGFpbnModi50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpIH0pKSB7XG4gICAgICAgICAgcmV0dXJuICdkYXknO1xuICAgICAgfVxuXG4gICAgICBpZihfLmV2ZXJ5KHZhbHVlcywgZnVuY3Rpb24odikgeyByZXR1cm4gXyhkYXlMaXN0QWJicikuY29udGFpbnModi50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpIH0pKSB7XG4gICAgICAgICAgcmV0dXJuICdkYXlBYmJyJztcbiAgICAgIH1cblxuICAgICAgaWYoXy5ldmVyeSh2YWx1ZXMsIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIF8obW9udGhMaXN0KS5jb250YWlucyh2LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSkgfSkpIHtcbiAgICAgICAgICByZXR1cm4gJ21vbnRoJztcbiAgICAgIH1cblxuICAgICAgaWYoXy5ldmVyeSh2YWx1ZXMsIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIF8obW9udGhMaXN0QWJicikuY29udGFpbnModi50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpIH0pKSB7XG4gICAgICAgICAgcmV0dXJuICdtb250aEFiYnInO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBzb3J0RGF0YSA9IGZ1bmN0aW9uKHhZYWx1ZXMseVZhbHVlcyx6VmFsdWVzLGxpbWl0LG9yZGVyLHoyVmFsdWVzKSB7XG4gICAgICB2YXIgdHVwbGVzID0gXy56aXAoeFlhbHVlcyx5VmFsdWVzLHpWYWx1ZXMsejJWYWx1ZXMpO1xuICAgICAgICAgIFxuICAgICAgaWYoXy5ldmVyeSh4WWFsdWVzLCBmdW5jdGlvbih4KSB7IHJldHVybiAhaXNOYU4oeCk7IH0pKSB7XG4gICAgICAgICAgdmFyIHNvcnRlZCA9IF8uc29ydEJ5KHR1cGxlcywgZnVuY3Rpb24odCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoXy5ldmVyeSh4WWFsdWVzLCBmdW5jdGlvbih4KSB7IHJldHVybiAhaXNOYU4oeC50b1N0cmluZygpLmNoYXJBdCgwKSk7IH0pKSB7XG4gICAgICAgICAgdmFyIHNvcnRlZCA9IF8uc29ydEJ5KHR1cGxlcywgZnVuY3Rpb24odCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGNUeXBlID0gY2F0ZWdvcnlUeXBlKHhZYWx1ZXMpO1xuICAgICAgICAgIGlmKGNUeXBlKSB7XG4gICAgICAgICAgICAgIHZhciBjb21wYXJlTGlzdCA9IGRheUxpc3Q7XG4gICAgICAgICAgICAgIGlmKGNUeXBlID09ICdkYXlBYmJyJykge1xuICAgICAgICAgICAgICAgICAgY29tcGFyZUxpc3QgPSBkYXlMaXN0QWJicjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKGNUeXBlID09ICdtb250aCcpIHtcbiAgICAgICAgICAgICAgICAgIGNvbXBhcmVMaXN0ID0gbW9udGhMaXN0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoY1R5cGUgPT0gJ21vbnRoQWJicicpIHtcbiAgICAgICAgICAgICAgICAgIGNvbXBhcmVMaXN0ID0gbW9udGhMaXN0QWJicjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFNvcnQgYXNjIGJ5IHlcbiAgICAgICAgICAgICAgdmFyIHNvcnRlZCA9IF8uc29ydEJ5KHR1cGxlcywgZnVuY3Rpb24odCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmVMaXN0LmluZGV4T2YodFswXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgLy8gU29ydCBhc2MgYnkgeVxuICAgICAgICAgICAgICB2YXIgc29ydGVkID0gXy5zb3J0QnkodHVwbGVzLCBmdW5jdGlvbih0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXSAqIC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYobGltaXQgJiYgXy5zaXplKHNvcnRlZCk+bGltaXQgKSB7XG4gICAgICAgICAgdmFyIGk9MDtcbiAgICAgICAgICB2YXIgbnRoID0gTWF0aC5mbG9vcihfLnNpemUoc29ydGVkKSAvIGxpbWl0KTtcbiAgICAgICAgICBzb3J0ZWQgPSBfLmZpbHRlcihzb3J0ZWQsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpICUgbnRoID09IDA7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZihvcmRlcj09J2FzYycgfHwgb3JkZXI9PSdkZXNjJykge1xuICAgICAgICAgIHZhciBkZXNjTXVsdGlwbHkgPSAob3JkZXI9PSdkZXNjJz8tMToxKVxuICAgICAgICAgIHNvcnRlZCA9IF8uc29ydEJ5KHNvcnRlZCwgZnVuY3Rpb24odCl7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRbMV0gKiBkZXNjTXVsdGlwbHk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICB9IFxuICAgICAgZWxzZSBpZihvcmRlcj09J2EteicgfHwgb3JkZXI9PSd6LWEnKSB7XG4gICAgICAgICAgaWYoXy5ldmVyeSh4WWFsdWVzLCBmdW5jdGlvbih4KSB7IHJldHVybiAhaXNOYU4oeCk7IH0pKSB7XG4gICAgICAgICAgICAgIHNvcnRlZCA9IF8uc29ydEJ5KHNvcnRlZCwgZnVuY3Rpb24odCl7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRbMF0pO1xuICAgICAgICAgICAgICAgICAgfSk7IFxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgc29ydGVkID0gXy5zb3J0Qnkoc29ydGVkLCBmdW5jdGlvbih0KXtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFswXTtcbiAgICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYob3JkZXI9PSd6LWEnKVxuICAgICAgICAgICAgICBzb3J0ZWQgPSBzb3J0ZWQucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF8udW56aXAoc29ydGVkKTtcbiAgfTtcblxuICB2YXIgY2hlY2tJc0RhdGVTdHIgPSBmdW5jdGlvbihzdHIpIHtcbiAgICBpZiAoIWlzTmFOKChuZXcgRGF0ZShzdHIpLmdldFRpbWUoKSkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIHdpbmRvdy5wb3BpbHkuY2hhcnQuY2hhcnREYXRhID0geyAgICAgICAgXG4gICAgICBzb3J0RGF0YTogc29ydERhdGEsXG4gICAgICBjbGVhbkRhdGE6IGNsZWFuRGF0YSxcbiAgICAgIGNsZWFuTmFuVG9aZXJvOiBjbGVhbk5hblRvWmVybyxcbiAgICAgIGMzaWZ5OiBjM2lmeSxcbiAgICAgIGMzaWZ5TXVsdGk6IGMzaWZ5TXVsdGksXG4gICAgICBjaGVja0lzRGF0ZVN0cjogY2hlY2tJc0RhdGVTdHJcbiAgfVxuXG59KSh3aW5kb3cpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24od2luZG93KSB7XG5cblxuICB3aW5kb3cucG9waWx5LmRhdGFzZXQgPSBmdW5jdGlvbihjb2x1bW5zLCBvcHRpb25zKSB7XG5cbiAgICB2YXIgbGFiZWxzLCBkYXRhVHlwZXMsIHRhYmxlLCBjb2x1bW5zQ2FjaGU7XG4gICAgXG4gICAgdmFyIGluaXRpYWxpemUgPSBmdW5jdGlvbihjb2x1bW5zKSB7XG4gICAgICBsYWJlbHMgPSBbXTtcbiAgICAgIGRhdGFUeXBlcyA9IFtdO1xuICAgICAgY29sdW1uc0NhY2hlID0gbnVsbDtcbiAgICAgIHRhYmxlID0gemlwKGNvbHVtbnMpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgemlwID0gZnVuY3Rpb24oY29sdW1ucykge1xuICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgIFxuICAgICAgXy5lYWNoKGNvbHVtbnMsIGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICBsYWJlbHMucHVzaChjb2x1bW4uY29sdW1uX2hlYWRlcik7XG4gICAgICAgIGRhdGFUeXBlcy5wdXNoKGNvbHVtbi5kYXRhX3R5cGUpO1xuICAgICAgICBkYXRhLnB1c2goY29sdW1uLnZhbHVlcyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfLnppcC5hcHBseShudWxsLCBkYXRhKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciB1bnppcCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHZhciBjb2x1bW5zID0gW107XG4gICAgICBfLnVuemlwKGRhdGEpLmZvckVhY2goZnVuY3Rpb24oYywgaSkge1xuICAgICAgICBjb2x1bW5zLnB1c2goe1xuICAgICAgICAgIGNvbHVtbl9oZWFkZXI6bGFiZWxzW2ldLFxuICAgICAgICAgIHZhbHVlczpjLFxuICAgICAgICAgIGRhdGFfdHlwZTpkYXRhVHlwZXNbaV1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb2x1bW5zO1xuICAgIH1cblxuICAgIHZhciBjb2x1bW5JZHggPSBmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgIHZhciBpZHggPSBsYWJlbHMuaW5kZXhPZihjb2x1bW4pO1xuICAgICAgaWYoaWR4ID09IC0xKVxuICAgICAgICB0aHJvdyBFcnJvcignY29sdW1uICcrY29sdW1uKycgbm90IGZvdW5kIGluIGRhdGFzZXQnKTtcbiAgICAgIHJldHVybiBpZHg7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgZGF0YUxpc3RlbmVycyA9IFtdXG4gICAgdmFyIGRhdGFDaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb2x1bW5zQ2FjaGUgPSBudWxsO1xuICAgICAgZGF0YUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKGxpc3RuZXIpIHtcbiAgICAgICAgbGlzdG5lcigpO1xuICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgaW5pdGlhbGl6ZShjb2x1bW5zKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgIFxuICAgICAgb3JkZXJCeTogZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHZhciBpZHggPSBjb2x1bW5JZHgoY29sdW1uKTtcbiAgICAgICAgdGFibGUgPSBfLnNvcnRCeSh0YWJsZSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIHJldHVybiBlW2lkeF07XG4gICAgICAgIH0pO1xuICAgICAgICBkYXRhQ2hhbmdlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIHJldmVyc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0YWJsZSA9IHRhYmxlLnJldmVyc2UoKTtcbiAgICAgICAgZGF0YUNoYW5nZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBmaWx0ZXI6IGZ1bmN0aW9uKGNvbHVtbiwgb3AsIHZhbHVlcykge1xuICAgICAgICBpZihfLmlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICB2YWx1ZXMgPSBvcDtcbiAgICAgICAgICBvcCA9ICdlcSc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkeCA9IGNvbHVtbklkeChjb2x1bW4pO1xuICAgICAgICBcbiAgICAgICAgaWYob3AgPT0gJ2VxJylcbiAgICAgICAgICB2YXIgdGVzdEZ1bmMgPSBmdW5jdGlvbihlKSB7cmV0dXJuIHZhbHVlcy5pbmRleE9mKGVbaWR4XSkhPT0tMX1cbiAgICAgICAgZWxzZSBpZihvcCA9PSAnbm90ZXEnKVxuICAgICAgICAgIHZhciB0ZXN0RnVuYyA9IGZ1bmN0aW9uKGUpIHtyZXR1cm4gdmFsdWVzLmluZGV4T2YoZVtpZHhdKT09PS0xfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbnJlY29nbml6ZWQgZmlsdGVyIG9wdGlvbjogJytvcCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7IFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0YWJsZSA9IF8uZmlsdGVyKHRhYmxlLCB0ZXN0RnVuYyk7XG4gICAgICAgIGRhdGFDaGFuZ2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIFxuICAgICAgbGltaXQgOiBmdW5jdGlvbihtYXgpIHtcbiAgICAgICAgaWYobWF4ICYmIF8uc2l6ZSh0YWJsZSk+bWF4ICkge1xuICAgICAgICAgIHZhciBpPTA7XG4gICAgICAgICAgdmFyIG50aCA9IE1hdGguZmxvb3IoXy5zaXplKHNvcnRlZCkgLyBsaW1pdCk7XG4gICAgICAgICAgdGFibGUgPSBfLmZpbHRlcih0YWJsZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICByZXR1cm4gaSAlIG50aCA9PSAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRhdGFDaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgXG4gICAgICBncm91cEJ5OiBmdW5jdGlvbihjb2x1bW4sIGdyb3VwaW5nRnVuY3Rpb24sIGdyb3VwcGVkRGF0YVR5cGUsIGdyb3VwcGVkQ29sdW1uSGVhZGVyICkge1xuICAgICAgICB2YXIgaWR4ID0gY29sdW1uSWR4KGNvbHVtbik7XG4gICAgICAgIGdyb3VwaW5nRnVuY3Rpb24gPSBncm91cGluZ0Z1bmN0aW9uIHx8IGZ1bmN0aW9uKGUpIHtyZXR1cm4gZTt9O1xuICAgICAgICBncm91cHBlZENvbHVtbkhlYWRlciA9IGdyb3VwcGVkQ29sdW1uSGVhZGVyIHx8ICdncm91cHBlZCc7XG4gICAgICAgIGdyb3VwcGVkRGF0YVR5cGUgPSBncm91cHBlZERhdGFUeXBlIHx8ICdudW1lcmljJztcblxuICAgICAgICB2YXIgZ3JvdXBwZWQgPSBfLmdyb3VwQnkodGFibGUsIGZ1bmN0aW9uKGUpeyBcbiAgICAgICAgICByZXR1cm4gZVtpZHhdOyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB2YXIga2V5c0NvbHVtbiA9IHsgXG4gICAgICAgICAgY29sdW1uX2hlYWRlcjogbGFiZWxzW2lkeF0sXG4gICAgICAgICAgZGF0YV90eXBlOiBkYXRhVHlwZXNbaWR4XSxcbiAgICAgICAgICB2YWx1ZXM6IE9iamVjdC5rZXlzKGdyb3VwcGVkKVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdXG4gICAgICAgIF8ubWFwKGtleXNDb2x1bW4udmFsdWVzLCBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goZ3JvdXBpbmdGdW5jdGlvbihncm91cHBlZFtrXSkpOyBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgZ3JvdXBwZWRDb2x1bW4gPSB7XG4gICAgICAgICAgY29sdW1uX2hlYWRlcjogZ3JvdXBwZWRDb2x1bW5IZWFkZXIsXG4gICAgICAgICAgZGF0YV90eXBlOiBncm91cHBlZERhdGFUeXBlLFxuICAgICAgICAgIHZhbHVlczogdmFsdWVzXG4gICAgICAgIH1cbiAgICAgICAgaW5pdGlhbGl6ZShba2V5c0NvbHVtbiwgZ3JvdXBwZWRDb2x1bW5dKTtcbiAgICAgICAgZGF0YUNoYW5nZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuXG4gICAgICBjb3VudFVuaXF1ZTogZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHZhciBpZHggPSBjb2x1bW5JZHgoY29sdW1uKTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuZ2V0Q29sdW1ucygpW2lkeF07XG4gICAgICAgIHZhciBjb3VudHMgPSBfLmNvdW50QnkoY29sdW1uLnZhbHVlcywgZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWw7IH0pO1xuICAgICAgICB2YXIgbmV3Q29sdW1ucyA9IFtdO1xuXG4gICAgICAgIHZhciB2YWxDb2x1bW4gPSB7XG4gICAgICAgICAgY29sdW1uX2hlYWRlcjogY29sdW1uLmNvbHVtbl9oZWFkZXIsXG4gICAgICAgICAgZGF0YV90eXBlOiBjb2x1bW4uZGF0YV90eXBlLFxuICAgICAgICAgIHZhbHVlczogXyhjb3VudHMpLmtleXMoKVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY291bnRDb2x1bW4gPSB7XG4gICAgICAgICAgY29sdW1uX2hlYWRlcjogJ2NvdW50XzAnLFxuICAgICAgICAgIGRhdGFfdHlwZTogJ251bWVyaWMnLFxuICAgICAgICAgIHZhbHVlczogXyhjb3VudHMpLnZhbHVlcygpXG4gICAgICAgIH07XG5cbiAgICAgICAgaW5pdGlhbGl6ZShbdmFsQ29sdW1uLGNvdW50Q29sdW1uXSk7XG4gICAgICAgIGRhdGFDaGFuZ2VkKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIFxuICAgICAgcmVwbGFjZVZhbHVlczogZnVuY3Rpb24oY29sdW1uLCByZXBsYWNlbWVudHMpIHtcbiAgICAgICAgdmFyIGlkeCA9IGNvbHVtbklkeChjb2x1bW4pO1xuICAgICAgICBcbiAgICAgICAgXy5tYXAodGFibGUsIGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgIGlmKHJvd1tpZHhdIGluIHJlcGxhY2VtZW50cylcbiAgICAgICAgICAgIHJvd1tpZHhdID0gcmVwbGFjZW1lbnRzW3Jvd1tpZHhdXTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBkYXRhQ2hhbmdlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIGdldENvbHVtbnM6IGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgIGlmKCFjb2x1bW5zQ2FjaGUpXG4gICAgICAgICAgY29sdW1uc0NhY2hlID0gdW56aXAodGFibGUpO1xuICAgICAgICBcbiAgICAgICAgaWYoY2IpIHtcbiAgICAgICAgICBjYihjb2x1bW5zQ2FjaGUpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gY29sdW1uc0NhY2hlO1xuICAgICAgfSxcbiAgICAgIFxuICAgICAgZ2V0Q29sdW1uOiBmdW5jdGlvbihjb2x1bW4sIGNiKSB7XG4gICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5nZXRDb2x1bW5zKCk7XG4gICAgICAgIHZhciBjb2x1bW4gPSBfLmZpbmQoY29sdW1ucywgZnVuY3Rpb24oYykgeyByZXR1cm4gYy5jb2x1bW5faGVhZGVyID09PSBjb2x1bW4gfSk7XG4gICAgICAgIGlmKGNiKSB7XG4gICAgICAgICAgY2IoY29sdW1uKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIGNvbHVtbjtcbiAgICAgIH0sXG4gICAgICBcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihjYikge1xuICAgICAgICBkYXRhTGlzdGVuZXJzLnB1c2goY2IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcG9waWx5LmRhdGFzZXQuY291bnQgPSBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gYXJyLmxlbmd0aDtcbiAgfVxuICBwb3BpbHkuZGF0YXNldC5jb3VudC5kYXRhVHlwZSA9ICdudW1lcmljJztcbiAgcG9waWx5LmRhdGFzZXQuY291bnQuY29sdW1uTGFiZWwgPSAnQ291bnQnO1xuICBcbiAgcG9waWx5LmRhdGFzZXQuY291bnRVbmlxdWUgPSBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gXy51bmlxKGFycikubGVuZ3RoO1xuICB9XG4gIHBvcGlseS5kYXRhc2V0LmNvdW50VW5pcXVlLmRhdGFUeXBlID0gJ251bWVyaWMnO1xuICBwb3BpbHkuZGF0YXNldC5jb3VudFVuaXF1ZS5jb2x1bW5MYWJlbCA9ICdDb3VudCB1bmlxdWUnO1xuXG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIHZhciBuYW4gPSAtOTk5OTk7XG5cbiAgICB2YXIgZGF5c0RpZmYgPSBmdW5jdGlvbihkYXRlU3RyaW5ncykge1xuICAgICAgICB2YXIgZGF0ZXMgPSBfLm1hcChkYXRlU3RyaW5ncyxmdW5jdGlvbihkKSB7IHJldHVybiBuZXcgRGF0ZShkKTsgfSk7XG4gICAgICAgIHZhciBtaW5EYXRlID0gXy5taW4oZGF0ZXMpO1xuICAgICAgICB2YXIgbWF4RGF0ZSA9IF8ubWF4KGRhdGVzKTtcbiAgICAgICAgdmFyIGRhdGVEaWZmID0gbWF4RGF0ZSAtIG1pbkRhdGU7XG4gICAgICAgIHZhciBkYXlzRGlmZiA9IGRhdGVEaWZmIC8gMTAwMCAvIDYwIC8gNjAgLyAyNDtcblxuICAgICAgICByZXR1cm4gZGF5c0RpZmY7XG4gICAgfTtcblxuICAgIHZhciBmb3JtYXROdW1iZXJzID0gZnVuY3Rpb24obnVtYmVyTGlzdCkge1xuICAgICAgICB2YXIgZm9ybWF0dGVkID0gXy5tYXAobnVtYmVyTGlzdCwgZnVuY3Rpb24obnVtKSB7XG4gICAgICAgICAgICBudW0gPSBwYXJzZUZsb2F0KG51bSk7XG5cbiAgICAgICAgICAgIGlmKG51bSAhPT0gXCJuYW5cIiAmJiBfLmlzTnVtYmVyKG51bSkgJiYgIV8uaXNOYU4obnVtKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudW1lcmFsKG51bSkuZm9ybWF0KCcwWy4wMF0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAnMC4wMCc7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xuICAgIH07XG5cbiAgICB2YXIgdG9OdW1iZXIgPSBmdW5jdGlvbihzdHJMaXN0KSB7XG4gICAgICAgIHJldHVybiBfLm1hcChzdHJMaXN0LCBmdW5jdGlvbih2YWwpIHsgXG4gICAgICAgICAgICAgIGlmKHZhbC50b1N0cmluZygpLmluZGV4T2YoJy4nKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLDEwKSBcbiAgICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBmb3JtYXRGcm9tRGF5RGlmZihkYXlEaWZmKSB7XG4gICAgICAgIGlmKGRheURpZmYgPiAxMDAwKVxuICAgICAgICAgICAgcmV0dXJuICclWSc7XG4gICAgICAgIGlmKGRheURpZmYgPiA5MClcbiAgICAgICAgICAgIHJldHVybiAnJVkgJUInO1xuICAgICAgICBpZihkYXlEaWZmID4gMylcbiAgICAgICAgICAgIHJldHVybiAnJVktJW0tJWQnO1xuICAgICAgICByZXR1cm4gJyVZLSVtLSVkICVIOiVNOiVTJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXRGcm9tSW5zcGVjdGlvbih4VmFsdWVzKSB7XG4gICAgICAgIHZhciB0aW1lcyA9IF8ubWFwKHhWYWx1ZXMsIGZ1bmN0aW9uKHhWYWx1ZSkgeyByZXR1cm4geFZhbHVlLnNwbGl0KCcgJylbMV0gfSk7XG4gICAgICAgIGlmKF8uZXZlcnkodGltZXMsIGZ1bmN0aW9uKHRpbWUpIHsgcmV0dXJuIHRpbWUgPT0gJzAwOjAwOjAwJyB9KSkge1xuICAgICAgICAgICAgcmV0dXJuICclWS0lbS0lZCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICclWS0lbS0lZCAlSDolTTolUyc7XG4gICAgfVxuICAgICAgICBcbiAgICBmdW5jdGlvbiBmb3JtYXRGcm9tSW50ZXJ2YWwoaW50ZXJ2YWwpIHtcbiAgICAgICAgaWYoaW50ZXJ2YWwgPT0gJ3llYXInKVxuICAgICAgICAgICAgcmV0dXJuICclWSc7XG4gICAgICAgIGlmKGludGVydmFsID09ICdtb250aCcpXG4gICAgICAgICAgICByZXR1cm4gJyVZICVCJztcbiAgICAgICAgaWYoaW50ZXJ2YWwgPT0gJ3dlZWsnKVxuICAgICAgICAgICAgcmV0dXJuICclWS0lbS0lZCc7XG4gICAgICAgIGlmKGludGVydmFsID09ICdkYXknKVxuICAgICAgICAgICAgcmV0dXJuICAnJVktJW0tJWQnO1xuICAgICAgICByZXR1cm4gJyVZLSVtLSVkICVIOiVNOiVTJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGVwSW50ZXJ2YWwoaW50ZXJ2YWwpIHtcbiAgICAgICAgaWYoaW50ZXJ2YWw9PSclWScpIHJldHVybiBmdW5jdGlvbihkLCBzdGVwKSB7ZC5zZXRGdWxsWWVhcihkLmdldEZ1bGxZZWFyKCkrc3RlcCk7IHJldHVybiBkO307XG4gICAgICAgIGlmKGludGVydmFsPT0nJVkgJUInKSByZXR1cm4gZnVuY3Rpb24oZCwgc3RlcCkge2Quc2V0TW9udGgoZC5nZXRNb250aCgpK3N0ZXApOyByZXR1cm4gZDt9O1xuICAgICAgICBpZihpbnRlcnZhbD09JyVZLSVtLSVkJykgcmV0dXJuIGZ1bmN0aW9uKGQsIHN0ZXApIHtkLnNldERhdGUoZC5nZXREYXRlKCkrc3RlcCk7IHJldHVybiBkO307XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0aWNrRm9ybWF0VmFsdWVzKGNhdGVnb3JpZXMsIHRpY2tGb3JtYXRTdHIsIGRhdGVGb3JtYXQpIHtcbiAgICAgICAgdmFyIHN0ZXBGdW5jID0gc3RlcEludGVydmFsKHRpY2tGb3JtYXRTdHIpO1xuICAgICAgICBpZighc3RlcEZ1bmMpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIFxuICAgICAgICB2YXIgZGF0ZXMgPSBfLm1hcChjYXRlZ29yaWVzLCBmdW5jdGlvbihkKSB7IHJldHVybiBuZXcgRGF0ZShkKTsgfSk7XG4gICAgICAgIHZhciBtaW5EYXRlID0gXy5taW4oZGF0ZXMpO1xuICAgICAgICB2YXIgbWF4RGF0ZSA9IF8ubWF4KGRhdGVzKTtcbiAgICAgICAgdmFyIGRhdGVEaWZmID0gbWF4RGF0ZSAtIG1pbkRhdGU7XG4gICAgICAgIHZhciBtYXhTdGVwcyA9IDEwO1xuXG4gICAgICAgIHZhciBzdGVwRElmZiA9IHN0ZXBGdW5jKG5ldyBEYXRlKDE5ODApLCAxKSAtIG5ldyBEYXRlKDE5ODApO1xuICAgICAgICB2YXIgc3RlcCA9IDE7XG4gICAgICAgIHZhciBzdGVwcyA9IGRhdGVEaWZmL3N0ZXBESWZmO1xuICAgICAgICBpZihzdGVwcyA+IG1heFN0ZXBzKVxuICAgICAgICAgICAgc3RlcCA9IE1hdGguZmxvb3Ioc3RlcHMvbWF4U3RlcHMpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG1pbkRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgZm9yKDsgZGF0ZTw9bWF4RGF0ZTsgZGF0ZSA9IHN0ZXBGdW5jKGRhdGUsIHN0ZXApKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChkYXRlRm9ybWF0KGRhdGUpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgLy8gQ3JlZGl0OiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9tYXRoZXdieXJuZS8xMjgwMjg2XG4gICAgZnVuY3Rpb24gc2x1Z2lmeSh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dC50b1N0cmluZygpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKSAgICAgICAgICAgLy8gUmVwbGFjZSBzcGFjZXMgd2l0aCAtXG4gICAgICAgIC5yZXBsYWNlKC9bXlxcd1xcLV0rL2csICcnKSAgICAgICAvLyBSZW1vdmUgYWxsIG5vbi13b3JkIGNoYXJzXG4gICAgICAgIC5yZXBsYWNlKC9cXC1cXC0rL2csICctJykgICAgICAgICAvLyBSZXBsYWNlIG11bHRpcGxlIC0gd2l0aCBzaW5nbGUgLVxuICAgICAgICAucmVwbGFjZSgvXi0rLywgJycpICAgICAgICAgICAgIC8vIFRyaW0gLSBmcm9tIHN0YXJ0IG9mIHRleHRcbiAgICAgICAgLnJlcGxhY2UoLy0rJC8sICcnKTsgICAgICAgICAgICAvLyBUcmltIC0gZnJvbSBlbmQgb2YgdGV4dFxuICAgIH1cblxuICAgIHBvcGlseS5jaGFydC5mb3JtYXQgPSB7XG4gICAgICAgIGZvcm1hdE51bWJlcnM6IGZvcm1hdE51bWJlcnMsXG4gICAgICAgIHRvTnVtYmVyOiB0b051bWJlcixcbiAgICAgICAgZGF5c0RpZmY6IGRheXNEaWZmLFxuICAgICAgICBmb3JtYXRGcm9tRGF5RGlmZjogZm9ybWF0RnJvbURheURpZmYsXG4gICAgICAgIGZvcm1hdEZyb21JbnRlcnZhbDogZm9ybWF0RnJvbUludGVydmFsLFxuICAgICAgICBmb3JtYXRGcm9tSW5zcGVjdGlvbjogZm9ybWF0RnJvbUluc3BlY3Rpb24sXG4gICAgICAgIHRpY2tGb3JtYXRWYWx1ZXM6IHRpY2tGb3JtYXRWYWx1ZXMsXG4gICAgICAgIHNsdWdpZnk6IHNsdWdpZnlcbiAgICB9XG59KSh3aW5kb3cpOyIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIGNoYXJ0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHZhciB3aWR0aCA9IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoLCAxMDUyKTsgLy8gMTA1MiBjb250YWluZXIgbWF4LXdpZHRoXG4gICAgICB2YXIgbXFUZXN0ID0gd2luZG93Lm1hdGNoTWVkaWEoIFwiKG1pbi13aWR0aDogNDhlbSlcIiApO1xuICAgICAgaWYobXFUZXN0KSB7XG4gICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IC0gNDYwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgLSAxNTA7XG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0ID4gd2lkdGgpXG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGg7XG4gICAgICBlbHNlIGlmKGhlaWdodCA8IDQzMClcbiAgICAgICAgICBoZWlnaHQgPSA0MzA7XG4gICAgICByZXR1cm4geydoZWlnaHQnOiBoZWlnaHR9O1xuICB9O1xuXG4gIHZhciB1cGRhdGVDaGFydCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNoYXJ0LCBjaGFydERhdGEsIGNoYXJ0UGFkZGluZywgcm90YXRlZCkge1xuICAgICAgLy8geCBheGlzIGxhYmVsIGhlaWdodFxuICAgICAgdmFyIHhMYWJlbCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmMzLWF4aXMteC1sYWJlbCcpO1xuICAgICAgdmFyIHhMYWJlbEhlaWdodCA9IE1hdGguY2VpbCh4TGFiZWwuZ2V0QkJveCgpLmhlaWdodCk7XG4gICAgICAvLyB4IGF4aXMgbGFiZWxzIGJveCBzaXplc1xuICAgICAgdmFyIHhMYWJlbHNCb3ggPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jMy1heGlzLmMzLWF4aXMteCcpO1xuICAgICAgdmFyIHhMYWJlbHNCb3hIZWlnaHQgPSBNYXRoLmNlaWwoeExhYmVsc0JveC5nZXRCQm94KCkuaGVpZ2h0KTtcbiAgICAgIHZhciB4TGFiZWxzQm94V2lkdGggPSBNYXRoLmNlaWwoeExhYmVsc0JveC5nZXRCQm94KCkud2lkdGgpO1xuICAgICAgLy8geSBheGlzIGxhYmVscyBib3ggc2l6ZXNcbiAgICAgIHZhciB5TGFiZWxzQm94ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuYzMtYXhpcy5jMy1heGlzLXknKTtcbiAgICAgIHZhciB5TGFiZWxzQm94SGVpZ2h0ID0gTWF0aC5jZWlsKHlMYWJlbHNCb3guZ2V0QkJveCgpLmhlaWdodCk7XG4gICAgICB2YXIgeUxhYmVsc0JveFdpZHRoID0gTWF0aC5jZWlsKHlMYWJlbHNCb3guZ2V0QkJveCgpLndpZHRoKTtcbiAgICAgIC8vIG1haW4gY2hhcnQgc2l6ZXNcbiAgICAgIHZhciBjaGFydEJveCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmMzLXpvb20tcmVjdCcpO1xuICAgICAgdmFyIGNoYXJ0Qm94SGVpZ2h0ID0gTWF0aC5jZWlsKGNoYXJ0Qm94LmdldEJCb3goKS5oZWlnaHQpO1xuICAgICAgdmFyIGNoYXJ0Qm94V2lkdGggPSBNYXRoLmNlaWwoY2hhcnRCb3guZ2V0QkJveCgpLndpZHRoKTtcbiAgICAgIC8vIG1haW4gc3ZnIHNpemVzXG4gICAgICB2YXIgY2hhcnRBcmVhID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcbiAgICAgIGlmKCFjaGFydEFyZWEpXG4gICAgICAgICAgdmFyIGNoYXJ0QXJlYSA9IGVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnJyk7XG4gICAgICBcbiAgICAgIHZhciBjaGFydEFyZWFXaWR0aCA9IGNoYXJ0QXJlYS5jbGllbnRXaWR0aCB8fCBjaGFydEFyZWEucGFyZW50Tm9kZS5jbGllbnRXaWR0aDtcbiAgICAgIHZhciBjaGFydEFyZWFIZWlnaHQgPSBjaGFydEFyZWEuY2xpZW50SGVpZ2h0IHx8IGNoYXJ0QXJlYS5wYXJlbnROb2RlLmNsaWVudEhlaWdodDs7XG5cbiAgICAgIGNoYXJ0UGFkZGluZy5ib3R0b20gPSB4TGFiZWxIZWlnaHQ7ICAgIFxuICAgICAgXG4gICAgICBpZiAoIWNoYXJ0LmludGVybmFsLmNvbmZpZy5heGlzX3JvdGF0ZWQpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgcGFkZGluZyBib3R0b20gaXMgbmVlZGVkXG4gICAgICAgICAgLy8gYWRkIHBhZGRpbmcgYm90dG9tIGlmIG5lZWRlZFxuICAgICAgICAgIGlmIChjaGFydEJveEhlaWdodCArIHhMYWJlbHNCb3hIZWlnaHQgKyBjaGFydFBhZGRpbmcudG9wID4gY2hhcnRBcmVhSGVpZ2h0KSB7XG4gICAgICAgICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gTWF0aC5hYnMoY2hhcnRBcmVhSGVpZ2h0IC0gKGNoYXJ0Qm94SGVpZ2h0ICsgeExhYmVsc0JveEhlaWdodCArIGNoYXJ0UGFkZGluZy50b3ApKTtcbiAgICAgICAgICAgICAgY2hhcnRQYWRkaW5nLmJvdHRvbSA9IHBhZGRpbmdCb3R0b20gKyB4TGFiZWxIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgcGFkZGluZyByaWdodCBpcyBuZWVkZWRcbiAgICAgICAgICAvLyBhZGQgcGFkZGluZyByaWdodCBpZiBuZWVkZWRcbiAgICAgICAgICBpZiAoeExhYmVsc0JveFdpZHRoID4gY2hhcnRCb3hXaWR0aCkge1xuICAgICAgICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gTWF0aC5hYnMoY2hhcnRCb3hXaWR0aCAtIHhMYWJlbHNCb3hXaWR0aCk7XG4gICAgICAgICAgICAgIGNoYXJ0UGFkZGluZy5yaWdodCA9IHBhZGRpbmdSaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gY2hlY2sgd2hldGhlciBwYWRkaW5nIGxlZnQgaXMgbmVlZGVkXG4gICAgICAgICAgLy8gYWRkIHBhZGRpbmcgbGVmdCBpZiBuZWVkZWRcbiAgICAgICAgICBpZiAoY2hhcnRCb3hXaWR0aCArIHlMYWJlbHNCb3hXaWR0aCA+IGNoYXJ0QXJlYVdpZHRoKSB7XG4gICAgICAgICAgICAgIHZhciBwYWRkaW5nTGVmdCA9IE1hdGguYWJzKGNoYXJ0QXJlYVdpZHRoIC0gKGNoYXJ0Qm94V2lkdGggKyB5TGFiZWxzQm94V2lkdGgpKTtcbiAgICAgICAgICAgICAgY2hhcnRQYWRkaW5nLmxlZnQgPSBwYWRkaW5nTGVmdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhcnQuZGVzdHJveSgpO1xuICAgICAgICAgIGNoYXJ0ID0gYzMuZ2VuZXJhdGUoY2hhcnREYXRhKTtcblxuICAgICAgICAgIC8vIG1vdmUgeCBheGlzIGxhYmVsIG9uIHRoZSBib3R0b20gb2YgdGhlIHggYXhpcyBsYWJlbHMgYm94ICAgICAgICBcbiAgICAgICAgICB2YXIgZHlBdHRyID0geExhYmVsLmdldEF0dHJpYnV0ZSgnZHknKTsgICAgICAgICAgIFxuICAgICAgICAgIHZhciBkeUF0dHJWYWx1ZSA9IGR5QXR0ci5zbGljZSgwLC0yKTsgICAgICAgIFxuICAgICAgICAgIGZ1bmN0aW9uIGVtVG9QeChlbVZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBlbVNpemUgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpKS5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LXNpemUnKSk7XG4gICAgICAgICAgICAgIHJldHVybiAoZW1TaXplICogZW1WYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB4TGFiZWxUb3AgPSBOdW1iZXIoZW1Ub1B4KGR5QXR0clZhbHVlKSk7ICAgICAgICBcbiAgICAgICAgICB2YXIgeExhYmVsVHJhbnNmb3JtID0geExhYmVsc0JveEhlaWdodCAtIHhMYWJlbFRvcCAtIDQ7ICAgIFxuICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmMzLWF4aXMteC1sYWJlbCcpLnNldEF0dHJpYnV0ZSgneScsIHhMYWJlbFRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHBhZGRpbmcgbGVmdCBpcyBuZWVkZWRcbiAgICAgICAgICAvLyBhZGQgcGFkZGluZyBsZWZ0IGlmIG5lZWRlZFxuICAgICAgICAgIGlmIChjaGFydEJveFdpZHRoICsgeExhYmVsc0JveFdpZHRoID4gY2hhcnRBcmVhV2lkdGgpIHtcbiAgICAgICAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gTWF0aC5hYnMoY2hhcnRBcmVhV2lkdGggLSAoY2hhcnRCb3hXaWR0aCArIHhMYWJlbHNCb3hXaWR0aCkpO1xuICAgICAgICAgICAgICBjaGFydFBhZGRpbmcubGVmdCA9IHBhZGRpbmdMZWZ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHBhZGRpbmcgYm90dG9tIGlzIG5lZWRlZFxuICAgICAgICAgIC8vIGFkZCBwYWRkaW5nIGJvdHRvbSBpZiBuZWVkZWRcbiAgICAgICAgICBpZiAoeExhYmVsc0JveEhlaWdodCA+IGNoYXJ0Qm94SGVpZ2h0KSB7XG4gICAgICAgICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gTWF0aC5hYnMoY2hhcnRCb3hIZWlnaHQgLSB4TGFiZWxzQm94SGVpZ2h0KTsgICBcbiAgICAgICAgICAgICAgY2hhcnRQYWRkaW5nLmJvdHRvbSA9IHBhZGRpbmdCb3R0b207XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgcGFkZGluZyByaWdodCBpcyBuZWVkZWRcbiAgICAgICAgICAvLyBhZGQgcGFkZGluZyByaWdodCBpZiBuZWVkZWRcbiAgICAgICAgICBpZiAoeUxhYmVsc0JveFdpZHRoID4gY2hhcnRCb3hXaWR0aCkge1xuICAgICAgICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gTWF0aC5hYnMoY2hhcnRCb3hXaWR0aCAtIHlMYWJlbHNCb3hXaWR0aCk7XG4gICAgICAgICAgICAgIGNoYXJ0UGFkZGluZy5yaWdodCA9IHBhZGRpbmdSaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhcnQuZGVzdHJveSgpO1xuICAgICAgICAgIGNoYXJ0ID0gYzMuZ2VuZXJhdGUoY2hhcnREYXRhKTtcbiAgICAgIH1cbiAgfTsgICAgXG5cbiAgdmFyIGZvcm1hdERhdGFzZXQgPSBmdW5jdGlvbihhcGlSZXNwb25zZSwgYXhpc0Fzc2lnbm1lbnRzLCBhbmFseXNpc1R5cGUpIHtcbiAgICAgIHZhciBuZXdEYXRhID0gXy5leHRlbmQoe30sIGFwaVJlc3BvbnNlKTtcbiAgICAgIHZhciBwb3NzaWJsZUF4aXMgPSBbJ3gnLCd5JywneicsJ3oyJywneTInXTtcblxuICAgICAgbmV3RGF0YS5jaGFydERhdGEgPSB7fVxuICAgICAgbmV3RGF0YS5hbmFseXNpc1R5cGUgPSBhbmFseXNpc1R5cGU7XG5cbiAgICAgIF8uZWFjaChwb3NzaWJsZUF4aXMsIGZ1bmN0aW9uKGF4aXMpIHtcbiAgICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLmhhc093blByb3BlcnR5KGF4aXMpKSB7XG4gICAgICAgICAgbmV3RGF0YS5jaGFydERhdGFbYXhpc10gPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IGF4aXNBc3NpZ25tZW50c1theGlzXS52YWx1ZXMsXG4gICAgICAgICAgICBsYWJlbDogYXhpc0Fzc2lnbm1lbnRzW2F4aXNdLmNvbHVtbl9oZWFkZXJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZihhcGlSZXNwb25zZS5pbnNpZ2h0X21ldGFkYXRhKSB7XG4gICAgICAgIG5ld0RhdGEuY2hhcnREYXRhLm1ldGFkYXRhID0gYXBpUmVzcG9uc2UuaW5zaWdodF9tZXRhZGF0YTtcbiAgICAgIH1cblxuICAgICAgaWYobmV3RGF0YS5hbmFseXNpc1R5cGUuaW5kZXhPZignZ2VvJykgPiAtMSkge1xuICAgICAgICBuZXdEYXRhLmNoYXJ0RGF0YS54LnZhbHVlcyA9IF8ubWFwKG5ld0RhdGEuY2hhcnREYXRhLngudmFsdWVzLCBKU09OLnBhcnNlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gIH07XG4gIFxuICB2YXIgY3JlYXRlU3R5bGVFbGVtZW50ID0gZnVuY3Rpb24oY3NzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgd2luZG93LnBvcGlseS5jaGFydC51dGlscyA9IHtcbiAgICBjaGFydFNpemU6IGNoYXJ0U2l6ZSxcbiAgICB1cGRhdGVDaGFydDogdXBkYXRlQ2hhcnQsXG4gICAgZm9ybWF0RGF0YXNldDogZm9ybWF0RGF0YXNldCxcbiAgICBjcmVhdGVTdHlsZUVsZW1lbnQ6IGNyZWF0ZVN0eWxlRWxlbWVudFxuICB9O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcblxuICAvLyBBdmVyYWdlIG51bWJlciAxIG9mIENhdGVnb3J5IDEgXG4gIFxuICBcbiAgdmFyIGNvbHVtbiA9IGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInBvcGlseS10aXRsZS12YXJpYWJsZVwiID4nKyBsYWJlbC5jb2x1bW5faGVhZGVyICsgJzwvc3Bhbj4nO1xuICB9XG4gIFxuICBcbiAgd2luZG93LnBvcGlseS5jaGFydC5nZW5lcmF0ZUxhYmVscyA9IGZ1bmN0aW9uKGNhbGN1bGF0aW9uLCBheGlzQXNzaWdubWVudHMpIHtcbiAgICAgICAgXG4gICAgaWYoY2FsY3VsYXRpb24gPT0gJ2NvdW50Jykge1xuICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLnopIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJ051bWJlciBvZiBlYWNoICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLnopICsgJyBncm91cGVkIGJ5ICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLngpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRpdGxlOiAnTnVtYmVyIG9mIGVhY2ggJyArIGNvbHVtbihheGlzQXNzaWdubWVudHMueClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmKGNhbGN1bGF0aW9uID09ICdzdW0nICkge1xuICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLnopIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJ1RvdGFsICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLnopICsgJyBieSAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy54KSArICcgZ3JvdXBlZCBieSAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy54KVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYoYXhpc0Fzc2lnbm1lbnRzLnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJ1RvdGFsICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLnkpICsgJyBieSAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy54KVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRpdGxlOiAnVG90YWwgb2YgJyArIGNvbHVtbihheGlzQXNzaWdubWVudHMueClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmKGNhbGN1bGF0aW9uID09ICdhdmVyYWdlJykge1xuICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLnopIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJ0F2ZXJhZ2UgJyArIGNvbHVtbihheGlzQXNzaWdubWVudHMueikgKyAnIGJ5ICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLngpICsgJyBncm91cGVkIGJ5ICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLngpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZihheGlzQXNzaWdubWVudHMueSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRpdGxlOiAnQXZlcmFnZSAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy55KSArICcgYnkgJyArIGNvbHVtbihheGlzQXNzaWdubWVudHMueClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGl0bGU6ICdBdmVyYWdlIG9mICcgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLngpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZihjYWxjdWxhdGlvbiA9PSAncmF0aW8nKSB7XG4gICAgICBpZihheGlzQXNzaWdubWVudHMueSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRpdGxlOiAnUmF0aW8gb2YgcmVjb3JkcyBmb3IgZWFjaCAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy54KSArICcgJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJ1JhdGlvIG9mIGVhY2ggJyArIGNvbHVtbihheGlzQXNzaWdubWVudHMueClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmKGNhbGN1bGF0aW9uID09ICdjb21wYXJpc29uJykge1xuICAgICAgaWYoYXhpc0Fzc2lnbm1lbnRzLnopIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJycgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLnopICsgJyBjb21wYXJlZCB0byAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy54KSArICcgYnkgJyArIGNvbHVtbihheGlzQXNzaWdubWVudHMueClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogJycgKyBjb2x1bW4oYXhpc0Fzc2lnbm1lbnRzLnkpICsgJyBjb21wYXJlZCB0byAnICsgY29sdW1uKGF4aXNBc3NpZ25tZW50cy54KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogJ25vIHRpdGxlJ1xuICAgIH1cbiAgICBcbiAgfVxuXG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgcG9waWx5Q2hhcnQgPSB3aW5kb3cucG9waWx5LmNoYXJ0O1xuICBcbiAgdmFyIGJhciA9IF8uY2xvbmUocG9waWx5Q2hhcnQuYmFzZUNoYXJ0KTtcbiAgYmFyLmRlZmF1bHRGb3IgPSBbXG4gIF07XG4gIGJhci5hY2NlcHRzID0gW1xuICAgICdjb3VudF9ieV9kYXRldGltZScsXG4gICAgJ3JhdGlvX2J5X2RhdGV0aW1lJyxcbiAgICAnc3VtX2J5X2RhdGV0aW1lJyxcbiAgICAnYXZlcmFnZV9ieV9kYXRldGltZScsXG4gICAgJ2NvdW50X3Blcl9jYXRlZ29yeV9ieV9kYXRldGltZScsXG4gICAgJ2F2ZXJhZ2VfcGVyX2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAnY291bnRfcGVyX2NhdGVnb3J5X2J5X2NhdGVnb3J5JyxcbiAgICAnY291bnRfYnlfY2F0ZWdvcnlfYnlfY2F0ZWdvcnlfZGlzdGluY3QnLFxuICAgICdjb3VudF9ieV92YWx1ZScsXG4gICAgJ2NvdW50X2J5X2NhdGVnb3J5JyxcbiAgICAnYXZlcmFnZV9ieV9jYXRlZ29yeScsXG4gICAgJ3N1bV9ieV9jYXRlZ29yeScsXG5cbiAgICAnY291bnRfYnlfc3RhdGUnLFxuICAgICdhdmVyYWdlX2J5X3N0YXRlJyxcbiAgICAnc3VtX2J5X3N0YXRlJyxcblxuICAgICdjb3VudF9ieV9jb3VudHJ5JyxcbiAgICAnYXZlcmFnZV9ieV9jb3VudHJ5JyxcbiAgICAnc3VtX2J5X2NvdW50cnknLFxuXG4gICAgJ3N1bV9zdW1fYnlfY2F0ZWdvcnknLFxuICAgICdzdW1fYnlfY2F0ZWdvcnlfcGVyX2NhdGVnb3J5JyxcbiAgICAnYXZlcmFnZV9ieV9jYXRlZ29yeV9wZXJfY2F0ZWdvcnknLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeV9wZXJfY2F0ZWdvcnknLFxuICAgICdjb3VudF9wZXJfY2F0ZWdvcnlfYnlfY2F0ZWdvcnknLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeV9ieV9kYXRldGltZV9kaXN0aW5jdCcsXG4gICAgJ3RvcF9ieV9yb3dsYWJlbCdcbiAgXTtcblxuXG4gIGJhci5yZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zLCByYXdEYXRhKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgcHJlcHBlZERhdGEgPSBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJhckNvbW1vbi5wcmVwRGF0YShyYXdEYXRhLCBvcHRpb25zKTtcbiAgICAgIHZhciB4VmFsdWVzID0gcHJlcHBlZERhdGFbMF07XG4gICAgICB2YXIgeVZhbHVlcyA9IHByZXBwZWREYXRhWzFdO1xuXG4gICAgICB2YXIgY2hhcnQ7XG4gICAgICAgIFxuICAgICAgdmFyIHJvdGF0ZWQgPSBmYWxzZTtcbiAgICAgIC8vaWYoaW5zaWdodC5vcHRpb25zX3JvdGF0ZSlcbiAgICAgIC8vICByb3RhdGVkID0gdHJ1ZTtcbiAgICAgIGlmKHlWYWx1ZXMubGVuZ3RoID4gNDApIHtcbiAgICAgICAgcm90YXRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmKHJvdGF0ZWQgPT0gdHJ1ZSkge1xuICAgICAgICBpZih5VmFsdWVzLmxlbmd0aCA+IDQwKVxuICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gKHlWYWx1ZXMubGVuZ3RoICogOSkgKyA0NTA7XG4gICAgICB9XG5cbiAgICAgIHZhciB5TGFiZWwgPSByYXdEYXRhLmNoYXJ0RGF0YS55LmxhYmVsO1xuICAgICAgeVZhbHVlcy51bnNoaWZ0KHlMYWJlbCk7XG5cbiAgICAgIHZhciBjaGFydFBhZGRpbmcgPSB0aGF0LmRlZmF1bHRzLmNoYXJ0UGFkZGluZztcblxuICAgICAgdmFyIGNoYXJ0RGF0YSA9IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNvbHVtbnM6IFt5VmFsdWVzXSxcbiAgICAgICAgICB0eXBlOiAnYmFyJ1xuICAgICAgICB9LFxuICAgICAgICBiYXI6IHtcbiAgICAgICAgICB3aWR0aDoge1xuICAgICAgICAgICAgcmF0aW86IChvcHRpb25zLmJhclNpemUgfHwgMC43KVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXhpczoge1xuICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICBjYXRlZ29yaWVzOiB4VmFsdWVzLFxuICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICByb3RhdGU6IDQ1LFxuICAgICAgICAgICAgICBtdWx0aWxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICBoZWlnaHQ6IDEzMCxcbiAgICAgICAgICAgICAgZml0OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgdGV4dDogb3B0aW9ucy54TGFiZWwgfHwgcmF3RGF0YS5jaGFydERhdGEueC5sYWJlbCxcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJvdGF0ZWQ/J291dGVyLW1pZGRsZSc6J2lubmVyLXJpZ2h0JyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnlMYWJlbCB8fCB5TGFiZWwsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiByb3RhdGVkPydpbm5lci1yaWdodCc6J291dGVyLW1pZGRsZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgIGZvcm1hdDogZDMuZm9ybWF0KFwiLFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcm90YXRlZDogcm90YXRlZFxuICAgICAgICB9LFxuICAgICAgICBjb2xvcjogeyAgICAgICAgICAgICAgICBcbiAgICAgICAgICBwYXR0ZXJuOiBvcHRpb25zLmNvbG9yc1xuICAgICAgICB9LCAgICAgICBcbiAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHRcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZDoge1xuICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB5OiB7XG4gICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0b29sdGlwOiAoXy5pc1VuZGVmaW5lZChvcHRpb25zLnRvb2x0aXApP3RydWU6b3B0aW9ucy50b29sdGlwKVxuXG4gICAgICB9XG4gICAgXG4gICAgICBjaGFydERhdGEuYmluZHRvID0gZWxlbWVudDtcbiAgICAgIHZhciBjaGFydCA9IGMzLmdlbmVyYXRlKGNoYXJ0RGF0YSk7XG4gICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICBwb3BpbHkuY2hhcnQudXRpbHMudXBkYXRlQ2hhcnQoZWxlbWVudCwgY2hhcnQsIGNoYXJ0RGF0YSwgY2hhcnRQYWRkaW5nKTtcblxuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQ7XG4gIH07XG5cbiAgcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5iYXIgPSBiYXI7XG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgcG9waWx5Q2hhcnQgPSB3aW5kb3cucG9waWx5LmNoYXJ0O1xuICBcbiAgdmFyIGNoYXJ0ID0gXy5jbG9uZShwb3BpbHlDaGFydC5iYXNlQ2hhcnQpO1xuXG4gIGNoYXJ0LnByZXBEYXRhID0gZnVuY3Rpb24ocmF3RGF0YSwgb3B0aW9ucykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgbGltaXQgPSB0aGF0LmRlZmF1bHRzLmNhdGVnb3J5TGltaXQ7XG4gICAgdmFyIGNsZWFuVmFsdWVzID0gdGhhdC5jbGVhbkRhdGEocmF3RGF0YSk7XG5cbiAgICB2YXIgb3JkZXIgPSBvcHRpb25zLm9yZGVyIHx8ICdhdXRvJztcbiAgICBjbGVhblZhbHVlcyA9IF8udW56aXAoXy56aXAoY2xlYW5WYWx1ZXMpLnNsaWNlKDAsNTAwMCkpWzBdO1xuICAgIHZhciBjbGVhblhWYWx1ZXMgPSBwb3BpbHlDaGFydC5mb3JtYXQudG9OdW1iZXIoY2xlYW5WYWx1ZXNbMF0pO1xuICAgIHZhciBjbGVhbllWYWx1ZXMgPSBwb3BpbHlDaGFydC5mb3JtYXQudG9OdW1iZXIoY2xlYW5WYWx1ZXNbMV0pO1xuXG4gICAgY2xlYW5YVmFsdWVzID0gcG9waWx5Q2hhcnQuZm9ybWF0LmZvcm1hdE51bWJlcnMoY2xlYW5YVmFsdWVzKTtcbiAgICBjbGVhbllWYWx1ZXMgPSBwb3BpbHlDaGFydC5mb3JtYXQuZm9ybWF0TnVtYmVycyhjbGVhbllWYWx1ZXMpO1xuICAgIHZhciBjbGVhblpWYWx1ZXMgPSBjbGVhblZhbHVlc1syXTtcblxuICAgIHJldHVybiBbY2xlYW5YVmFsdWVzLCBjbGVhbllWYWx1ZXMsIGNsZWFuWlZhbHVlc107XG4gIH07XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgY29sdW1ucywgeHMsIHhMYWJlbCwgeUxhYmVsLCB0b29sdGlwKSB7XG4gICAgICB2YXIgY2hhcnRQYWRkaW5nID0ge3JpZ2h0OiAxMCwgdG9wOiAxMH07XG5cbiAgICAgIHZhciBjaGFydERhdGEgPSB7XG4gICAgICAgICAgYmluZHRvOiBlbGVtZW50LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgeHM6IHhzLFxuICAgICAgICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgICAgICAgICB0eXBlOiAnc2NhdHRlcidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhZGRpbmc6IGNoYXJ0UGFkZGluZyxcbiAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICByOiAob3B0aW9ucy5wb2ludFNpemUgfHwgNClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGF4aXM6IHtcbiAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnhMYWJlbCB8fCB4TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdvdXRlci1taWRkbGUnLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICBmaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogMzBcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnlMYWJlbCB8fCB5TGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdvdXRlci1taWRkbGUnXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZDMuZm9ybWF0KFwiLFwiKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBncmlkOiB7XG4gICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgICBwYXR0ZXJuOiBvcHRpb25zLmNvbG9yc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnb3V0ZXItYm90dG9tJyxcbiAgICAgICAgICAgICAgaGlkZTogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9vbHRpcDogdG9vbHRpcFxuICAgICAgfTtcblxuICAgICAgdmFyIGNoYXJ0ID0gYzMuZ2VuZXJhdGUoY2hhcnREYXRhKTtcbiAgICAgIGNoYXJ0RGF0YS5iaW5kdG8gPSBlbGVtZW50O1xuICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgICAgcG9waWx5LmNoYXJ0LnV0aWxzLnVwZGF0ZUNoYXJ0KGVsZW1lbnQsIGNoYXJ0LCBjaGFydERhdGEsIGNoYXJ0UGFkZGluZyk7XG5cbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0O1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuY29tcGFyZSA9IGNoYXJ0O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHBvcGlseUNoYXJ0ID0gd2luZG93LnBvcGlseS5jaGFydDtcbiAgdmFyIGNoYXJ0ID0gXy5jbG9uZShwb3BpbHlDaGFydC5iYXNlQ2hhcnQpO1xuXG4gIGNoYXJ0LnByZXBEYXRhID0gZnVuY3Rpb24ocmF3RGF0YSwgb3B0aW9ucykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgbGltaXQgPSB0aGF0LmRlZmF1bHRzLmNhdGVnb3J5TGltaXQ7XG4gICAgcmF3RGF0YS5jaGFydERhdGEueS52YWx1ZXMgPSBwb3BpbHkuY2hhcnQuY2hhcnREYXRhLmNsZWFuTmFuVG9aZXJvKHJhd0RhdGEuY2hhcnREYXRhLnkudmFsdWVzKVxuICAgIHZhciBjbGVhblZhbHVlcyA9IHRoYXQuY2xlYW5EYXRhKHJhd0RhdGEpO1xuXG4gICAgdmFyIG9yZGVyID0gb3B0aW9ucy5vcmRlciB8fCAnYXV0byc7XG4gICAgY2xlYW5WYWx1ZXMgPSBwb3BpbHlDaGFydC5jaGFydERhdGEuc29ydERhdGEoY2xlYW5WYWx1ZXNbMF0sY2xlYW5WYWx1ZXNbMV0sY2xlYW5WYWx1ZXNbMl0sMCxvcmRlcik7XG5cbiAgICB2YXIgY2xlYW5YVmFsdWVzID0gY2xlYW5WYWx1ZXNbMF07XG4gICAgdmFyIGNsZWFuWVZhbHVlcyA9IHBvcGlseUNoYXJ0LmZvcm1hdC5mb3JtYXROdW1iZXJzKGNsZWFuVmFsdWVzWzFdKTtcbiAgICB2YXIgY2xlYW5aVmFsdWVzID0gY2xlYW5WYWx1ZXNbMl07XG5cbiAgICByZXR1cm4gW2NsZWFuWFZhbHVlcywgY2xlYW5ZVmFsdWVzLCBjbGVhblpWYWx1ZXNdO1xuICB9O1xuXG4gIGNoYXJ0LmdldFlNaW4gPSBmdW5jdGlvbih5VmFsdWVzKSB7XG4gICAgdmFyIHlNaW4gPSAwO1xuICAgIHZhciBsb3dlc3RZID0gXy5taW4oeVZhbHVlcyk7XG4gICAgaWYobG93ZXN0WSA8IDApIHtcbiAgICAgICAgeU1pbiA9IGxvd2VzdFk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHlNaW47XG4gIH07XG5cbiAgY2hhcnQuZ2V0Q2hhcnRPYmplY3QgPSBmdW5jdGlvbihrd2FyZ3MpIHtcbiAgICB2YXIgZWxlbWVudCA9IGt3YXJncy5lbGVtZW50O1xuICAgIHZhciBkYXRhID0ga3dhcmdzLmRhdGE7XG4gICAgdmFyIHhMYWJlbCA9IGt3YXJncy54TGFiZWw7XG4gICAgdmFyIHlMYWJlbCA9IGt3YXJncy55TGFiZWw7XG4gICAgdmFyIHlNaW4gPSBrd2FyZ3MueU1pbjtcbiAgICB2YXIgb3B0aW9ucyA9IGt3YXJncy5vcHRpb25zO1xuICAgIHZhciBkYXRlRm9ybWF0U3RyID0ga3dhcmdzLmRhdGVGb3JtYXRTdHI7XG4gICAgdmFyIGNoYXJ0UGFkZGluZyA9IGt3YXJncy5jaGFydFBhZGRpbmc7XG4gICAgdmFyIHRpY2tGb3JtYXRTdHIgPSBrd2FyZ3MudGlja0Zvcm1hdFN0cjtcblxuICAgIHZhciBjaGFydERhdGEgPSB7XG4gICAgICAgIGJpbmR0bzogZWxlbWVudCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgeDogJ3gnLFxuICAgICAgICAgICAgY29sdW1uczogZGF0YS5jb2x1bW5zLFxuICAgICAgICAgICAgeEZvcm1hdDogZGF0ZUZvcm1hdFN0clxuICAgICAgICB9LFxuICAgICAgICBwYWRkaW5nOiBjaGFydFBhZGRpbmcsXG4gICAgICAgIGF4aXM6IHtcbiAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLm9yZGVyID09ICdhdXRvJyA/ICd0aW1lc2VyaWVzJyA6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICBmaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRpY2tGb3JtYXRTdHIsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZTozMCxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbnMueExhYmVsIHx8IHhMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdpbm5lci1yaWdodCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgbWluOiB5TWluLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbnMueUxhYmVsIHx8IHlMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdvdXRlci1taWRkbGUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZDMuZm9ybWF0KFwiLFwiKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFkZGluZzoge3RvcDowLCBib3R0b206MH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIHBhdHRlcm46IG9wdGlvbnMuY29sb3JzXG4gICAgICAgIH0sXG4gICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgcjogKG9wdGlvbnMucG9pbnRTaXplIHx8IDIuNSlcbiAgICAgICAgfSxcbiAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICBzaG93OiAoXy5pc1VuZGVmaW5lZChvcHRpb25zLnRvb2x0aXApP3RydWU6b3B0aW9ucy50b29sdGlwKVxuICAgICAgICB9LFxuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihvcHRpb25zLm9yZGVyID09ICdhdXRvJykge1xuICAgICAgY2hhcnREYXRhLnRvb2x0aXAuZm9ybWF0ID0ge1xuICAgICAgICB0aXRsZTogZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHJldHVybiBkYXRlRm9ybWF0KGQpO1xuICAgICAgICB9IFxuICAgICAgfVxuXG4gICAgICBjaGFydERhdGEuYXhpcy54LnRpY2sudmFsdWVzID0gdGlja3NWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYXJ0RGF0YTtcbiAgfTtcblxuICBjaGFydC5mb3JtYXREYXRlcyA9IGZ1bmN0aW9uKHhWYWx1ZXMsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICB2YXIgZGF5RGlmZiA9IHBvcGlseS5jaGFydC5mb3JtYXQuZGF5c0RpZmYoeFZhbHVlcyk7IFxuICAgIHZhciB0aWNrRm9ybWF0U3RyID0gcG9waWx5LmNoYXJ0LmZvcm1hdC5mb3JtYXRGcm9tRGF5RGlmZihkYXlEaWZmKTtcbiAgICBcbiAgICB2YXIgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuXG4gICAgdmFyIGRhdGVGb3JtYXRTdHIgPSBwb3BpbHkuY2hhcnQuZm9ybWF0LmZvcm1hdEZyb21JbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgaWYoXy5pc1VuZGVmaW5lZChpbnRlcnZhbCkpIHtcbiAgICAgIGRhdGVGb3JtYXRTdHIgPSBwb3BpbHkuY2hhcnQuZm9ybWF0LmZvcm1hdEZyb21JbnNwZWN0aW9uKHhWYWx1ZXMpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgZGF0ZUZvcm1hdCA9IGQzLnRpbWUuZm9ybWF0KGRhdGVGb3JtYXRTdHIpO1xuICAgIHZhciB0aWNrRm9ybWF0ID0gZDMudGltZS5mb3JtYXQodGlja0Zvcm1hdFN0cik7XG4gICAgdmFyIGZ1bGxGb3JtYXQgPSBkMy50aW1lLmZvcm1hdCgnJVktJW0tJWQgJUg6JU06JVMnKTtcblxuICAgIHZhciB0aWNrc1ZhbHVlcyA9IHBvcGlseS5jaGFydC5mb3JtYXQudGlja0Zvcm1hdFZhbHVlcyh4VmFsdWVzLCB0aWNrRm9ybWF0U3RyLCBkYXRlRm9ybWF0KTtcbiAgICBcbiAgICBpZihkYXRlRm9ybWF0ICE9IGZ1bGxGb3JtYXQpXG4gICAgICBkYXRhLmNhdGVnb3JpZXMgPSBfLm1hcChkYXRhLmNhdGVnb3JpZXMsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlRm9ybWF0KGZ1bGxGb3JtYXQucGFyc2UoZC5zcGxpdCgnLicpWzBdKSk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBkYXRlRm9ybWF0U3RyOiBkYXRlRm9ybWF0U3RyLFxuICAgICAgdGlja0Zvcm1hdFN0cjogdGlja0Zvcm1hdFN0clxuICAgIH1cbiAgfTtcblxuICBjaGFydC5yZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zLCByYXdEYXRhLCBncm91cGVkKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgcHJlcHBlZERhdGEgPSB0aGF0LnByZXBEYXRhKHJhd0RhdGEsIG9wdGlvbnMpO1xuICAgICAgdmFyIHhWYWx1ZXMgPSBwcmVwcGVkRGF0YVswXTtcbiAgICAgIHZhciB5VmFsdWVzID0gcHJlcHBlZERhdGFbMV07XG4gICAgICB2YXIgelZhbHVlcyA9IHByZXBwZWREYXRhWzJdO1xuICAgICAgdmFyIHhMYWJlbCA9IHJhd0RhdGEuY2hhcnREYXRhLngubGFiZWw7XG4gICAgICB2YXIgeUxhYmVsID0gcmF3RGF0YS5jaGFydERhdGEueS5sYWJlbDtcbiAgICBcbiAgICAgIHZhciB5TWluID0gdGhhdC5nZXRZTWluKHlWYWx1ZXMpO1xuICAgICAgeVZhbHVlcy51bnNoaWZ0KHlMYWJlbCk7XG4gICAgICBcbiAgICAgIHZhciBkYXRhID0gcG9waWx5Q2hhcnQuY2hhcnREYXRhLmMzaWZ5KHhWYWx1ZXMseVZhbHVlcyx6VmFsdWVzKTtcbiAgICAgIHZhciBkYXRlRGF0YSA9IHRoYXQuZm9ybWF0RGF0ZXMoeFZhbHVlcywgZGF0YSwgb3B0aW9ucyk7XG5cbiAgICAgIGRhdGEuY2F0ZWdvcmllcy51bnNoaWZ0KCd4Jyk7XG4gICAgICBkYXRhLmNvbHVtbnMudW5zaGlmdChkYXRhLmNhdGVnb3JpZXMpOyBcblxuICAgICAgdmFyIGNoYXJ0UGFkZGluZyA9IHRoYXQuZGVmYXVsdHMuY2hhcnRQYWRkaW5nO1xuICAgICAgXG4gICAgICB2YXIga3dhcmdzID0ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB4TGFiZWw6IHhMYWJlbCxcbiAgICAgICAgeUxhYmVsOiB5TGFiZWwsXG4gICAgICAgIHlNaW46IHlNaW4sXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsIFxuICAgICAgICBkYXRlRm9ybWF0U3RyOiBkYXRlRGF0YS5kYXRlRm9ybWF0U3RyLFxuICAgICAgICBjaGFydFBhZGRpbmc6IGNoYXJ0UGFkZGluZyxcbiAgICAgICAgdGlja0Zvcm1hdFN0cjogZGF0ZURhdGEudGlja0Zvcm1hdFN0clxuICAgICAgfTtcbiAgICAgIHZhciBjaGFydERhdGEgPSB0aGF0LmdldENoYXJ0T2JqZWN0KGt3YXJncyk7XG4gICAgICBjaGFydERhdGEudG9vbHRpcC5ncm91cGVkID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKF8udW5pcSh6VmFsdWVzKS5sZW5ndGggPiAyMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICB9KSgpO1xuXG4gICAgICBpZighXy5pc1VuZGVmaW5lZChvcHRpb25zLmxpbmVTaXplKSkge1xuICAgICAgICB2YXIgc3R5bGUgPSBwb3BpbHkuY2hhcnQudXRpbHMuY3JlYXRlU3R5bGVFbGVtZW50KCcuJytvcHRpb25zLnVuaXF1ZUNsYXNzTmFtZSsnIC5jMy1saW5lIHsgc3Ryb2tlLXdpZHRoOiAnK29wdGlvbnMubGluZVNpemUrJ3B4OyB9JylcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYoZ3JvdXBlZCkge1xuICAgICAgICBjaGFydERhdGEuZGF0YS50eXBlID0gJ2FyZWEnO1xuICAgICAgICBjaGFydERhdGEuZGF0YS5ncm91cHMgPSBbZGF0YS5ncm91cHNdO1xuICAgICAgfVxuICAgICAgXG4gICAgICB2YXIgY2hhcnQgPSBjMy5nZW5lcmF0ZShjaGFydERhdGEpO1xuICAgICAgcG9waWx5LmNoYXJ0LnV0aWxzLnVwZGF0ZUNoYXJ0KGVsZW1lbnQsIGNoYXJ0LCBjaGFydERhdGEsIGNoYXJ0UGFkZGluZyk7XG4gICAgICByZXR1cm4gY2hhcnQ7XG4gIH07XG5cbiAgcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5saW5lYXIgPSBjaGFydDtcbn0pKHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBwb3BpbHlDaGFydCA9IHdpbmRvdy5wb3BpbHkuY2hhcnQ7XG4gIHZhciBjaGFydCA9IF8uY2xvbmUocG9waWx5Q2hhcnQuYmFzZUNoYXJ0KTtcbiAgY2hhcnQuZGVmYXVsdEZvciA9IFtcbiAgICAnYXZlcmFnZV9wZXJfY2F0ZWdvcnlfYnlfY2F0ZWdvcnknLFxuICAgICdzdW1fcGVyX2NhdGVnb3J5X2J5X2NhdGVnb3J5JyxcbiAgICAnY291bnRfYnlfdmFsdWVfYnlfY2F0ZWdvcnknLFxuICAgICdhdmVyYWdlX2J5X2NhdGVnb3J5X2J5X2NhdGVnb3J5JyxcbiAgICAnc3VtX2J5X2NhdGVnb3J5X2J5X3N0YXRlJyxcbiAgICAnY291bnRfYnlfdmFsdWVfYnlfc3RhdGUnLFxuICAgICdhdmVyYWdlX2J5X2NhdGVnb3J5X2J5X3N0YXRlJ1xuICBdO1xuICBjaGFydC5hY2NlcHRzID0gW107XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIHByZXBwZWREYXRhID0gcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5iYXJDb21tb24ucHJlcERhdGEocmF3RGF0YSwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgICB2YXIgeFZhbHVlcyA9IHByZXBwZWREYXRhWzBdO1xuICAgICAgdmFyIHlWYWx1ZXMgPSBwcmVwcGVkRGF0YVsxXTtcbiAgICAgIHZhciB6VmFsdWVzID0gcHJlcHBlZERhdGFbMl07XG4gICAgICB2YXIgeExhYmVsID0gcmF3RGF0YS5jaGFydERhdGEueC5sYWJlbDtcbiAgICAgIHZhciB5TGFiZWwgPSByYXdEYXRhLmNoYXJ0RGF0YS55LmxhYmVsO1xuXG4gICAgICB2YXIgZGF0YSA9IHBvcGlseUNoYXJ0LmNoYXJ0RGF0YS5jM2lmeSh4VmFsdWVzLHlWYWx1ZXMselZhbHVlcyk7XG4gICAgICB2YXIgcm90YXRlZCA9IGZhbHNlO1xuICAgICAgaWYoZGF0YS5jb2x1bW5zLmxlbmd0aCA+IDI1KSB7XG4gICAgICAgICAgcm90YXRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBrd2FyZ3MgPSB7XG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIHpWYWx1ZXM6IHpWYWx1ZXMsXG4gICAgICAgIHJvdGF0ZWQ6IHJvdGF0ZWQsXG4gICAgICAgIHhMYWJlbDogeExhYmVsLFxuICAgICAgICB5TGFiZWw6IHlMYWJlbCxcbiAgICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgICAgfTtcbiAgICAgIHZhciBjaGFydERhdGEgPSBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJhckNvbW1vbi5nZXRDaGFydE9iamVjdChrd2FyZ3MpO1xuXG4gICAgICB2YXIgY2hhcnQgPSBjMy5nZW5lcmF0ZShjaGFydERhdGEpO1xuICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuXG4gICAgICBwb3BpbHkuY2hhcnQudXRpbHMudXBkYXRlQ2hhcnQoZWxlbWVudCwgY2hhcnQsIGNoYXJ0RGF0YSwgdGhhdC5kZWZhdWx0cy5jaGFydFBhZGRpbmcpO1xuXG4gICAgICByZXR1cm4gdGhpcy5jaGFydDtcbiAgfTtcblxuICBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJhckdyb3VwZWQgPSBjaGFydDtcbn0pKHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBwb3BpbHlDaGFydCA9IHdpbmRvdy5wb3BpbHkuY2hhcnQ7XG5cbiAgdmFyIGNoYXJ0ID0gXy5jbG9uZShwb3BpbHlDaGFydC5iYXNlQ2hhcnQpO1xuICBjaGFydC5kZWZhdWx0Rm9yID0gW1xuICAgICdjb3VudF9ieV92YWx1ZScsXG4gICAgJ2NvdW50X2J5X2NhdGVnb3J5JyxcbiAgICAnYXZlcmFnZV9ieV9jYXRlZ29yeScsXG4gICAgJ3N1bV9ieV9jYXRlZ29yeScsXG4gICAgJ3N1bV9zdW1fYnlfY2F0ZWdvcnknLFxuICAgICdzdW1fYnlfY2F0ZWdvcnlfcGVyX2NhdGVnb3J5JyxcbiAgICAnYXZlcmFnZV9ieV9jYXRlZ29yeV9wZXJfY2F0ZWdvcnknLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeV9wZXJfY2F0ZWdvcnknLFxuICAgICdjb3VudF9wZXJfY2F0ZWdvcnlfYnlfY2F0ZWdvcnknLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeV9ieV9jYXRlZ29yeV9kaXN0aW5jdCcsXG4gICAgJ2NvdW50X2J5X2NhdGVnb3J5X2J5X2RhdGV0aW1lX2Rpc3RpbmN0JyxcbiAgICAndG9wX2J5X3Jvd2xhYmVsJ1xuICBdO1xuICBjaGFydC5hY2NlcHRzID0gW107XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIHhWYWx1ZXMgPSByYXdEYXRhLmNoYXJ0RGF0YS54LnZhbHVlcztcbiAgICAgIHZhciBtaW5ZID0gXy5taW4ocmF3RGF0YS5jaGFydERhdGEueS52YWx1ZXMpO1xuICAgICAgdmFyIGNoYXJ0VG9Vc2UgPSBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJ1YmJsZTtcbiAgICAgIGlmKHhWYWx1ZXMubGVuZ3RoIDwgMzAgfHwgbWluWSA8IDApIHtcbiAgICAgICAgY2hhcnRUb1VzZSA9IHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuYmFyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhcnRUb1VzZS5yZW5kZXIoZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSk7XG4gIH07XG5cbiAgcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5iYXJPckJ1YmJsZSA9IGNoYXJ0O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHBvcGlseUNoYXJ0ID0gd2luZG93LnBvcGlseS5jaGFydDtcbiAgdmFyIGNoYXJ0ID0gXy5jbG9uZShwb3BpbHlDaGFydC5iYXNlQ2hhcnQpO1xuXG4gIGNoYXJ0LmRlZmF1bHRGb3IgPSBbXG4gICAgJ3N1bV9ieV9jYXRlZ29yeV9ieV9jYXRlZ29yeScsXG4gICAgJ2NvdW50X2J5X2NhdGVnb3J5X2J5X2NhdGVnb3J5JyxcbiAgICAnY291bnRfYnlfY2F0ZWdvcnlfYnlfY2F0ZWdvcnlfYnlfY2F0ZWdvcnknXG4gIF07XG4gIGNoYXJ0LmFjY2VwdHMgPSBbXG4gICAgJ2F2ZXJhZ2VfcGVyX2NhdGVnb3J5X2J5X2NhdGVnb3J5JyxcbiAgICAnc3VtX3Blcl9jYXRlZ29yeV9ieV9jYXRlZ29yeScsXG4gICAgJ2NvdW50X2J5X3ZhbHVlX2J5X2NhdGVnb3J5JyxcbiAgICAnYXZlcmFnZV9ieV9jYXRlZ29yeV9ieV9jYXRlZ29yeScsXG4gICAgJ3N1bV9wZXJfY2F0ZWdvcnlfYnlfZGF0ZXRpbWUnLFxuICAgICdzdW1fYnlfY2F0ZWdvcnlfYnlfZGF0ZXRpbWUnLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeV9ieV9kYXRldGltZSdcbiAgXTtcblxuICBjaGFydC5yZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zLCByYXdEYXRhKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgcHJlcHBlZERhdGEgPSBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJhckNvbW1vbi5wcmVwRGF0YShyYXdEYXRhLCBvcHRpb25zLCB0cnVlKTtcbiAgICAgIHZhciB4VmFsdWVzID0gcHJlcHBlZERhdGFbMF07XG4gICAgICB2YXIgeVZhbHVlcyA9IHByZXBwZWREYXRhWzFdO1xuICAgICAgdmFyIHpWYWx1ZXMgPSBwcmVwcGVkRGF0YVsyXTtcbiAgICAgIHZhciB6MlZhbHVlcyA9IHByZXBwZWREYXRhWzNdO1xuICAgICAgdmFyIHhMYWJlbCA9IHJhd0RhdGEuY2hhcnREYXRhLngubGFiZWw7XG4gICAgICB2YXIgeUxhYmVsID0gcmF3RGF0YS5jaGFydERhdGEueS5sYWJlbDtcblxuICAgICAgdmFyIGRhdGE7XG4gICAgICB2YXIgZ3JvdXBzO1xuICAgICAgaWYoejJWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBkYXRhID0gcG9waWx5Q2hhcnQuY2hhcnREYXRhLmMzaWZ5TXVsdGkoeFZhbHVlcyx5VmFsdWVzLHpWYWx1ZXMsejJWYWx1ZXMpO1xuICAgICAgICBncm91cHMgPSBkYXRhLmdyb3VwcztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkYXRhID0gcG9waWx5Q2hhcnQuY2hhcnREYXRhLmMzaWZ5KHhWYWx1ZXMseVZhbHVlcyx6VmFsdWVzKTtcbiAgICAgICAgZ3JvdXBzID0gW2RhdGEuZ3JvdXBzXTtcbiAgICAgIH1cbiAgICAgIGRhdGEuY2F0ZWdvcmllcy51bnNoaWZ0KCd4Jyk7XG4gICAgICBkYXRhLmNvbHVtbnMudW5zaGlmdChkYXRhLmNhdGVnb3JpZXMpO1xuICAgICAgdmFyIHJvdGF0ZWQgPSBmYWxzZTtcbiAgICAgIGlmKGRhdGEuY29sdW1uc1swXS5sZW5ndGggPiA0MCkge1xuICAgICAgICAgIHJvdGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIga3dhcmdzID0ge1xuICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB6VmFsdWVzOiB6VmFsdWVzLFxuICAgICAgICByb3RhdGVkOiByb3RhdGVkLFxuICAgICAgICB4TGFiZWw6IHhMYWJlbCxcbiAgICAgICAgeUxhYmVsOiB5TGFiZWwsXG4gICAgICAgIHoyVmFsdWVzOiB6MlZhbHVlcyxcbiAgICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgICAgfTtcbiAgICAgIHZhciBjaGFydERhdGEgPSBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJhckNvbW1vbi5nZXRDaGFydE9iamVjdChrd2FyZ3MpO1xuICAgICAgY2hhcnREYXRhLmRhdGEgPSB7XG4gICAgICAgICAgeDogJ3gnLFxuICAgICAgICAgIGNvbHVtbnM6IGRhdGEuY29sdW1ucyxcbiAgICAgICAgICB0eXBlOiAnYmFyJyxcbiAgICAgICAgICBncm91cHM6IGdyb3Vwc1xuICAgICAgfTtcblxuICAgICAgaWYoejJWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjaGFydERhdGEuZGF0YS5uYW1lcyA9IGRhdGEubmFtZXM7XG4gICAgICAgIHZhciB1bmlxTmFtZXMgPSBfLnVuaXEoXy52YWx1ZXMoZGF0YS5uYW1lcykpO1xuICAgICAgICB2YXIgbmFtZUNvbG9ycyA9IF8uemlwKHVuaXFOYW1lcyxfLmZpcnN0KG9wdGlvbnMuY29sb3JzLHVuaXFOYW1lcy5sZW5ndGgpKTtcbiAgICAgICAgdmFyIGNvbG9ycyA9IHt9O1xuXG4gICAgICAgIF8uZWFjaChuYW1lQ29sb3JzLCBmdW5jdGlvbihuYW1lQ29sb3IpIHtcbiAgICAgICAgICBfLmVhY2goXy51bmlxKHoyVmFsdWVzKSwgZnVuY3Rpb24oejIpIHtcbiAgICAgICAgICAgIGNvbG9yc1tuYW1lQ29sb3JbMF0gKyAnX19fJyArIHoyXSA9IG5hbWVDb2xvclsxXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhcnREYXRhLmRhdGEuY29sb3JzID0gY29sb3JzO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhcnQgPSBjMy5nZW5lcmF0ZShjaGFydERhdGEpO1xuICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuXG4gICAgICBwb3BpbHkuY2hhcnQudXRpbHMudXBkYXRlQ2hhcnQoZWxlbWVudCwgY2hhcnQsIGNoYXJ0RGF0YSwgdGhhdC5kZWZhdWx0cy5jaGFydFBhZGRpbmcpO1xuXG4gICAgICByZXR1cm4gdGhpcy5jaGFydDtcbiAgfTtcblxuICBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmJhclN0YWNrZWQgPSBjaGFydDtcbn0pKHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBwb3BpbHlDaGFydCA9IHdpbmRvdy5wb3BpbHkuY2hhcnQ7XG4gIFxuICB2YXIgY2hhcnQgPSBfLmNsb25lKHBvcGlseUNoYXJ0LmJhc2VDaGFydCk7XG4gIGNoYXJ0LmRlZmF1bHRGb3IgPSBbXTtcbiAgY2hhcnQuYWNjZXB0cyA9IFtcbiAgICAnY291bnRfYnlfdmFsdWUnLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeScsXG4gICAgJ2F2ZXJhZ2VfYnlfY2F0ZWdvcnknLFxuICAgICdzdW1fYnlfY2F0ZWdvcnknLFxuICAgICdzdW1fc3VtX2J5X2NhdGVnb3J5JyxcbiAgICAnc3VtX2J5X2NhdGVnb3J5X3Blcl9jYXRlZ29yeScsXG4gICAgJ2F2ZXJhZ2VfYnlfY2F0ZWdvcnlfcGVyX2NhdGVnb3J5JyxcbiAgICAnY291bnRfYnlfY2F0ZWdvcnlfcGVyX2NhdGVnb3J5JyxcbiAgICAnY291bnRfcGVyX2NhdGVnb3J5X2J5X2NhdGVnb3J5JyxcbiAgICAndG9wX2J5X3Jvd2xhYmVsJ1xuICBdO1xuXG4gIGNoYXJ0LnByZXBEYXRhID0gZnVuY3Rpb24ocmF3RGF0YSwgb3B0aW9ucykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgbGltaXQgPSB0aGF0LmRlZmF1bHRzLmNhdGVnb3J5TGltaXQ7XG4gICAgdmFyIGNsZWFuVmFsdWVzID0gdGhhdC5jbGVhbkRhdGEocmF3RGF0YSk7XG5cbiAgICB2YXIgY2xlYW5YVmFsdWVzID0gY2xlYW5WYWx1ZXNbMF07XG4gICAgdmFyIGNsZWFuWVZhbHVlcyA9IHBvcGlseUNoYXJ0LmZvcm1hdC5mb3JtYXROdW1iZXJzKGNsZWFuVmFsdWVzWzFdKTtcblxuICAgIHJldHVybiBbY2xlYW5YVmFsdWVzLCBjbGVhbllWYWx1ZXNdO1xuICB9O1xuXG4gIGNoYXJ0LnJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIHJhd0RhdGEpIHtcbiAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICBmb3JtYXQgPSBkMy5mb3JtYXQoXCIsZFwiKSxcbiAgICAgICAgLy9jb2xvciA9IGQzLnNjYWxlLmNhdGVnb3J5MjBjKCk7XG4gICAgICAgIGNvbG9yID0gZDMuc2NhbGUub3JkaW5hbCgpLnJhbmdlKG9wdGlvbnMuY29sb3JzKTtcbiAgICB2YXIgZGF0YSA9IHsnY2hpbGRyZW4nOiBbXG4gICAgICAgICAgICB7J25hbWUnOiAnbmVnYXRpdmUnLCAnY2hpbGRyZW4nOiBbXX0sXG4gICAgICAgICAgICB7J25hbWUnOiAncG9zaXRpdmUnLCAnY2hpbGRyZW4nOiBbXX0sXG4gICAgICAgIF19O1xuICAgIGlmKHR5cGVvZiB3aW5kb3cuY2hhcnRTaXplID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5jaGFydFNpemUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHsnaGVpZ2h0Jzogd2lkdGh9OyB9O1xuICAgIH1cbiAgICAgICAgXG4gICAgdmFyIHByZXBwZWREYXRhID0gdGhpcy5wcmVwRGF0YShyYXdEYXRhLCBvcHRpb25zKTtcbiAgICB2YXIgeFZhbHVlcyA9IHByZXBwZWREYXRhWzBdO1xuICAgIHZhciB5VmFsdWVzID0gcHJlcHBlZERhdGFbMV07XG4gICAgdmFyIHhMYWJlbCA9IHJhd0RhdGEuY2hhcnREYXRhLngubGFiZWw7XG4gICAgXG4gICAgXy5lYWNoKF8uZmlyc3QoeVZhbHVlcywyMDApLCBmdW5jdGlvbih5VmFsdWUsaSkge1xuICAgICAgICBpZih5VmFsdWU+MClcbiAgICAgICAgICAgIGRhdGEuY2hpbGRyZW5bMV0uY2hpbGRyZW4ucHVzaCh7Y2F0ZWdvcnk6IHhWYWx1ZXNbaV0sIGNsYXNzTmFtZTogJ2RhdGEnLCBzaG93VmFsdWU6IHlWYWx1ZSwgdmFsdWU6IHBhcnNlRmxvYXQoeVZhbHVlKSB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGF0YS5jaGlsZHJlblswXS5jaGlsZHJlbi5wdXNoKHtjYXRlZ29yeTogeVZhbHVlc1tpXSwgY2xhc3NOYW1lOiAnZGF0YScsIHNob3dWYWx1ZTogeVZhbHVlLCB2YWx1ZTogLTEqcGFyc2VGbG9hdCh5VmFsdWUpIH0pO1xuICAgIH0pO1xuXG4gICAgd2lkdGggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIHZhciBzaXplID0gcG9waWx5Q2hhcnQudXRpbHMuY2hhcnRTaXplKCk7XG4gICAgaGVpZ2h0ID0gc2l6ZVsnaGVpZ2h0J107XG4gICAgXG5cbiAgICB2YXIgYnViYmxlID0gZDMubGF5b3V0LnBhY2soKVxuICAgICAgICAuc29ydChudWxsKVxuICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXG4gICAgICAgIC5wYWRkaW5nKDQpO1xuXG4gICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChlbGVtZW50KS5hcHBlbmQoXCJzdmdcIilcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aClcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0KVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYnViYmxlXCIpO1xuXG4gICAgaWYoKF8uaXNVbmRlZmluZWQob3B0aW9ucy50b29sdGlwKT90cnVlOm9wdGlvbnMudG9vbHRpcCkpIHtcbiAgICAgICAgdmFyIHRpcCA9IGQzLnRpcCgpXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZDMtdGlwcycpXG4gICAgICAgICAgICAub2Zmc2V0KFstNSwgMF0pXG4gICAgICAgICAgICAuaHRtbChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBcIjx0YWJsZSBjbGFzcz0nYzMtdG9vbHRpcCc+PHRyPjx0aCBjb2xzcGFuPScyJz5cIiArIGQuY2F0ZWdvcnkgKyBcIjwvdGg+PC90cj5cIjtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiPHRyIGNsYXNzPSdjMy10b29sdGlwLW5hbWUtJz5cIjtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiPHRkIGNsYXNzPSduYW1lJz48c3BhbiBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjpcIiArIGNvbG9yKGQuY2F0ZWdvcnkpICsgXCInPjwvc3Bhbj4gXCIgKyB4TGFiZWwgKyBcIjwvdGQ+XCI7XG4gICAgICAgICAgICAgICAgdGV4dCArPSBcIjx0ZCBjbGFzcz0ndmFsdWUnPlwiICsgZC5zaG93VmFsdWUgKyBcIjwvdGQ+XCI7XG4gICAgICAgICAgICAgICAgdGV4dCArPSBcIjwvdHI+XCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQgKyBcIjwvdGFibGU+XCI7IFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHN2Zy5jYWxsKHRpcCk7XG4gICAgfVxuICAgIFxuICAgIHZhciBub2RlID0gc3ZnLnNlbGVjdEFsbChcIi5ub2RlXCIpXG4gICAgICAgIC5kYXRhKFxuICAgICAgICAgICAgYnViYmxlLm5vZGVzKGRhdGEpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihkKSB7IHJldHVybiAhZC5jaGlsZHJlbn0pXG4gICAgICAgIClcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibm9kZVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiOyB9KVxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHRpcC5zaG93KGQsIGQpO1xuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMuY2hpbGROb2Rlc1swXSlcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiclwiLCBkLnIrNSlcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMClcbiAgICAgICAgICAgICAgICAuYXR0cihcInJcIiwgZC5yKzMpXG4gICAgICAgIH0pXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihkKSB7IFxuICAgICAgICAgICAgdGlwLmhpZGUoZCk7XG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5jaGlsZE5vZGVzWzBdKVxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsIGQucilcbiAgICAgICAgfSk7XG4gIFxuICAgIG5vZGUuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiclwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnI7IH0pXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY29sb3IoZC5jYXRlZ29yeSk7IH0pO1xuICAgICAgICBcbiAgICBub2RlLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zZW1cIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyBcbiAgICAgICAgICAgIGlmIChkLnIgLyAzID4gMykgcmV0dXJuIGQuY2F0ZWdvcnkuc3Vic3RyaW5nKDAsIGQuciAvIDMpOyBcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuICcnO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcblxuICAgIHZhciBvblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aWR0aCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIHNpemUgPSBwb3BpbHlDaGFydC51dGlscy5jaGFydFNpemUoKTtcbiAgICAgICAgaGVpZ2h0ID0gc2l6ZVsnaGVpZ2h0J107XG4gICAgICAgIHN2Z1xuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aClcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG5cbiAgICAgICAgdmFyIGJ1YmJsZSA9IGQzLmxheW91dC5wYWNrKClcbiAgICAgICAgICAgIC5zb3J0KG51bGwpXG4gICAgICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXG4gICAgICAgICAgICAucGFkZGluZyg0KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBub2RlID0gc3ZnLnNlbGVjdEFsbChcIi5ub2RlXCIpXG4gICAgICAgICAgICAuZGF0YShcbiAgICAgICAgICAgICAgICBidWJibGUubm9kZXMoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGQpIHsgcmV0dXJuICFkLmNoaWxkcmVufSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIHN2Zy5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjsgfSk7XG4gICAgICAgIFxuICAgICAgICBzdmcuc2VsZWN0QWxsKFwiY2lyY2xlXCIpXG4gICAgICAgICAgICAuYXR0cihcInJcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5yOyB9KTtcbiAgICAgICAgc3ZnLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHsgXG4gICAgICAgICAgICAgICAgaWYgKGQuciAvIDMgPiAzKSByZXR1cm4gZC5jYXRlZ29yeS5zdWJzdHJpbmcoMCwgZC5yIC8gMyk7IFxuICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgXG4gICAgfTtcblxuICAgIHdpbmRvdy5vbnJlc2l6ZSA9IG9uUmVzaXplO1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuYnViYmxlID0gY2hhcnQ7XG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgcG9waWx5Q2hhcnQgPSB3aW5kb3cucG9waWx5LmNoYXJ0O1xuXG4gIHZhciBjaGFydCA9IF8uY2xvbmUocG9waWx5Q2hhcnQuYmFzZUNoYXJ0KTtcbiAgY2hhcnQuZGVmYXVsdEZvciA9IFtcbiAgICAnYXZlcmFnZV9ieV9zdGF0ZScsXG4gICAgJ3N1bV9ieV9zdGF0ZScsXG4gICAgJ3N1bV9ieV9jb3VudHJ5JyxcbiAgICAnYXZlcmFnZV9ieV9jb3VudHJ5JyxcbiAgICAnY291bnRfYnlfY291bnRyeScsXG4gICAgJ2NvdW50X2J5X3N0YXRlJ1xuICBdO1xuICBjaGFydC5hY2NlcHRzID0gW107XG5cbiAgY2hhcnQuZ2V0VmFsID0gZnVuY3Rpb24odW5pdE5hbWUsIHZhbHVlTG9va3VwKSB7XG4gICAgICBpZih2YWx1ZUxvb2t1cFt1bml0TmFtZV0pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVMb29rdXBbdW5pdE5hbWVdO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmFtZSA9IHVuaXROYW1lO1xuICAgICAgaWYobmFtZS5sZW5ndGggPT0gMikge1xuICAgICAgICAgIG5hbWUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgICBuYW1lID0gbmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsnbmFtZSc6bmFtZSwgJ3ZhbHVlJzogJ24vYSd9O1xuICB9O1xuXG4gIGNoYXJ0LnByZXBEYXRhID0gZnVuY3Rpb24ocmF3RGF0YSwgb3B0aW9ucykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgbGltaXQgPSB0aGF0LmRlZmF1bHRzLmNhdGVnb3J5TGltaXQ7XG4gICAgdmFyIGNsZWFuVmFsdWVzID0gdGhhdC5jbGVhbkRhdGEocmF3RGF0YSk7XG5cbiAgICB2YXIgb3JkZXIgPSBvcHRpb25zLm9yZGVyIHx8ICdhdXRvJztcbiAgICBjbGVhblZhbHVlcyA9IHBvcGlseUNoYXJ0LmNoYXJ0RGF0YS5zb3J0RGF0YShjbGVhblZhbHVlc1swXSxwb3BpbHlDaGFydC5mb3JtYXQudG9OdW1iZXIoY2xlYW5WYWx1ZXNbMV0pKTtcblxuICAgIHZhciBjbGVhblhWYWx1ZXMgPSBjbGVhblZhbHVlc1swXTtcbiAgICB2YXIgY2xlYW5ZVmFsdWVzID0gcG9waWx5Q2hhcnQuZm9ybWF0LmZvcm1hdE51bWJlcnMoY2xlYW5WYWx1ZXNbMV0pO1xuXG4gICAgdmFyIGNsZWFuWFZhbHVlc1NsdWdpZmllZCA9IF8ubWFwKGNsZWFuWFZhbHVlcywgcG9waWx5Q2hhcnQuZm9ybWF0LnNsdWdpZnkpO1xuICAgIHZhciB2YWx1ZUxvb2t1cCA9IF8ub2JqZWN0KGNsZWFuWFZhbHVlc1NsdWdpZmllZCwgY2xlYW5YVmFsdWVzKTtcbiAgICB2YWx1ZUxvb2t1cCA9IF8ubWFwT2JqZWN0KHZhbHVlTG9va3VwLCBmdW5jdGlvbih2YWwsIGtleSkgeyBcbiAgICAgIHJldHVybiB7J25hbWUnOiB2YWx9O1xuICAgIH0pO1xuXG4gICAgXy5lYWNoKF8uemlwKGNsZWFuWFZhbHVlc1NsdWdpZmllZCxjbGVhbllWYWx1ZXMpLCBmdW5jdGlvbihhcnIpIHtcbiAgICAgICAgaWYoYXJyWzFdKSB7XG4gICAgICAgICAgICB2YWx1ZUxvb2t1cFthcnJbMF1dWyd2YWx1ZSddID0gbnVtZXJhbChhcnJbMV0pLmZvcm1hdCgnMCwwJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZUxvb2t1cFthcnJbMF1dWyd2YWx1ZSddID0gYXJyWzFdO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gW2NsZWFuWFZhbHVlc1NsdWdpZmllZCwgY2xlYW5ZVmFsdWVzLCB2YWx1ZUxvb2t1cF07XG4gIH07XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIHByZXBwZWREYXRhID0gdGhhdC5wcmVwRGF0YShyYXdEYXRhLCBvcHRpb25zKTtcbiAgICAgIHZhciB4VmFsdWVzID0gcHJlcHBlZERhdGFbMF07XG4gICAgICB2YXIgeVZhbHVlcyA9IHByZXBwZWREYXRhWzFdO1xuICAgICAgdmFyIHZhbHVlTG9va3VwID0gcHJlcHBlZERhdGFbMl07XG4gICAgICB2YXIgZGF0YURpcmVjdG9yeSA9IG9wdGlvbnMuZGF0YURpcmVjdG9yeSB8fCAnL2RhdGEnO1xuXG4gICAgICB2YXIgY3VycmVudE1vdXNlUG9zID0geyB4OiAtMSwgeTogLTEgfTtcbiAgICAgIHZhciBvbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGN1cnJlbnRNb3VzZVBvcy54ID0gZXZlbnQucGFnZVg7XG4gICAgICAgIGN1cnJlbnRNb3VzZVBvcy55ID0gZXZlbnQucGFnZVlcbiAgICAgIH07XG5cbiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gb25Nb3VzZU1vdmU7XG5cbiAgICAgIHZhciBpbnNpZ2h0VHlwZSA9IHJhd0RhdGEuYW5hbHlzaXNUeXBlO1xuICAgICAgdmFyIGdlb0ZpbGUgPSBkYXRhRGlyZWN0b3J5ICsgJy93b3JsZC9jb3VudHJpZXMuanNvbic7XG4gICAgICB2YXIgaXNTdGF0ZSA9IGZhbHNlO1xuXG4gICAgICBpZihpbnNpZ2h0VHlwZS5pbmRleE9mKCdfc3RhdGUnKSA+IC0xKSB7XG4gICAgICAgICAgZ2VvRmlsZSA9IGRhdGFEaXJlY3RvcnkgKyAnL2NvdW50cmllcy9VU0EuanNvbic7XG4gICAgICAgICAgaXNTdGF0ZSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgbGVuZ3RocyA9IF8ubWFwKHhWYWx1ZXMsZnVuY3Rpb24oeCkgeyByZXR1cm4geC5sZW5ndGg7IH0pO1xuICAgICAgICAgIHZhciB0b3RhbExlbmd0aCA9IF8ucmVkdWNlKGxlbmd0aHMsZnVuY3Rpb24odG90YWwsIGwpIHsgcmV0dXJuIHRvdGFsICsgbCB9KTtcblxuICAgICAgICAgIGlmKHRvdGFsTGVuZ3RoL3hWYWx1ZXMubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICBnZW9GaWxlID0gZGF0YURpcmVjdG9yeSArICcvY291bnRyaWVzL1VTQS1hYmJyLmpzb24nO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHRvb2x0aXAgPSBkMy5zZWxlY3QoXCJib2R5XCIpXG4gICAgICAgICAgICAgIC5hcHBlbmQoXCJkaXZcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxuICAgICAgICAgICAgICAuc3R5bGUoXCJ6LWluZGV4XCIsIFwiMTBcIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIFwiMHB4XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIilcbiAgICAgICAgICAgICAgLnN0eWxlKFwiYmFja2dyb3VuZFwiLCBcIndoaXRlXCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcInBhZGRpbmdcIiwgXCI0cHggOHB4XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtY29sb3JcIiwgXCIjNDQ0XCIpXG4gICAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgICAudGV4dChcImEgc2ltcGxlIHRvb2x0aXBcIik7XG5cbiAgICAgIHZhciBtYXBPYmogPSBkMy5nZW9tYXAuY2hvcm9wbGV0aCgpLmdlb2ZpbGUoZ2VvRmlsZSk7XG5cbiAgICAgIGlmKGlzU3RhdGUpIHtcbiAgICAgICAgICBtYXBPYmogPSBtYXBPYmoucHJvamVjdGlvbihkMy5nZW8uYWxiZXJzVXNhKTtcbiAgICAgICAgICB2YXIgbWFwU2l6ZSA9IFs5NjAsNTAwXVxuICAgICAgICAgIHZhciBtYXBTY2FsZVJhdGUgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgbWFwT2JqID0gbWFwT2JqLnByb2plY3Rpb24oZDMuZ2VvLmVxdWlyZWN0YW5ndWxhcik7XG4gICAgICAgICAgdmFyIG1hcFNpemUgPSBbOTYwLDUwMF1cbiAgICAgICAgICB2YXIgbWFwU2NhbGVSYXRlID0gMC4xNTtcbiAgICAgICAgLy9tYXAgPSBtYXAucHJvamVjdGlvbihkMy5nZW8ubWVyY2F0b3IpO1xuICAgICAgfVxuICAgIFxuICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luTGVmdCA9ICdhdXRvJztcbiAgICBlbGVtZW50LnN0eWxlLm1hcmdpblJpZ2h0ID0gJ2F1dG8nO1xuICAgIHZhciBtYXBSYXRpbyA9IG1hcFNpemVbMF0vbWFwU2l6ZVsxXTtcblxuICAgIGlmKG9wdGlvbnMuaGVpZ2h0ICYmIG9wdGlvbnMuaGVpZ2h0LnRvU3RyaW5nKCkuaW5kZXhPZignJScpID4gLTEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nob3JvcGxldGggbWFwIGhlaWdodCBtdXN0IGJlIHN1cHBsaWVkIGFzIHBpeGVsIHZhbHVlLCBkZWZhdWx0aW5nIHRvIDUwMCcpO1xuICAgICAgb3B0aW9ucy5oZWlnaHQgPSA1MDA7XG4gICAgfVxuICAgIFxuICAgIHZhciBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCA1MDA7XG4gICAgdmFyIHdpZHRoID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBpZih3aWR0aC9tYXBSYXRpbyA8IGhlaWdodCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gd2lkdGgvbWFwUmF0aW87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aWR0aCA9IGhlaWdodCptYXBSYXRpbztcbiAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgIH1cblxuICAgIHZhciBzY2FsZSA9IGhlaWdodCAqIG1hcFJhdGlvICogbWFwU2NhbGVSYXRlO1xuXG4gICAgdmFyIG1hcENvbG9ycyA9IG9wdGlvbnMuY29sb3JzO1xuICAgIGlmKF8uZGlmZmVyZW5jZShvcHRpb25zLmNvbG9ycywgcG9waWx5Q2hhcnQuYmFzZUNoYXJ0LmRlZmF1bHRzLm9wdGlvbnMuY29sb3JzKS5sZW5ndGggPT0gMCkge1xuICAgICAgbWFwQ29sb3JzID0gWydHcmVlbnMnXTtcbiAgICB9XG4gICAgXG4gICAgdmFyIG1hcENvbG9yID0gbWFwQ29sb3JzW18ucmFuZG9tKDAsIG1hcENvbG9ycy5sZW5ndGggLSAxKV07IFxuXG4gICAgdmFyIGZvcm1hdCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcmV0dXJuIGQzLmZvcm1hdCgnLC4yZicpKGQpO1xuICAgIH1cblxuICAgIG1hcE9iaiA9IG1hcE9ialxuICAgICAgICAuY29sb3JzKGNvbG9yYnJld2VyW21hcENvbG9yXVs5XSlcbiAgICAgICAgLmNvbHVtbigneVZhbHVlJylcbiAgICAgICAgLnVuaXRJZCgneFZhbHVlJylcbiAgICAgICAgLmZvcm1hdChmb3JtYXQpXG4gICAgICAgIC5sZWdlbmQodHJ1ZSlcbiAgICAgICAgLnNjYWxlKHNjYWxlKVxuICAgICAgICAucG9zdFVwZGF0ZShmdW5jdGlvbihtKSB7IFxuICAgICAgICAgICAgdmFyIHBhdGhzID0gZDMuc2VsZWN0KCdnLnVuaXRzJykuc2VsZWN0QWxsKCdwYXRoJyk7XG4gICAgICAgICAgICBwYXRocy5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciB1bml0TmFtZSA9IHNlbGVjdGVkLmF0dHIoJ2NsYXNzJykuc3BsaXQoJ3VuaXQtJylbMV0udHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2xhc3NlZChcImFjdGl2ZVwiLCB0cnVlICk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGF0LmdldFZhbCh1bml0TmFtZSx2YWx1ZUxvb2t1cCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcC50ZXh0KGxhYmVsWyduYW1lJ10gKyBcIjogXCIgKyBsYWJlbFsndmFsdWUnXSlcbiAgICAgICAgICAgICAgICAgIC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUoXCJ0b3BcIiwgTWF0aC5taW4oKGN1cnJlbnRNb3VzZVBvcy55LTEwKSwgd0hlaWdodC0zMCkrXCJweFwiKS5zdHlsZShcImxlZnRcIiwoY3VycmVudE1vdXNlUG9zLngrMTApK1wicHhcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJhY3RpdmVcIiwgZmFsc2UpXG4gICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUoXCJ0b3BcIiwgXCIwcHhcIikuc3R5bGUoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgdmFyIGRhdGEgPSBfLm1hcChfLnppcCh4VmFsdWVzLHlWYWx1ZXMpLCBmdW5jdGlvbihhcnIpIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhWYWx1ZTphcnJbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5VmFsdWU6YXJyWzFdIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBkMy5zZWxlY3QoZWxlbWVudClcbiAgICAgICAgLmRhdHVtKGRhdGEpXG4gICAgICAgIC5jYWxsKG1hcE9iai5kcmF3LCBtYXBPYmopO1xuXG5cbiAgICBpZihvcHRpb25zLnNob3dMZWdlbmQgPT09IGZhbHNlKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGUtbGVnZW5kJyk7XG4gICAgfVxuXG4gICAgdmFyIHdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgdmFyIHdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgdmFyIG9uV2luZG93UmVzaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZih3SGVpZ2h0ID09IHdpbmRvdy5pbm5lckhlaWdodCAmJiB3V2lkdGggPT0gd2luZG93LmlubmVyV2lkdGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIHdXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBcbiAgICAgICAgdmFyIHN2ZyA9IGVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnJyk7XG4gICAgICAgIGQzLnNlbGVjdChzdmcpLnJlbW92ZSgpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgNTAwO1xuICAgICAgICB3aWR0aCA9IGVsZW1lbnQucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgaWYod2lkdGgvbWFwUmF0aW8gPCBoZWlnaHQpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoL21hcFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQqbWFwUmF0aW87XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGUgPSBoZWlnaHQgKiBtYXBSYXRpbyAqIG1hcFNjYWxlUmF0ZTtcbiAgICAgICAgbWFwT2JqLnNjYWxlKHNjYWxlKTtcbiAgICAgICAgbWFwT2JqLnRyYW5zbGF0ZShbd2lkdGgvMiwgaGVpZ2h0LzJdKTtcbiBcbiAgICAgICAgZDMuc2VsZWN0KGVsZW1lbnQpXG4gICAgICAgICAgICAuZGF0dW0oZGF0YSlcbiAgICAgICAgICAgIC5jYWxsKG1hcE9iai5kcmF3LCBtYXBPYmopO1xuICAgIH07XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25XaW5kb3dSZXNpemUpO1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuY2hvcm9wbGV0aCA9IGNoYXJ0O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHBvcGlseUNoYXJ0ID0gd2luZG93LnBvcGlseS5jaGFydDtcbiAgXG4gIHZhciBjaGFydCA9IF8uY2xvbmUocG9waWx5Q2hhcnQuYmFzZUNoYXJ0KTtcbiAgY2hhcnQuZGVmYXVsdEZvciA9IFtcbiAgICAncmF0aW9fcGVyX2NhdGVnb3J5J1xuICBdO1xuICBjaGFydC5hY2NlcHRzID0gW107XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIGNoYXJ0UGFkZGluZyA9IHRoYXQuZGVmYXVsdHMuY2hhcnRQYWRkaW5nO1xuICAgICAgdmFyIHlWYWx1ZXMgPSByYXdEYXRhLmNoYXJ0RGF0YS55LnZhbHVlcztcblxuICAgICAgdmFyIGNoYXJ0RGF0YSA9IHtcbiAgICAgICAgICBiaW5kdG86IGVsZW1lbnQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBjb2x1bW5zOiBbWydkYXRhJywgcGFyc2VGbG9hdCh5VmFsdWVzWzBdKSAqIDEwMF1dLFxuICAgICAgICAgICAgICB0eXBlOiAnZ2F1Z2UnXG4gICAgICAgICAgfSwgICAgICAgICAgICAgIFxuICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICAgIHBhdHRlcm46IG9wdGlvbnMuY29sb3JzXG4gICAgICAgICAgfSwgICAgICAgICAgICAgIFxuICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICBoaWRlOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbnJlc2l6ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICAgICAgICAgICAgICBjaGFydC5yZXNpemUoe2hlaWdodDoyMjB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgY2hhcnQucmVzaXplKHtoZWlnaHQ6MzQwfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGNoYXJ0ID0gYzMuZ2VuZXJhdGUoY2hhcnREYXRhKTsgXG5cbiAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0O1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuZ2F1Z2UgPSBjaGFydDtcbn0pKHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBwb3BpbHlDaGFydCA9IHdpbmRvdy5wb3BpbHkuY2hhcnQ7XG4gIFxuICB2YXIgY2hhcnQgPSBfLmNsb25lKHBvcGlseUNoYXJ0LmJhc2VDaGFydCk7XG5cbiAgY2hhcnQuZGVmYXVsdEZvciA9IFtcbiAgICAnZ2VvX3BvaW50cycsXG4gICAgJ2dlb19wb2ludHNfY2F0ZWdvcnknLFxuICAgICdnZW9fcG9pbnRzX2Ftb3VudCcsXG4gICAgJ2dlb19wb2ludHNfY2F0ZWdvcnlfYW1vdW50J1xuICBdO1xuICBjaGFydC5hY2NlcHRzID0gW107XG5cbiAgY2hhcnQucHJlcERhdGEgPSBmdW5jdGlvbihyYXdEYXRhLCBvcHRpb25zKSB7XG4gICAgdmFyIHhWYWx1ZXMgPSByYXdEYXRhLmNoYXJ0RGF0YS54LnZhbHVlcztcbiAgICB2YXIgelZhbHVlcyA9IFtdO1xuICAgIGlmKHJhd0RhdGEuY2hhcnREYXRhLnopIHtcbiAgICAgIHpWYWx1ZXMgPSByYXdEYXRhLmNoYXJ0RGF0YS56LnZhbHVlcztcbiAgICB9XG4gICAgdmFyIHlWYWx1ZXMgPSBbXTtcbiAgICBpZihyYXdEYXRhLmNoYXJ0RGF0YS55KSB7XG4gICAgICB5VmFsdWVzID0gcmF3RGF0YS5jaGFydERhdGEueS52YWx1ZXM7XG4gICAgfVxuICAgIHZhciByb3dMYWJlbHMgPSBbXTtcbiAgICBpZihyYXdEYXRhLmNoYXJ0RGF0YS5tZXRhZGF0YS5yb3dsYWJlbHMpIHtcbiAgICAgIHJvd0xhYmVscyA9IHJhd0RhdGEuY2hhcnREYXRhLm1ldGFkYXRhLnJvd2xhYmVscztcbiAgICB9XG5cbiAgICByZXR1cm4gW3hWYWx1ZXMsIHlWYWx1ZXMsIHpWYWx1ZXMsIHJvd0xhYmVsc11cblxuICB9O1xuXG4gIGNoYXJ0LnJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIHJhd0RhdGEpIHtcbiAgICB2YXIgcHJlcHBlZERhdGEgPSB0aGlzLnByZXBEYXRhKHJhd0RhdGEsIG9wdGlvbnMpO1xuICAgIHZhciBjb29yZHMgPSBwcmVwcGVkRGF0YVswXTtcbiAgICB2YXIgY2F0ZWdvcmllcyA9IHByZXBwZWREYXRhWzJdO1xuICAgIHZhciBhbW91bnRzID0gcHJlcHBlZERhdGFbMV07XG4gICAgdmFyIGxhYmVscyA9IHByZXBwZWREYXRhWzNdO1xuICAgIHZhciBtZXRhZGF0YSA9IHJhd0RhdGEuY2hhcnREYXRhLm1ldGFkYXRhO1xuICAgIHZhciBhbmFseXNpc1R5cGUgPSByYXdEYXRhLmFuYWx5c2lzVHlwZTtcblxuICAgIHZhciByYWRpdXNUb1pvb20gPSBmdW5jdGlvbihyYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoOS1NYXRoLmxvZyhyYWRpdXMpL01hdGguTE4yKTtcbiAgICB9XG5cbiAgICB2YXIgY29vcmRzID0gcmF3RGF0YS5jaGFydERhdGEueC52YWx1ZXM7XG4gICAgdmFyIGNhdGVnb3JpZXMgPSBbXTtcbiAgICBpZihyYXdEYXRhLmNoYXJ0RGF0YS56KSB7XG4gICAgICBjYXRlZ29yaWVzID0gcmF3RGF0YS5jaGFydERhdGEuei52YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIGxheWVyID0gTC50aWxlTGF5ZXIoJ2h0dHA6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL2xpZ2h0X2FsbC97en0ve3h9L3t5fS5wbmcnLCB7XG4gICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsICZjb3B5OyA8YSBocmVmPVwiaHR0cDovL2NhcnRvZGIuY29tL2F0dHJpYnV0aW9uc1wiPkNhcnRvREI8L2E+J1xuICAgIH0pO1xuXG4gICAgaWYob3B0aW9ucy5oZWlnaHQgJiYgb3B0aW9ucy5oZWlnaHQudG9TdHJpbmcoKS5pbmRleE9mKCclJykgPiAtMSkge1xuICAgICAgY29uc29sZS5lcnJvcignSW50ZXJhY3RpdmUgbWFwIGhlaWdodCBtdXN0IGJlIHN1cHBsaWVkIGFzIHBpeGVsIHZhbHVlLCBkZWZhdWx0aW5nIHRvIDUwMCcpO1xuICAgICAgb3B0aW9ucy5oZWlnaHQgPSA1MDA7XG4gICAgfVxuICAgIHZhciBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCB8fCA1MDA7XG4gICAgdmFyIG1hcENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBlbElkID0gXCJwb3BpbHktaWQtXCIgKyAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTAwMDApICsgMTAwMDApLnRvU3RyaW5nKCk7XG4gICAgbWFwQ29udGFpbmVyLmlkID0gZWxJZDtcbiAgICBtYXBDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0LnRvU3RyaW5nKCkgKyAncHgnO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobWFwQ29udGFpbmVyKTtcblxuICAgIC8vY29uc29sZS5sb2coZWxJZCk7XG5cbiAgICB2YXIgbWFwT2JqID0gTC5tYXAoZWxJZCwge1xuICAgICAgICBzY3JvbGxXaGVlbFpvb206IGZhbHNlLFxuICAgICAgICBjZW50ZXI6IG1ldGFkYXRhLmdlb19jZW50ZXIsXG4gICAgICAgIHpvb206IHJhZGl1c1RvWm9vbShtZXRhZGF0YS5nZW9fcmFkaXVzKVxuICAgIH0pO1xuICAgIHZhciBzY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFsxMCwgNTAwXSk7XG4gICAgaWYoYW1vdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNjYWxlLmRvbWFpbihbXy5taW4oYW1vdW50cyksIF8ubWF4KGFtb3VudHMpXSk7XG4gICAgfVxuXG4gICAgaWYoYW5hbHlzaXNUeXBlLmluZGV4T2YoJ19jYXRlZ29yeScpID4gLTEpIHtcbiAgICAgICAgdmFyIGNhdGVnb3J5Q29sb3JNYXAgPSB7fTtcbiAgICAgICAgdmFyIHVuaXF1ZUNhdGVnb3JpZXMgPSBfLnVuaXEoY2F0ZWdvcmllcyk7XG4gICAgICAgIHZhciBzaXplRGlmZiA9IHVuaXF1ZUNhdGVnb3JpZXMubGVuZ3RoIC0gb3B0aW9ucy5jb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29sb3JQYXR0ZXJuID0gb3B0aW9ucy5jb2xvcnMuc2xpY2UoMCk7IC8vY29weSEgXG5cblxuICAgICAgICBpZihzaXplRGlmZiA+IDApIHtcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2kgPCAoKHNpemVEaWZmIC8gb3B0aW9ucy5jb2xvcnMubGVuZ3RoKSArIDEpO2krKykge1xuICAgICAgICAgICAgICAgIGNvbG9yUGF0dGVybiA9IGNvbG9yUGF0dGVybi5jb25jYXQoY29sb3JQYXR0ZXJuLnNsaWNlKDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb21ib3MgPSBfLnppcCh1bmlxdWVDYXRlZ29yaWVzLGNvbG9yUGF0dGVybik7XG4gICAgICAgIF8uZWFjaChjb21ib3MsIGZ1bmN0aW9uKGNvbWJvKSB7XG4gICAgICAgICAgICBjYXRlZ29yeUNvbG9yTWFwW2NvbWJvWzBdXSA9IGNvbWJvWzFdO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbWFya2VyTWFwID0ge307XG4gICAgICAgIF8uZWFjaCh1bmlxdWVDYXRlZ29yaWVzLCBmdW5jdGlvbih1Yykge1xuICAgICAgICAgICAgbWFya2VyTWFwW3VjXSA9IFtdO1xuICAgICAgICB9KTtcblxuICAgICAgICBfLmVhY2goXy56aXAoY29vcmRzLGNhdGVnb3JpZXMsbGFiZWxzLGFtb3VudHMpLCBmdW5jdGlvbihjb29yZCkge1xuICAgICAgICAgICAgdmFyIHNpemUgPSAyMDtcbiAgICAgICAgICAgIGlmKGFtb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNpemUgPSBzY2FsZShjb29yZFszXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBMLmNpcmNsZShjb29yZFswXSwgc2l6ZSwge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjYXRlZ29yeUNvbG9yTWFwW2Nvb3JkWzFdXSxcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IGNhdGVnb3J5Q29sb3JNYXBbY29vcmRbMV1dLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjVcbiAgICAgICAgICAgIH0pLmFkZFRvKG1hcE9iaik7XG5cbiAgICAgICAgICAgIGlmKGxhYmVscy5sZW5ndGggPT0gY29vcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAoY29vcmRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChjb29yZFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcmtlck1hcFtjb29yZFsxXV0ucHVzaChtYXJrZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZihvcHRpb25zLnNob3dMZWdlbmQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgdmFyIGxlZ2VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGxlZ2VuZC5jbGFzc0xpc3QuYWRkKCdjYXRlZ29yeS1sZWdlbmQnKVxuXG4gICAgICAgICAgXy5lYWNoKF8ua2V5cyhjYXRlZ29yeUNvbG9yTWFwKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgIGlmKGtleSAmJiBrZXkgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBsZWdlbmRJdGVtV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgbGVnZW5kSXRlbVdyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jywga2V5KTtcbiAgICAgICAgICAgICAgICAgIGxlZ2VuZEl0ZW1XcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2xlZ2VuZC1jb2xvcicpO1xuXG4gICAgICAgICAgICAgICAgICBsZWdlbmRJdGVtV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBfLmVhY2goXy5rZXlzKG1hcmtlck1hcCksIGZ1bmN0aW9uKGNhdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoa2V5ID09IGNhdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChtYXJrZXJNYXBbY2F0XSwgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnNldFN0eWxlKHtmaWxsT3BhY2l0eToxfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2gobWFya2VyTWFwW2NhdF0sIGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5zZXRTdHlsZSh7ZmlsbE9wYWNpdHk6LjA1LG9wYWNpdHk6LjA1fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGxlZ2VuZEl0ZW1XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChfLmtleXMobWFya2VyTWFwKSwgZnVuY3Rpb24oY2F0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2gobWFya2VyTWFwW2NhdF0sIGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnNldFN0eWxlKHtmaWxsT3BhY2l0eTouMixvcGFjaXR5Oi41fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgdmFyIGxlZ2VuZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgICBsZWdlbmRJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNhdGVnb3J5Q29sb3JNYXBba2V5XTtcbiAgICAgICAgICAgICAgICAgIHZhciBsZWdlbmRJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHQnKTtcbiAgICAgICAgICAgICAgICAgIGxlZ2VuZEl0ZW1UZXh0LmlubmVySFRNTCA9IGtleTtcbiAgICAgICAgICAgICAgICAgIGxlZ2VuZEl0ZW1XcmFwcGVyLmFwcGVuZENoaWxkKGxlZ2VuZEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgbGVnZW5kSXRlbVdyYXBwZXIuYXBwZW5kQ2hpbGQobGVnZW5kSXRlbVRleHQpO1xuICAgICAgICAgICAgICAgICAgbGVnZW5kLmFwcGVuZENoaWxkKGxlZ2VuZEl0ZW1XcmFwcGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGVnZW5kKTtcbiAgICAgICAgICAvL2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgbGVnZW5kLm9mZnNldEhlaWdodCkudG9TdHJpbmcoKSArICdweCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vdmFyIGNvbG9yID0gXy5zYW1wbGUoY29sb3JfcGF0dGVybiwgMSlbMF07XG4gICAgICAgIHZhciBjb2xvciA9IG9wdGlvbnMuY29sb3JzWzBdO1xuICAgICAgICBfLmVhY2goXy56aXAoY29vcmRzLGxhYmVscyxhbW91bnRzKSwgZnVuY3Rpb24oY29vcmQpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gMjA7XG4gICAgICAgICAgICBpZihhbW91bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzaXplID0gc2NhbGUoY29vcmRbMl0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWFya2VyID0gTC5jaXJjbGUoY29vcmRbMF0sIHNpemUsIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC41XG4gICAgICAgICAgICB9KS5hZGRUbyhtYXBPYmopO1xuICAgICAgICAgICAgaWYobGFiZWxzLmxlbmd0aCA9PSBjb29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLmJpbmRQb3B1cChjb29yZFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXBPYmouYWRkTGF5ZXIobGF5ZXIpO1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuaW50ZXJhY3RpdmVNYXAgPSBjaGFydDtcbn0pKHdpbmRvdyk7XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gIHZhciBwb3BpbHlDaGFydCA9IHdpbmRvdy5wb3BpbHkuY2hhcnQ7XG5cbiAgdmFyIGNoYXJ0ID0gXy5jbG9uZShwb3BpbHlDaGFydC5iYXNlQ2hhcnQpO1xuICBjaGFydC5kZWZhdWx0Rm9yID0gW1xuICAgICdjb3VudF9ieV9kYXRldGltZScsXG4gICAgJ3JhdGlvX2J5X2RhdGV0aW1lJyxcbiAgICAnYXZlcmFnZV9ieV9kYXRldGltZScsXG4gICAgJ2NvdW50X3Blcl9jYXRlZ29yeV9ieV9kYXRldGltZScsXG4gICAgJ2F2ZXJhZ2VfcGVyX2NhdGVnb3J5X2J5X2RhdGV0aW1lJ1xuICBdO1xuICBjaGFydC5hY2NlcHRzID0gW107XG5cbiAgY2hhcnQucHJlcERhdGEgPSBmdW5jdGlvbihyYXdEYXRhLCBvcHRpb25zKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHZhciBsaW1pdCA9IHRoYXQuZGVmYXVsdHMuY2F0ZWdvcnlMaW1pdDtcbiAgICB2YXIgY2xlYW5WYWx1ZXMgPSB0aGF0LmNsZWFuRGF0YShyYXdEYXRhKTtcblxuICAgIHZhciBvcmRlciA9IG9wdGlvbnMub3JkZXIgfHwgJ2F1dG8nO1xuICAgIGNsZWFuVmFsdWVzID0gcG9waWx5Q2hhcnQuY2hhcnREYXRhLnNvcnREYXRhKGNsZWFuVmFsdWVzWzBdLGNsZWFuVmFsdWVzWzFdLFtdLGxpbWl0LG9yZGVyKTtcblxuICAgIHZhciBjbGVhblhWYWx1ZXMgPSBjbGVhblZhbHVlc1swXTtcbiAgICB2YXIgY2xlYW5ZVmFsdWVzID0gcG9waWx5Q2hhcnQuZm9ybWF0LmZvcm1hdE51bWJlcnMoY2xlYW5WYWx1ZXNbMV0pO1xuXG4gICAgcmV0dXJuIFtjbGVhblhWYWx1ZXMsIGNsZWFuWVZhbHVlc107XG4gIH07XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSkge1xuICAgICAgdmFyIHByZXBwZWREYXRhID0gdGhpcy5wcmVwRGF0YShyYXdEYXRhLCBvcHRpb25zKTtcbiAgICAgIHZhciB4VmFsdWVzID0gcHJlcHBlZERhdGFbMF07XG4gICAgICB2YXIgeVZhbHVlcyA9IHByZXBwZWREYXRhWzFdO1xuICAgICAgdmFyIHhMYWJlbCA9IHJhd0RhdGEuY2hhcnREYXRhLngubGFiZWw7XG4gICAgICB2YXIgeUxhYmVsID0gcmF3RGF0YS5jaGFydERhdGEueS5sYWJlbDtcblxuICAgIFxuICAgICAgdmFyIHlNaW4gPSAwO1xuICAgICAgdmFyIGxvd2VzdFkgPSBfLm1pbih5VmFsdWVzKTtcbiAgICAgIGlmKGxvd2VzdFkgPCAwKSB7XG4gICAgICAgICAgeU1pbiA9IGxvd2VzdFk7XG4gICAgICB9XG5cbiAgICAgIHlWYWx1ZXMudW5zaGlmdCh5TGFiZWwpO1xuXG4gICAgICB2YXIgZGF5RGlmZiA9IHBvcGlseS5jaGFydC5mb3JtYXQuZGF5c0RpZmYoeFZhbHVlcyk7IFxuICAgICAgdmFyIHRpY2tGb3JtYXRTdHIgPSBwb3BpbHkuY2hhcnQuZm9ybWF0LmZvcm1hdEZyb21EYXlEaWZmKGRheURpZmYpO1xuICAgICAgXG4gICAgICB2YXIgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuXG4gICAgICB2YXIgZGF0ZUZvcm1hdFN0ciA9IHBvcGlseS5jaGFydC5mb3JtYXQuZm9ybWF0RnJvbUludGVydmFsKGludGVydmFsKTtcbiAgICAgIGlmKF8uaXNVbmRlZmluZWQoaW50ZXJ2YWwpKSB7XG4gICAgICAgIGRhdGVGb3JtYXRTdHIgPSBwb3BpbHkuY2hhcnQuZm9ybWF0LmZvcm1hdEZyb21JbnNwZWN0aW9uKHhWYWx1ZXMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICB2YXIgZGF0ZUZvcm1hdCA9IGQzLnRpbWUuZm9ybWF0KGRhdGVGb3JtYXRTdHIpO1xuICAgICAgdmFyIHRpY2tGb3JtYXQgPSBkMy50aW1lLmZvcm1hdCh0aWNrRm9ybWF0U3RyKTtcbiAgICAgIHZhciBmdWxsRm9ybWF0ID0gZDMudGltZS5mb3JtYXQoJyVZLSVtLSVkICVIOiVNOiVTJyk7XG5cbiAgICAgIHZhciB0aWNrc1ZhbHVlcyA9IHBvcGlseS5jaGFydC5mb3JtYXQudGlja0Zvcm1hdFZhbHVlcyh4VmFsdWVzLCB0aWNrRm9ybWF0U3RyLCBkYXRlRm9ybWF0KTtcbiAgICAgIFxuICAgICAgaWYoZGF0ZUZvcm1hdCAhPSBmdWxsRm9ybWF0KVxuICAgICAgICAgIHhWYWx1ZXMgPSBfLm1hcCh4VmFsdWVzLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZUZvcm1hdChmdWxsRm9ybWF0LnBhcnNlKGQuc3BsaXQoJy4nKVswXSkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgIHhWYWx1ZXMudW5zaGlmdCgneCcpO1xuXG4gICAgICB2YXIgY2hhcnRQYWRkaW5nID0ge3JpZ2h0OiAxMCwgdG9wOiAxMH07XG4gICAgICBcbiAgICAgIGlmKCFfLmlzVW5kZWZpbmVkKG9wdGlvbnMubGluZVNpemUpKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHBvcGlseS5jaGFydC51dGlscy5jcmVhdGVTdHlsZUVsZW1lbnQoJy4nK29wdGlvbnMudW5pcXVlQ2xhc3NOYW1lKycgLmMzLWxpbmUgeyBzdHJva2Utd2lkdGg6ICcrb3B0aW9ucy5saW5lU2l6ZSsncHg7IH0nKVxuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhcnREYXRhID0ge1xuICAgICAgICAgIGJpbmR0bzogZWxlbWVudCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHg6ICd4JyxcbiAgICAgICAgICAgICAgeEZvcm1hdDogZGF0ZUZvcm1hdFN0ciwgLy8gJ3hGb3JtYXQnIGNhbiBiZSB1c2VkIGFzIGN1c3RvbSBmb3JtYXQgb2YgJ3gnXG4gICAgICAgICAgICAgIGNvbHVtbnM6IFt4VmFsdWVzLHlWYWx1ZXNdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYWRkaW5nOiBjaGFydFBhZGRpbmcsXG4gICAgICAgICAgYXhpczoge1xuICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLm9yZGVyID09ICdhdXRvJyA/ICd0aW1lc2VyaWVzJyA6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZml0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRpY2tGb3JtYXRTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgcm90YXRlOjMwLFxuICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMzBcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgdGV4dDogeExhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdpbm5lci1yaWdodCdcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1pbjogeU1pbixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogeUxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnb3V0ZXItbWlkZGxlJ1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGQzLmZvcm1hdChcIixcIilcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgICAgcGF0dGVybjogb3B0aW9ucy5jb2xvcnNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICBoaWRlOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgY29ubmVjdE51bGw6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICByOiAob3B0aW9ucy5wb2ludFNpemUgfHwgMi41KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvb2x0aXA6IChfLmlzVW5kZWZpbmVkKG9wdGlvbnMudG9vbHRpcCk/dHJ1ZTpvcHRpb25zLnRvb2x0aXApXG4gICAgICB9XG5cbiAgICAgIGlmKG9wdGlvbnMub3JkZXIgPT0gJ2F1dG8nKSB7XG4gICAgICAgIGNoYXJ0RGF0YS50b29sdGlwLmZvcm1hdCA9IHtcbiAgICAgICAgICB0aXRsZTogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVGb3JtYXQoZCk7XG4gICAgICAgICAgfSBcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXJ0RGF0YS5heGlzLngudGljay52YWx1ZXMgPSB0aWNrc1ZhbHVlcztcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYXJ0ID0gYzMuZ2VuZXJhdGUoY2hhcnREYXRhKTtcbiAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcblxuICAgICAgcG9waWx5LmNoYXJ0LnV0aWxzLnVwZGF0ZUNoYXJ0KGVsZW1lbnQsIGNoYXJ0LCBjaGFydERhdGEsIGNoYXJ0UGFkZGluZyk7XG5cbiAgICAgIHJldHVybiB0aGlzLmNoYXJ0O1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMubGluZSA9IGNoYXJ0O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHBvcGlseUNoYXJ0ID0gd2luZG93LnBvcGlseS5jaGFydDtcblxuICB2YXIgY2hhcnQgPSBfLmNsb25lKHBvcGlseUNoYXJ0LmJhc2VDaGFydCk7XG4gIGNoYXJ0LmRlZmF1bHRGb3IgPSBbXG4gICAgJ2F2ZXJhZ2VfYnlfY2F0ZWdvcnlfYnlfZGF0ZXRpbWUnLFxuICAgICdjb3VudF9ieV9jYXRlZ29yeV9ieV9jYXRlZ29yeV9ieV9kYXRldGltZSdcbiAgXTtcbiAgY2hhcnQuYWNjZXB0cyA9IFtcbiAgICAnc3VtX2J5X2RhdGV0aW1lJyxcbiAgICAncmF0aW9fYnlfZGF0ZXRpbWUnLFxuICAgICdzdW1fcGVyX2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAnc3VtX2J5X2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAnY291bnRfYnlfY2F0ZWdvcnlfYnlfZGF0ZXRpbWUnXG4gIF07XG5cbiAgY2hhcnQucmVuZGVyID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSkge1xuICAgICAgcmV0dXJuIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMubGluZWFyLnJlbmRlcihlbGVtZW50LCBvcHRpb25zLCByYXdEYXRhKTtcbiAgfTtcblxuICBwb3BpbHlDaGFydC5jaGFydFR5cGVzLm11bHRpTGluZSA9IGNoYXJ0O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHBvcGlseUNoYXJ0ID0gd2luZG93LnBvcGlseS5jaGFydDtcbiAgXG4gIHZhciBwaWUgPSBfLmNsb25lKHBvcGlseUNoYXJ0LmJhc2VDaGFydCk7XG4gIHBpZS5kZWZhdWx0Rm9yID0gW1xuICAgICdyYXRpb19ieV9jYXRlZ29yeSdcbiAgXTtcbiAgcGllLmFjY2VwdHMgPSBbXG4gICAgJ2NvdW50X2J5X3ZhbHVlJyxcbiAgICAnY291bnRfYnlfY2F0ZWdvcnknXG4gIF07XG5cbiAgcGllLnByZXBEYXRhID0gZnVuY3Rpb24ocmF3RGF0YSwgb3B0aW9ucykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB2YXIgbGltaXQgPSB0aGF0LmRlZmF1bHRzLnBpZUxpbWl0O1xuICAgIHZhciBjbGVhblZhbHVlcyA9IHRoYXQuY2xlYW5EYXRhKHJhd0RhdGEpO1xuICAgIHZhciBvcmRlciA9IG9wdGlvbnMub3JkZXIgfHwgJ2F1dG8nO1xuXG4gICAgY2xlYW5WYWx1ZXMgPSBwb3BpbHlDaGFydC5jaGFydERhdGEuc29ydERhdGEoY2xlYW5WYWx1ZXNbMF0sY2xlYW5WYWx1ZXNbMV0sW10sbGltaXQsb3JkZXIpO1xuXG4gICAgdmFyIGNsZWFuWFZhbHVlcyA9IGNsZWFuVmFsdWVzWzBdO1xuICAgIHZhciBjbGVhbllWYWx1ZXMgPSBwb3BpbHlDaGFydC5mb3JtYXQuZm9ybWF0TnVtYmVycyhwb3BpbHlDaGFydC5mb3JtYXQudG9OdW1iZXIoY2xlYW5WYWx1ZXNbMV0pKTtcblxuICAgIHJldHVybiBbY2xlYW5YVmFsdWVzLCBjbGVhbllWYWx1ZXNdO1xuICB9O1xuXG4gIHBpZS5yZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zLCByYXdEYXRhKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB2YXIgY2hhcnRQYWRkaW5nID0gdGhhdC5kZWZhdWx0cy5jaGFydFBhZGRpbmc7XG4gICAgICB2YXIgcHJlcHBlZERhdGEgPSB0aGlzLnByZXBEYXRhKHJhd0RhdGEsIG9wdGlvbnMpO1xuICAgICAgdmFyIGNvbHVtbnMgPSBfLnppcChwcmVwcGVkRGF0YVswXSxwcmVwcGVkRGF0YVsxXSk7XG5cbiAgICAgIHZhciBjaGFydERhdGEgPSB7XG4gICAgICAgICAgYmluZHRvOiBlbGVtZW50LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgICAgICAgICAgdHlwZTogJ3BpZScsXG4gICAgICAgICAgICAgIG9yZGVyOm51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICAgIHBhdHRlcm46IG9wdGlvbnMuY29sb3JzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgICAgICAgICAgICBzaG93OiBwcmVwcGVkRGF0YVswXS5sZW5ndGggPCAyMCA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9vbHRpcDogKF8uaXNVbmRlZmluZWQob3B0aW9ucy50b29sdGlwKT90cnVlOm9wdGlvbnMudG9vbHRpcClcbiAgICAgIH07XG4gICAgICB2YXIgY2hhcnQgPSBjMy5nZW5lcmF0ZShjaGFydERhdGEpOyBcblxuICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgICAgcmV0dXJuIHRoaXMuY2hhcnQ7XG4gIH07XG5cbiAgcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5waWUgPSBwaWU7XG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgcG9waWx5Q2hhcnQgPSB3aW5kb3cucG9waWx5LmNoYXJ0O1xuICBcbiAgdmFyIGNoYXJ0ID0gXy5jbG9uZShwb3BpbHlDaGFydC5iYXNlQ2hhcnQpO1xuICBjaGFydC5kZWZhdWx0Rm9yID0gW1xuICAgICdzY2F0dGVycGxvdF9ieV9jYXRlZ29yeSdcbiAgXTtcbiAgY2hhcnQuYWNjZXB0cyA9IFtdO1xuXG4gIGNoYXJ0LnJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIHJhd0RhdGEpIHtcbiAgICAgIHZhciBwcmVwcGVkRGF0YSA9IHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuY29tcGFyZS5wcmVwRGF0YShyYXdEYXRhLCBvcHRpb25zKTtcbiAgICAgIHZhciB4VmFsdWVzID0gcHJlcHBlZERhdGFbMF07XG4gICAgICB2YXIgeVZhbHVlcyA9IHByZXBwZWREYXRhWzFdO1xuICAgICAgdmFyIHpWYWx1ZXMgPSBwcmVwcGVkRGF0YVsyXTtcbiAgICAgIHZhciB4TGFiZWwgPSByYXdEYXRhLmNoYXJ0RGF0YS54LmxhYmVsO1xuICAgICAgdmFyIHlMYWJlbCA9IHJhd0RhdGEuY2hhcnREYXRhLnkubGFiZWw7XG4gICAgICB2YXIgekxhYmVsID0gcmF3RGF0YS5jaGFydERhdGEuei5sYWJlbDsgICAgXG5cbiAgICAgIHZhciBjb2x1bW5zID0gW107XG4gICAgICB2YXIgeHMgPSB7fTtcbiAgICAgIHZhciB6cyA9IHt9O1xuXG4gICAgICAvKlxuICAgICAgY29uc29sZS5sb2coeFZhbHVlcyk7XG4gICAgICBjb25zb2xlLmxvZyh5VmFsdWVzKTtcbiAgICAgIGNvbnNvbGUubG9nKHpWYWx1ZXMpO1xuICAgICAgKi9cbiAgICAgIF8uZWFjaChfLnVuaXEoelZhbHVlcyksIGZ1bmN0aW9uKHopIHtcbiAgICAgICAgICB6c1t6XSA9IHt4czpbXSx5czpbXX07XG4gICAgICB9KTtcblxuICAgICAgXy5lYWNoKHpWYWx1ZXMsIGZ1bmN0aW9uKHosaSkge1xuICAgICAgICAgIHpzW3pdLnlzLnB1c2goeVZhbHVlc1tpXSk7XG4gICAgICAgICAgenNbel0ueHMucHVzaCh4VmFsdWVzW2ldKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBfLmVhY2goXy5rZXlzKHpzKSwgZnVuY3Rpb24oeikge1xuICAgICAgICAgIHpzW3pdLnhzLnVuc2hpZnQoeisnX3gnKTtcbiAgICAgICAgICB6c1t6XS55cy51bnNoaWZ0KHopO1xuXG4gICAgICAgICAgeHNbel0gPSB6KydfeCc7XG4gICAgICAgICAgY29sdW1ucy5wdXNoKHpzW3pdLnhzKTtcbiAgICAgICAgICBjb2x1bW5zLnB1c2goenNbel0ueXMpO1xuICAgICAgfSk7XG5cblxuICAgICAgdmFyIHRvb2x0aXAgPSBvcHRpb25zLnRvb2x0aXAgfHwge1xuICAgICAgICAgIGNvbnRlbnRzOiBmdW5jdGlvbiAoZCwgZGVmYXVsdFRpdGxlRm9ybWF0LCBkZWZhdWx0VmFsdWVGb3JtYXQsIGNvbG9yKSB7XG4gICAgICAgICAgICAgIHZhciBtYXJrdXAgPSAnPGRpdiBjbGFzcz1cInNjYXR0ZXItdG9vbHRpcFwiPjxoMyA+PHNwYW4gY2xhc3M9XCJzcXVhcmVcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JyArIGNvbG9yKGRbMF0uaWQpICsgJ1wiPjwvc3Bhbj4gJyArIHhMYWJlbCArICc6Jm5ic3A7PHN0cm9uZz4nICsgZFswXS54ICsgJzwvc3Ryb25nPiwgJyArIHlMYWJlbCArICc6Jm5ic3A7PHN0cm9uZz4nICsgZFswXS52YWx1ZSArICc8L3N0cm9uZz48L2gzPic7XG4gICAgICAgICAgICAgIG1hcmt1cCArPSB6TGFiZWwgKyAnOiA8c3Ryb25nPic7XG4gICAgICAgICAgICAgIG1hcmt1cCArPSBkWzBdLm5hbWU7XG4gICAgICAgICAgICAgIG1hcmt1cCArPSAnPC9zdHJvbmc+JztcbiAgICAgICAgICAgICAgbWFya3VwICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgICByZXR1cm4gbWFya3VwO1xuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBzaG93TGVnZW5kID0gdHJ1ZTtcbiAgICAgIGlmKF8udW5pcXVlKHpWYWx1ZXMpLmxlbmd0aCA+IDI1KSB7XG4gICAgICAgICAgc2hvd0xlZ2VuZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5jb21wYXJlLnJlbmRlcihlbGVtZW50LCBvcHRpb25zLCBjb2x1bW5zLCB4cywgeExhYmVsLCB5TGFiZWwsIHRvb2x0aXApO1xuICB9O1xuXG4gIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuc2NhdHRlcnBsb3RDYXRlZ29yeSA9IGNoYXJ0O1xufSkod2luZG93KTtcbiIsIihmdW5jdGlvbih3aW5kb3cpIHtcbiAgdmFyIHBvcGlseUNoYXJ0ID0gd2luZG93LnBvcGlseS5jaGFydDtcbiAgXG4gIHZhciBjaGFydCA9IF8uY2xvbmUocG9waWx5Q2hhcnQuYmFzZUNoYXJ0KTtcbiAgY2hhcnQuZGVmYXVsdEZvciA9IFtcbiAgICAnc2NhdHRlcnBsb3QnLFxuICAgICdzY2F0dGVycGxvdF9wZXJfY2F0ZWdvcnknXG4gIF07XG4gIGNoYXJ0LmFjY2VwdHMgPSBbXTtcblxuICBjaGFydC5yZW5kZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zLCByYXdEYXRhKSB7XG4gICAgICB2YXIgcHJlcHBlZERhdGEgPSBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmNvbXBhcmUucHJlcERhdGEocmF3RGF0YSwgb3B0aW9ucyk7XG4gICAgICB2YXIgeFZhbHVlcyA9IHByZXBwZWREYXRhWzBdO1xuICAgICAgdmFyIHlWYWx1ZXMgPSBwcmVwcGVkRGF0YVsxXTtcbiAgICAgIHZhciB6VmFsdWVzID0gcHJlcHBlZERhdGFbMl07XG4gICAgICB2YXIgeExhYmVsID0gcmF3RGF0YS5jaGFydERhdGEueC5sYWJlbDtcbiAgICAgIHZhciB5TGFiZWwgPSByYXdEYXRhLmNoYXJ0RGF0YS55LmxhYmVsOyAgICBcblxuXG4gICAgICB2YXIgY29sdW1ucyA9IFtdO1xuICAgICAgeVZhbHVlcy51bnNoaWZ0KHlMYWJlbCk7XG4gICAgICB4VmFsdWVzLnVuc2hpZnQoeExhYmVsKTtcbiAgICAgIHZhciB4cyA9IHt9O1xuICAgICAgeHNbeUxhYmVsXSA9IHhMYWJlbDtcbiAgICAgIGNvbHVtbnMucHVzaCh4VmFsdWVzKTtcbiAgICAgIGNvbHVtbnMucHVzaCh5VmFsdWVzKTtcblxuICAgICAgdmFyIHRvb2x0aXAgPSBvcHRpb25zLnRvb2x0aXAgfHwge1xuICAgICAgICAgIGNvbnRlbnRzOiBmdW5jdGlvbiAoZCwgZGVmYXVsdFRpdGxlRm9ybWF0LCBkZWZhdWx0VmFsdWVGb3JtYXQsIGNvbG9yKSB7XG4gICAgICAgICAgICAgIHZhciBtYXJrdXAgPSAnPGRpdiBjbGFzcz1cInNjYXR0ZXItdG9vbHRpcFwiPjxoMz4nK3hMYWJlbCsnOiZuYnNwOzxzdHJvbmc+JyArIGRbMF0ueCArICc8L3N0cm9uZz4sICcreUxhYmVsKyc6Jm5ic3A7PHN0cm9uZz4nICsgZFswXS52YWx1ZSArICc8L3N0cm9uZz48L2gzPic7XG4gICAgICAgICAgICAgIG1hcmt1cCArPSAnPGRpdiBzdHlsZT1cIm1heC13aWR0aDogMzUwcHg7XCI+JztcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgIG1hcmt1cCArPSAne3tpbnNpZ2h0LnpfdGl0bGV8ZXNjYXBlanN8c2FmZX19OiA8c3Ryb25nPic7XG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IFtdO1xuICAgICAgICAgICAgICBfLmVhY2goXy56aXAoZm9ybWF0TnVtYmVycyhjbGVhblZhbHVlc1swXSksZm9ybWF0TnVtYmVycyhjbGVhblZhbHVlc1sxXSksY2xlYW5WYWx1ZXNbMl0pLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAgIGlmKHZhbFswXSA9PSBkWzBdLnggJiYgdmFsWzFdID09IGRbMF0udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKHZhbFsyXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmKGZvdW5kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIG1hcmt1cCArPSAoZm91bmQuam9pbignLCAnKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIG1hcmt1cCArPSAnPC9zdHJvbmc+PC9kaXY+JztcbiAgICAgICAgICAgICAgbWFya3VwICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgICByZXR1cm4gbWFya3VwO1xuICAgICAgICAgIH1cbiAgICAgIH07XG4gICAgICAgIFxuICAgICAgcmV0dXJuIHBvcGlseUNoYXJ0LmNoYXJ0VHlwZXMuY29tcGFyZS5yZW5kZXIoZWxlbWVudCwgb3B0aW9ucywgY29sdW1ucywgeHMsIHhMYWJlbCwgeUxhYmVsLCB0b29sdGlwKTtcbiAgfTtcblxuICBwb3BpbHlDaGFydC5jaGFydFR5cGVzLnNjYXR0ZXJwbG90ID0gY2hhcnQ7XG59KSh3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKHdpbmRvdykge1xuICB2YXIgcG9waWx5Q2hhcnQgPSB3aW5kb3cucG9waWx5LmNoYXJ0O1xuXG4gIHZhciBjaGFydCA9IF8uY2xvbmUocG9waWx5Q2hhcnQuYmFzZUNoYXJ0KTtcbiAgY2hhcnQuZGVmYXVsdEZvciA9IFtcbiAgICAnc3VtX2J5X2RhdGV0aW1lJyxcbiAgICAncmF0aW9fYnlfZGF0ZXRpbWUnLFxuICAgICdzdW1fcGVyX2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAnc3VtX2J5X2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAnY291bnRfYnlfY2F0ZWdvcnlfYnlfZGF0ZXRpbWUnXG4gIF07XG4gIGNoYXJ0LmFjY2VwdHMgPSBbXG4gICAgJ2NvdW50X2J5X2RhdGV0aW1lJyxcbiAgICAncmF0aW9fYnlfZGF0ZXRpbWUnLFxuICAgICdhdmVyYWdlX2J5X2RhdGV0aW1lJyxcbiAgICAnY291bnRfcGVyX2NhdGVnb3J5X2J5X2RhdGV0aW1lJyxcbiAgICAnYXZlcmFnZV9wZXJfY2F0ZWdvcnlfYnlfZGF0ZXRpbWUnLFxuICAgICdhdmVyYWdlX2J5X2NhdGVnb3J5X2J5X2RhdGV0aW1lJ1xuICBdO1xuXG4gIGNoYXJ0LnJlbmRlciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIHJhd0RhdGEpIHtcbiAgICAgIHJldHVybiBwb3BpbHlDaGFydC5jaGFydFR5cGVzLmxpbmVhci5yZW5kZXIoZWxlbWVudCwgb3B0aW9ucywgcmF3RGF0YSwgdHJ1ZSk7XG4gIH07XG5cbiAgcG9waWx5Q2hhcnQuY2hhcnRUeXBlcy5zdGFja2VkQXJlYSA9IGNoYXJ0O1xufSkod2luZG93KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
